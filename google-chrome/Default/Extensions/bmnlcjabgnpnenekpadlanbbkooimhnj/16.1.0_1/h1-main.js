!function(e){function t(t){for(var n,u,i=t[0],s=t[1],c=t[2],d=0,f=[];d<i.length;d++)u=i[d],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&f.push(o[u][0]),o[u]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(l&&l(t);f.length;)f.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==o[s]&&(n=!1)}n&&(a.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={3:0},a=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=s;a.push([2001,0,1]),r()}({1539:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(11),a=r(19),u=(n=a)&&n.__esModule?n:{default:n},i=r(10),s=r(33),c=r(412),l=r(122),d=r(40),f=r(68),p=r(48),v=r(3102),g=r(132);var y=(0,o.createSelector)(i.storesSelectors.selectCurrentStore(),c.sessionSelectors.selectCurrentStoreSession(),(function(e,t){return u.default.isBlockingCDNLogic(e,t)})),m=(0,o.createSelector)(i.storesSelectors.selectCurrentStore(),(function(e){return e.tips&&e.tips.configuration&&e.tips.configuration.blacklistDefaultLaunchpadPathnameByStoreId}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e&&t.includes(e.id);return r})),h=(0,o.createSelector)((function(e){return i.storesSelectors.selectCurrentStore()(e)}),(function(e){return!!(e&&e.tipsConfig&&e.tipsConfig.isLaunchpadDisabled)})),_=(0,o.createSelector)((function(e){return i.storesSelectors.selectCurrentStore()(e)}),(function(e){return!!(e&&e.tipsConfig&&e.tipsConfig.isPdpDisabled)})),b=(0,o.createSelector)(i.storesSelectors.selectCurrentStore(),(function(e){return e.tips&&e.tips.configuration&&e.tips.configuration.blacklistedDynamicUrlsByStoreId}),(function(e,t){var r=(e||{}).id;if(t&&t[r]){var n=window&&window.location&&window.location.href;if((t[r]||[]).some((function(e){return n.startsWith(e)})))return!0}return!1})),S=(0,o.createSelector)(i.storesSelectors.selectCurrentStore(),(function(e){return e.tips&&e.tips.configuration&&e.tips.configuration.blacklistedStaticUrlsByStoreId}),(function(e,t){var r=(e||{}).id;if(t&&t[r]){var n=window&&window.location&&window.location.href;if((t[r]||[]).includes(n))return!0}return!1})),P=(0,o.createSelector)(i.storesSelectors.selectCurrentStore(),(function(e){return e.tips&&e.tips.configuration&&e.tips.configuration.allowlistDynamicUrlsByStoreId}),(function(e){return e.tips&&e.tips.configuration&&e.tips.configuration.allowlistStaticUrlsByStoreId}),(function(e,t,r){var n=e&&e.id,o=!1,a=window&&window.location&&window.location.href;if(t&&t[n]){if((t[n]||[]).some((function(e){return a.startsWith(e)})))return!0;o=!0}if(r&&r[n]){if((r[n]||[]).includes(a))return!0;o=!0}return!o})),w=(0,o.createSelector)(l.deviceSelectors.selectDeviceSetting("tipsLoggedOutDisabled"),s.userSelectors.selectSetting("tipsEnabled"),s.userSelectors.selectUser(),(function(e,t,r){return r&&r.isLoggedIn?!!t?{tipsEnabledByUser:!0}:void 0===t?{tipsEnabledByUser:!1,reason:"tips_enabled_undefined"}:{tipsEnabledByUser:!1,reason:"tips_enabled_false"}:e?{tipsEnabledByUser:!1,reason:"tips_logged_out_disabled"}:{tipsEnabledByUser:!0}})),x=(0,o.createSelector)((function(e){return f.experimentSelectors.selectVariant(p.TIPS_BUCKETED_FEATURES.TIPS_SHOWING_GROUP)(e)}),(function(e){return"control"===e})),E=(0,o.createSelector)(d.pageSelectors.selectIsHomePage,d.pageSelectors.selectIsProductPage,y,m,h,b,S,l.deviceSelectors.selectIsFirstPageAfterInstall(),i.storesSelectors.selectCurrentStoreStandDown,P,_,x,w,v.selectShouldSuppressTips,(function(e,t,r,n,o,a,u,i,s,c,l,d,f,p){var v=s.standDown,y=f.tipsEnabledByUser,m=f.reason,h=p.suppressed,_=p.reason,b=[];return r&&b.push(g.HIDE_TIPS_REASONS.BLOCKING_CDN),["nopopup","suspend"].includes(v)&&b.push(g.HIDE_TIPS_REASONS.STAND_DOWN),e||t||b.push(g.HIDE_TIPS_REASONS.INVALID_PAGE_TYPE),d&&b.push(g.HIDE_TIPS_REASONS.HOLDOUT_GROUP),y||b.push(g.HIDE_TIPS_REASONS.DISABLED_BY_USER),h&&b.push(g.HIDE_TIPS_REASONS.SUPPRESSED),a&&b.push(g.HIDE_TIPS_REASONS.DYNAMIC_URL_BLACKLISTED),u&&b.push(g.HIDE_TIPS_REASONS.STATIC_URL_BLACKLISTED),e&&(n&&b.push(g.HIDE_TIPS_REASONS.DEFAULT_LAUNCHPAD_PATH_BLACKLISTED),o&&b.push(g.HIDE_TIPS_REASONS.STORE_LAUNCHPAD_DISABLED),i&&b.push(g.HIDE_TIPS_REASONS.FIRST_PAGE_AFTER_INSTALL),c||b.push(g.HIDE_TIPS_REASONS.CANT_SHOW_LAUNCHPAD_WITH_ALLOW_LIST)),t&&l&&b.push(g.HIDE_TIPS_REASONS.STORE_PDP_DISABLED),{canRunTips:0===b.length,hideReasons:b,suppressionReason:_,disabledByUserReason:m}}));t.default={selectCanRunTips:E}},1540:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(28),a=r(1451),u=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){return(0,u.default)(e,o.tipsSelectors.selectAutopopDisabledCategoriesForCurrentStore(e))}},1541:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=d(o),u=d(r(1)),i=r(6),s=d(r(15)),c=r(295),l=r(132);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,r,n;f(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return r=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={error:null},p(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidCatch",value:function(e){var t=this.props,r=t.sendSdataEvent,n=t.sdataAction;r(e,void 0===n?l.TIPS_BADGE_EVENT_ERRORS.TIP_CARD_ERROR:n),s.default.error(e)}},{key:"render",value:function(){var e=this.props.children;return this.state.error?a.default.createElement(o.Fragment,null):e}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(a.default.Component);v.propTypes={sendSdataEvent:u.default.func.isRequired,sdataAction:u.default.string.isRequired,children:u.default.oneOfType([u.default.node,u.default.arrayOf(u.default.node)])},v.defaultProps={children:null},t.default=(0,i.connect)(null,(function(e){return{sendSdataEvent:function(t,r){return e((0,c.sdataTipsBadgeEvent)({action:r,event:"error",errorMessage:t.message}))}}}))(v)},1542:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=p,t.addEvent=function(e,t,r,n){if(!e)return;var o=s({capture:!0},n);e.addEventListener?e.addEventListener(t,r,o):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&p(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var r=f(e,t,"px");return c({},(0,a.browserPrefixToKey)("transform",a.default),r)},t.createSVGTransform=function(e,t){return f(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,o.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=f,t.innerHeight=function(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(r.paddingTop),t-=(0,o.int)(r.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(r.paddingLeft),t-=(0,o.int)(r.paddingRight)},t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,r){var n=e;do{if(d(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1},t.offsetXYFromParent=function(e,t,r){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-n.left)/r,a=(e.clientY+t.scrollTop-n.top)/r;return{x:o,y:a}},t.outerHeight=function(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(r.borderTopWidth),t+=(0,o.int)(r.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(r.borderLeftWidth),t+=(0,o.int)(r.borderRightWidth)},t.removeClassName=v,t.removeEvent=function(e,t,r,n){if(!e)return;var o=s({capture:!0},n);e.removeEventListener?e.removeEventListener(t,r,o):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&v(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var o=r(781),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}o.default=e,r&&r.set(e,o);return o}(r(3146));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="";function d(e,t){return l||(l=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,o.isFunction)(e[t])}))),!!(0,o.isFunction)(e[l])&&e[l](t)}function f(e,t,r){var n=e.x,o=e.y,a="translate(".concat(n).concat(r,",").concat(o).concat(r,")");if(t){var u="".concat("string"==typeof t.x?t.x:t.x+r),i="".concat("string"==typeof t.y?t.y:t.y+r);a="translate(".concat(u,", ").concat(i,")")+a}return a}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function v(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},1543:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(736),a=(n=o)&&n.__esModule?n:{default:n},u=r(40),i=r(28),s=r(450);t.default=function(){return function(e,t){var r=u.pageSelectors.selectMostRecentPageId()(t()),n=(0,a.default)();e(i.tipsActions.loadContainer({containerId:n})),e(u.pageActions.setContainerId({pageId:r,containerId:n})),e((0,s.sdataTipsContainerEvent)({event:"pre-init"})),e((0,s.sdataTipsContainerEvent)({event:"init"}))}}},1544:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(40),a=r(55),u=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){var t=((0,u.default)(e)||{}).id;if(!t)return!1;var r=o.pageSelectors.selectMostRecentPageId()(e);return t===(o.pageSelectors.selectPageByPageId(r)(e)||{}).containerId}},1545:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40),o=d(r(1543)),a=r(28),u=d(r(782)),i=r(57),s=d(r(1939)),c=d(r(1544)),l=d(r(3174));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return t=regeneratorRuntime.mark((function t(r,d){var f,p,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!(0,l.default)(e)(d())){t.next=2;break}return t.abrupt("return");case 2:return f=n.pageSelectors.selectCurrentPageId()(d()),((0,i.selectScrapedProductByPageId)(f)(d())||{}).parentId===e.parentId||(0,c.default)(d())?(p=n.pageSelectors.selectContainerIdByPageId(f)(d()),v=n.pageSelectors.selectMostRecentPageId()(d()),r(a.tipsActions.setLoading({containerId:p})),r(n.pageActions.setContainerId({containerId:p,pageId:v}))):r((0,o.default)()),r(n.pageActions.updateCurrentPage()),t.next=8,r((0,s.default)(e));case 8:r((0,u.default)());case 9:case"end":return t.stop()}}),t,void 0)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t){return r.apply(this,arguments)};var t,r}},1920:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a,u,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=(n=k(regeneratorRuntime.mark((function e(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.waitForElement(t,{timeout:o});case 2:return r=e.sent,n=j(r.text()),e.abrupt("return",h.default.cleanPrice(n));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),c=(o=k(regeneratorRuntime.mark((function e(t,r,n){var o,a,u,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==window.MutationObserver){e.next=2;break}return e.abrupt("return");case 2:return o=new MutationObserver(k(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return r=e.sent,e.next=5,T.default.getFeatureFlag("gift_cards_use_remote_iframe");case 5:if(!e.sent){e.next=10;break}return o=P.default.getCurrent(),e.next=10,A.default.request(C.gcMessageNames.giftCardsCartPriceChange,{cartPrice:r,tabId:o.id,prioritized:n,storeId:t.id,storeName:t.name});case 10:case"end":return e.stop()}}),e,i)})))),e.next=5,h.default.waitForElement(r,{timeout:3e3});case 5:return e.prev=5,e.next=8,T.default.getFeatureFlag("gift_card_deals_observe_body_for_total");case 8:a=e.sent,u=a?document.body:document.querySelector(r),o.observe(u,{characterData:!0,attributes:!1,childList:!0,subtree:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),y.default.error("Error attaching mutation observer for store "+t.id+" with selector "+r);case 16:case"end":return e.stop()}}),e,this,[[5,13]])}))),function(e,t,r){return o.apply(this,arguments)}),l=(a=k(regeneratorRuntime.mark((function e(t){var r,n,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([O.default.getReminder(t),m.default.get("honey-pay-now:gift-card-deal-reminder:"+t)]);case 2:return r=e.sent,n=i(r,2),o=n[0],a=n[1],u=null,a&&(u=a.isGiftcardTipEngaged),e.abrupt("return",!(!o&&!u));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),d=(u=k(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.default.getCurrent(),e.next=3,l(t.id);case 3:return o=e.sent,e.next=6,A.default.request(C.gcMessageNames.giftCardsFindSavingsClosed,{cartPrice:r,tabId:n.id,prioritized:!0,storeId:t.id,storeName:t.name,isReminderSet:o});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)});t.getCartPrice=L;var f=M(r(0)),p=M(r(49)),v=M(r(314)),g=M(r(12)),y=M(r(15)),m=M(r(39)),h=M(r(22)),_=M(r(25)),b=M(r(23)),S=M(r(19)),P=M(r(32)),w=M(r(59)),x=M(r(4)),E=M(r(3088)),O=M(r(1915)),I=r(749),T=M(r(102)),C=r(1921),A=M(C),R=M(r(3089));function M(e){return e&&e.__esModule?e:{default:e}}function k(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var N,D=/[\d+][,.\d+]+/;function j(e){var t=e&&e.match(D);if(t)return t[0]}function L(e){return s(e.metadata.honeyPayCartPriceSelector)}function B(e){[].forEach((function(t){return g.default.send("honey-pay-now:action:"+t,{action:I.HONEY_PAY_NOW_MESSAGES.SET_CART_PRICE,data:{cartPrice:e}},{background:!0})}))}function U(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.querySelector("#"+e);if(!n){(n=document.createElement("div")).id=e,n.style.cssText=r;var o=document.querySelector(t);o.appendChild(n)}return n}("honeyPayNowContainer");p.default.render(f.default.createElement(R.default,{data:e}),t)}function F(e){var t=e.allPageTypes;return E.default.isPaymentsViewPrioritized(t)}g.default.addListener("current:product",(N=k(regeneratorRuntime.mark((function e(t,r){var n,o,a,u,i,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.data,e.next=3,P.default.getCurrent();case 3:o=e.sent,a=o.id,u=n.partialObservation,i=u.price,s=u.url,c=n.productId,l=(0,v.default)(i).value(),m.default.set("honey-pay-now:product:"+s+":"+a,{productPrice:l,productId:c});case 8:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return N.apply(this,arguments)})),g.default.addListener("honey-pay-now:action:ui",(function(e,t){switch(t&&t.action){case I.HONEY_PAY_NOW_MESSAGES.SET_PAY_NOW_CARD_VISIBILITY:return _.default.open({pathname:"/honey-pay-now-card",query:{},state:{cardData:t.data.cardData},force:!0,feature:"honey-pay-now-card",surface:"popup"});case I.HONEY_PAY_NOW_MESSAGES.OPEN_PAY_NOW_AUTOPOP:return _.default.open({pathname:"/honey-pay-now-autopop",query:{},state:t.data,force:!0,feature:"honey-pay-now-autopop",surface:"popup"});default:throw new InvalidParametersError("Invalid action")}})),function(){var e=this;Promise.all([new Promise((function(e){g.default.addListener("gift-cards-app:ready",(function(){return e()}))})),new Promise((function(e){g.default.addListener("find-savings:closed",(function(){return e()}))}))]).then(k(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.default.getCurrent();case 2:if((r=e.sent).id){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,L(r);case 7:if(n=e.sent){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,T.default.getFeatureFlag("gift_cards_use_remote_iframe");case 12:if(!e.sent){e.next=16;break}return e.next=16,d(r,n);case 16:case"end":return e.stop()}}),t,e)})))).catch((function(){return""}))}(),function(){var e=this;g.default.addListener("find-savings:complete",k(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.default.getCurrent();case 2:if((r=e.sent).id){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,L(r);case 7:if(n=e.sent){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,T.default.getFeatureFlag("gift_cards_use_remote_iframe");case 12:if(!e.sent){e.next=16;break}return e.next=16,d(r,n);case 16:case"end":return e.stop()}}),t,e)}))))}();var G,H=0;g.default.addListener("pageDetected:PAYMENTS",(G=k(regeneratorRuntime.mark((function e(t,r){var n,o,a,u,i,s,d,f,p,v=r.data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=Date.now())-H<5e3)){e.next=5;break}return e.abrupt("return");case 5:H=n;case 6:return e.next=8,S.default.getCurrent();case 8:if((o=e.sent).id){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,L(o);case 13:if(a=e.sent){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,T.default.getFeatureFlag("gift_cards_use_remote_iframe");case 18:if(!e.sent){e.next=41;break}return e.next=22,F(v);case 22:return u=e.sent,e.next=25,w.default.getDeviceId();case 25:return i=e.sent,e.next=28,l(o.id);case 28:return s=e.sent,e.next=31,x.default.getCountryCode();case 31:return d=e.sent,e.next=34,x.default.getUILanguage();case 34:return f=e.sent,e.next=37,b.default.getInfo();case 37:p=e.sent,B(a),c(o,o.metadata.honeyPayCartPriceSelector,u);try{U({storeId:o.id,deviceId:i,browser:"ch",extVersion:"16.1.0",cartPrice:a,prioritized:u,isReminderSet:s,language:f,country:d,user:p})}catch(e){y.default.error("Error loading Honey Pay iframe: "+e)}case 41:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return G.apply(this,arguments)})),t.default={}},1921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gcMessageNames=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1841);var a={extensionAuth:"extensionAuth",extensionRemoveIFrame:"extensionRemoveIFrame",extensionSendSDataEvent:"extensionSendSDataEvent",extensionUpdateStyles:"extensionUpdateStyles",extensionExperimentsGetVariant:"extensionExperimentsGetVariant",extensionExperimentsTrackImpression:"extensionExperimentsTrackImpression",extensionGetUserABGroup:"extensionGetUserABGroup",extensionGetI18nCountryCode:"extensionGetI18nCountryCode",extensionGetI18nMessage:"extensionGetI18nMessage",extensionSetGiftCardsEnabledForUser:"extensionSetGiftCardsEnabledForUser",extensionOpenLoginPrompt:"extensionOpenLoginPrompt",extensionHideContentUI:"extensionHideContentUI",extensionGetCartPrice:"extensionGetCartPrice",extensionSetIFrameAttribute:"extensionSetIFrameAttribute",extensionRemoveIFrameAttribute:"extensionRemoveIFrameAttribute",extensionSetHoneyStorageItem:"extensionSetHoneyStorageItem",extensionGetHoneyStorageItem:"extensionGetHoneyStorageItem",extensionRemoveHoneyStorageItem:"extensionRemoveHoneyStorageItem",extensionSetWindowLocalStorageItem:"extensionSetWindowLocalStorageItem",extensionGetWindowLocalStorageItem:"extensionGetWindowLocalStorageItem",extensionRemoveWindowLocalStorageItem:"extensionRemoveWindowLocalStorageItem",extensionGQLQuery:"extensionGQLQuery",extensionGQLMutation:"extensionGQLMutation",extensionOpenGiftCardDealModal:"extensionOpenGiftCardDealModal",giftCardsInit:"giftCardsInit",giftCardsReady:"giftCardsReady",giftCardsUserUpdate:"giftCardsUserUpdate",giftCardsCartPriceChange:"giftCardsCartPriceChange",giftCardsUserLoggedIn:"giftCardsUserLoggedIn",giftCardsFindSavingsClosed:"giftCardsFindSavingsClosed",extensionSetIsMinimized:"extensionSetIsMinimized",giftCardsSetIsMinimized:"giftCardsSetIsMinimized"},u=Object.keys(a).reduce((function(e,t){return n({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,t))}),{}),i=(t.gcMessageNames=new Proxy(u,{get:function(e,t,r){var n=Reflect.get(e,t,r);if(void 0===n)throw new Error("checkout message name not found: "+t);return n}}),new o.PostMessenger({types:a,enableLogging:!1,clientName:"extension",useEncryption:!1}));t.default=i},1924:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGGED_OUT_SUPPRESSION_KEY="honeyTips:suppression:all:loggedOut:expirationDate",t.SNOOZE_ALL_TEMPORARY="honeyTips:suppression:all:expirationDate"},1925:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertDaysToExpirationDateInMs=t.getStoreKey=void 0;var n,o=r(35),a=(n=o)&&n.__esModule?n:{default:n};t.getStoreKey=function(e){return"honeyTips:suppression:store:"+e+":expirationDate"},t.convertDaysToExpirationDateInMs=function(e){return 1e3*(0,a.default)().add(e,"day").unix()}},1926:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelHideTipsAfterTimeout=t.hideTipsAfterTimeout=void 0;var n=s(r(15)),o=r(40),a=r(1927),u=r(295),i=s(r(188));function s(e){return e&&e.__esModule?e:{default:e}}var c=null;t.hideTipsAfterTimeout=function(){return function(e,t){clearTimeout(c),c=setTimeout((function(){var r=(0,i.default)(t()),s=o.pageSelectors.selectMostRecentPageId()(t());r.length||(n.default.debug("honeyTips:events: canRunTips but no tips appeared after timeout of "+a.WAIT_FOR_TIPS_TIMEOUT+"ms"),e(o.pageActions.setTipsTimedOut({pageId:s,tipsTimedOut:!0})),e((0,u.sdataTipsBadgeEvent)({event:"hide",action:null})))}),a.WAIT_FOR_TIPS_TIMEOUT)}},t.cancelHideTipsAfterTimeout=function(){return function(){return clearTimeout(c)}}},1927:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WAIT_FOR_TIPS_TIMEOUT=3e4},1928:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={1:{orientation:"topRight",top:160}},o=t.getDefaultBadgeSettingsByStoreId=function(e){return n[e]};t.shouldUseStoreBadgeSettings=function(e){return!!o(e)}},1929:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmountApp=t.hasCurrentContainerState=t.mountApp=void 0;var n=u(r(0)),o=u(r(3105)),a=u(r(3170));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var s,c,l=void 0,d=!1;t.mountApp=(s=i(regeneratorRuntime.mark((function e(){var t,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l||d){e.next=9;break}return d=!0,e.next=4,(0,a.default)(n.default.createElement(o.default,null));case 4:t=e.sent,r=t.container,u=t.unmountApp,l={container:r,unmountApp:u},d=!1;case 9:case"end":return e.stop()}}),e,void 0)}))),function(){return s.apply(this,arguments)}),t.hasCurrentContainerState=function(){return!!l},t.unmountApp=(c=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l&&l.unmountApp(),l=null;case 2:case"end":return e.stop()}}),e,void 0)}))),function(){return c.apply(this,arguments)})},1930:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(28),a=r(450),u=r(55),i=(n=u)&&n.__esModule?n:{default:n};t.default=function(){return function(e,t){var r=(0,i.default)(t()).id;e(o.tipsActions.updateShowTopTipOnly({containerId:r,showTopTipOnly:!1})),e((0,a.sdataTipsContainerEvent)({event:"action",action:"expand_container"}))}}},1931:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(28),a=r(55),u=(n=a)&&n.__esModule?n:{default:n};var i=null;t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,r){return clearTimeout(i),i=setTimeout((function(){var e=(0,u.default)(r())||{},n=e.id,a=e.isAutopop,i=e.isHoveringOverBadge,s=e.isHoveringOverContainer;a||i||s||t(o.tipsActions.closeContainer({containerId:n,resetTipsShown:!1}))}),e)}}},1932:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,r){var o=e.state,u=!(0,n.isNum)(o.lastX),i=a(e);return u?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:i,deltaX:t-o.lastX,deltaY:r-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:r}},t.createDraggableData=function(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,r){if(!e.props.bounds)return[t,r];var u=e.props.bounds;u="string"==typeof u?u:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(u);var i=a(e);if("string"==typeof u){var s,c=i.ownerDocument,l=c.defaultView;if(!((s="parent"===u?i.parentNode:c.querySelector(u))instanceof l.HTMLElement))throw new Error('Bounds selector "'+u+'" could not find an element.');var d=s,f=l.getComputedStyle(i),p=l.getComputedStyle(d);u={left:-i.offsetLeft+(0,n.int)(p.paddingLeft)+(0,n.int)(f.marginLeft),top:-i.offsetTop+(0,n.int)(p.paddingTop)+(0,n.int)(f.marginTop),right:(0,o.innerWidth)(d)-(0,o.outerWidth)(i)-i.offsetLeft+(0,n.int)(p.paddingRight)-(0,n.int)(f.marginRight),bottom:(0,o.innerHeight)(d)-(0,o.outerHeight)(i)-i.offsetTop+(0,n.int)(p.paddingBottom)-(0,n.int)(f.marginBottom)}}(0,n.isNum)(u.right)&&(t=Math.min(t,u.right));(0,n.isNum)(u.bottom)&&(r=Math.min(r,u.bottom));(0,n.isNum)(u.left)&&(t=Math.max(t,u.left));(0,n.isNum)(u.top)&&(r=Math.max(r,u.top));return[t,r]},t.getControlPosition=function(e,t,r){var n="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!n)return null;var u=a(r),i=r.props.offsetParent||u.offsetParent||u.ownerDocument.body;return(0,o.offsetXYFromParent)(n||e,i,r.props.scale)},t.snapToGrid=function(e,t,r){var n=Math.round(t/e[0])*e[0],o=Math.round(r/e[1])*e[1];return[n,o]};var n=r(781),o=r(1542);function a(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},1933:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},1934:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),o=i(r(441)),a=i(r(652)),u=i(r(1451));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=n.tipsSelectors.selectBadgeCtaDisabledCategoriesForCurrentStore(e),r=(0,u.default)(e,t)||{},i=r.id,s=r.categoryId,c=(((0,o.default)(i)||{}).badge||{}).notificationText,l=(0,a.default)(i)(e)||{},d=("function"==typeof c?c(l):c)||null;return{text:d,tipId:d?i:null,categoryId:d?s:null}}},1935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(48),o=r(122),a=r(68),u=r(762),i=r(40),s=r(412),c=r(10),l=r(28),d=r(33);function f(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var p=[n.TIPS_BUCKETED_FEATURES.STANDALONE_OFFERS,n.TIPS_BUCKETED_FEATURES.TIPS_SHOWING_GROUP],v={};t.default=function(){return e=f(regeneratorRuntime.mark((function e(t,r){var n,g,y,m,h,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.pageSelectors.selectMostRecentPageId()(r()),!v[n]){e.next=3;break}return e.abrupt("return",v[n]);case 3:return g=t(c.storesActions.load()),y=function(){var e=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g;case 2:return e.next=4,t(s.sessionActions.loadStoreSession());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),m=y(),h=function(){var e=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([g,m]);case 2:return e.next=4,t(u.launchpadActions.load());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),_=Promise.allSettled([t(o.deviceActions.loadDeviceSettings()),t(o.deviceActions.loadIsFirstPageAfterInstall()),t(a.experimentsActions.loadVariants(p)),t(d.userActions.load()),t(d.userActions.loadSettings()),t(l.tipsActions.loadConfiguration()),g,m,h()]),v[n]=_,e.abrupt("return",_);case 10:case"end":return e.stop()}}),e,void 0)}))),function(t,r){return e.apply(this,arguments)};var e}},1936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.isProductPageType=function(e){return["PRODUCT","SHOPIFY_PRODUCT_PAGE","SHOPIFY_WHERE_AM_I"].includes(e)},o=t.isHomePageType=function(e){return["HOMEPAGE"].includes(e)};t.default={isProductPageType:n,isHomePageType:o}},1937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(48),o=x(r(70)),a=r(310),u=r(308),i=r(228),s=r(68),c=r(245),l=r(315),d=r(74),f=r(437),p=r(755),v=r(412),g=r(748),y=r(654),m=r(10),h=r(28),_=x(r(1480)),b=r(316),S=r(33),P=r(110),w=x(r(3172));function x(e){return e&&e.__esModule?e:{default:e}}function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var O=[P.CURRENT_TIPS_CONTAINER_EXPERIMENT,n.TIPS_BUCKETED_FEATURES.STANDALONE_OFFERS,n.TIPS_BUCKETED_FEATURES.TIPS_SHOWING_GROUP,a.OFFERS_CTA_EXPERIMENT,a.DROPLIST_OCS_COLLECTIONS_POPUP,a.TIPS_FETCH_FALLBACK_PRODUCT,a.PERSONALIZED_UNAUTH_EXPERIMENT,a.SHIPPING_IN_COMPARISON_SHOPPING_EXPERIMENT],I=["ext_paypal_tip_enabled","tips_is_autopop_suppression_respected","offers_show_gold_value","tips_main_tip_pay_in_four_enabled"];t.default=function(e){return t=E(regeneratorRuntime.mark((function t(r,n){var a,P,x,T,C,A,R,M,k,N,D,j,L,B;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r(m.storesActions.load()),P=r(c.featuresActions.loadFeatures(I)),x=r(S.userActions.load()),T=r(v.sessionActions.loadGlobalSessionId()),C=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(s.experimentsActions.loadVariants(O));case 2:O.forEach((function(e){return o.default.trackImpression(e)}));case 3:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=E(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x;case 2:return t=S.userSelectors.selectUser()(n()),o=t.id,e.next=5,r(S.userActions.getUserFollow(o));case 5:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=E(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a,x]);case 2:if(t=m.storesSelectors.selectCurrentStore()(n())||{},!((o=S.userSelectors.selectUser()(n())||{}).isLoggedIn&&o.id&&t.storeId&&t.isDoubleGold)){e.next=7;break}return e.next=7,r(S.userActions.getDoubleGoldActivationsByUserId(o.id));case 7:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return e.next=4,r(S.userActions.loadSessionCountForCurrentStore());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T;case 2:return e.next=4,r((0,_.default)());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:r(h.tipsActions.loadTipsShown());case 3:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return e.next=4,r(y.storeInsightsActions.loadStoreInsights());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return e.next=4,r(i.couponsActions.loadStats());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P;case 2:return e.next=4,r(f.payInFourActions.load());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),B=function(){var t=E(regeneratorRuntime.mark((function t(){var o,u,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return o=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x;case 2:return e.next=4,r(d.offersActions.loadEligibility());case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),u=o(),i=function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:r(d.offersActions.loadStoreOffer());case 3:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),t.next=7,Promise.allSettled([a,x]);case 7:return s=m.storesSelectors.selectCurrentStoreId()(n()),t.next=10,Promise.allSettled([r(d.offersActions.loadLaunchpadOffersConfiguration()),i(),r(p.saleAlertsActions.loadSaleAlert()),L(),r(g.storeDealsActions.loadStoreDeals()),r(l.honeyPayNowActions.loadByProduct({product:{storeId:s},subSrc:"tips"}))]);case 10:case"end":return t.stop()}}),t,void 0)})));return function(){return t.apply(this,arguments)}}(),t.next=16,Promise.allSettled([a,x,C(),P,r(u.adblockActions.checkForAdblock()),T,r(b.uiActions.loadLanguage()),r(h.tipsActions.loadDeprioritization()),r(h.tipsActions.loadTipsAndCategories()),r((0,w.default)()),A(),R(),M(),k(),N(),D(),j(),B()]);case 16:case"end":return t.stop()}}),t,void 0)}))),function(e,r){return t.apply(this,arguments)};var t}},1938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(110),o=c(r(15)),a=r(68),u=r(40),i=r(648),s=c(r(1545));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var d=function(){return e=l(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a.experimentsActions.loadVariant(n.CURRENT_TIPS_CONTAINER_EXPERIMENT));case 2:return o=a.experimentSelectors.selectVariant(n.CURRENT_TIPS_CONTAINER_EXPERIMENT)(r()),e.abrupt("return",o===n.TIPS_CONTAINER_VARIANTS.WAI_ENABLED_PF_DISABLED);case 4:case"end":return e.stop()}}),e,void 0)}))),function(t,r){return e.apply(this,arguments)};var e};t.default=function(e){return t=l(regeneratorRuntime.mark((function t(r,n){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(d());case 2:if(!t.sent){t.next=5;break}return o.default.debug("honeyTips:handleVimProduct: VIM fetcher handling is disabled."),t.abrupt("return");case 5:return a=u.pageSelectors.selectMostRecentPageId()(n()),r(i.productFetcherActions.productFetched({pageId:a,product:e})),t.next=9,r((0,s.default)(e));case 9:case"end":return t.stop()}}),t,void 0)}))),function(e,r){return t.apply(this,arguments)};var t}},1939:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(143),o=r(406),a=r(133),u=r(315),i=r(74),s=r(437),c=r(655),l=r(293),d=r(68),f=r(310),p=r(110),v=m(r(756)),g=r(1940),y=m(r(782));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}t.default=function(e){return t=h(regeneratorRuntime.mark((function t(r,m){var _,b,S,P,w,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return _=e.parentId,b=e.productId,S=function(){var t=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(i.offersActions.loadProductOffer(e));case 2:i.offersSelectors.selectCurrentProductOffer(m())&&r((0,y.default)());case 4:case"end":return t.stop()}}),t,void 0)})));return function(){return t.apply(this,arguments)}}(),P=r(n.catalogProductsActions.loadProductByProductId(b)),w=function(){var e=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P;case 2:return e.next=4,r(c.priceTrendProductActions.loadProductByProductId(b));case 4:case"end":return e.stop()}}),e,void 0)})));return function(){return e.apply(this,arguments)}}(),x=function(){var t=h(regeneratorRuntime.mark((function t(){var a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P;case 2:if(a=n.catalogProductsSelectors.selectByProductId(e.productId)(m())||{},u=d.experimentSelectors.selectVariant(p.CURRENT_TIPS_CONTAINER_EXPERIMENT)(m()),!(0,v.default)(u)){t.next=7;break}return t.next=7,r(o.comparisonShoppingActions.loadCanonicalProducts({product:e,catalogProduct:a}));case 7:case"end":return t.stop()}}),t,void 0)})));return function(){return t.apply(this,arguments)}}(),t.next=9,Promise.allSettled([S(),P,w(),x(),r(g.loadTopProductCoupon),r(o.comparisonShoppingActions.loadWebPriceComparisonViewed({parentId:_})),r(a.droplistActions.loadDroplistAndCollectionsByVimProduct(e)),r(u.honeyPayNowActions.loadByProduct({product:e,subSrc:"tips"})),r(l.teamDealsActions.load(e)),r(s.payInFourActions.load()),r(d.experimentsActions.loadVariant(f.TIPS_FETCH_FALLBACK_PRODUCT))]);case 9:case"end":return t.stop()}}),t,void 0)}))),function(e,r){return t.apply(this,arguments)};var t}},1940:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadTopProductCoupon=void 0;var n=r(228),o=r(405),a=r(1468),u=r(57);var i,s,c=t.loadTopProductCoupon=(i=regeneratorRuntime.mark((function e(t,r){var i,s,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,u.selectCurrentScrapedProduct)(r())||{},s=i.parentId,e.t0=s,!e.t0){e.next=5;break}return e.next=5,t(n.couponsActions.loadTopProductCoupon({parentId:s}));case 5:c=(0,a.selectProductCouponsCategoryData)(r()),l=c.coupon,d=(0,a.selectIsProductCouponInvalid)(r()),l&&d&&t((0,o.sdataTipsDebugEvent)({debugEvent:"invalid_coupon_stats",action:"invalid_coupon_stats",metadata_json:JSON.stringify({source:"extension",couponStats:l,referrerUrl:""+window.location.origin+window.location.pathname})}));case 8:case"end":return e.stop()}}),e,void 0)})),s=function(){var e=i.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t){return s.apply(this,arguments)});t.default=c},1941:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(28),a=r(450),u=r(55),i=(n=u)&&n.__esModule?n:{default:n};t.default=function(){return function(e,t){var r=(0,i.default)(t()).id;e(o.tipsActions.refreshContainer({containerId:r})),e((0,a.sdataTipsContainerEvent)({event:"update"}))}}},1942:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(133),o=r(315);t.default=function(e){return t=regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Promise.allSettled([r(n.droplistActions.loadDroplistAndCollectionsByGenericProduct(e)),r(o.honeyPayNowActions.loadByProduct({product:e,subSrc:"tips"}))]);case 4:case"end":return t.stop()}}),t,void 0)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e){return r.apply(this,arguments)};var t,r}},2001:function(e,t,r){r(695),e.exports=r(2002)},2002:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a=(n=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.default.send("page:load",{url:t,hasServiceWorkers:!!((navigator||{}).serviceWorker||{}).controller},{allTabs:!0,background:!0,ignoreResponse:!0}).reflect(),P.default.debug("Honey 16.1.0 content script is ready. Environment is production"),e.next=8;break;case 5:r=e.sent,window.sdata=r;case 8:case"end":return e.stop()}}),e,this)})),o=function(){var e=n.apply(this,arguments);return new u.default((function(t,r){return function n(o,a){try{var i=e[o](a),s=i.value}catch(e){return void r(e)}if(!i.done)return u.default.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(s)}("next")}))},function(e){return o.apply(this,arguments)});r(1556),r(1604),r(1609),r(1612),r(1613),r(1619),r(1624),r(1625),r(1627),r(1629),r(1630),r(1631),r(1633),r(1634),r(1636),r(1637),r(1639),r(1640),r(125);var u=Q(r(26)),i=Q(r(8)),s=Q(r(22)),c=Q(r(710)),l=Q(r(1510)),d=Q(r(399)),f=Q(r(229)),p=Q(r(1919)),v=Q(r(3086)),g=Q(r(1407)),y=Q(r(646)),m=Q(r(59)),h=Q(r(70)),_=Q(r(716)),b=Q(r(4)),S=Q(r(1671)),P=Q(r(15)),w=Q(r(12)),x=Q(r(3087)),E=Q(r(200)),O=Q(r(1511)),I=Q(r(1920)),T=Q(r(289)),C=Q(r(197)),A=Q(r(1922)),R=Q(r(140)),M=Q(r(3096)),k=Q(r(62)),N=Q(r(1923)),D=Q(r(13)),j=Q(r(163)),L=Q(r(19)),B=Q(r(32)),U=Q(r(3097)),F=Q(r(25)),G=Q(r(23)),H=Q(r(1834)),V=Q(r(1686)),W=Q(r(3188)),Y=Q(r(403)),z=Q(r(307)),X=Q(r(1538)),q=Q(r(401)),K=Q(r(142)),J=Q(r(1943));function Q(e){return e&&e.__esModule?e:{default:e}}u.default.onPossiblyUnhandledRejection((function(e){return P.default.error(e)})),a(window.location.href),setTimeout((function(){if("www.joinhoney.com"===window.location.hostname){var e=document.querySelector("#messagingEventHandler");if(e)if(e.getAttribute("si_ext"))w.default.send("si:on",{si_ext:e.getAttribute("si_ext")},{ignoreResponse:!0,background:!0});else new MutationObserver((function(){e.getAttribute("si_ext")&&w.default.send("si:on",{si_ext:e.getAttribute("si_ext")},{ignoreResponse:!0,background:!0})})).observe(e,{attributes:!0})}}));var $={$:i.default,acorns:c.default,adbBp:q.default,ajax:l.default,button:d.default,cartPageFetcher:V.default,checkoutPlatform:v.default,clipboard:f.default,config:p.default,confirmation:g.default,cookies:y.default,device:m.default,experiments:h.default,extensionReview:_.default,i18n:b.default,imageLoader:S.default,honeyPayNow:I.default,honeyPayPal:T.default,launchpad:K.default,logger:P.default,messages:w.default,mseUpsell:x.default,offers:E.default,optimus:O.default,pageDetector:R.default,popover:C.default,productFetcher:A.default,runtime:M.default,savingsController:k.default,search:J.default,seleniumComm:N.default,stats:D.default,storage:j.default,stores:L.default,tabs:B.default,tips:U.default,ui:F.default,user:G.default,userSavingsStats:H.default,util:s.default,vims:Y.default,websiteComm:z.default,whereAmI:W.default,yelp:X.default};w.default.addListener("debug:change",(function(e,t){try{t.active?window.honey=$:delete window.honey}catch(e){}})),t.default=$},295:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdataTipsBadgeEvent=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=i(r(15)),a=i(r(13)),u=i(r(3103));function i(e){return e&&e.__esModule?e:{default:e}}t.sdataTipsBadgeEvent=function(e){return function(t,r){var i=(0,u.default)(r()),s=n({},i,e);a.default.sendEvent("tip004034",s),o.default.debug("TIPS_BADGE:"+s.event,s)}}},3086:function(e,t,r){"use strict";var n,o,a=r(673),u=(n=a)&&n.__esModule?n:{default:n};(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.default.start();case 1:case"end":return e.stop()}}),e,void 0)})),function(){var e=o.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))})()},3087:function(e,t,r){"use strict";var n=a(r(12)),o=a(r(25));function a(e){return e&&e.__esModule?e:{default:e}}n.default.addListener("mseupsell:action",(function(e,t){var r=t&&t.flow?t.flow:"default";switch(t&&t.action){case"showMSEPrompt":o.default.open({pathname:"/msePrompt",query:{flow:r},force:!0,feature:"qr-code-prompt",surface:"popup"});break;case"showQrCode":o.default.open({pathname:"/qrCode",query:{flow:r},force:!0,feature:"qr-code-scan",surface:"popup"});break;default:throw new InvalidParametersError("No mseupsell:action listener for "+t.action)}}))},3088:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a=(n=regeneratorRuntime.mark((function e(t,r,n){var o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,e.t0){e.next=5;break}return e.next=4,c.default.getCurrent();case 4:e.t0=e.sent;case 5:if(o=e.t0,s.default.getCtaType(o)!==i.FIND_SAVINGS_TYPES.NONE){e.next=10;break}return e.abrupt("return",!0);case 10:return a=[d,f,p],n&&(a=n),e.next=14,Promise.all(a.map((function(e){return e(t,o)})));case 14:return u=e.sent,e.abrupt("return",u.some((function(e){return e}))&&v(o));case 16:case"end":return e.stop()}}),e,this)})),o=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t,r){return o.apply(this,arguments)}),u=l(r(35)),i=r(48),s=l(r(62)),c=l(r(19));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){return e.GOLD_REWARDS&&(!t.gold||t.gold&&t.gold.activated)},f=function(e,t){return e&&(e.FIND_SAVINGS||e.GOLD_REWARDS)&&u.default.unix(t.applyCodesComplete).isAfter((0,u.default)().subtract(2,"hours"))},p=function(e){return e&&!e.FIND_SAVINGS},v=function(e){return!e.standDown};t.default={isFsOrGoldAndMoreThanTwoHrs:f,isNotOnFs:p,isOnGoldRewardsOrActivated:d,isPaymentsViewPrioritized:a}},3089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(n=A(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.generateKey({name:"AES-CBC",length:256},!0,["encrypt","decrypt"]);case 2:k=e.sent,N=crypto.getRandomValues(new Uint8Array(16)),D={name:"AES-CBC",iv:N};case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),s=(o=A(regeneratorRuntime.mark((function e(t){var r,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M(t),e.next=3,crypto.subtle.decrypt(D,k,r);case 3:return n=e.sent,o=new TextDecoder,a=o.decode(n),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),c=r(0),l=O(c),d=O(r(1)),f=O(r(12)),p=O(r(13)),v=O(r(163)),g=r(749),y=O(r(70)),m=O(r(4)),h=O(r(102)),_=O(r(23)),b=O(r(25)),S=O(r(19)),P=r(1920),w=O(r(3090)),x=r(1921),E=O(x);function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function A(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var R="https://cdn.joinhoney.com/gift-cards/index.html";function M(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,o=e.length;n<o;n+=1)r[n]=e.charCodeAt(n);return t}var k=void 0,N=void 0,D=void 0;function j(e){var t,r=this,n=(t=A(regeneratorRuntime.mark((function e(){var t,r,n,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return E.default.setTarget(O.current.contentWindow,R),E.default.beginListening((function(e){return R.match(new RegExp("^("+e+")"))})),M.current=E.default.bindResponders((T(t={},x.gcMessageNames.giftCardsReady,(function(){f.default.send("gift-cards-app:ready",{})})),T(t,x.gcMessageNames.extensionSendSDataEvent,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.eventName,n=C(t,["eventName"]),e.next=3,p.default.sendEvent(r,n);case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionRemoveIFrame,re),T(t,x.gcMessageNames.extensionUpdateStyles,ne),T(t,x.gcMessageNames.extensionExperimentsGetVariant,(function(e){return y.default.getVariant(e.variantName)})),T(t,x.gcMessageNames.extensionGetI18nMessage,(function(e){return m.default.getMessage(e.messageName)})),T(t,x.gcMessageNames.extensionSetIFrameAttribute,(function(e){return O.current.setAttribute(e.attributeName,e.value),!0})),T(t,x.gcMessageNames.extensionRemoveIFrameAttribute,(function(e){return O.current.removeAttribute(e.attributeName),!0})),T(t,x.gcMessageNames.extensionSetGiftCardsEnabledForUser,(function(e){return _.default.updateSetting("honeyWallet",e.enabled?1:0)})),T(t,x.gcMessageNames.extensionOpenLoginPrompt,(function(){return b.default.open({pathname:"/gift-cards-auth",query:{},state:{},force:!0,feature:"gift-cards-auth",surface:"popup"})})),T(t,x.gcMessageNames.extensionHideContentUI,(function(){return b.default.hide()})),T(t,x.gcMessageNames.extensionGetCartPrice,A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.default.getCurrent();case 2:return t=e.sent,e.next=5,(0,P.getCartPrice)(t);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,u)})))),T(t,x.gcMessageNames.extensionSetHoneyStorageItem,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,n=t.value,e.next=3,v.default.local.set(r,n);case 3:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionGetHoneyStorageItem,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,e.next=3,v.default.local.get(r).catch((function(){return null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionRemoveHoneyStorageItem,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,e.next=3,v.default.local.del(r).catch((function(){return null}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionSetWindowLocalStorageItem,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,n=t.value,e.next=3,f.default.send("honey-pay-now:action:local-storage",{action:g.HONEY_PAY_NOW_MESSAGES.SET_LOCAL_STORAGE_ITEM,data:{key:r,value:n}},{background:!0});case 3:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionGetWindowLocalStorageItem,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,e.next=3,f.default.send("honey-pay-now:action:local-storage",{action:g.HONEY_PAY_NOW_MESSAGES.GET_LOCAL_STORAGE_ITEM,data:{key:r}},{background:!0});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionRemoveWindowLocalStorageItem,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,e.next=3,f.default.send("honey-pay-now:action:local-storage",{action:g.HONEY_PAY_NOW_MESSAGES.REMOVE_LOCAL_STORAGE_ITEM,data:{key:r}},{background:!0});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionGQLQuery,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.requestData,!t.encrypted){e.next=6;break}return e.next=4,s(t.requestData);case 4:n=e.sent,r=JSON.parse(n);case 6:return e.next=8,f.default.send("honey-pay-now:action:gql-query",{action:g.HONEY_PAY_NOW_MESSAGES.GQL_QUERY,data:r},{background:!0});case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionGQLMutation,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.requestData,!t.encrypted){e.next=6;break}return e.next=4,s(t.requestData);case 4:n=e.sent,r=JSON.parse(n);case 6:return e.next=8,f.default.send("honey-pay-now:action:gql-query",{action:g.HONEY_PAY_NOW_MESSAGES.GQL_MUTATION,data:r},{background:!0});case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionAuth,function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.authProvider,n=t.isLoginMode,o=t.isOptOut,e.t0=r,e.next="google"===e.t0?4:"apple"===e.t0?6:"paypal"===e.t0?8:"facebook"===e.t0?10:(e.t0,12);break;case 4:return n?_.default.loginGoogle():_.default.registerGoogle(o),e.abrupt("break",14);case 6:return n?_.default.loginApple():_.default.registerApple(o),e.abrupt("break",14);case 8:return n?_.default.loginPaypal():_.default.registerPaypal(o),e.abrupt("break",14);case 10:return n?_.default.loginFacebook():_.default.registerFacebook(o),e.abrupt("break",14);case 12:a=n?"login":"join",_.default.openEmailAuth(a,"ext",!1,!1);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionGetUserABGroup,A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.default.getUserABGroup("auth");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,u)})))),T(t,x.gcMessageNames.extensionGetI18nCountryCode,A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.default.getCountryCode(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,u)})))),T(t,x.gcMessageNames.extensionSetIsMinimized,function(){var e=A(regeneratorRuntime.mark((function e(t){var r=t.isMinimized,n=t.savings,o=t.goldAward,a=t.autoPopType;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(a),n&&X(n),o&&Q(o),V(r);case 4:case"end":return e.stop()}}),e,u)})));return function(t){return e.apply(this,arguments)}}()),T(t,x.gcMessageNames.extensionOpenGiftCardDealModal,A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.default.getCurrent();case 2:t=e.sent,S.default.tag(t.id,"extension_links",null,{forceHidden:!0,src:"GiftCardDealOpenModal"});case 4:case"end":return e.stop()}}),e,u)})))),t)),e.next=7,crypto.subtle.exportKey("jwk",k);case 7:return r=e.sent,e.next=10,E.default.request(x.gcMessageNames.giftCardsInit,a({},o,{jsonRequestKey:r,requestIV:[].concat(I(N)),parentOrigin:window.location.origin}));case 10:n=e.sent,d.current=n;case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)}),o=e.data,d=(0,c.useRef)(!1),O=(0,c.useRef)(),M=(0,c.useRef)((function(){})),D=(0,c.useRef)(document.querySelector("body")),j=(0,c.useState)(null),L=u(j,2),B=L[0],U=L[1],F=(0,c.useState)(!1),G=u(F,2),H=G[0],V=G[1],W=(0,c.useState)(null),Y=u(W,2),z=Y[0],X=Y[1],q=(0,c.useState)(null),K=u(q,2),J=K[0],Q=K[1],$=(0,c.useState)(null),Z=u($,2),ee=Z[0],te=Z[1];function re(){M.current(),E.default.stopListening(),O.current.remove()}function ne(e){var t=e.visible,r=e.lockScrolling,n=e.bodyStyle,o=void 0===n?{}:n,u=e.iframeStyle,i=void 0===u?{}:u;return Object.assign(D.current.style,a({overflow:r?"hidden":"auto"},o)),Object.assign(O.current.style,a({visibility:t?"visible":"hidden"},i)),!0}(0,c.useEffect)((function(){A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.getFeatureFlag("gift_cards_use_remote_iframe");case 2:t=e.sent,U(t);case 4:case"end":return e.stop()}}),e,r)})))()}),[]),(0,c.useEffect)((function(){return function(){return re()}}),[]),(0,c.useEffect)((function(){var e,t=(e=A(regeneratorRuntime.mark((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r&&r.action,e.next=e.t0===g.HONEY_PAY_NOW_MESSAGES.SET_PAY_NOW_MODAL_VISIBILITY?3:e.t0===g.HONEY_PAY_NOW_MESSAGES.REMOVE_PAY_NOW_IFRAME?5:7;break;case 3:return ne({visible:r.data.isVisible,lockScrolling:r.data.isVisible}),e.abrupt("break",8);case 5:return re(),e.abrupt("break",8);case 7:return e.abrupt("break",8);case 8:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)});function r(e,t){var r=t.user;E.default.request(x.gcMessageNames.giftCardsUserUpdate,r)}return f.default.addListener("honey-pay-now:action:ui",t),f.default.addListener("user:current:update",r),function(){f.default.removeListener("honey-pay-now:action:ui",t),f.default.removeListener("user:current:update",r)}}),[]);return null===B?null:l.default.createElement(c.Fragment,null,H&&l.default.createElement(w.default,{autoPopType:ee,handleUnMinimize:function(){E.default.request(x.gcMessageNames.giftCardsSetIsMinimized,!1),V(!1,ee)},goldAward:J,savings:z}),l.default.createElement("iframe",{ref:O,id:"giftcardsIFrame",title:"Honey Pay Now",src:R,className:null,style:{visibility:"hidden"},onLoad:n,scrolling:"no"}))}j.propTypes={data:d.default.object},j.defaultProps={data:{}},t.default=j},3090:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=d(o),u=d(r(1)),i=r(2),s=r(3),c=r(144),l=d(r(4));function d(e){return e&&e.__esModule?e:{default:e}}var f={root:{display:"flex",position:"fixed",right:"0px",top:"80px",zIndex:2147483647},container:{backgroundColor:s.Colors.white,width:"280px",right:function(e){return e.isExpanded?"0px":"-202px"},transition:"all 400ms ease-in-out",height:"56px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",borderRadius:"5px 0px 0px 5px",position:"relative",boxShadow:"0px 2px 35px rgba(0, 0, 0, 0.25)"},icon:{cursor:"pointer",width:"18px",height:"18px",marginLeft:"9px"},dotsContainer:{alignItems:"center",cursor:"move",display:"flex",height:"100%",paddingRight:"9px"},dots:{display:"flex",flexDirection:"column",height:"17px",width:"10px",justifyContent:"space-between",marginLeft:"16px"},dotRow:{width:"100%",display:"flex",justifyContent:"space-between"},dot:{height:"3px",width:"3px",display:"inline-block",borderRadius:"50%",backgroundColor:s.Colors.grey600},content:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%"},savingsText:{marginLeft:"18px"},giftCardInfo:{fontSize:"12px"},title:{color:s.Colors.grey900,fontSize:"12px",fontWeight:"600"},savings:{color:s.Colors.green500,fontWeight:"700"},goldAward:{color:s.Colors.gold900,fontWeight:"700"},seeSavings:{color:s.Colors.grey800,composes:"link1"}},p=(0,i.createUseStyles)(f),v=function(e){var t=e.handleUnMinimize,r=e.savings,u=e.goldAward,i=e.autoPopType,s=(0,o.useState)(!1),d=n(s,2),f=d[0],v=d[1],g=p({isExpanded:f}),y=(0,o.createRef)(),m=function(e){return function(){v(e)}},h=function(e){var t=e.changedTouches&&e.changedTouches[0].clientY||e.clientY;(t<0||t>window.innerHeight-56)&&(t=t<0?0:window.innerHeight-56),y.current.style.top=t+"px"};function _(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",_)}var b=function(){return r&&!u},S=Number(u).toLocaleString(),P="$"+u/100,w=function(){return!r&&u?l.default.getMessageAndReplace("Get_GOLDINCURRENCY_GOLDPOINTS",{GOLDINCURRENCY:a.default.createElement("span",{className:g.goldAward},P),GOLDPOINTS:a.default.createElement("span",null,S)}):b()?l.default.getMessageAndReplace("Save_SAVINGS_with_a_gift_card",{SAVINGS:a.default.createElement("span",{className:g.savings},(0,c.formatDollars)(r))}):l.default.getMessageAndReplace("Save_SAVINGS_and_get_Gold",{SAVINGS:a.default.createElement("span",{className:g.savings},(0,c.formatDollars)(r))})};return a.default.createElement("div",{ref:y,className:g.root},a.default.createElement("div",{className:g.container},a.default.createElement("div",{className:g.dotsContainer,onMouseDown:function(){window.addEventListener("mousemove",h),window.addEventListener("mouseup",_)},onMouseUp:_,onTouchMove:h},a.default.createElement("div",{className:g.dots},a.default.createElement("div",{className:g.dotRow},a.default.createElement("div",{className:g.dot}),a.default.createElement("div",{className:g.dot})),a.default.createElement("div",{className:g.dotRow},a.default.createElement("div",{className:g.dot}),a.default.createElement("div",{className:g.dot})),a.default.createElement("div",{className:g.dotRow},a.default.createElement("div",{className:g.dot}),a.default.createElement("div",{className:g.dot})))),a.default.createElement("div",{className:g.content,onClick:t,onMouseEnter:m(!0),onMouseLeave:m(!1)},a.default.createElement("img",{className:g.icon,src:"https://cdn.honey.io/images/finance/honey-icon-orange.svg",alt:"Open Honey"}),a.default.createElement("div",{className:g.savingsText},"HOOK"===i?a.default.createElement(o.Fragment,null,a.default.createElement("div",{className:g.title},w()),a.default.createElement("div",{className:g.seeSavings},b()?l.default.getMessage("Click_to_see_savings"):l.default.getMessage("Click_to_see_Gift_Card_Deal"))):a.default.createElement("div",{className:g.giftCardInfo},l.default.getMessage("Click_for_gift_card_info"))))))};v.propTypes={handleUnMinimize:u.default.func.isRequired,savings:u.default.number.isRequired,goldAward:u.default.number.isRequired,autoPopType:u.default.string.isRequired},t.default=v},3096:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(1653),a=(n=o)&&n.__esModule?n:{default:n};t.default={getExtensionID:function(){return a.default.getExtensionID()},connect:function(e,t){return a.default.connect(e,t)},addOnConnectListener:function(e){return a.default.addOnConnectListener(e)},removeOnConnnectListener:function(e){return a.default.removeOnConnnectListener(e)}}},3097:function(e,t,r){"use strict";r(3098)},3098:function(e,t,r){"use strict";var n,o,a=c(r(112)),u=c(r(3099)),i=c(r(3185)),s=c(r(3187));function c(e){return e&&e.__esModule?e:{default:e}}(n=regeneratorRuntime.mark((function e(){var t,r,n,o,c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.dispatch((0,s.default)());case 2:t=u.default.pageDetectionListener,r=u.default.v4FetcherListener,n=u.default.v5FetcherListener,o=u.default.userListener,c=u.default.genericFetcherListener,l=u.default.productCouponsListener,d=u.default.uiActionsListener,f=u.default.optimusProductListener,t(),r(),n(),o(),c(),l(),d(),(0,i.default)(),f();case 12:case"end":return e.stop()}}),e,void 0)})),o=function(){var e=n.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(){return o.apply(this,arguments)})()},3099:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(3100)),o=d(r(3173)),a=d(r(3175)),u=d(r(3176)),i=d(r(3178)),s=d(r(3180)),c=d(r(3182)),l=d(r(3183));function d(e){return e&&e.__esModule?e:{default:e}}t.default={pageDetectionListener:n.default,v4FetcherListener:o.default,v5FetcherListener:a.default,userListener:u.default,genericFetcherListener:i.default,productCouponsListener:s.default,uiActionsListener:c.default,optimusProductListener:l.default}},3100:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(112)),o=i(r(12)),a=r(132),u=i(r(3101));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){a.PAGE_TYPES.map((function(e){return o.default.addListener("pageDetected:"+e,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.data,a="GENERIC"===o;n.default.dispatch((0,u.default)({pageType:e,isGeneric:a}))}))}))}},3101:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(15)),o=g(r(1539)),a=r(40),u=r(1926),i=r(1929),s=g(r(1543)),c=r(3171),l=g(r(782)),d=g(r(1935)),f=r(1936),p=g(r(1544)),v=g(r(1937));function g(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,r,g=e.pageType,y=e.isGeneric;return t=regeneratorRuntime.mark((function e(t,r){var m,h,_,b,S,P,w,x,E,O,I,T,C,A,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t((0,u.cancelHideTipsAfterTimeout)()),m=a.pageSelectors.selectMostRecentPageId()(r()),t(a.pageActions.addPageType({pageType:g,pageId:m})),t(a.pageActions.setIsGeneric({isGeneric:y,pageId:m})),h=a.pageSelectors.selectPageTypesByPageId(m)(r())||[],_=h.some(f.isHomePageType),b=h.some(f.isProductPageType),!_&&!b){e.next=10;break}return e.next=10,t((0,d.default)());case 10:if(S=o.default.selectCanRunTips(r()),P=S.canRunTips,w=S.hideReasons,x=S.disabledByUserReason,E=S.suppressionReason,t((0,c.sendTipsVisibilitySdata)({canRunTips:P,hideReasons:w,disabledByUserReason:x,suppressionReason:E})),P){e.next=18;break}return t(a.pageActions.updateCurrentPage()),O=(w||[]).join(", "),n.default.debug("honeyTips:events:cantRunTips reasons: "+O),(0,i.unmountApp)(),e.abrupt("return");case 18:if(I=a.pageSelectors.selectCurrentPageId()(r()),T=a.pageSelectors.selectPendingPageId()(r()),C=a.pageSelectors.selectPageTypesByPageId(I)(r())||[],A=C.some(f.isProductPageType),R=b&&(!A||!T)||_,e.t0=R,!e.t0){e.next=27;break}return e.next=27,t(a.pageActions.updateCurrentPage());case 27:if((0,i.hasCurrentContainerState)()){e.next=33;break}return(0,p.default)(r())||t((0,s.default)()),(0,i.mountApp)(),e.next=32,t((0,v.default)(_));case 32:_&&t((0,l.default)());case 33:t((0,u.hideTipsAfterTimeout)());case 34:case"end":return e.stop()}}),e,void 0)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t){return r.apply(this,arguments)}}},3102:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectShouldSuppressTips=t.selectTipsEnabledByUser=t.selectStoreLevelSuppressionExpirationDate=void 0;var n=r(122),o=r(10),a=r(33),u=r(1924),i=r(1925),s=t.selectStoreLevelSuppressionExpirationDate=function(e){return function(t){if(!e)return null;var r=(0,i.getStoreKey)(e);return n.deviceSelectors.selectDeviceSetting(r)(t)}},c=t.selectTipsEnabledByUser=function(e){var t=a.userSelectors.selectUser()(e);if(!t||!t.isLoggedIn)return n.deviceSelectors.selectDeviceSetting("tipsLoggedOutDisabled")(e)?{tipsEnabledByUser:!1,reason:"tips_logged_out_disabled"}:{tipsEnabledByUser:!0};var r=a.userSelectors.selectSetting("tipsEnabled"),o=!!r,u=void 0;return o||(u=void 0===r?"tips_enabled_undefined":"tips_enabled_false"),{tipsEnabledByUser:o,reason:u}};t.selectShouldSuppressTips=function(e){var t=(o.storesSelectors.selectCurrentStore()(e)||{}).id,r=Date.now(),a=s(t)(e),i=a&&r<a,l=r<(n.deviceSelectors.selectDeviceSetting(u.LOGGED_OUT_SUPPRESSION_KEY)(e)||!1),d=r<(n.deviceSelectors.selectDeviceSetting(u.SNOOZE_ALL_TEMPORARY)(e)||!1),f=c(e),p=f.tipsEnabledByUser,v=f.reason;return{suppressed:i||l||d||!p,reason:d?"snoozed_for_day":i?"snoozed_for_store":l?"snoozed_for_all":p?"":v}}},3103:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(11),a=s(r(780)),u=s(r(3104)),i=s(r(737));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.createSelector)((function(e){return(0,i.default)()(e)}),(function(e){return(0,a.default)(e)}),(function(e){return(0,u.default)(e)}),(function(e,t,r){return n({},e,{badgeLocationCurrent:t,isCurrentUserNew:r})}));t.default=c},3104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(122),a=r(33),u=r(132),i=(0,n.createSelector)((function(e){return a.userSelectors.selectUser()(e)}),(function(e){return o.deviceSelectors.selectDeviceSetting(u.DEVICE_SETTINGS.TIPS_BUCKET_DATE)(e)}),(function(e,t){var r=e&&e.isLoggedIn?e.created:t,n=parseInt(r,10);if(!Number.isNaN(n))return Date.now()<n+2592e6}));t.default=i},3105:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=m(n),a=r(6),u=m(r(15)),i=r(40),s=m(r(3106)),c=m(r(3142)),l=m(r(3165)),d=r(3166),f=m(d),p=m(r(1541)),v=r(132),g=r(1927),y=m(r(3167));function m(e){return e&&e.__esModule?e:{default:e}}t.default=function(){(0,y.default)();var e=(0,n.useCallback)(i.pageSelectors.selectIsCurrentPageLaunchpad(),[]),t=(0,a.useSelector)(e),r=(0,a.useSelector)(f.default),m=(0,a.useSelector)(i.pageSelectors.selectHasTipsTimedOut);return t&&!r?(u.default.debug("honeyTips:container: No valid tip categories for launchpad ("+[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(d.VALID_LAUNCHPAD_TIPS)).join(", ")+") found. Not showing badge or container"),null):m?(u.default.debug("honeyTips:container: Tips timed out after "+g.WAIT_FOR_TIPS_TIMEOUT+"ms. Not showing badge or container"),null):o.default.createElement(p.default,{sdataAction:v.TIPS_BADGE_EVENT_ERRORS.BADGE_INJECTION_ERROR},o.default.createElement(l.default,null,o.default.createElement("slot",null,o.default.createElement(c.default,null),o.default.createElement(s.default,null))))}},3106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=k(n),a=r(6),u=r(65),i=k(r(1446)),s=k(r(1755)),c=r(444),l=k(r(1540)),d=k(r(3107)),f=k(r(3108)),p=k(r(3109)),v=k(r(55)),g=k(r(3114)),y=k(r(113)),m=k(r(3122)),h=k(r(1828)),_=k(r(3123)),b=k(r(3124)),S=k(r(656)),P=k(r(3128)),w=k(r(1541)),x=k(r(740)),E=r(132),O=k(r(3129)),I=k(r(3130)),T=r(3136),C=k(r(3139)),A=k(r(3140)),R=k(r(1439)),M=k(r(3141));function k(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,a.useSelector)(v.default)||{},t=e.open,r=e.scrollToCategoryId,k=e.showLoader,N=(0,a.useSelector)(R.default)||[],D=(0,a.useSelector)(S.default),j=(0,a.useSelector)(l.default),L=(0,x.default)(),B=(0,n.useRef)(),U=(0,O.default)({containerRef:B}).top,F=(0,A.default)(),G=F.handleMouseOver,H=F.handleMouseLeave,V=(0,C.default)(),W=(0,n.useMemo)((function(){return D&&j?[j]:N}),[N,j,D]),Y=(0,m.default)(),z=Y.addTipCategoryRef,X=Y.scrollToCategory,q=(0,n.useMemo)((function(){return{scrollToCategory:X}}),[X]);(0,n.useEffect)((function(){var e=void 0;return t&&r&&X&&(e=setTimeout((function(){return X(r)}),500)),function(){return clearTimeout(e)}}),[t,X,r]);var K=!k&&W.map((function(e,t){var r=e.id,n=e.categoryId;return o.default.createElement(I.default,{key:r,tipId:r},o.default.createElement(_.default,{ref:function(e){return z(n,e)},isLastTip:t===W.length-1},o.default.createElement(w.default,{sdataAction:E.TIPS_BADGE_EVENT_ERRORS.TIP_CARD_ERROR},o.default.createElement(y.default,{tipId:r,templateType:"card",isSecondary:t>0}))))})),J=o.default.createElement(c.Header,{leftContainer:o.default.createElement(i.default,null),rightContainer:o.default.createElement(p.default,null),style:V.header}),Q=!!L&&o.default.createElement(b.default,null),$=(k||!W.length)&&o.default.createElement(T.ContainerLoader,null);return t?o.default.createElement(h.default.Provider,{value:q},o.default.createElement(d.default,{ref:B,top:U,onMouseOver:G,onMouseLeave:H},o.default.createElement(s.default,null,o.default.createElement(u.UniversalContainerLayout,{header:J,footer:Q,styles:V.container},o.default.createElement(M.default,null),o.default.createElement(f.default,null),o.default.createElement(P.default,null),K,$,o.default.createElement(g.default,null))))):null}},3107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),o=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}var u=(0,r(2).createUseStyles)({layout:{position:"fixed",top:function(e){return e.top},right:16,zIndex:2147483647}}),i=n.default.forwardRef((function(e,t){var r=e.children,o=e.top,a=e.onMouseOver,i=e.onMouseLeave,s=u({top:o});return n.default.createElement("div",{className:s.layout,ref:t,onMouseOver:a,onMouseLeave:i},r)}));i.propTypes={children:o.default.node,top:o.default.number,onMouseOver:o.default.func,onMouseLeave:o.default.func},i.defaultProps={children:void 0,top:16,onMouseOver:function(){},onMouseLeave:function(){}},t.default=i},3108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),o=r(6),a=r(3),u=r(28),i=s(r(55));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)(i.default)||{},r=t.id,s=t.notificationBanner,c=void 0===s?{}:s,l=c.showBanner,d=void 0!==l&&l,f=c.copy,p=c.color,v=c.ctaAction,g=c.ctaCopy;return n.default.createElement(a.NotificationBanner,{show:d,copy:f,color:p,ctaAction:v,ctaCopy:g,src:"UniversalContainer",short:!0,stackAbove:!0,zIndex:3,onClose:function(){return e(u.tipsActions.resetNotificationBanner({containerId:r}))}})}},3109:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=P(o),u=r(6),i=r(3),s=P(r(4)),c=r(28),l=r(33),d=r(10),f=P(r(3110)),p=P(r(3111)),v=r(295),g=r(1929),y=r(450),m=r(3112),h=P(r(3113)),_=P(r(206)),b=r(55),S=r(57);function P(e){return e&&e.__esModule?e:{default:e}}var w=function(e,t){var r=(0,b.selectCurrentUniversalContainerId)(t());e(c.tipsActions.snoozeContainer({containerId:r})),(0,g.unmountApp)(),e((0,v.sdataTipsBadgeEvent)({event:"action",action:"snooze_page"})),e((0,y.sdataTipsContainerEvent)({event:"action",action:"snooze"}))},x=function(e){e((0,y.sdataTipsContainerEvent)({event:"action",action:"click_settings"}))};t.default=function(){var e=(0,u.useDispatch)(),t=((0,u.useSelector)(l.userSelectors.selectUser())||{}).isLoggedIn,r=(0,u.useSelector)(d.storesSelectors.selectCurrentStoreId()),y=((0,u.useSelector)(S.selectCurrentScrapedProduct)||{}).productId,b=(0,u.useSelector)(h.default),P=(0,u.useSelector)(c.tipsSelectors.selectConfiguration),E=P.links,O=void 0===E?{}:E,I=P.hasExtraSnoozeSettings,T=void 0!==I&&I,C=O.featureSettings||"https://www.joinhoney.com/settings/feature-settings",A=O.debugProduct||"https://dash.joinhoney.com/product-catalog/product?productId={PRODUCT_ID}",R=(0,o.useState)(!1),M=n(R,2),k=M[0],N=M[1],D=[{copy:s.default.getMessage("Hide_on_this_page"),key:"snooze_page",onClick:function(){e(w)}},{copy:s.default.getMessage("Snooze_for_24_hours"),key:"snooze_24",onClick:function(){e((0,m.suppressAllTips)(1)),N(!1),e((0,v.sdataTipsBadgeEvent)({event:"action",action:"snooze_24"})),(0,g.unmountApp)()}}],j=t?{copy:s.default.getMessage("Go_to_settings"),key:"go_to_settings",onClick:function(){N(!k),window.open(C)}}:{copy:s.default.getMessage("Snooze_on_all_sites"),key:"snooze_all",onClick:function(){e((0,m.suppressAllTips)(30)),N(!k),e((0,v.sdataTipsBadgeEvent)({event:"action",action:"snooze_all"})),(0,g.unmountApp)()}};return T&&D.push({copy:s.default.getMessage("Snooze_on_this_site"),key:"snooze_store",onClick:function(){e((0,m.suppressStore)(r,30)),N(!k),e((0,v.sdataTipsBadgeEvent)({event:"action",action:"snooze_store"})),(0,g.unmountApp)()}},j),b&&D.push({copy:s.default.getMessage("Debug_product"),key:"debug_product",onClick:function(){return t=A.replace("{PRODUCT_ID}",y),window.open(t,"_blank"),void e((0,v.sdataTipsBadgeEvent)({event:"action",action:"click_debug_product"}));var t},icon:a.default.createElement(i.Icon,{name:"bug",type:"stroke",color:i.Colors.grey800,style:{marginRight:"5px"}})}),a.default.createElement(o.Fragment,null,a.default.createElement(f.default,{open:k,onClick:function(){N(!k),e(x)},options:D}),a.default.createElement(p.default,{onClick:function(){e((0,_.default)())}}))}},3110:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=c(n),a=c(r(1)),u=r(3),i=r(2),s=c(r(1445));function c(e){return e&&e.__esModule?e:{default:e}}var l=(0,i.createUseStyles)({settingButton:{alignItems:"center",background:"none",border:"none",borderRadius:"3px",cursor:"pointer",display:"flex",height:"32px",justifyContent:"center",transition:"0.2s",width:"32px","&:hover":{backgroundColor:u.Colors.black03},"&:active":{backgroundColor:u.Colors.black08}}}),d=function(e){var t=e.open,r=e.onClick,a=e.options,i=l();return o.default.createElement(n.Fragment,null,o.default.createElement(u.Button,{"aria-expanded":t,"aria-label":"Honey Settings",buttonType:"unstyled",className:i.settingButton,copy:o.default.createElement(u.Icon,{color:u.Colors.grey600,name:"setting",type:"stroke"}),onClick:r}),t&&o.default.createElement(s.default,{expanded:t,classes:{main:{alignSelf:"end",whiteSpace:"nowrap",marginTop:"40px",right:"47px",width:"unset",position:"absolute",top:"0px"}},options:a}))};d.propTypes={onClick:a.default.func,options:a.default.array,open:a.default.bool},d.defaultProps={onClick:null,open:!1,options:[]},t.default=d},3111:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),o=s(r(1)),a=r(3),u=r(2),i=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,u.createUseStyles)({closeButton:{height:"32px",marginRight:"-8px",position:"initial",width:"32px"}}),l=function(e){var t=e.onClick,r=c();return n.default.createElement(a.CloseButton,{"aria-label":i.default.getMessage("Close_Honey"),className:r.closeButton,onClick:t})};l.propTypes={onClick:o.default.func},l.defaultProps={onClick:null},t.default=l},3112:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.suppressAllTipsForLoggedOut=t.suppressAllTips=t.suppressStore=void 0;var n,o=r(35),a=(n=o)&&n.__esModule?n:{default:n},u=r(122),i=r(33),s=r(1925),c=r(1924);function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}function d(e){var t=(0,s.convertDaysToExpirationDateInMs)(e);(0,a.default)().add(1,"minute").unix();return t}t.suppressStore=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return t=l(regeneratorRuntime.mark((function t(n){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return o=(0,s.getStoreKey)(e),a=d(r),t.abrupt("return",n(u.deviceActions.updateDeviceSetting({key:o,value:a})));case 5:case"end":return t.stop()}}),t,void 0)}))),function(e){return t.apply(this,arguments)}},t.suppressAllTips=function(e){return t=l(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return n=d(e),t.abrupt("return",r(u.deviceActions.updateDeviceSetting({key:c.SNOOZE_ALL_TEMPORARY,value:n})));case 4:case"end":return t.stop()}}),t,void 0)}))),function(e){return t.apply(this,arguments)};var t},t.suppressAllTipsForLoggedOut=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return e=l(regeneratorRuntime.mark((function e(r,n){var o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.userSelectors.selectUser()(n()),a=!o||!o.isLoggedIn,s=d(t),!a){e.next=7;break}return e.abrupt("return",r(u.deviceActions.updateDeviceSetting({key:c.LOGGED_OUT_SUPPRESSION_KEY,value:s})));case 7:return e.abrupt("return",r(i.userActions.updateSetting("tipsEnabled",0)));case 8:case"end":return e.stop()}}),e,void 0)}))),function(t,r){return e.apply(this,arguments)}}},3113:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),o=r(57);t.default=function(e){var t=n.userSelectors.selectUser()(e).isInternalUser,r=(0,o.selectCurrentScrapedProduct)(e);return!(!t||!r)}},3114:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=y(n),a=r(6),u=y(r(1753)),i=y(r(3115)),s=y(r(3116)),c=y(r(3117)),l=y(r(3121)),d=y(r(113)),f=r(205),p=y(f),v=y(r(1541)),g=r(132);function y(e){return e&&e.__esModule?e:{default:e}}var m=function(){var e=(0,a.useSelector)(s.default),t=(0,a.useSelector)(l.default);return o.default.createElement(o.default.Fragment,null,t&&o.default.createElement(d.default,{tipId:t,templateType:"bottomSheet"}),e&&o.default.createElement(c.default,null))};t.default=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.default),r=(0,n.useCallback)((function(){e((0,p.default)())}),[e]),s=(0,n.useCallback)((function(){t||e((0,f.resetBottomSheet)())}),[e,t]);return o.default.createElement(v.default,{sdataAction:g.TIPS_BADGE_EVENT_ERRORS.TIP_CARD_ERROR},o.default.createElement(u.default,{id:"bottom-sheet-1",open:t,onClose:r,onTransitionEnd:s},o.default.createElement(m,null)))}},3115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(11),a=r(55),u=(n=a)&&n.__esModule?n:{default:n};var i=(0,o.createSelector)(u.default,(function(e){return!!(e&&e.bottomSheet&&e.bottomSheet.isOpen)}));t.default=i},3116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(11),a=r(55),u=(n=a)&&n.__esModule?n:{default:n};var i=(0,o.createSelector)(u.default,(function(e){return!!(e&&e.feedbackForm&&e.feedbackForm.open)}));t.default=i},3117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=_(n),a=r(6),u=r(3),i=_(r(4)),s=r(28),c=r(40),l=_(r(202)),d=_(r(203)),f=_(r(445)),p=_(r(204)),v=_(r(1851)),g=r(653),y=_(r(3118)),m=_(r(55)),h=_(r(205));function _(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)(c.pageSelectors.selectIsCurrentPageLaunchpad()),r=(0,a.useSelector)(m.default),_=r.id,b=r.feedbackForm,S=void 0===b?{}:b,P=S.feedbackComment,w=S.feedbackOption,x=S.feedbackStatus,E=S.feedbackValidation,O=(0,n.useCallback)((function(t){e(s.tipsActions.setFeedbackFormComment({containerId:_,feedbackComment:t})),e(s.tipsActions.setFeedbackFormStatus({containerId:_,feedbackStatus:""}))}),[e,_]),I=(0,n.useCallback)((function(t){e(s.tipsActions.setFeedbackFormOption({containerId:_,feedbackOption:t})),e(s.tipsActions.setFeedbackFormStatus({containerId:_,feedbackStatus:""}))}),[e,_]),T=(0,n.useCallback)((function(){e(y.default)}),[e]),C=(0,n.useCallback)((function(){e((0,h.default)())}),[e]),A=g.BUTTON_COPY_STATUS[x]||i.default.getMessage("Send"),R=g.BUTTON_STATUS[x]||"",M=(0,v.default)(t).map((function(e){var t=e.value,r=e.copy;return o.default.createElement(u.RadioButton,{key:"".concat("radio-",t),value:t,copy:r})})),k="failed"===x,N=o.default.createElement(d.default,{onClose:C,closeButtonCopy:i.default.getMessage("Close"),title:i.default.getMessage("What_are_your_thoughts_Q")}),D=o.default.createElement(f.default,{ctaCopy:A,ctaStatus:R,ctaType:"primary",handleCta:T});return o.default.createElement(p.default,{header:N,footer:D},k&&o.default.createElement(l.default,{component:"div",variant:"body2",style:{color:u.Colors.red600,marginBottom:"8px"}},E),o.default.createElement(u.RadioGroup,{onChange:I,group:"paymentAmount",selectedValue:w},M),o.default.createElement("div",{style:{marginTop:"14px"}},o.default.createElement(u.FormInput,{size:88,id:"forminput",label:i.default.getMessage("Comments_or_suggestions"),value:P,onChange:O})))}},3118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(4)),o=r(28),a=c(r(3119)),u=c(r(55)),i=c(r(3120)),s=r(653);function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var r=(0,u.default)(t()),c=r.id,l=r.feedbackForm,d=void 0===l?{}:l,f=(0,i.default)(t()),p=(o.tipsSelectors.selectTipById(f)(t())||{}).categoryId,v=d.feedbackComment,g=d.feedbackOption;if(g||(e(o.tipsActions.setFeedbackFormValidation({containerId:c,feedbackValidation:n.default.getMessage("Please_select_an_option")})),e(o.tipsActions.setFeedbackFormStatus({containerId:c,feedbackStatus:"failed"})),0))try{e((0,a.default)({tipId:f,feedbackComment:v,feedbackOption:g})),e(o.tipsActions.setFeedbackThumbsState({containerId:c,feedbackThumbsState:s.FEEDBACK_STATE.negativeFormSubmitted,categoryId:p})),e(o.tipsActions.setFeedbackFormStatus({containerId:c,feedbackStatus:"success"}))}catch(t){e(o.tipsActions.setFeedbackFormStatus({containerId:c,feedbackStatus:"failed"}))}}},3119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(189);t.default=function(e){var t=e.tipId,r=void 0===t?"":t,o=e.feedbackOption,a=e.feedbackComment;return function(e){var t={action:"feedback_detail",event:"action",feedbackOption:o,feedbackComment:a,feedback:"thumbs_down_detail",tipId:r};e((0,n.sdataTipsTipEvent)(t))}}},3120:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(11),a=r(55),u=(n=a)&&n.__esModule?n:{default:n};var i=(0,o.createSelector)(u.default,(function(e){return e&&e.bottomSheet&&e.bottomSheet.tipId}));t.default=i},3121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(11),a=r(55),u=(n=a)&&n.__esModule?n:{default:n};var i=(0,o.createSelector)(u.default,(function(e){return e&&e.bottomSheet&&e.bottomSheet.tipId}));t.default=i},3122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),a=r(15),u=(n=a)&&n.__esModule?n:{default:n};var i={behavior:"smooth",block:"center"};t.default=function(){var e=(0,o.useRef)({tipsRefs:{}}),t=(0,o.useCallback)((function(t,r){e.current.tipsRefs[t]=r}),[]),r=(0,o.useCallback)((function(t){var r=e.current.tipsRefs[t];r?r.scrollIntoView(i):u.default.debug("honeyTips:hooks:useScrollToCategory: scrollToCategory: Category '"+t+"' not found.")}),[]);return(0,o.useMemo)((function(){return{addTipCategoryRef:t,scrollToCategory:r}}),[t,r])}},3123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(1)),a=r(2),u=i(r(740));function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.createUseStyles)({layout:function(e){var t=e.footer,r=e.isLastTip;return{marginBottom:t&&r?"1px":"8px"}}}),c=n.default.forwardRef((function(e,t){var r=e.children,o=e.isLastTip,a=(0,u.default)(),i=s({footer:a,isLastTip:o});return n.default.createElement("div",{className:i.layout,ref:t},r)}));c.propTypes={children:o.default.node,isLastTip:o.default.bool},c.defaultProps={children:void 0,isLastTip:!1},t.default=c},3124:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(0)),o=c(r(1450)),a=c(r(3125)),u=c(r(3126)),i=r(740),s=c(i);function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(){switch((0,s.default)()){case i.CONTAINER_FOOTER_TYPES.POWERED_BY:return n.default.createElement(o.default,null);case i.CONTAINER_FOOTER_TYPES.SEE_MORE_TIPS:return n.default.createElement(a.default,null);case i.CONTAINER_FOOTER_TYPES.SEE_DEAL_SUMMARY:return n.default.createElement(u.default,null);default:return null}}},3125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),o=r(6),a=s(r(1739)),u=s(r(4)),i=s(r(1930));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,o.useDispatch)();return n.default.createElement(a.default,{body:u.default.getMessage("View_More_Tips"),"aria-label":u.default.getMessage("View_More_Tips"),onClick:function(){e((0,i.default)())}})}},3126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),o=r(6),a=s(r(3127)),u=s(r(4)),i=s(r(1930));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,o.useDispatch)(),t=u.default.getMessage("See_Deal_Summary");return n.default.createElement(a.default,{text:t,"aria-label":t,icon:"right-line-16",onClick:function(){e((0,i.default)())}})}},3127:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NavigationButton=void 0;var n=i(r(0)),o=i(r(1)),a=r(2),u=i(r(51));function i(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=(0,a.createUseStyles)({root:function(e){var t=e.background,r=e.classes;return d({height:"48px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",border:"none",width:"100%",textAlign:"center",padding:"10px",flexDirection:"row"},(void 0===r?{}:r).root||{},{background:t})},text:function(e){var t=e.classes;return d({composes:"title1",paddingRight:6},(void 0===t?{}:t).text||{},{verticalAlign:"middle"})}}),v=function(e){var t,r=e.text,o=(e.classes,e.icon),a=e.children,i=c(e,["text","classes","icon","children"]),l=p(e);t=a?"string"==typeof a?n.default.createElement("div",{className:l.text}," ",a," "):a:"string"==typeof r?n.default.createElement("div",{className:l.text}," ",r," "):r;var d="string"==typeof o?n.default.createElement(u.default,{icon:o}):o;return n.default.createElement("button",s({tabIndex:0,"aria-label":"honey-tips-navigation-button",className:l.root},i),t,d)};t.NavigationButton=v,v.propTypes={text:o.default.oneOfType([o.default.string,o.default.node]),icon:o.default.oneOfType([o.default.string,o.default.node]),background:o.default.string,classes:o.default.object,children:o.default.oneOfType([o.default.string,o.default.node])},v.defaultProps={text:null,icon:null,background:"white",classes:{},children:null};var g=v;t.default=g},3128:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=f(n),a=r(6),u=f(r(23)),i=r(766),s=f(r(1492)),c=r(33),l=r(40),d=r(10);function f(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t,r=(0,a.useDispatch)(),f=(0,a.useSelector)(c.userSelectors.selectUser()),p=(0,a.useSelector)(d.storesSelectors.selectCurrentStore()),v=(0,a.useSelector)(c.userSelectors.selectUserFollowsCurrentStore),g=(0,a.useSelector)(c.userSelectors.selectSessionCountForCurrentStore),y=(0,a.useSelector)(l.pageSelectors.selectIsCurrentPageLaunchpad()),m=(0,n.useCallback)((e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f&&f.isLoggedIn||u.default.openEmailAuth("login","launchpad-ext",!0),r(c.userActions.updateUserFollow(t));case 2:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e){return t.apply(this,arguments)}),[r,f]);return y&&p&&f?o.default.createElement(i.StoreFollowUI,{inPopover:!1,store:p,storeFollowButton:o.default.createElement("div",null,o.default.createElement(s.default,{allowTooltip:!1,isFollowing:v,isHeaderButton:!0,store:{storeId:p.id,storeName:p.name},storeSessionCount:g,subSrc:"launchpad",updateUserFollow:m,user:f}))}):null}},3129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=r(6),u=f(r(1846)),i=r(316),s=r(132),c=f(r(780)),l=f(r(55)),d=f(r(408));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.badgeTop,r=e.badgeHeight,n=e.containerRef;if(e.isAutopop)return 15;var o,a,u=(o=n)&&o.current&&o.current.offsetHeight||0,i=(a={badgeTop:t,badgeHeight:r}).badgeTop+a.badgeHeight/2<window.innerHeight/2?t+r+15:t-15-u;return i-function(e){var t=e.containerTop,r=e.containerHeight;if(t<15)return t-15;var n=window.innerHeight-15,o=t+r;return o>n?o-n:0}({containerTop:i,containerHeight:u})};t.default=function(e){var t=e.containerRef,r=((0,a.useSelector)(c.default)||{}).top,f=void 0===r?s.DEFAULT_BADGE_TOP:r,v=(0,a.useSelector)(i.uiSelectors.selectBadgeHeight),g=((0,a.useSelector)(l.default)||{}).open,y=(0,d.default)(),m=(0,o.useState)(s.DEFAULT_CONTAINER_TOP),h=n(m,2),_=h[0],b=h[1],S=(0,u.default)({action:"show",sub_src:"tips_container",variant:"tips_moved"}).topMargin;return(0,o.useEffect)((function(){var e=p({badgeTop:f,badgeHeight:v,containerRef:t,isAutopop:y});b(e<S?S:e)}),[v,f,t,y,g,S]),(0,o.useMemo)((function(){return{top:_}}),[_])}},3130:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=l(o),u=r(6),i=l(r(1)),s=r(181),c=l(r(3131));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.tipId,r=e.children,i=(0,u.useDispatch)(),l=(0,o.useState)(null),d=n(l,2),f=d[0],p=d[1],v=(0,s.useInView)({threshold:.4}),g=v.ref,y=v.inView,m=(0,o.useCallback)((function(){i((0,c.default)(t))}),[i,t]);return(0,o.useEffect)((function(){if(y&&!f){var e=setTimeout(m,1e3);p(e)}else!y&&f&&p((function(e){return clearTimeout(e),null}));return function(){clearTimeout(f)}}),[m,y,f]),a.default.createElement("div",{ref:g},r)};d.propTypes={tipId:i.default.string.isRequired,children:i.default.oneOfType([i.default.node,i.default.arrayOf(i.default.node)])},d.defaultProps={children:null},t.default=d},3131:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28),o=v(r(12)),a=v(r(64)),u=r(10),i=v(r(55)),s=r(189),c=v(r(3132)),l=v(r(3133)),d=v(r(3134)),f=v(r(3135)),p=r(57);function v(e){return e&&e.__esModule?e:{default:e}}function g(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var y=function(e){return function(t,r){switch((n.tipsSelectors.selectTipById(e)(r())||{}).categoryId){case"Offers":t((0,c.default)(e));break;case"PayInFour":t((0,l.default)(e));break;case"CheckoutWithGiftCards":t((0,d.default)(e));break;case"TeamDeals":t((0,f.default)(e))}}};t.default=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=g(regeneratorRuntime.mark((function t(c,l){var d,f,v,g,m,h,_,b,S;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d=n.tipsSelectors.selectTipById(e)(l())||{},f=d.categoryId,v=u.storesSelectors.selectCurrentStore()(l())||{},g=v.storeId,m=(0,p.selectCurrentScrapedProduct)(l())||{},h=m.productId,_=(0,i.default)(l())||{},b=_.id,S=_.open,_.tipsShown[e]||!S&&!r){t.next=11;break}return t.next=8,o.default.send("honeyTips:tips",{action:a.default.INCREMENT_TIP_SHOWN,storeId:g,categoryId:f,tipId:e,productId:h},{background:!0});case 8:c(n.tipsActions.setTipShown({containerId:b,tipId:e})),c((0,s.sdataTipsTipEvent)({tipId:e,event:"show"})),c(y(e));case 11:case"end":return t.stop()}}),t,void 0)}))),function(e,r){return t.apply(this,arguments)}}},3132:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(74),o=r(662);t.default=function(e){return function(t,r){var a=n.offersSelectors.selectCurrentProductOffer(r());t((0,o.sdataOfferEvent)({tipId:e,actionType:"view",offer:a}))}}},3133:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(289)),o=r(10),a=r(28),u=s(r(758)),i=r(1481);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t,r){var s=(a.tipsSelectors.selectTipById(e)(r())||{}).categoryId,c=(o.storesSelectors.selectCurrentStore()(r())||{}).storeId,l=(0,u.default)(r()).impressionUrl;n.default.fireTracker(l),t((0,i.deprioritize)(s,c))}}},3134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(28),a=r(1481);t.default=function(e){return function(t,r){var u=n.storesSelectors.selectCurrentStoreId()(r()),i=(o.tipsSelectors.selectTipById(e)(r())||{}).categoryId;t((0,a.deprioritize)(i,u))}}},3135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(170),a=r(410),u=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){return function(t,r){var n=(0,u.default)(r()).hasActiveTeam;t((0,o.sdataTeamDealsTeamPDPInteraction)({tipId:e,actionType:"view",subSrc:n?o.TEAM_DEAL_SUB_SRC.inviteSent:o.TEAM_DEAL_SUB_SRC.preTeamCreation}))}}},3136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerLoader=void 0;var n=s(r(0)),o=r(2),a=r(3),u=r(65),i=s(r(3137));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.createUseStyles)({containerLoader:{paddingTop:"60px",backgroundColor:a.Colors.white,display:"flex",justifyContent:"center",alignItems:"center"},container:{lineHeight:"2rem"}}),l=t.ContainerLoader=function(){var e=c(),t=(0,i.default)().map((function(t){return n.default.createElement("div",{className:e.container},t)}));return n.default.createElement("div",{className:e.containerLoader},n.default.createElement(u.ContainerLoader,{loadingImage:"https://cdn.honey.io/images/tips/coiny_happy_scientist_beakers_transparent.gif",loadingPhrases:t,marqueeDelay:2e3}))};t.default=l},3137:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u||(u=o.default.loadingPhrases.map((function(e){return n.default.getMessage(e)})));return u};var n=a(r(4)),o=a(r(3138));function a(e){return e&&e.__esModule?e:{default:e}}var u=void 0},3138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={loadingPhrases:["Stand_by_for_some_serious_deal_science","Cooking_up_coupons_rewards_and_tips","Dropping_some_savings_knowledge_in_3_2_1","Channeling_our_savings_superpowers","Our_secret_formula_of_deals_rewards_and_tips_coming_up","Were_whipping_up_todays_deals_and_tips","Were_working_our_deal_finding_magic","Finding_deals_is_a_science","Todays_batch_of_store_deals_and_tips_coming_up","Coiny_is_working_some_shopping_genius","Adding_our_secret_deal_finding_ingredients","Coiny_says_an_informed_shopper_is_a_smart_shopper","Were_working_our_deal_searching_magic","Doing_what_we_do_best_whipping_up_deals_and_tips","Whos_ready_to_save_Q_Stand_by_for_deals","Shopping_wisdom_is_worth_waiting_for","Searching_every_corner_of_the_internet_for_deals","Good_deals_come_to_those_who_wait","Doing_what_we_do_best_finding_you-deals_and_tips","Warming_up_our_shopping_muscles","Were_consulting_our_crystal_ball_for deals","Making_you_a_savings_mixtape","Stick_with_us_P_Were_a_magnet_for_deals","You_find_the_cool_stuff_well_find_the_savings"]}},3139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(40),u=r(0),i=r(6),s=r(656),c=(n=s)&&n.__esModule?n:{default:n};t.default=function(){var e=(0,u.useCallback)(a.pageSelectors.selectIsCurrentPageLaunchpad(),[]),t=(0,i.useSelector)(c.default),r=(0,i.useSelector)(e),n=t||r;return(0,u.useMemo)((function(){return{header:o({},n&&{root:{height:"48px"}}),container:o({},n&&{header:{flexBasis:"48px"}})}}),[n])}},3140:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(28),a=r(0),u=r(6),i=c(r(55)),s=c(r(1931));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,u.useDispatch)(),t=(0,a.useState)(!1),r=n(t,2),c=r[0],l=r[1],d=(0,u.useSelector)(i.default)||{},f=d.id,p=d.open,v=(0,a.useCallback)((function(){c||(l(!0),e(o.tipsActions.setIsHoveringOverContainer({containerId:f,isHovering:!0})))}),[f,e,c]),g=(0,a.useCallback)((function(){l(!1),e(o.tipsActions.setIsHoveringOverContainer({containerId:f,isHovering:!1})),e((0,s.default)(1e3))}),[f,e]);return(0,a.useEffect)((function(){!p&&l(!1)}),[p]),(0,a.useMemo)((function(){return{handleMouseOver:v,handleMouseLeave:g}}),[g,v])}},3141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=l(o),u=r(3),i=r(2),s=l(r(4)),c=l(r(59));function l(e){return e&&e.__esModule?e:{default:e}}var d=(0,i.createUseStyles)({payPalRewardsInfoBanner:{alignItems:"center",backgroundColor:u.Colors.gold100,display:"flex",flexDirection:"column",marginBottom:"11px"},coinyWave:{height:"auto",marginTop:"30px",width:"150px"},bannerTitle:{color:u.Colors.black,composes:"h3",fontWeight:"500",margin:"auto 48px 12px",textAlign:"center"},bannerCopy:{color:u.Colors.grey800,composes:"body3",fontWeight:"400",margin:"auto 26px 19px"},termsAndConditionsCopy:{color:u.Colors.grey700,composes:"body1",marginBottom:"36px"},termsAndConditionsLink:{color:u.Colors.grey700,composes:"link1"}});t.default=(0,o.memo)((function(){var e=d(),t=(0,o.useState)(!0),r=n(t,2),u=r[0],i=r[1];return(0,o.useEffect)((function(){c.default.getSetting("paypal-rewards-banner-shown").then((function(e){i(e),e||c.default.updateSetting("paypal-rewards-banner-shown",!0)}))}),[]),u?null:a.default.createElement("div",{className:e.payPalRewardsInfoBanner},a.default.createElement("img",{className:e.coinyWave,src:"https://storage.googleapis.com/honey-cdn/images/paypal/coiny-paypal-wave.png",alt:""}),a.default.createElement("h3",{className:e.bannerTitle},s.default.getMessage("Honey_Gold_is_now_PayPal_Rewards")),a.default.createElement("p",{className:e.bannerCopy},s.default.getMessage("That_means_even_more_ways_to_earn_and_redeem")),a.default.createElement("p",{className:e.termsAndConditionsCopy},a.default.createElement("a",{className:e.termsAndConditionsLink,href:"https://help.joinhoney.com/article/34-what-are-paypal-rewards",target:"_blank",rel:"noreferrer"},s.default.getMessage("Learn_more")),"."," ",a.default.createElement("a",{className:e.termsAndConditionsLink,href:"https://www.paypal.com/us/webapps/mpp/ua/pp-rewards-program-tnc",target:"_blank",rel:"noreferrer"},s.default.getMessage("PayPal_Rewards_Terms"))," ",s.default.getMessage("Apply"),"."))}))},3142:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=_(o),u=r(6),i=_(r(3143)),s=r(28),c=_(r(3148)),l=_(r(3149)),d=_(r(3154)),f=_(r(3157)),p=_(r(3159)),v=_(r(1931)),g=_(r(3160)),y=_(r(3163)),m=_(r(3164)),h=_(r(1934));function _(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,u.useDispatch)(),t=(0,o.useRef)(),r=(0,o.useState)(!1),_=n(r,2),b=_[0],S=_[1],P=(0,o.useState)(!1),w=n(P,2),x=w[0],E=w[1],O=((0,u.useSelector)(h.default)||{}).categoryId;(0,o.useEffect)((function(){e(y.default)}),[e]);var I=(0,g.default)({badgeRef:t}),T=I.isDragging,C=I.initialBadgeTop,A=I.badgeBounds,R=I.badgePosition,M=I.handleDragStart,k=I.handleDragEnd,N=(0,u.useSelector)(s.tipsSelectors.selectRecentlyClosedContainer())||!1,D=(0,o.useCallback)((function(){var t=null;O&&!x&&(E(!0),t=O),e((0,p.default)({scrollToCategoryId:t}))}),[e,x,O]),j=(0,o.useCallback)((function(){b||(S(!0),T||N||(e((0,m.default)(!0)),setTimeout((function(){D()}),300)))}),[e,T,b,D,N]),L=(0,o.useCallback)((function(){S(!1),e((0,m.default)(!1)),e((0,v.default)(2e3))}),[e]),B=(0,u.useSelector)(d.default);return(0,o.useEffect)((function(){B&&e((0,f.default)())}),[e,B]),a.default.createElement(c.default,{top:C},a.default.createElement(i.default,{onStart:M,onStop:k,bounds:A,axis:"y",position:R},a.default.createElement("div",{ref:t,onMouseOver:j,onMouseLeave:L,onTouchEndCapture:D},a.default.createElement(l.default,null))))}},3143:function(e,t,r){"use strict";var n=r(3144),o=n.default,a=n.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=a},3144:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(o,u,i):o[u]=e[u]}o.default=e,r&&r.set(e,o);return o}(r(0)),a=v(r(1)),u=v(r(49)),i=v(r(3145)),s=r(1542),c=r(1932),l=r(781),d=v(r(3147)),f=v(r(1933)),p=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);u=!0);}catch(e){i=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E(this,r)}}function E(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(l,e);var t,r,n,a=x(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),T(O(t=a.call(this,e)),"onDragStart",(function(e,r){if((0,f.default)("Draggable: onDragStart: %j",r),!1===t.props.onStart(e,(0,c.createDraggableData)(O(t),r)))return!1;t.setState({dragging:!0,dragged:!0})})),T(O(t),"onDrag",(function(e,r){if(!t.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",r);var n=(0,c.createDraggableData)(O(t),r),o={x:n.x,y:n.y};if(t.props.bounds){var a=o.x,u=o.y;o.x+=t.state.slackX,o.y+=t.state.slackY;var i=b((0,c.getBoundPosition)(O(t),o.x,o.y),2),s=i[0],l=i[1];o.x=s,o.y=l,o.slackX=t.state.slackX+(a-o.x),o.slackY=t.state.slackY+(u-o.y),n.x=o.x,n.y=o.y,n.deltaX=o.x-t.state.x,n.deltaY=o.y-t.state.y}if(!1===t.props.onDrag(e,n))return!1;t.setState(o)})),T(O(t),"onDragStop",(function(e,r){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,c.createDraggableData)(O(t),r)))return!1;(0,f.default)("Draggable: onDragStop: %j",r);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var o=t.props.position,a=o.x,u=o.y;n.x=a,n.y=u}t.setState(n)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:_({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=l,n=[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.position,n=t.prevPropsPosition;return!r||n&&r.x===n.x&&r.y===n.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:n}),{x:r.x,y:r.y,prevPropsPosition:_({},r)})}}],(r=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,r;return null!==(e=null===(t=this.props)||void 0===t||null===(r=t.nodeRef)||void 0===r?void 0:r.current)&&void 0!==e?e:u.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,r=(t.axis,t.bounds,t.children),n=t.defaultPosition,a=t.defaultClassName,u=t.defaultClassNameDragging,l=t.defaultClassNameDragged,f=t.position,v=t.positionOffset,g=(t.scale,m(t,p)),h={},b=null,S=!Boolean(f)||this.state.dragging,P=f||n,w={x:(0,c.canDragX)(this)&&S?this.state.x:P.x,y:(0,c.canDragY)(this)&&S?this.state.y:P.y};this.state.isElementSVG?b=(0,s.createSVGTransform)(w,v):h=(0,s.createCSSTransform)(w,v);var x=(0,i.default)(r.props.className||"",a,(T(e={},u,this.state.dragging),T(e,l,this.state.dragged),e));return o.createElement(d.default,y({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(r),{className:x,style:_(_({},r.props.style),h),transform:b}))}}])&&P(t.prototype,r),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.Component);t.default=C,T(C,"displayName","Draggable"),T(C,"propTypes",_(_({},d.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),T(C,"defaultProps",_(_({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},3145:function(e,t,r){"use strict";function n(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(o&&(o+=" "),o+=r);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}r.r(t),r.d(t,"clsx",(function(){return o})),t.default=o},3146:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=o;var n=["Moz","Webkit","O","ms"];function o(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var o=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!o)return"";if(r in o)return"";for(var u=0;u<n.length;u++)if(a(r,n[u])in o)return n[u];return""}function a(e,t){return t?"".concat(t).concat(function(e){for(var t="",r=!0,n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):"-"===e[n]?r=!0:t+=e[n];return t}(e)):e}var u=o();t.default=u},3147:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(o,u,i):o[u]=e[u]}o.default=e,r&&r.set(e,o);return o}(r(0)),a=d(r(1)),u=d(r(49)),i=r(1542),s=r(1932),c=r(781),l=d(r(1933));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);u=!0);}catch(e){i=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={start:"touchstart",move:"touchmove",stop:"touchend"},x={start:"mousedown",move:"mousemove",stop:"mouseup"},E=x,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(c,e);var t,r,n,a=h(c);function c(){var e;g(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return P(b(e=a.call.apply(a,[this].concat(r))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),P(b(e),"mounted",!1),P(b(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var r=e.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=r.ownerDocument;if(!(e.props.disabled||!(t.target instanceof n.defaultView.Node)||e.props.handle&&!(0,i.matchesSelectorAndParentsTo)(t.target,e.props.handle,r)||e.props.cancel&&(0,i.matchesSelectorAndParentsTo)(t.target,e.props.cancel,r))){"touchstart"===t.type&&t.preventDefault();var o=(0,i.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var a=(0,s.getControlPosition)(t,o,b(e));if(null!=a){var u=a.x,c=a.y,d=(0,s.createCoreData)(b(e),u,c);(0,l.default)("DraggableCore: handleDragStart: %j",d),(0,l.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),e.setState({dragging:!0,lastX:u,lastY:c}),(0,i.addEvent)(n,E.move,e.handleDrag),(0,i.addEvent)(n,E.stop,e.handleDragStop))}}})),P(b(e),"handleDrag",(function(t){var r=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=r){var n=r.x,o=r.y;if(Array.isArray(e.props.grid)){var a=n-e.state.lastX,u=o-e.state.lastY,i=p((0,s.snapToGrid)(e.props.grid,a,u),2);if(a=i[0],u=i[1],!a&&!u)return;n=e.state.lastX+a,o=e.state.lastY+u}var c=(0,s.createCoreData)(b(e),n,o);if((0,l.default)("DraggableCore: handleDrag: %j",c),!1!==e.props.onDrag(t,c)&&!1!==e.mounted)e.setState({lastX:n,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),P(b(e),"handleDragStop",(function(t){if(e.state.dragging){var r=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=r){var n=r.x,o=r.y;if(Array.isArray(e.props.grid)){var a=n-e.state.lastX||0,u=o-e.state.lastY||0,c=p((0,s.snapToGrid)(e.props.grid,a,u),2);a=c[0],u=c[1],n=e.state.lastX+a,o=e.state.lastY+u}var d=(0,s.createCoreData)(b(e),n,o);if(!1===e.props.onStop(t,d)||!1===e.mounted)return!1;var f=e.findDOMNode();f&&e.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(f.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",d),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),f&&((0,l.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(f.ownerDocument,E.move,e.handleDrag),(0,i.removeEvent)(f.ownerDocument,E.stop,e.handleDragStop))}}})),P(b(e),"onMouseDown",(function(t){return E=x,e.handleDragStart(t)})),P(b(e),"onMouseUp",(function(t){return E=x,e.handleDragStop(t)})),P(b(e),"onTouchStart",(function(t){return E=w,e.handleDragStart(t)})),P(b(e),"onTouchEnd",(function(t){return E=w,e.handleDragStop(t)})),e}return t=c,(r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,i.addEvent)(e,w.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,i.removeEvent)(t,x.move,this.handleDrag),(0,i.removeEvent)(t,w.move,this.handleDrag),(0,i.removeEvent)(t,x.stop,this.handleDragStop),(0,i.removeEvent)(t,w.stop,this.handleDragStop),(0,i.removeEvent)(e,w.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,r;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(r=t.nodeRef)||void 0===r?void 0:r.current:u.default.findDOMNode(this)}},{key:"render",value:function(){return o.cloneElement(o.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component);t.default=O,P(O,"displayName","DraggableCore"),P(O,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),P(O,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},3148:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(1)),a=r(2),u=r(132);function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.createUseStyles)({layout:{position:"fixed",top:function(e){return e.top},right:0,zIndex:2147483647,display:"flex"}}),c=function(e){var t=e.children,r=e.top,o=s({top:r});return n.default.createElement("div",{className:o.layout},t)};c.propTypes={children:o.default.node,top:o.default.number},c.defaultProps={children:void 0,top:u.DEFAULT_BADGE_TOP},t.default=c},3149:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=g(o),u=r(2),i=r(6),s=g(r(3150)),c=g(r(3151)),l=g(r(1934)),d=g(r(55)),f=r(295),p=g(r(3152)),v=g(r(3153));function g(e){return e&&e.__esModule?e:{default:e}}var y=(0,u.createUseStyles)({"@keyframes pulsing":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.5)"},"100%":{transform:"scale(1)"}},"@keyframes shake":{"0%":{transform:"translate(0, 1px)"},"10%":{transform:"translate(0, -2px)"},"20%":{transform:"translate(0, 3px)"},"30%":{transform:"translate(0, -2px)"},"40%":{transform:"translate(0, 1px)"},"50%":{transform:"translate(0, -2px)"},"60%":{transform:"translate(0, 1px)"},"70%":{transform:"translate(0, -1px)"},"80%":{transform:"translate(0, 1px)"},"90%":{transform:"translate(0, -2px)"},"100%":{transform:"translate(0, 2px)"}},root:{display:"flex",cursor:"move"},teaserAnimateIn:function(e){return{right:"1px",marginRight:e.animateTeaserIn?"0":"-200px",transition:"margin-right 800ms cubic-bezier(0.4, 0, 0.2, 1)",textAlign:"left"}},logoAnimation:function(e){var t=e.hasNotification;return{height:e.isReady&&t?"28px":"64px",display:"flex",justifyContent:"center",flexDirection:"column",flexGrow:1,transition:"height 500ms cubic-bezier(0.4, 0, 0.2, 1), transform 300ms cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:"none"}},loadAnimation:function(e){var t=e.hasNotification,r=e.isReady;return{height:"164px",display:"flex",justifyContent:"center",alignItems:"center",animation:r?"none":"$pulsing 1s infinite",transform:r&&t?"scale(66.65%)":"scale(100%)",transition:"transform 500ms cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:"none"}},shake:function(e){var t=e.doNotBump,r=e.hasBumpAnimation,n=e.hasNotification;return{animation:r&&n&&!t?"$shake 0.82s forwards":"none"}}});t.default=function(){var e=(0,i.useDispatch)(),t=(0,o.useState)(!1),r=n(t,2),u=r[0],g=r[1],m=(0,o.useState)(!1),h=n(m,2),_=h[0],b=h[1],S=(0,o.useState)(),P=n(S,2),w=P[0],x=P[1],E=(0,o.useState)(!1),O=n(E,2),I=O[0],T=O[1],C=(0,o.useState)(!1),A=n(C,2),R=A[0],M=A[1],k=(0,i.useSelector)(d.default)||{},N=k.ready,D=k.open,j=k.hasAutopopped,L=((0,i.useSelector)(l.default)||{}).text;(0,o.useEffect)((function(){var e=setTimeout((function(){return M(!0)}),0);return function(){clearTimeout(e)}}),[]),(0,o.useEffect)((function(){return D&&N||j?T(!0):N&&!w&&x(setTimeout((function(){return b(!0)}),15e3)),function(){clearTimeout(w)}}),[w,j,N,D]),(0,o.useEffect)((function(){L&&N&&e((0,f.sdataTipsBadgeEvent)({event:"teaser_show",notification:L}))}),[e,N,L]);var B=(0,o.useCallback)((function(){u||(g(!0),clearTimeout(w))}),[u,w]),U=(0,o.useCallback)((function(){g(!1)}),[g]),F={animateTeaserIn:R,hasBumpAnimation:_,hasNotification:!!L,isReady:N,doNotBump:I},G=y(F);return a.default.createElement("div",{className:G.shake},a.default.createElement("div",{className:G.teaserAnimateIn},a.default.createElement("div",{className:G.root,onMouseOver:B,onMouseLeave:U},a.default.createElement(s.default,null,a.default.createElement("div",{className:G.logoAnimation},a.default.createElement("div",{className:G.loadAnimation},a.default.createElement(v.default,{styleVars:F}))),N&&L&&a.default.createElement(p.default,{text:L})),u&&a.default.createElement(c.default,null))))}},3150:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(0)),o=r(2),a=u(r(1));function u(e){return e&&e.__esModule?e:{default:e}}var i={children:a.default.node,topLeftContainer:a.default.node,topMiddleContainer:a.default.node,topRightContainer:a.default.node},s=(0,o.createUseStyles)({root:{width:"80px",minHeight:"64px",borderRadius:"6px 0px 0px 6px",boxShadow:"0px 2px 35px rgba(0, 0, 0, 0.25);",position:"relative",background:"linear-gradient(180deg, #F26C25 0%, #CC4B06 100%);"},topRow:{position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}}),c=function(e){var t=e.children,r=e.topLeftContainer,o=e.topMiddleContainer,a=e.topRightContainer,u=s();return n.default.createElement("div",{className:u.root},n.default.createElement("div",{className:u.topRow},n.default.createElement("div",null,r),n.default.createElement("div",null,o),n.default.createElement("div",null,a)),t)};c.propTypes=i,c.defaultProps={children:null,topLeftContainer:null,topMiddleContainer:null,topRightContainer:null};var l=c;t.default=l},3151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(0)),o=r(2),a=s(r(1)),u=r(3),i=s(r(1444));function s(e){return e&&e.__esModule?e:{default:e}}var c={onMouseDown:a.default.func,onMouseUp:a.default.func},l={root:{display:"flex"},container:{width:"27px",height:"100%",backgroundColor:u.Colors.main600,display:"flex",alignItems:"center",justifyContent:"center"}},d=(0,o.createUseStyles)(l),f=function(e){var t=e.onMouseDown,r=e.onMouseUp,o=d();return n.default.createElement("div",{className:o.root,onMouseDown:t,onMouseUp:r,role:"button",tabIndex:"0"},n.default.createElement("div",{className:o.container},n.default.createElement(i.default,{color:u.Colors.white})))};f.propTypes=c,f.defaultProps={onMouseDown:function(){},onMouseUp:function(){}};var p=f;t.default=p},3152:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=r(2),a=i(r(1)),u=r(3);function i(e){return e&&e.__esModule?e:{default:e}}var s={text:a.default.string},c={"@keyframes fade":{"0%":{opacity:0},"100%":{opacity:1}},bottomText:{composes:"price2",textAlign:"center",padding:"8px 2px",color:u.Colors.white,animation:"$fade 1s forwards"}},l=(0,o.createUseStyles)(c),d=function(e){var t=e.text,r=l();return n.default.createElement("div",{className:r.bottomText},t)};d.propTypes=s,d.defaultProps={text:null},t.default=d},3153:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(1)),a=r(2),u=r(3);function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.createUseStyles)({root:function(e){var t=e.hasNotification;return{paddingTop:e.isReady&&t?"8px":"0px",transition:"paddingTop 500ms cubic-bezier(0.4, 0, 0.2, 1)"}}}),c=function(e){var t=e.styleVars,r=s(t);return n.default.createElement("div",{className:r.root},n.default.createElement(u.Logo,{clickable:!1,color:u.Colors.white,size:30,h:!0}))};c.propTypes={styleVars:o.default.shape({isReady:o.default.bool,hasNotification:o.default.bool})},c.defaultProps={styleVars:{}},t.default=c},3154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LAUNCHPAD_AUTOPOP_TIPS_BLACKLIST=void 0;var n=r(11),o=S(r(440)),a=S(r(15)),u=r(122),i=r(68),s=r(245),c=r(762),l=r(74),d=r(40),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(3155)),p=r(316),v=r(110),g=r(28),y=S(r(55)),m=S(r(188)),h=r(57),_=S(r(1440)),b=S(r(1540));function S(e){return e&&e.__esModule?e:{default:e}}var P=t.LAUNCHPAD_AUTOPOP_TIPS_BLACKLIST=new Set(["savings-verylow","savings-low","savings-medium","savings-high","savings-veryhigh"]),w="honeyTips:canAutoPop: ",x=(0,n.createSelector)((function(e){return u.deviceSelectors.selectDeviceSetting("autopopsDisabled")(e)}),(function(e){return s.featureSelectors.selectFeatureByName("tips_is_autopop_suppression_respected")(e)}),(function(e,t){return e&&t})),E=(0,n.createSelector)((function(e){return x(e)}),(function(e){return(0,b.default)(e)}),(function(e){return c.launchpadSelectors.selectAutoPopCountForCurrentStore(e)}),(function(e,t,r){var n=(t||{}).id;return!e&&(!P.has(n)&&!r)})),O=(0,n.createSelector)((function(e){return i.experimentSelectors.selectIsStandaloneOffer(e)}),(function(e){return l.offersSelectors.selectCurrentProductOffer(e)}),(function(e,t){return!(!e||!t)})),I=(0,n.createSelector)((function(e){return(0,m.default)(e)}),(function(e){return g.tipsSelectors.selectAutopopDisabledCategoriesForCurrentStore(e)}),(function(e,t){return(e||[]).filter((function(e){var r=e.categoryId;return!(t||[]).includes(r)})).some((function(e){return e.score>=10}))})),T=(0,n.createSelector)((function(e){return(0,y.default)(e)}),(function(e){return!!(e||{}).open})),C=function(e){if(function(e){var t=(0,b.default)(e)||{};if((0,_.default)(t)){var r=i.experimentSelectors.selectVariant(v.CURRENT_TIPS_CONTAINER_EXPERIMENT)(e);if(r===v.TIPS_CONTAINER_VARIANTS.CCP_POP_ALL)return!0;if(r===v.TIPS_CONTAINER_VARIANTS.CCP_POP_ALL_NON_TOP_PICK&&"CCP-Non-Top-Pick-Organic"===t.id)return!0}return!1}(e))return!0;var t=((0,b.default)(e)||{}).categoryId,r=(o.default.categories[t]||{}).maxAutopopPerStoreThreshold,n=void 0===r?Number.POSITIVE_INFINITY:r;return(f.selectPdpAutopopCountForCurrentStoreByCategoryId(t)(e)||0)<n},A=(0,n.createSelector)((function(e){return f.selectPdpAutopopCountForCurrentProduct()(e)}),(function(e){return e<1})),R=(0,n.createSelector)((function(e){return O(e)}),(function(e){return T(e)}),(function(e){return I(e)}),(function(e){return C(e)}),(function(e){return function(e){if(!(0,h.selectCurrentScrapedProduct)(e))return!1;var t=(0,b.default)(e)||{},r=t.categoryId,n=t.maxAutopopOverrideThreshhold;return f.selectPdpAutopopCountForCurrentProductByCategoryId(r)(e)<n}(e)}),(function(e){return A(e)}),(function(e,t,r,n,o,u){return e?(a.default.debug(w+"don't show autopop because standalone offer autopop is open"),!1):t?(a.default.debug(w+"don't show autopop because container already open"),!1):r?n?o?(a.default.debug(w+"show autopop because allow by tip configuration"),!0):u?(a.default.debug(w+"show autopop"),!0):(a.default.debug(w+"don't show autopop because above max autopop per product threshold"),!1):(a.default.debug(w+"don't show autopop because above max autopop threshold for store and tip category"),!1):(a.default.debug(w+"don't show autopop because no tips have min autopop score"),!1)})),M=(0,n.createSelector)((function(e){return(0,y.default)(e)}),(function(e){return d.pageSelectors.selectIsCurrentPageLaunchpad()(e)}),(function(e){return p.uiSelectors.selectHasPreOpened(e)}),(function(e){return e}),(function(e,t,r,n){var o=e||{},u=o.ready,i=o.hasClosed;return u?i?(a.default.debug(w+"don't show autopop because container was closed"),!1):!r&&(t?E(n):R(n)):(a.default.debug(w+"don't show autopop because container isn't ready"),!1)}));t.default=M},3155:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectPdpAutopopCountForCurrentProductByCategoryId=t.selectPdpAutopopCountForCurrentProduct=t.selectPdpAutopopCountForCurrentStoreByCategoryId=t.selectPdpAutopopCountForCurrentStore=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(11),a=r(3156),u=r(57),i=r(10),s=function(e){return e&&e.tips&&e.tips.pdpAutopopCounts||{}},c=(0,o.createSelector)((function(e){return i.storesSelectors.selectCurrentStoreId()(e)}),(function(e){return(0,u.selectCurrentScrapedProduct)(e)||{}}),(function(e,t){return{storeId:e,parentId:t.parentId}}));t.selectPdpAutopopCountForCurrentStore=function(){return function(e){var t=(0,a.getStoreKey)(c(e));return(s(e).countPerStore||{})[t]||0}},t.selectPdpAutopopCountForCurrentStoreByCategoryId=function(e){return function(t){var r=(0,a.getStoreCategoryKey)(n({},c(t),{categoryId:e}));return(s(t).countPerStoreAndCategory||{})[r]||0}},t.selectPdpAutopopCountForCurrentProduct=function(){return function(e){var t=(0,a.getProductKey)(c(e));return(s(e).countPerProduct||{})[t]||0}},t.selectPdpAutopopCountForCurrentProductByCategoryId=function(e){return function(t){var r=(0,a.getProductCategoryKey)(n({},c(t),{categoryId:e}));return(s(t).countPerProductAndCategory||{})[r]||0}}},3156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.getStoreKey=function(e){return""+e.storeId},o=(t.getStoreCategoryKey=function(e){var t=e.storeId,r=e.categoryId;return n({storeId:t})+":"+r},t.getProductKey=function(e){return e.storeId+":"+e.parentId});t.getProductCategoryKey=function(e){var t=e.storeId,r=e.parentId,n=e.categoryId;return o({storeId:t,parentId:r})+":"+n}},3157:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(762),a=r(40),u=r(28),i=r(295),s=l(r(55)),c=l(r(3158));function l(e){return e&&e.__esModule?e:{default:e}}var d,f,p=function(e,t){var r=(0,s.default)(t()).id;return e(u.tipsActions.openContainer({containerId:r,isAutopop:!0}))},v=function(e){return function(t,r){var n=(0,s.default)(r()).id;t(u.tipsActions.updateShowTopTipOnly({containerId:n,showTopTipOnly:e}))}},g=(0,n.createAsyncThunk)("tips/initContainer",(d=regeneratorRuntime.mark((function e(t,r){var n,u=r.dispatch,s=r.getState;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.pageSelectors.selectIsCurrentPageLaunchpad()(s()))||u(v(!0)),u(p),u((0,i.sdataTipsBadgeEvent)({event:"implicit_hover"})),e.abrupt("return",u(n?o.launchpadActions.incrementAutoPopCount():(0,c.default)()));case 5:case"end":return e.stop()}}),e,void 0)})),f=function(){var e=d.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t){return f.apply(this,arguments)}));t.default=g},3158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(64)),o=l(r(1540)),a=l(r(12)),u=r(412),i=r(10),s=l(r(1480)),c=r(57);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return e=regeneratorRuntime.mark((function e(t,r){var l,d,f,p,v,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=u.sessionSelectors.selectCurrentGlobalSessionId()(r()),d=i.storesSelectors.selectCurrentStoreId()(r()),f=(0,c.selectCurrentScrapedProduct)(r())||{},p=f.parentId,v=(0,o.default)(r())||{},g=v.categoryId,y={action:n.default.TIPS_INCREMENT_PDP_AUTOPOP_COUNT,sessionId:l,storeId:d,parentId:p,categoryId:g},e.next=7,a.default.send("honeyTips:tips",y,{background:!0});case 7:return e.abrupt("return",t((0,s.default)()));case 8:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e,r){return t.apply(this,arguments)};var e,t}},3159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(15)),o=i(r(25)),a=r(28),u=i(r(55));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scrollToCategoryId;return function(e,r){if(o.default._visible)n.default.debug("honeyTips:openCurrentContainer: Not opening container because UI already visible.");else{var i=(0,u.default)(r())||{},s=i.id;i.open||e(a.tipsActions.openContainer({containerId:s,scrollToCategoryId:t}))}}}},3160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(0),a=r(6),u=f(r(3161)),i=f(r(3162)),s=r(132),c=f(r(780)),l=f(r(206)),d=r(316);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){return{top:-Math.max(0,e-15),bottom:Math.max(0,window.innerHeight-e-t-15)}},v=function(e,t){return e+t>window.innerHeight-15||e<0};t.default=function(e){var t,r=e.badgeRef,f=(0,a.useDispatch)(),g=(0,o.useState)(!1),y=n(g,2),m=y[0],h=y[1],_=(0,o.useState)({}),b=n(_,2),S=b[0],P=b[1],w=(0,o.useState)(null),x=n(w,2),E=x[0],O=x[1],I=(0,o.useState)(),T=n(I,2),C=T[0],A=T[1],R=(0,o.useState)(!0),M=n(R,2),k=M[0],N=M[1],D=(t=r)&&t.current&&t.current.offsetHeight||s.DEFAULT_BADGE_HEIGHT,j=((0,a.useSelector)(c.default)||{}).top,L=void 0===j?s.DEFAULT_BADGE_TOP:j,B=(0,o.useCallback)((function(){var e=function(e){return window.innerHeight-15-e}(D);f((0,i.default)({top:e})),O(e),P(p(e,D)),A({x:0,y:0}),setTimeout((function(){return A(void 0)}),0)}),[D,f]),U=(0,o.useCallback)((function(){v(L,D)?B():P(p(E,D))}),[D,L,E,B]);(0,o.useEffect)((function(){"number"!=typeof E&&"number"==typeof L&&(O(L),P(p(L,D)),v(L,D)&&B())}),[D,r,L,E,B]),(0,o.useEffect)((function(){var e=(0,u.default)(U,100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[U]),(0,o.useEffect)((function(){f(d.uiActions.badgeHeightUpdated(D))}),[D,f]),(0,o.useEffect)((function(){k&&v(L,D)&&f((0,i.default)({top:s.DEFAULT_BADGE_TOP})),N(!1)}),[D,L,f,k]);var F=(0,o.useCallback)((function(){A(void 0),f((0,l.default)({resetTipsShown:!1})),h(!0)}),[f]),G=(0,o.useCallback)((function(e,t){var r=t.y;h(!1);var n=E+r,o=n!==L;f((0,i.default)({top:n,sendSdata:o}))}),[L,f,E]);return{isDragging:m,initialBadgeTop:E,badgeBounds:S,badgePosition:C,handleDragStart:F,handleDragEnd:G}}},3161:function(e,t,r){var n=r(1536),o=r(186);e.exports=function(e,t,r){var a=!0,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(a="leading"in r?!!r.leading:a,u="trailing"in r?!!r.trailing:u),n(e,t,{leading:a,maxWait:t,trailing:u})}},3162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(122),u=r(10),i=r(132),s=r(295),c=r(780),l=(n=c)&&n.__esModule?n:{default:n},d=r(1928);t.default=function(e){var t,r,n=e.top,c=e.sendSdata,f=void 0!==c&&c;return t=regeneratorRuntime.mark((function e(t,r){var c,p,v,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f&&(c=(0,l.default)(r()),p=o({},c,{top:n}),t((0,s.sdataTipsBadgeEvent)({event:"action",action:"move",badgeLocationNew:p}))),v=u.storesSelectors.selectCurrentStoreId()(r()),g=(0,d.shouldUseStoreBadgeSettings)(v)?i.DEVICE_SETTINGS.MOVABLE_BADGE_SETTINGS_BY_STORE:i.DEVICE_SETTINGS.MOVABLE_BADGE_SETTINGS,e.next=5,t(a.deviceActions.updateDeviceSetting({key:g,value:{orientation:"topRight",top:n}}));case 5:return e.abrupt("return",t(a.deviceActions.loadDeviceSettings()));case 6:case"end":return e.stop()}}),e,void 0)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t){return r.apply(this,arguments)}}},3163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(295);t.default=function(e){e((0,n.sdataTipsBadgeEvent)({event:"show"}))}},3164:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(28),a=r(295),u=r(55),i=(n=u)&&n.__esModule?n:{default:n};t.default=function(e){return function(t,r){var n=(0,i.default)(r()).id;t(o.tipsActions.setBadgeHoverState({containerId:n,isHovering:e})),e&&t((0,a.sdataTipsBadgeEvent)({event:"action",action:"hover"}))}}},3165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(1)),a=r(2),u=r(3);function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.createUseStyles)({resetCss:{textTransform:"none",lineHeight:"normal",fontWeight:"normal",color:u.Colors.grey900}}),c=function(e){var t=e.children,r=s();return n.default.createElement("div",{className:r.resetCss},t)};c.propTypes={children:o.default.node},c.defaultProps={children:void 0},t.default=c},3166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALID_LAUNCHPAD_TIPS=void 0;var n,o=r(11),a=r(188),u=(n=a)&&n.__esModule?n:{default:n};var i=t.VALID_LAUNCHPAD_TIPS=new Set(["StoreSavings","MerchantPromotions"]),s=(0,o.createSelector)((function(e){return(0,u.default)(e)}),(function(e){return(e||[]).map((function(e){return e.categoryId})).some((function(e){return i.has(e)}))}));t.default=s},3167:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(6),a=r(763),u=d(r(659)),i=r(10),s=d(r(55)),c=d(r(3168)),l=d(r(3169));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=((0,o.useSelector)(s.default)||{}).ready,t=(0,o.useSelector)(i.storesSelectors.selectCurrentStore()),r=(0,o.useSelector)(c.default),d=(0,o.useSelector)(l.default);(0,n.useEffect)((function(){e&&(r&&u.default.trackFeature(a.Feature.Offers,t.storeId,"LaunchpadOffers",!t.featureMonitorOffersHidden),d&&u.default.trackFeature(a.Feature.Offers,t.storeId,"ProductOffer",!t.featureMonitorOffersHidden))}),[d,r,e,t])}},3168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(11),a=r(74),u=r(1781),i=(n=u)&&n.__esModule?n:{default:n};var s=(0,o.createSelector)((function(e){return(0,i.default)(e)}),(function(e){return a.offersSelectors.selectCurrentStoreProductOffersIgnoringFeatureMonitor(e)}),(function(e,t){return!!e&&!!(t||{}).showOffers}));t.default=s},3169:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(11),a=r(74),u=r(1779),i=(n=u)&&n.__esModule?n:{default:n};var s=(0,o.createSelector)((function(e){return(0,i.default)(e)}),(function(e){return a.offersSelectors.selectCurrentProductOfferIgnoringFeatureMonitor(e)}),(function(e,t){return!!e&&!!t}));t.default=s},3170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(0)),o=r(49),a=r(38),u=r(2),i=g(r(167)),s=r(6),c=g(r(736)),l=g(r(15)),d=r(132),f=g(r(287)),p=r(1675),v=g(r(112));function g(e){return e&&e.__esModule?e:{default:e}}var y,m,h="z-index: 2147483647 !important; display:block !important;",_=function(e){var t=new MutationObserver((function(r){var n=!0,o=!1,a=void 0;try{for(var u,i=r[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){var s=u.value;"attributes"===s.type&&"style"===s.attributeName&&(t.disconnect(),e.style=h)}}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}}));return t.observe(e,{attributes:!0,attributeFilter:["style"]}),t},b=function(e){var t=(0,c.default)();e.setAttribute("id",t),l.default.debug("honeyTips:mountApp: Setting id = '"+t+"' on root element")},S=function(e,t,r,n,o){var a=new MutationObserver((function(e){var u=!0,i=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(u=(c=l.next()).done);u=!0){var d=c.value;if(d.removedNodes.length){var f=!0,p=!1,v=void 0;try{for(var g,y=d.removedNodes[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){if(g.value.contains(t)){if(a.disconnect(),n(),o>4)return;P(r,o+1)}}}catch(e){p=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(p)throw v}}}}}catch(e){i=!0,s=e}finally{try{!u&&l.return&&l.return()}finally{if(i)throw s}}}));return a.observe(e,{childList:!0,characterData:!0}),a},P=(y=regeneratorRuntime.mark((function e(t){var r,c,l,g,y,m,P,w,x,E,O,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.INLINE_STYLE_BLOCKLIST.includes(window.location.host),c=(0,i.default)(),l=c.plugins,g=document.createElement("div"),b(g),document.body.appendChild(g),y=_(g),m="closed",e.next=10,(0,f.default)(g,null,{mode:m,dontInjectFonts:!0});case 10:return P=e.sent,w=new u.SheetsRegistry,(x=(0,a.create)()).setup({plugins:l,insertionPoint:P.getElementById("honey")}),r?P.getElementById("honey").style=h:g.style=h,E=n.default.createElement(s.Provider,{store:v.default},n.default.createElement(u.JssProvider,{registry:w,jss:x},n.default.createElement(p.Provider,{value:{shadowContainer:g}},t))),e.next=18,(0,f.default)(g,E,{mode:m,dontInjectFonts:!0,feature:"honey-tips-new",surface:"badge"});case 18:return O=function(){y.disconnect(),(0,o.unmountComponentAtNode)(P)},S(document.body,g,t,O,I),e.abrupt("return",{container:P,unmountApp:O});case 21:case"end":return e.stop()}}),e,void 0)})),m=function(){var e=y.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e){return m.apply(this,arguments)});t.default=P},3171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTipsVisibilitySdata=void 0;var n,o=r(132),a=r(15),u=(n=a)&&n.__esModule?n:{default:n},i=r(68),s=r(74),c=r(40),l=r(316),d=r(57),f=r(295),p=r(405);var v=new Set(Object.values(o.HIDE_TIPS_FOR_ALL_USERS_REASONS)),g=new Set,y=function(e){return e.every((function(e){return!v.has(e)}))},m=function(){return function(e){e((0,p.sdataTipsDebugEvent)({debugEvent:"funnel",action:"not_shown"}))}},h=function(e){return function(t,r){var n=s.offersSelectors.selectCurrentProductOffer(r());if(n){var o=(0,d.selectCurrentScrapedProduct)(r()),a=JSON.stringify({product:o,offer:n});t((0,p.sdataTipsDebugEvent)({debugEvent:"offers_miss_rate",action:e,metadataJson:a}))}}};t.sendTipsVisibilitySdata=function(e){var t=e.canRunTips,r=e.hideReasons,n=void 0===r?[]:r,a=e.disabledByUserReason,s=e.suppressionReason;return function(e,r){var d="honeyTips:sendTipsVisibilitySdata: ",v=c.pageSelectors.selectCurrentPageId()(r());if(!g.has(v)){g.add(v);var _=i.experimentSelectors.selectCurrentTipsContainerVariant(r()),b=c.pageSelectors.selectIsCurrentPageLaunchpad()(r())&&y(n);if(y(n)){var S=JSON.stringify({funnelForLaunchpad:b});e((0,p.sdataTipsDebugEvent)({debugEvent:"funnel",action:"should_show_container",metadataJson:S}))}if(t)e((function(e,t){var r=c.pageSelectors.selectIsCurrentPageLaunchpad()(t()),n=l.uiSelectors.selectHasPreOpened(t());if(r&&n){var o=l.uiSelectors.selectPreOpenPathname(t());e((0,f.sdataTipsBadgeEvent)({event:"hide_collision",collisionPathname:o}))}}));else{if(function(e){return y(e)&&e.includes(o.HIDE_TIPS_REASONS.HOLDOUT_GROUP)}(n))return u.default.debug(d+"Hiding tips because user is in holdout group."),e((0,f.sdataTipsBadgeEvent)({event:"hide_holdout"})),e(h("tips_available_holdout")),void e(m());if(function(e){return y(e)&&e.includes(o.HIDE_TIPS_REASONS.DISABLED_BY_USER)}(n))return u.default.debug(d+"Tips disabled by user."),e((0,f.sdataTipsBadgeEvent)({event:a?"hide_disable:"+a:"hide_disable",group:"launch_v:"+_})),e(h("tips_available_disable")),void e(m());if(function(e){return y(e)&&e.includes(o.HIDE_TIPS_REASONS.SUPPRESSED)}(n))return u.default.debug(d+"Tips suppressed by user."),e((0,f.sdataTipsBadgeEvent)({event:s?"hide_snooze:"+s:"hide_snooze",group:"launch_v:"+_})),e(h("tips_available_suppress")),void e(m());e((0,p.sdataTipsDebugEvent)({debugEvent:"funnel",action:"should_not_show_container",metadataJson:JSON.stringify({isValidLaunchpadPage:b})}));var P=c.pageSelectors.selectIsProductPage(r()),w=i.experimentSelectors.selectIsStandaloneOffer(r());P&&w&&e((0,f.sdataTipsBadgeEvent)({event:"hide",group:"autopop_displayed"}))}}}}},3172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(131),a=r(673),u=r(169),i=r(248),s=r(230),c=h(r(1813)),l=r(57),d=h(r(15)),f=r(68),p=r(245),v=r(651),g=r(246),y=r(10),m=r(33);function h(e){return e&&e.__esModule?e:{default:e}}var _="honeyTips:loadPL2GoTipData: ";t.default=function(){return e=regeneratorRuntime.mark((function e(t,r){var h,b,S,P,w,x,E,O,I,T,C,A,R,M,k,N,D,j,L,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v.pl2goActions.reset()),h=g.genericFetcherSelectors.selectCurrentGenericPageProduct(r()),b=(0,l.selectCurrentScrapedProduct)(r()),S=y.storesSelectors.selectCurrentStore()(r()),P=(b||h||{}).lastPrice,x=(w=S||{}).currencyCode,E=w.id,e.next=8,(0,u.getHoneyCheckoutEligibilityState)();case 8:O=e.sent,t(v.pl2goActions.setCheckoutEligibilityState(O)),I=P&&P>0?(P/100).toFixed(2):void 0,T=(0,c.default)(r()),e.next=16;break;case 16:if(!I){e.next=21;break}if(!(P<3e3||P>15e4)){e.next=21;break}return(0,s.sendPL2GoSdata)(n({},T,{action:s.ACTION.USER_INELIGIBLE,subAction:P<3e3?s.SUB_ACTION.AMOUNT_TOO_LOW:s.SUB_ACTION.AMOUNT_TOO_HIGH})),d.default.debug(_+"Out of required price range"),e.abrupt("return");case 21:return e.next=23,t(p.featuresActions.loadFeatures(["honey_checkout_paypal_vcc_pdp_enabled","honey_checkout_paypal_vcc_enabled"]));case 23:if(C=p.featureSelectors.selectFeatureByName("honey_checkout_paypal_vcc_pdp_enabled")(r()),A=p.featureSelectors.selectFeatureByName("honey_checkout_paypal_vcc_enabled")(r()),![C,A].some((function(e){return!e}))){e.next=31;break}return R=s.SUB_ACTION.VCC_PDP_DISABLED,A||(R=s.SUB_ACTION.VCC_DISABLED),(0,s.sendPL2GoSdata)(n({},T,{action:s.ACTION.USER_INELIGIBLE,subAction:R})),d.default.debug(_+"Required feature flag not met"),e.abrupt("return");case 31:if(M=!1,e.prev=32,!E){e.next=41;break}return e.next=36,(0,u.getCheckoutSetting)(o.checkoutSettingKeys.devToolsEnabled);case 36:return k=e.sent,e.next=39,(0,a.getStoreConfig)(E,k);case 39:N=e.sent,M=N&&(N.checkoutTypes||[]).includes(o.CheckoutTypes.VCC)&&N.pl2goPdp;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(32),d.default.error("PL2Go PDP - store config error: "+e.t0);case 46:if(M){e.next=50;break}return(0,s.sendPL2GoSdata)(n({},T,{action:s.ACTION.USER_INELIGIBLE,subAction:s.SUB_ACTION.MERCHANT_DISABLED})),d.default.debug(_+"Required store config not met"),e.abrupt("return");case 50:return e.next=52,t(f.experimentsActions.loadVariant(i.PL2GO_EXPERIMENTS.PL2GO_RAMP));case 52:if("on"===f.experimentSelectors.selectVariant(i.PL2GO_EXPERIMENTS.PL2GO_RAMP)(r())){e.next=57;break}return(0,s.sendPL2GoSdata)(n({},T,{action:s.ACTION.USER_INELIGIBLE,subAction:s.SUB_ACTION.USER_IN_EXPERIMENT_CONTROL_GROUP})),d.default.debug(_+"User in experiment control group"),e.abrupt("return");case 57:return e.next=59,(0,i.getPL2GOPromo)({amountValue:I,currencyCode:x,timeout:3e3});case 59:if(D=e.sent,j=(0,i.validatePL2GOResponse)(D),L=j.invalidReason,j.isValid){e.next=66;break}return(0,s.sendPL2GoSdata)(n({},T,{action:s.ACTION.USER_INELIGIBLE,subAction:s.SUB_ACTION.PRESENTMENT_UNAVAILABLE})),d.default.debug(""+_+L),e.abrupt("return");case 66:B=m.userSelectors.selectUser()(r()),(0,s.sendPL2GoSdata)(n({},T,{action:s.ACTION.USER_ELIGIBLE,subAction:(0,s.getEligibleSubAction)(B,I)})),t(v.pl2goActions.setValidatedPL2GoResponse(j));case 69:case"end":return e.stop()}}),e,void 0,[[32,43]])})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e,r){return t.apply(this,arguments)};var e,t}},3173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(112)),o=r(429),a=s(r(12)),u=r(10),i=s(r(1938));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t;a.default.addListener("droplist:update",(e=regeneratorRuntime.mark((function e(t){var r,a,s,c,l,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.type,a=d.product,s=void 0===a?{}:a,"productFetcher"!==r||!0!==s.imprint){e.next=6;break}return c=u.storesSelectors.selectCurrentStoreId()(n.default.getState()),l=(0,o.formatInitialProduct)(s,c),e.next=6,n.default.dispatch((0,i.default)(l));case 6:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e){return t.apply(this,arguments)}))}},3174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(143),o=r(40),a=r(28);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=o.pageSelectors.selectMostRecentPageId()(t),u=n.catalogProductsSelectors.selectCurrentCatalogProduct(t)||{},i=o.pageSelectors.selectContainerIdByPageId(r)(t),s=a.tipsSelectors.selectContainerByContainerId(i)(t)||{},c=e.productId===u.productId,l=!!s.ready;return c&&l}}},3175:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(112)),o=r(429),a=s(r(12)),u=r(10),i=s(r(1938));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t;a.default.addListener("current:product",(e=regeneratorRuntime.mark((function e(t){var r,a,s,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.data,a=void 0===r?{}:r,s=u.storesSelectors.selectCurrentStoreId()(n.default.getState()),c=(0,o.formatInitialProductV5)(a,s),n.default.dispatch((0,i.default)(c));case 4:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e){return t.apply(this,arguments)}))}},3176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(112)),o=s(r(15)),a=s(r(12)),u=r(33),i=s(r(3177));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t;a.default.addListener("user:current:update",(e=regeneratorRuntime.mark((function e(t){var r,a,s,c,l,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.user,a=void 0===r?{}:r,s=n.default.getState(),c=u.userSelectors.selectUser()(s),l=c&&a&&c.isLoggedIn===a.isLoggedIn&&c.id===a.id,o.default.debug("honeyTips:userListener should update:"+!l+" "),e.t0=!l,!e.t0){e.next=9;break}return e.next=9,n.default.dispatch((0,i.default)());case 9:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e){return t.apply(this,arguments)}))}},3177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(1539)),o=r(40),a=r(246),u=r(57),i=r(1936),s=p(r(1941)),c=p(r(1937)),l=p(r(1939)),d=p(r(1942)),f=p(r(55));function p(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return e=regeneratorRuntime.mark((function e(t,r){var p,v,g,y,m,h,_,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.default.selectCanRunTips(r()).canRunTips){e.next=3;break}return e.abrupt("return");case 3:return p=o.pageSelectors.selectCurrentPageId()(r()),v=o.pageSelectors.selectPageTypesByPageId(p)(r())||[],g=v.some(i.isHomePageType),y=v.some(i.isProductPageType),m=[t((0,c.default)(g))],h=o.pageSelectors.selectIsGenericByPageId(p)(r()),y&&!h?(_=(0,u.selectScrapedProductByPageId)(p)(r()))&&m.push(t((0,l.default)(_))):h&&(b=a.genericFetcherSelectors.selectGenericProductByPageId(p)(r()))&&m.push(t((0,d.default)(b))),e.next=12,Promise.allSettled(m);case 12:((0,f.default)(r())||{}).ready&&t((0,s.default)());case 14:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e,r){return t.apply(this,arguments)};var e,t}},3178:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(112)),o=s(r(12)),a=r(10),u=r(429),i=s(r(3179));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t;o.default.addListener("current:product:generic",(e=regeneratorRuntime.mark((function e(t){var r,o,s,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.data,o=void 0===r?{}:r,s=a.storesSelectors.selectCurrentStoreId()(n.default.getState()),c=(0,u.formatInitialProductGeneric)(o,s),n.default.dispatch((0,i.default)(c));case 4:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e){return t.apply(this,arguments)}))}},3179:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(1539)),o=r(40),a=r(246),u=d(r(1543)),i=d(r(782)),s=d(r(1544)),c=d(r(1942)),l=d(r(1935));function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return t=regeneratorRuntime.mark((function t(r,d){var f,p,v,g,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r((0,l.default)());case 2:if(n.default.selectCanRunTips(d()).canRunTips){t.next=5;break}return t.abrupt("return");case 5:if(f=o.pageSelectors.selectMostRecentPageId()(d()),p=o.pageSelectors.selectIsGenericPage(d()),v=p&&!(0,s.default)(d()),p){t.next=10;break}return t.abrupt("return");case 10:return r(a.genericFetcherActions.productFetched({pageId:f,product:e})),v?r((0,u.default)()):(g=o.pageSelectors.selectCurrentPageId()(d()),y=o.pageSelectors.selectContainerIdByPageId(g)(d()),r(o.pageActions.setContainerId({containerId:y,pageId:f}))),r(o.pageActions.updateCurrentPage()),t.next=15,r((0,c.default)(e));case 15:r((0,i.default)());case 16:case"end":return t.stop()}}),t,void 0)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t){return r.apply(this,arguments)};var t,r}},3180:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(112)),o=u(r(12)),a=u(r(3181));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e;o.default.addListener("honeyTips:pdpCoupons:honeyProductCoupons:init",(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.default.dispatch((0,a.default)());case 1:case"end":return e.stop()}}),e,void 0)})),function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}))}},3181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(55)),o=u(r(1941)),a=r(1940);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return e=regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a.loadTopProductCoupon);case 2:((0,n.default)(r())||{}).ready&&t((0,o.default)());case 4:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e,r){return t.apply(this,arguments)};var e,t}},3182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(112)),o=u(r(12)),a=r(316);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){o.default.addListener("ui:action",(function(e,t){n.default.dispatch(a.uiActions.addAction(t))}))}},3183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(112)),o=r(429),a=s(r(12)),u=r(10),i=s(r(3184));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t;a.default.addListener("optimus:productDetected",(e=regeneratorRuntime.mark((function e(t,r){var a,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(r||{}).data,s=void 0===a?{}:a,c=u.storesSelectors.selectCurrentStoreId()(n.default.getState()),l=(0,o.formatInitialProductOptimus)(s,c),n.default.dispatch((0,i.default)(l));case 4:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e,r){return t.apply(this,arguments)}))}},3184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(15)),o=r(245),a=r(714),u=r(40),i=r(648),s=c(r(1545));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return t=regeneratorRuntime.mark((function t(r,c){var l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(o.featuresActions.loadFeatures(["tips_use_optimus_product"]));case 2:if(o.featureSelectors.selectFeatureByName("tips_use_optimus_product")(c())){t.next=6;break}return n.default.debug("honeyTips:handleOptimusProduct: Feature 'tips_use_optimus_product' is disabled. Returning early."),t.abrupt("return");case 6:if(l=u.pageSelectors.selectMostRecentPageId()(c()),r(a.optimusActions.loadProductByPageId({pageId:l,product:e})),!i.productFetcherSelectors.selectProductByPageId(l)(c())){t.next=12;break}return n.default.debug("honeyTips:handleOptimusProduct: VIM product is available, which is more likely to be accurate. Returning early."),t.abrupt("return");case 12:return t.next=14,r((0,s.default)(e));case 14:case"end":return t.stop()}}),t,void 0)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(e,t){return r.apply(this,arguments)};var t,r}},3185:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(112)),o=r(140),a=u(r(3186));function u(e){return e&&e.__esModule?e:{default:e}}var i,s,c=(i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,o.waitForUrlChange)();case 3:n.default.dispatch((0,a.default)()),e.next=0;break;case 6:case"end":return e.stop()}}),e,void 0)})),s=function(){var e=i.apply(this,arguments);return new Promise((function(t,r){return function n(o,a){try{var u=e[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(i)}("next")}))},function(){return s.apply(this,arguments)});t.default=c},3186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40),o=r(1926);t.default=function(){return function(e){e((0,o.cancelHideTipsAfterTimeout)()),e(n.pageActions.pageInit())}}},3187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(68),o=r(40),a=r(10),u=r(122),i=r(110),s=r(28),c=r(245),l=r(405);t.default=function(){return e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(o.pageActions.pageInit()),e.next=3,Promise.all([t(a.storesActions.load()),t(n.experimentsActions.loadVariant(i.CURRENT_TIPS_CONTAINER_EXPERIMENT)),t(u.deviceActions.loadScreenviewId()),t(s.tipsActions.loadSendTipsDebugEventsFlag()),t(c.featuresActions.loadFeatures(Object.values(i.DISABLE_TIPS_DEBUG_EVENT_FEATURES)))]);case 3:t((0,l.sdataTipsDebugEvent)({action:"init",debugEvent:"funnel"}));case 4:case"end":return e.stop()}}),e,void 0)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))},function(e){return t.apply(this,arguments)};var e,t}},3188:function(e,t,r){"use strict";var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=(n=y(regeneratorRuntime.mark((function e(t,r){var n,a,l,p,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.data,e.next=3,c.default.getCurrent();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:if(a=e.t0,l=a.id,n){e.next=11;break}return d.default.error("WhereAmI was handed undefined product info"),e.abrupt("return");case 11:if(p=o({store_id:l},n),(g=(0,u.default)(p))===m){e.next=21;break}return m=g,e.next=17,s.default.send("stores:action",{action:"getAtlas",data:{atlasPayload:p}},{background:!0}).catch((function(e){d.default.error("Error while getting atlas: "+(e||e.message))}));case 17:y=e.sent,i.default.dispatch((0,v.default)({whereAmIPayload:r,atlasProducts:y})),f.default.sendEvent("ext009009",{where_am_i:n,is_initial_observation:h,products:y}),h=!1;case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)}),u=g(r(3189)),i=g(r(112)),s=g(r(12)),c=g(r(19)),l=g(r(403)),d=g(r(15)),f=g(r(13)),p=g(r(102)),v=g(r(3193));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var m="",h=!0;s.default.addListener("vims:reportWhereAmI",a),s.default.addListener("pageDetected:WHERE_AM_I",(function(){var e;p.default.getFeatureFlag("ext_run_wai_vim").then((e=y(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.abrupt("return",c.default.getCurrent().then(function(){var e=y(regeneratorRuntime.mark((function e(t){var r=t.id;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.getAndRunV5Vim(r,"wai");case 2:case"end":return e.stop()}}),e,void 0)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,void 0)}))),function(t){return e.apply(this,arguments)}))}))},3189:function(e,t,r){"use strict";var n="undefined"!=typeof JSON?JSON:r(3190),o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r};e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var u,i="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},c=t.cmp&&(u=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},o={key:r,value:e[r]};return u(n,o)}}),l=[];return function e(t,u,d,f){var p=r?"\n"+new Array(f+1).join(r):"",v=r?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=s.call(t,u,d))){if("object"!=typeof d||null===d)return n.stringify(d);if(o(d)){for(var g=[],y=0;y<d.length;y++){var m=e(d,y,d[y],f+1)||n.stringify(null);g.push(p+r+m)}return"["+g.join(",")+p+"]"}if(-1!==l.indexOf(d)){if(i)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(d);var h=a(d).sort(c&&c(d));for(g=[],y=0;y<h.length;y++){var _=e(d,u=h[y],d[u],f+1);if(_){var b=n.stringify(u)+v+_;g.push(p+r+b)}}return l.splice(l.indexOf(d),1),"{"+g.join(",")+p+"}"}}({"":e},"",e,0)}},3190:function(e,t,r){"use strict";t.parse=r(3191),t.stringify=r(3192)},3191:function(e,t,r){"use strict";var n,o,a,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e){throw{name:"SyntaxError",message:e,at:n,text:a}}function s(e){return e&&e!==o&&i("Expected '"+e+"' instead of '"+o+"'"),o=a.charAt(n),n+=1,o}function c(){var e,t="";for("-"===o&&(t="-",s("-"));o>="0"&&o<="9";)t+=o,s();if("."===o)for(t+=".";s()&&o>="0"&&o<="9";)t+=o;if("e"===o||"E"===o)for(t+=o,s(),"-"!==o&&"+"!==o||(t+=o,s());o>="0"&&o<="9";)t+=o,s();return e=Number(t),isFinite(e)||i("Bad number"),e}function l(){var e,t,r,n="";if('"'===o)for(;s();){if('"'===o)return s(),n;if("\\"===o)if(s(),"u"===o){for(r=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof u[o])break;n+=u[o]}else n+=o}i("Bad string")}function d(){for(;o&&o<=" ";)s()}function f(){switch(d(),o){case"{":return function(){var e,t={};if("{"===o){if(s("{"),d(),"}"===o)return s("}"),t;for(;o;){if(e=l(),d(),s(":"),Object.prototype.hasOwnProperty.call(t,e)&&i('Duplicate key "'+e+'"'),t[e]=f(),d(),"}"===o)return s("}"),t;s(","),d()}}i("Bad object")}();case"[":return function(){var e=[];if("["===o){if(s("["),d(),"]"===o)return s("]"),e;for(;o;){if(e.push(f()),d(),"]"===o)return s("]"),e;s(","),d()}}i("Bad array")}();case'"':return l();case"-":return c();default:return o>="0"&&o<="9"?c():function(){switch(o){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;default:i("Unexpected '"+o+"'")}}()}}e.exports=function(e,t){var r;return a=e,n=0,o=" ",r=f(),d(),o&&i("Syntax error"),"function"==typeof t?function e(r,n){var o,a,u=r[n];if(u&&"object"==typeof u)for(o in f)Object.prototype.hasOwnProperty.call(u,o)&&(void 0===(a=e(u,o))?delete u[o]:u[o]=a);return t.call(r,n,u)}({"":r},""):r}},3192:function(e,t,r){"use strict";var n,o,a,u=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,(function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}e.exports=function(e,t,r){var u;if(n="",o="","number"==typeof r)for(u=0;u<r;u+=1)o+=" ";else"string"==typeof r&&(o=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,r){var u,i,c,l,d,f=n,p=r[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof a&&(p=a.call(r,t,p)),typeof p){case"string":return s(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(n+=o,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p.length,u=0;u<l;u+=1)d[u]=e(u,p)||"null";return c=0===d.length?"[]":n?"[\n"+n+d.join(",\n"+n)+"\n"+f+"]":"["+d.join(",")+"]",n=f,c}if(a&&"object"==typeof a)for(l=a.length,u=0;u<l;u+=1)"string"==typeof(i=a[u])&&(c=e(i,p))&&d.push(s(i)+(n?": ":":")+c);else for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&(c=e(i,p))&&d.push(s(i)+(n?": ":":")+c);return c=0===d.length?"{}":n?"{\n"+n+d.join(",\n"+n)+"\n"+f+"}":"{"+d.join(",")+"}",n=f,c}}("",{"":e})}},3193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(1908)),o=y(r(64)),a=r(110),u=y(r(22)),i=y(r(15)),s=y(r(12)),c=r(40),l=r(1413),d=r(10),f=r(68),p=r(648),v=r(714),g=y(r(1545));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(o,a){try{var u=t[o](a),i=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var h="honeyTips:handleWhereAmI: ",_=function(){return e=m(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(f.experimentsActions.loadVariant(a.CURRENT_TIPS_CONTAINER_EXPERIMENT));case 2:return n=f.experimentSelectors.selectVariant(a.CURRENT_TIPS_CONTAINER_EXPERIMENT)(r()),e.abrupt("return",n===a.TIPS_CONTAINER_VARIANTS.PF_ENABLED_WAI_DISABLED);case 4:case"end":return e.stop()}}),e,void 0)}))),function(t,r){return e.apply(this,arguments)};var e},b=function(e){var t=e.parentId,r=e.storeId,n=e.priceInCents;return s.default.send("honeyTips:tips",{action:o.default.TIPS_GET_BEST_MATCH_INVENTORY_PRODUCT,parentId:t,storeId:r,priceInCents:n},{background:!0})},S=function(e){return function(t,r){return p.productFetcherSelectors.selectProductByPageId(e)(r())?(i.default.debug(h+"VIM product is available, which is likely to be more accurate. No need for whereAmI handler to continue."),!0):!!v.optimusSelectors.selectProductByPageId(e)(r())&&(i.default.debug(h+"Optimus product is available, which is likely to be more accurate. No need for whereAmI handler to continue."),!0)}},P=function(e){if(!e)return null;var t=u.default.cleanPrice(e);return parseInt((100*t).toFixed(),10)};t.default=function(e){var t,r=e.whereAmIPayload,o=e.atlasProducts;return t=m(regeneratorRuntime.mark((function e(t,a){var u,s,f,p,v,y,m,w,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(_());case 2:if(!e.sent){e.next=5;break}return i.default.debug(h+"whereAmI handling is disabled."),e.abrupt("return");case 5:if(u=c.pageSelectors.selectMostRecentPageId()(a()),s=d.storesSelectors.selectCurrentStoreId()(a()),f=(0,n.default)(o||[],"score")||{},p=f.parentId){e.next=11;break}return i.default.debug(h+"whereAmI did not find a parentId. Returning early."),e.abrupt("return");case 11:if(v=r&&r.data||{},y=v.price,m=P(y),t(l.whereAmIActions.loadByPageId({pageId:u,parentId:p,whereAmIPayload:r,priceInCents:m,storeId:s})),!t(S(u))){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,b({parentId:p,storeId:s,priceInCents:m});case 18:if(e.t0=e.sent,e.t0){e.next=21;break}e.t0={};case 21:if(w=e.t0){e.next=25;break}return i.default.debug(h+"no matching inventory product found for parentId="+p+", storeId="+s+"."),e.abrupt("return");case 25:if(t(l.whereAmIActions.setBestMatchProductForPage({pageId:u,product:w})),!t(S(u))){e.next=28;break}return e.abrupt("return");case 28:x=l.whereAmISelectors.selectProductByPageId(u)(a()),t((0,g.default)(x));case 30:case"end":return e.stop()}}),e,void 0)}))),function(e,r){return t.apply(this,arguments)}}},780:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(122),a=r(10),u=r(132),i=r(1928),s={orientation:"topRight",top:u.DEFAULT_BADGE_TOP},c=(0,n.createSelector)((function(e){return o.deviceSelectors.selectDeviceSetting(u.DEVICE_SETTINGS.MOVABLE_BADGE_SETTINGS)(e)}),(function(e){return o.deviceSelectors.selectDeviceSetting(u.DEVICE_SETTINGS.MOVABLE_BADGE_SETTINGS_BY_STORE)(e)}),(function(e){return a.storesSelectors.selectCurrentStoreId()(e)}),(function(e,t,r){return(0,i.shouldUseStoreBadgeSettings)(r)?(t||{})[r]||(0,i.getDefaultBadgeSettingsByStoreId)(r):e||s}));t.default=c},781:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(28),a=r(450),u=r(55),i=(n=u)&&n.__esModule?n:{default:n};t.default=function(){return function(e,t){var r=(0,i.default)(t()),n=r.id;r.ready?(e(o.tipsActions.refreshContainer({containerId:n})),e((0,a.sdataTipsContainerEvent)({event:"refresh"}))):(e(o.tipsActions.readyContainer({containerId:n})),e((0,a.sdataTipsContainerEvent)({event:"ready"})))}}}});