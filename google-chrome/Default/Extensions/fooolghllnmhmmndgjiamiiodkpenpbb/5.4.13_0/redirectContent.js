!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="376dd55e-3305-402d-9691-2fbe52b04d3b",e._sentryDebugIdIdentifier="sentry-dbid-376dd55e-3305-402d-9691-2fbe52b04d3b")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"5.4.13"},(()=>{var e={3852:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}n.d(t,{n:()=>r})},4136:(e,t,n)=>{"use strict";n.d(t,{KV:()=>o,l$:()=>i});var r=n(3852);e=n.hmd(e);var s=n(4155);function o(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof s?s:0)}function i(e,t){return e.require(t)}},5292:(e,t,n)=>{"use strict";n.d(t,{ph:()=>d,yW:()=>l});var r=n(4136),s=n(7850);e=n.hmd(e);const o=(0,s.Rf)(),i={nowSeconds:()=>Date.now()/1e3};const a=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===a?i:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},l=i.nowSeconds.bind(i),d=c.nowSeconds.bind(c);let u;(()=>{const{performance:e}=o;if(!e||!e.now)return void(u="none");const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,a=e.timing&&e.timing.navigationStart,c="number"===typeof a?Math.abs(a+n-r):t;i||c<t?s<=c?(u="timeOrigin",e.timeOrigin):u="navigationStart":u="dateNow"})()},7850:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>o,YO:()=>i,n2:()=>s});const s="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return s}function i(e,t,n){const r=n||s,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},1584:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAhGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAANgAAAABAAAA2AAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAACWDgnrAAAACXBIWXMAACE4AAAhOAFFljFgAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAAJp0lEQVRoBe1ZDXBU1RU+9763u0l2N0CKEFohVnQGadHSUfszYwGnjgzoTA3sJgawaou0IgoIbWmZYacUW2CgGiqMFiyNoYQlhDrKULUDWGdgSlEKlVCcKQMCQzQWSbIv2d333r397t3sksTdpfmR0hneZN/Pveee851zz997Ibp2XLPANQtcs8D/0gJsQIRHInzwzTePdAzvnSTFl4ixEdLgPhJMEJecuSJBJJowfswU4uDFEyc+oEhEDITsfikQqKm7RfqM2YzR/WQYN5HrKlA8DzBJnDMS4hwJ969SyvVWZeUeKCbzrMk71RsFFK2k6mpf8LrhM6Rh/JQ4Gw0wlwOdC4CA0pxc8T5J+QfO5LrWcPgC7llvFOqNAhTYunUiGZ6NxGg0BPUVeE+FJMwi8efiN629ouLVngT5ni+nQMrqNTX+gK9wFRX4HqdEwgFDMx/TPs655PEYMpl41XSc+S0zZpz8b/hcTgEq3rr1a8Lw/A5Wv2UArZ4Lm4oF7AbFXSnui1dU7M1FmB7Pq0AwGv0GCP8kiQVwVbR56dNM+3nVSkAPC+FV1V5Z+Vo+fjkBFW/Zcqf0eN4A+GAn8Jy0+QT0Y87FWkO48r72B8O7cvHJCmpQXd1XBedvAvwQZAS1qVnpcjEdwHGlBIP4KVbF9Nez8f0UsME7dw52bftfAD8Y4FmfwSvFido7hRZpz86GIN+Yqg8qIkh+Ane6B+70bk/y7kUnGvXarrtGGmaJJuyb5QV5vZBJ70P6z1GZ/8YKCxU7Zc3eHWn5jJdww9g0dNMm5c7djm4KBKW8lxnmo+Q4fcvxqYqqKi3w0ytWKLSSSfYG2SrzqgTQp4qr+KHomV+JFxU9TdGo0VWDS/k8Gi2E0N9CGLyHdVOs64K89yhurKDAEPH4O+SwWkUrWNFL3G6/i/n9k6VlZashne2F+4FkbC+Xcj/cJgHvFdiysQiA8VD8bhiVQ4klJa6z6QLRmTSOjAIBQQ+Txxze2c98KjbSC3JeU/7KpIAZGN9hVU07OhwF8MPw1CZ/fX0ds6yJMEwBwCmnVvzR6HEuXfc0d51n2oLBGpoyBU2fnlM06lB0MlDTMIwK3SV4nG9zvgC7sJjCYe2SKQXg+yBcCvBqUd+tX+Q3ZLu1TybimxWjD0eOVICosMXT0BFITOOBwP0yFtNCEBem7OjYjlif2xauaIZiLBKJFBmFg8oMJocCeaHPpLcXLlzYEZv1QDOUX1BUt+Nlxo36kmR8LXbhrOKtLR3YVh8mg22Dr6Wto+Z6cwgyTTRm7kdkyB/GykMNtHevSZMmOemrf9uObxMTGxnnZczjIRmP7xyZTMw9PmvW+RUrnh1uFtByJlg5EA2BYGVEYaDZc4XzGsaXLF781HsKUCD6x7HS7bjXKi1dp/hz9OVcMvFQKl2lFFKEvTzg6kWqXvxFg1eBNnGitnRaCati2p8RWjtZcbECf6DMpqUK/C9X//pu00sHvaZ3dhfwSjx34RGqBhim8Y8F1Rueg+t4Y+HvNBLz7aG33lKJBk3ZhAmc/fvCVFD23fperylbW08iUT6vmFJjY/eWuLlZ+7Q02GZ58eI9fjIbjs0sb1y+qno02uhnC3y+UYlEImvmg4twRwh3FGNPPt584eT6SGSdVVl+RMvBifubmiZo66dzbnom25VjZ6Vshecdh8soCiUUMlDviO2IPRjap94XsKs6b2ZYqICLREyrHIJdubLUjeuC5GH0tNfjGQfwjgcu2EFs1z99vjt+tOgp5nitYagjc6F5jDNm2EjtpYnk6srrRn0hwxc3HD45oetA3nuAlpzXGwab2VmcbKRNRnbiKHOSv9drS0u7g08z7FRq8YnGLUerqvasXr36i0hcX1fTAG+2CLfhXND38EvzfnAIzsAOv334wo8XzV8vuTsbG2ABJ/cTosdwvgtjZBINR3TflpaR5yo04GTymBWa/j345hkRa6tFbvfJeEcrgv/FWFXVMTp0yJNOb3l4aeGCmeOxdSOUn9uuI71crHpxzpyPb62tvd4fbXhu97TQY6Hno4GfLFxYBzufwi5oLy9N2N8KjR2bSf+KWZl2oZwSUT2RDZDyYnj9+40ii4XDzeSRq1CYPoH7xBm55/Tytjbt6zlZpSa0Agbxm+CPJardQu47kWQ+S02f8/lWcC6eIK9n/dESd4waE+TugqJ6Z3G6lc6ezVRj7AAvU0S5j1QninJ5IBYftjldyq2/Nx6D41ezQYPgq55xen1zc2Zrc/O7NINIR/HlKme2kuEm9YyKMUm22vEkY7onU8ZPrypArrk+/YArh/UHd3nueQtsHrRhbjMq+zP0yKS4JlA+qD6LeIxtsqWlFcF2hx6/8caMoJ6MLvfss1MNU6lFKwB4krBaJo+zrANqHTDD27If+S2mPoHYtov+oCYWQoZ54YWUj3d+04mVlx+Hgy1HgI0sqa0tpttvt7sGWHaR2UfxHqyVD51u/KgtFNpvTa94fWYwmG7Hsy/CKAtEt+eymkRbzGQyedqyho4hf7NNoZBA0KfoO3chWF8/RjrOXIw3xNQ7rCpinX1KT6kRrMFPRFau/Hyh4fsFXGgm2mSPcFUMiXpYuhkZyIu4SGNSBk4gVU7GwDexDbyds3ZTuNN/tmjBbsWfBbdvP4WFZT2FIXDxocO1uKD5bZWhjTmAqa2VxdHoVDS8o2KV4Q3p1qEnPwA38XNWra2egKjd5PF4Rtu2nbV49Vzb9blTOXbe9NaufXLOQ+he5cWuBJfuFTZ+SINPu86lyW53IkYHuU1v6sF0C9GNAvlyxAjtx2iPvx8IBAE+qbJKfhfuwUM9qhqBH41wkjMja9Z8zkQeOIKvl7epSMkcsD65TqsU7ko9dv58qq/JEGRu9KLYo0irROqHPc1sv37UJwgdEt6uexekTCQStUzrc4mmD3dFwjvIFAY70k2kaheQdPFxdkN7OLQ7h+v0Qdxns4STLTONkRaBHIYXjVNWK/8VqUANh7XlPhvx/efKLUPuA5s2zSpl/STcp5oeeeAiLVumhrv4lqa6qk5cp0bhvgyra2Bw1/eQDqthfRP+fFVbXwFWzRxiir+i06YQFl5uHtOaLFuWK3D19NVy0l2dxeW+gGPvRzZ6t3166B3t+/8H1ldGTLWljY2O+PL4J6QtP9aWHaB//1yJXUopAMBoOg5fCYEDLaPXlXCgAfSX3zUF+mvB/q6/MjuAVN10V5OON9T5c6l/bPavGUJ1PXPDDaWnrowCMPO8efP0K6O/0Fwab7fWYwidsfp81K0Ty7shilatQeN5QDKnPIz3jv8Azi8fhMM9lQQAAAAASUVORK5CYII="},8081:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPeSURBVHgB7ZhNUuJAFMdfd5opq8Ca3GCcEwxzAvEGUiUq5UZPoJ5g5ATqCcDFFCUs1BOIJxhuMBwhlsayStI97zWQCUigk7TIgt+CkKQT+nX/3xcAK1ZkgoFl1prNDQGwgS/eiF5XAD0lpecfHHTBIpkNKDSbJRBiE2dYwrcV8egaPNYBJR9Uv3+b1aBUBrj1utsvFI5xstt4WoQMKFA9CKDmV3cbkILEBhTa7V94ODFcaWPSGmJsAEmFOU5dAduAD4QMCYJg67Va7ZmM5yaD9Ko74v6jJ08w/A3hiL/DnTYYPwPSepDPn+PED+ETwN9t+Ls7R7PGxBqgHTWfv8chmZw0O6orfH/LOzrypt2NlRBOvv75kydYESPeTdzdqQag/s7xwW1YFjDHFK6vz6fdeieh9WbrUDmsDkuIksGpv79/Eb02ZoCLZUDgOAuJNinx+kH/ZzTEjkko4PxsiSdPuEKIMXWEO5BvtYoYg/+AbRjzQCmrWRsz9tZztdKhr+EO4OTPwTYKaiCDS7CNgDDJaQNI+3gogUVQir3nvcqZ+PLlAhenBzahqNRsl+irNoC0D9aRNfr0ymWUEJyCbbgs6YM+YWwTrKLu/N3/VeXT3s4tarQDNmH8mA6cnNd25OkHuZP3F6EGdnHzv1tFjqtfAptIdflaLfcmLw+iBrPr0I4scaZUCVJCjhqVBp33Ve4ibrzIOWc6rI7Gc9bI5OBc/EAfYF8hJVwFp6IvIuWurE1b/RHk0NiwhFIK3pyaCtTMcnkWDFSR48d3SAGt3tPe3q1HE1aDiANvMLdB9ysVHVap8yJjSVqMwRWkAN/hctz2b5AQkgqt3uicYr2WhjMIbXOfx1WnzmttkH+w2RMnUWmZQu8wainfMeGoJA2m5Clp0uRx7dDoOznOi6Pno9JKQmIDaPX9/co7R32iuJ/gbeQ7KvKXDEkrTa7gSbcuCJytuHvsTV1RKwoGaN+RvDN2MXmu8DCMykfT0eS4s6LMINabF56jinL8PFGu6KETz48cxKTjxuEdlRM7Y5TJXDFnVo+k2p7Z4Nkx3hZhQDBByi7mAZMdUN1ocfbR6IBg4NCMsQ53crnbeQOxOCvDglFKzN0F5+Wlw3W9Psta7KoWIZ1J/N1yN8zwU1EP9GeXjtzoyHdTh6DjihdxAZ/ErG4O59ygozYgJ0RjuufLWtaokgWdoacUe7SwOd/X0uejgZPNN8X8RTpuHKOyI3oNW4Cr0X+lYfIPC7IhJjF/UeiSfTg33XNIVMyQ0ICxguqTHDeOQdkxVEhMxxey3m43YAlxb27cQqvVgRUrVqxYKv4B/0G5hZTQ+G0AAAAASUVORK5CYII="},4155:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,c=[],l=!1,d=-1;function u(){l&&a&&(l=!1,a.length?c=a.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=i(u);l=!0;for(var t=c.length;t;){for(a=c,c=[];++d<t;)a&&a[d].run();d=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||i(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},4070:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addBrowserActionListener:()=>a,removeBrowserActionListener:()=>c,setExtensionIcon:()=>i,setExtensionPopup:()=>o});var r=n(3150),s=n.n(r);const o=e=>{var t,n,r;if(null===(n=null===(t=globalThis.chrome)||void 0===t?void 0:t.action)||void 0===n?void 0:n.setPopup){const t=Object.assign(Object.assign({},e),{popup:null!==(r=e.popup)&&void 0!==r?r:""});return globalThis.chrome.action.setPopup(t)}return s().browserAction.setPopup(e)},i=e=>{var t,n;return(null===(n=null===(t=globalThis.chrome)||void 0===t?void 0:t.action)||void 0===n?void 0:n.setIcon)?Promise.resolve(globalThis.chrome.action.setIcon(e)):s().browserAction.setIcon(e)},a=e=>{var t,n;return(null===(n=null===(t=globalThis.chrome)||void 0===t?void 0:t.action)||void 0===n?void 0:n.onClicked.addListener)?globalThis.chrome.action.onClicked.addListener(e):s().browserAction.onClicked.addListener(e)},c=e=>{var t,n;return(null===(n=null===(t=globalThis.chrome)||void 0===t?void 0:t.action)||void 0===n?void 0:n.onClicked.removeListener)?globalThis.chrome.action.onClicked.removeListener(e):s().browserAction.onClicked.removeListener(e)}},3150:function(e,t){var n,r,s;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,r=[e],n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if("undefined"===typeof globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=undefined){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=e=>e&&"object"===typeof e&&"function"===typeof e.then,o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",a=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((s,i)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:s,reject:i},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(n[e](...r),s()):n[e](...r,o({resolve:s,reject:i},t))}))},c=(e,t,n)=>new Proxy(t,{apply:(t,r,s)=>n.call(r,e,...s)});let l=Function.call.bind(Object.prototype.hasOwnProperty);const d=(e,t={},n={})=>{let r=Object.create(null),s={has:(t,n)=>n in e||n in r,get(s,o,i){if(o in r)return r[o];if(!(o in e))return;let u=e[o];if("function"===typeof u)if("function"===typeof t[o])u=c(e,e[o],t[o]);else if(l(n,o)){let t=a(o,n[o]);u=c(e,e[o],t)}else u=u.bind(e);else if("object"===typeof u&&null!==u&&(l(t,o)||l(n,o)))u=d(u,t[o],n[o]);else{if(!l(n,"*"))return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),u;u=d(u,t[o],n["*"])}return r[o]=u,u},set:(t,n,s,o)=>(n in r?r[n]=s:e[n]=s,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},o=Object.create(e);return new Proxy(o,s)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),p=new r((e=>"function"!==typeof e?e:function(t){const n=d(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),h=new r((e=>"function"!==typeof e?e:function(t,n,r){let o,i,a=!1,c=new Promise((e=>{o=function(t){a=!0,e(t)}}));try{i=e(t,n,o)}catch(e){i=Promise.reject(e)}const l=!0!==i&&s(i);if(!0!==i&&!l&&!a)return!1;const d=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"===typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return d(l?i:c),!0})),m=({reject:n,resolve:r},s)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):s&&s.__mozWebExtensionPolyfillReject__?n(new Error(s.message)):r(s)},_=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const s=m.bind(null,{resolve:e,reject:t});r.push(s),n.sendMessage(...r)}))},g={devtools:{network:{onRequestFinished:u(p)}},runtime:{onMessage:u(h),onMessageExternal:u(h),sendMessage:_.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:_.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":f},services:{"*":f},websites:{"*":f}},d(e,g,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(s="function"===typeof n?n.apply(t,r):n)||(e.exports=s)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t,r,s,o;!function(e){e.Loading="LOADING",e.Crashed="CRASHED",e.Ready="READY",e.Closed="CLOSED",e.NeedApprove="NEED_APPROVE",e.FailedApprove="FAILED_APPROVE",e.NotCompatible="NOT_COMPATIBLE"}(e||(e={})),function(e){e.VaultSorting="vaultSorting",e.SubscriptionData="subscriptionData",e.AppState="appState",e.showOrganizationBar="showOrganizationBar",e.PasswordOptions="passwordOptions",e.AppInstalled="appInstalled",e.ApproveCode="approveCode",e.ExtensionId="extensionId",e.Key="key",e.NeverSavedSites="neverSavedSites",e.OnlineStatus="onlineStatus",e.DesktopVersion="desktopVersion",e.Features="features",e.AppTheme="appTheme",e.AppLanguage="appLanguage",e.AuthState="authState",e.IsExtensionRatingShown="IsExtensionRatingShownV2",e.ExtensionRatingSeenDate="ExtensionRatingSeenDate",e.IsExtensionRated="IsExtensionRated",e.IsToastVisible="IsToastVisible",e.Environment="environment",e.IsValidatingMasterPassword="isValidatingMasterPassword",e.MasterPasswordValidationError="masterPasswordValidationError",e.IsAddingNewAccount="isAddingNewAccount",e.IsFirstLogin="isFirstLogin",e.ShouldShowFileStorageFeatureTag="shouldShowFileStorageFeatureTag",e.ShouldShowChangeTypeFeatureTooltip="shouldShowChangeTypeFeatureTooltip",e.IdentityKey="identityKey"}(t||(t={})),function(e){e.StorageChange="onChanged",e.RuntimeMessage="onMessage"}(r||(r={})),function(e){e.IsPopUpOpen="isPopupOpen"}(s||(s={})),function(e){e.Locked="Locked",e.Unlocked="Unlocked"}(o||(o={}));const i=!1,a=e=>void 0===e,c=e=>(e=>null===e)(e)||a(e),l=e=>!c(e),d=(new Map,new Map),u=!!window.safari;const p=(e,t,n)=>{Promise.resolve(null)},h=(e,t)=>{d.set(e,t)};let m;m=n(3150);const _={get:e=>m.storage.local.get(e),set:e=>m.storage.local.set(e),remove:e=>m.storage.local.remove(e)},g=()=>{};var f,y,v,A,E,b,S;!function(e){e.Loading="LOADING",e.Crashed="CRASHED",e.Ready="READY"}(f||(f={})),function(e){e.Login="login",e.Registration="registration"}(y||(y={})),function(e){e.Save="save",e.Update="update",e.MasterValidate="master_validate"}(v||(v={})),function(e){e.Firefox="firefox",e.Opera="opera",e.Chrome="chrome",e.Edge="edge",e.Vivaldi="vivaldi",e.Brave="brave",e.Safari="safari"}(A||(A={})),function(e){e.NordPass="NordPass",e.NordPassPasswordManager="NordPass Password Manager"}(E||(E={})),function(e){e.Desktop="desktop",e.WebVault="webvault",e.Extension="extension",e.StandaloneExtension="standaloneExtension"}(b||(b={})),function(e){e.Install="vpn_install",e.Update="vpn_install_update"}(S||(S={}));var w;!function(e){e.Message="Invalid message",e.Extension="Invalid extension",e.Key="Invalid key"}(w||(w={}));const T="NO_WS_CONNECTION";var C;!function(e){e.Text="text",e.Hidden="hidden"}(C||(C={}));b.Desktop;const R="extension"===b.StandaloneExtension;b.WebVault,b.Extension;var I=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};const P=(e,t,n="")=>{const r=window.open(e,t,`noopener,noreferrer,${n}`);return r&&(r.opener=null),r};let O;O=n(3150);const x=(e={url:""})=>{((e={url:""})=>{if(e.url.startsWith("http")||e.url.startsWith("mailto"))if(O.tabs)O.tabs.create(e);else{const t=P(e.url,"_blank");null===t||void 0===t||t.focus()}else O.tabs.create({url:`/index.html#${e.url}`})})(e)};var k,N,M,D;!function(e){e.AppLogin="APP/LOGIN",e.BgAppAcknowledge="ACK",e.AppVersion="APP/VERSION",e.AppShutdown="APP/SHUTDOWN",e.OnlineStatusCheck="ONLINE/STATUS_CHECK",e.OnlineStatusGet="ONLINE/STATUS_GET",e.BrowserExport="BROWSER/EXPORT",e.OAuthLogin="OAUTH/LOGIN",e.OAuthTokenCheck="OAUTH/TOKEN_CHECK",e.OAuthGetProvider="OAUTH/GET_PROVIDER",e.BusinessUserPasswordChange="BUSINESS_AUTH/PASSWORD_CHANGE",e.GetRandomWords="PASSWORD/GET_RANDOM_WORDS",e.UserDetails="USER/DETAILS",e.UserIsAuth="USER/IS_AUTH",e.UserLogout="USER/LOGOUT",e.UserLock="USER/LOCK",e.UserServices="USER/SERVICES",e.UserTrialStart="USER/TRIAL_START",e.UserMFAGet="USER/MFA_GET",e.UserFirstSessionRemainingTime="USER/GET_FIRST_SESSION_REMAINING_TIME",e.UserGetTrustedPass="TRUSTED_PASS/ADD_TO_URL",e.UserGetStorageInfo="STORAGE/INFO",e.MasterValidate="MASTER/VALIDATE",e.MasterCreate="MASTER/CREATE",e.MasterUpdate="MASTER/UPDATE",e.MasterConfirm="MASTER/CONFIRM",e.RecoveryCreate="RECOVERY/CREATE",e.RecoveryUse="RECOVERY/USE",e.RecoveryIsViewed="RECOVERY/IS_VIEWED",e.ItemDomainSearch="ITEM/DOMAIN_SEARCH",e.ItemSearch="ITEM/SEARCH",e.ItemGet="ITEM/GET",e.ItemSave="ITEM/SAVE",e.ItemUpdate="ITEM/UPDATE",e.ItemSaveBatch="ITEM/SAVE_BATCH",e.ItemMoveBatch="ITEM/MOVE_BATCH",e.ItemRestore="ITEM/RESTORE",e.ItemTrash="ITEM/TRASH",e.ItemDelete="ITEM/DELETE",e.ItemGetReusedPasswordCount="ITEM/REUSED_PASSWORD_COUNT",e.ItemGetPasswordHistory="ITEM/PASSWORD_HISTORY",e.ItemAddFiles="FILES/ADD",e.ItemGetFiles="FILES/LIST",e.ItemDownloadFile="FILES/DOWNLOAD",e.ItemDeleteFile="FILES/DELETE",e.VaultExport="VAULT/EXPORT",e.VaultTransfer="VAULT/TRANSFER",e.VaultPasswordHealth="VAULT/PASSWORD_HEALTH",e.TrashList="TRASH/LIST",e.NeverSavedGet="NEVER_SAVE_SITE/GET",e.NeverSavedSave="NEVER_SAVE_SITE/SAVE",e.NeverSavedDelete="NEVER_SAVE_SITE/DELETE",e.ShareGet="SHARE/GET",e.ShareList="SHARE/LIST",e.ShareGetPendingShares="SHARE/GET_PENDING_SHARES",e.ShareUsersRemove="SHARE/USERS_REMOVE",e.ShareUsersAddMultipleItems="SHARE/USERS_ADD_MULTIPLE_ITEMS",e.ShareChangeOwner="SHARE/CHANGE_OWNER",e.ShareAccept="SHARE/ACCEPT",e.ShareRemove="SHARE/REMOVE",e.ShareGetSharer="SHARE/GET_SHARER",e.ShareGetEmails="SHARE/GET_EMAILS",e.ShareChangeAcl="SHARE/CHANGE_ACL",e.ShareSearch="SHARE/SEARCH",e.ShareToGroups="SHARE/ADD_TO_GROUPS",e.ShareRemoveFromGroups="SHARE/REMOVE_FROM_GROUPS",e.ShareGetTrustPublicKeys="SHARE/TRUST_PUBLIC_GET",e.ShareTrustEncrypt="SHARE/TRUST_ENCRYPT",e.ShareTrustRequestSave="SHARE/TRUST_REQUEST_SAVE",e.ShareTrustInvite="SHARE/TRUST_INVITE",e.ShareTrustGet="SHARE/TRUST_GET",e.ShareTrustRequestGet="SHARE/TRUST_REQUEST_GET",e.ShareTrustRemove="SHARE/TRUST_REMOVE",e.ShareTrustRequestRemove="SHARE/TRUST_REQUEST_REMOVE",e.ShareTrustSave="SHARE/TRUST_SAVE",e.ShareTrustDecrypt="SHARE/TRUST_DECRYPT",e.DesktopOpen="DESKTOP/OPEN",e.GetEmail="DESKTOP/GET_EMAIL",e.GetAvatar="DESKTOP/GET_AVATAR",e.GetUserUuid="DESKTOP/GET_UUID",e.OpenAutoSave="OPEN_AUTO_SAVE",e.FreeAccountBannerClose="FREE_ACCOUNT_BANNER_CLOSE",e.AddPasswordGeneratorHistoryEntry="ADD_PASSWORD_GENERATOR_HISTORY_ENTRY",e.ActionSave="ACTION/SAVE",e.ItemActionSave="ITEM_ACCESS_ACTION/SAVE",e.DuplicatePersonalInfo="DUPLICATE_PERSONAL_INFO",e.OrganizationGet="ORGANIZATION/GET",e.OrganizationGetInvites="ORGANIZATION/GET_INVITES",e.OrganizationDecline="ORGANIZATION/DECLINE",e.OrganizationAccept="ORGANIZATION/ACCEPT",e.OrganizationGetMembers="ORGANIZATION/GET_MEMBERS",e.OrganizationCreateRecovery="ORGANIZATION/CREATE_RECOVERY",e.OrganizationReportPasswordHealth="ORGANIZATION/REPORT_PASSWORD_HEALTH",e.GetPasswordPolicy="PASSWORD/GET_POLICY",e.CreateBreachReport="BREACH_REPORT/CREATE",e.BreachReportGet="BREACH_REPORT/GET",e.BreachDetails="BREACH_REPORT/DETAILS",e.BreachesResolve="BREACHES/RESOLVE",e.BreachesUnresolve="BREACHES/UNRESOLVE",e.BreachesInfo="BREACH_REPORT/INFO",e.GetBreachVerifiedEmails="BREACHES/GET_VERIFIED_EMAILS",e.SendBreachEmailVerification="BREACHES/SEND_EMAIL_VERIFICATION",e.SendBreachEmailVerificationMonitoring="BREACHES/SEND_EMAIL_VERIFICATION_MONITORING",e.VerifyBreachEmail="BREACHES/EMAIL_VERIFICATION",e.BreachesAccountsAtRisk="BREACHES/ACCOUNTS_AT_RISK",e.EnableBreachMonitoringForEmail="BREACHES/ENABLE_MONITORING",e.DisableBreachMonitoringForEmail="BREACHES/DISABLE_MONITORING",e.GetPolicyConsents="BREACHES/GET_POLICY_CONSENTS",e.AddPolicyConsent="BREACHES/ADD_POLICY_CONSENT",e.LogExtensionInfo="LOG_EXTENSION_INFO",e.LogExtensionError="LOG_EXTENSION_ERROR",e.LogExtensionErrorPlain="LOG_EXTENSION_ERROR_PLAIN",e.CrashReportingEnabled="CRASH_REPORTING_ENABLED",e.GetFeatures="GET_FEATURES",e.GetAppTheme="GET_APP_THEME",e.GetAppLocale="GET_APP_LOCALE",e.OnboardingProgressUpdate="USER/ONBOARDING_PROGRESS_UPDATE",e.OnboardingProgressGet="USER/ONBOARDING_PROGRESS_GET",e.RemoveFromFolder="REMOVE_FROM_FOLDER",e.BusinessGet2faFactors="BUSINESS_AUTH/GET_USER_FACTORS",e.BusinessEnroll2fa="BUSINESS_AUTH/ENROLL_USER_FACTOR",e.BusinessActivate2fa="BUSINESS_AUTH/ACTIVATE_USER_FACTOR",e.BusinessDelete2fa="BUSINESS_AUTH/DELETE_USER_FACTOR",e.BusinessGet2faBackupCodes="BUSINESS_AUTH/GET_BACKUP_CODES",e.BusinessReset2faBackupCodes="BUSINESS_AUTH/RESET_BACKUP_CODES",e.BusinessGetUser="BUSINESS_AUTH/GET_USER",e.ReferralEmailInvite="REFERRAL/INVITE",e.ReferralGetCode="REFERRAL/GET_CODE",e.AccountAdd="ACCOUNT/ADD",e.AccountList="ACCOUNT/LIST",e.AccountSwitch="ACCOUNT/SWITCH",e.AccountLock="ACCOUNT/LOCK",e.AccountLockAll="ACCOUNT/LOCK_ALL",e.AccountUnlink="ACCOUNT/UNLINK",e.AccountLogout="ACCOUNT/LOGOUT",e.AccountLogoutAll="ACCOUNT/LOGOUT_ALL",e.AutoLockGet="AUTO_LOCK/GET",e.AutoLockSave="AUTO_LOCK/SAVE",e.SubscribeNotifications="APP/NOTIFICATION_SUBSCRIPTION",e.CheckRedirect="OAUTH/REDIRECT_CHECK",e.EmergencyAccessGive="EMERGENCY_ACCESS/GIVE",e.EmergencyAccessGetGiven="EMERGENCY_ACCESS/GET_GIVEN",e.EmergencyAccessGetReceived="EMERGENCY_ACCESS/GET_RECEIVED",e.EmergencyAccessGetItems="EMERGENCY_ACCESS/GET_ITEMS",e.EmergencyAccessGetItem="EMERGENCY_ACCESS/GET_ITEM",e.EmergencyAccessAccept="EMERGENCY_ACCESS/ACCEPT",e.EmergencyAccessDecline="EMERGENCY_ACCESS/DECLINE",e.EmergencyAccessRemove="EMERGENCY_ACCESS/REMOVE",e.EmergencyAccessCreateVaultViewRequest="EMERGENCY_ACCESS/CREATE_VAULT_VIEW_REQUEST",e.EmergencyAccessCancelVaultViewRequest="EMERGENCY_ACCESS/CANCEL_VAULT_VIEW_REQUEST",e.EmergencyAccessGrantRequest="EMERGENCY_ACCESS/GRANT_REQUEST",e.EmergencyAccessDeclineVaultViewRequest="EMERGENCY_ACCESS/DECLINE_VAULT_VIEW_REQUEST",e.EmergencyAccessRevoke="EMERGENCY_ACCESS/REVOKE",e.InAppNotificationGet="IN_APP_NOTIFICATION/GET",e.InAppNotificationMarkAsSeen="IN_APP_NOTIFICATION/MARK_AS_SEEN",e.ClipboardSet="CLIPBOARD/SET",e.AvatarRemove="AVATAR/REMOVE",e.AvatarUpload="AVATAR/UPLOAD",e.FeatureSetList="FEATURE/SET_LIST",e.RequestAccountDelete="REQUEST/CREATE",e.AutofillCollectData="AUTOFILL/COLLECT_DATA",e.AutofillCollectDisabling="AUTOFILL/COLLECT_DISABLING",e.AutofillSaveReport="AUTOFILL/SAVE_REPORT",e.AutofillCollectFieldConflict="AUTOFILL/COLLECT_FIELD_CONFLICT",e.AutofillCollectChangeType="AUTOFILL/COLLECT_CHANGE_TYPE",e.PasskeyCredentialsCreate="PASSKEY/CREDENTIALS_CREATE",e.PasskeyCredentialsSearch="PASSKEY/CREDENTIALS_SEARCH",e.PasskeyCredentialsGet="PASSKEY/CREDENTIALS_GET"}(k||(k={})),function(e){e.ToggleAutoStart="TOGGLE_AUTOSTART",e.ApproveExtension="APPROVE_EXTENSION",e.WindowOpen="WINDOW_OPEN",e.AutoSaveGetData="AUTO_SAVE_GET_DATA",e.SetAutoSaveHeight="SET_AUTO_SAVE_HEIGHT",e.SetPasskeysHeight="SET_PASSKEYS_HEIGHT",e.UpdateAndRestartApp="UPDATE_AND_RESTART_APP",e.CheckForUpdates="CHECK_FOR_UPDATES",e.ShowInstallUpdateDialog="SHOW_INSTALL_UPDATE_DIALOG",e.CheckLinuxPermissions="CHECK_LINUX_PERMISSIONS",e.OpenInSelectedBrowser="OPEN_IN_SELECTED_BROWSER",e.OpenLogDir="OPEN_LOG_DIR",e.CloseCurrentWindow="CLOSE_CURRENT_WINDOW",e.ToggleCurrentWindowMaximizedState="TOGGLE_WINDOW_MAXIMIZED_STATE",e.MinimizeCurrentWindow="MINIMIZE_CURRENT_WINDOW",e.ReloadCurrentWindow="RELOAD_CURRENT_WINDOW",e.GetCurrentWindowId="GET_CURRENT_WINDOW_ID",e.GetVersion="GET_VERSION",e.GetBusinessQRImage="GET_BUSINESS_QR_IMAGE",e.SendEvent="SEND_EVENT",e.FocusMainWindow="FOCUS_MAIN_WINDOW",e.OpenContextMenu="OPEN_CONTEXT_MENU",e.Logout="LOGOUT",e.LogoutAll="LOGOUT_ALL",e.SwitchAccount="SWITCH_ACCOUNT",e.CloseSecondaryWindows="CloseSecondaryWindows",e.SendUserAction="SEND_USER_ACTION",e.OpenNordAccount="OPEN_NORD_ACCOUNT",e.ScheduleOnboardingNotification="SCHEDULE_ONBOARDING_NOTIFICATION",e.ClearOnboardingNotificationTimer="CLEAR_ONBOARDING_NOTIFICATION_TIMER",e.SetAppTheme="SET_APP_THEME",e.ChangeAppLanguage="CHANGE_APP_LANGUAGE",e.ExitFullScreen="EXIT_FULL_SCREEN",e.CloseMainWindow="CLOSE_APP",e.SaveMP="SAVE_MP_KEYTAR",e.DeleteMP="DELETE_MP_KEYTAR",e.PromptBiometric="PROMPT_BIOMETRIC",e.HasMPSaved="HAS_MP_SAVED",e.VaultExportWithBiometrics="VAULT_EXPORT_WITH_BIOMETRICS",e.AuthenticateWithBiometrics="AUTHENTICATE_WITH_BIOMETRICS",e.RefreshApproveCode="REFRESH_APPROVE_CODE",e.ChangeMainWindowSize="CHANGE_MAIN_WINDOW_SIZE",e.ShowApplicationMenu="SHOW_APPLICATION_MENU",e.ResetWindowStateBeforeLock="RESET_WINDOW_STATE_BEFORE_LOCK",e.CopyToClipboard="COPY_TO_CLIPBOARD",e.RestartApp="RESTART_APP",e.SendSubscriptionPlans="SEND_SUBSCRIPTION_PLANS",e.ExtensionOpened="EXTENSION_OPENED"}(N||(N={})),function(e){e.OpenWS="OpenWS",e.AutofillFillPassword="AUTOFILL_FILL_PASSWORD",e.AutofillFillGeneratedPass="AUTOFILL_FILL_GENERATED_PASS",e.AutofillFillCard="AUTOFILL_FILL_CARD",e.AutofillFillIdentity="AUTOFILL_FILL_IDENTITY",e.AutofillSetHeight="AUTOFILL_SET_HEIGHT",e.AutofillClose="AUTOFILL_CLOSE",e.AutofillCreateDialog="AUTOFILL_CREATE_DIALOG",e.AutofillGetDialogPosition="AUTOFILL_GET_DIALOG_POSITION",e.AutofillRedirectToSecure="AUTOFILL_REDIRECT_TO_SECURE",e.AutofillDisable="AUTOFILL_DISABLE",e.GetDisableField="GET_DISABLE_FIELD",e.AutofillToggleFieldNotification="AUTOFILL_TOGGLE_FIELD_NOTIFICATION",e.AutofillEnable="AUTOFILL_ENABLE",e.GetIsAutofillEnabled="GET_IS_AUTOFILL_ENABLED",e.AutofillSwitcherUpdateContextMenu="AUTOFILL_SWITCHER_UPDATE_CONTEXT_MENU",e.UserDataSave="USER_DATA_SAVE",e.CloseTab="CLOSE_TAB",e.ClosePopup="CLOSE_POPUP",e.WindowClick="WINDOW_CLICK",e.GetTabUrl="GET_TAB_URL",e.OpenInstallPage="OPEN_INSTALL_PAGE",e.OpenApp="OPEN_APP",e.ExtensionLogoutAll="EXTENSION_LOGOUT_ALL",e.ExtensionSwitchAccount="EXTENSION_SWITCH_ACCOUNT",e.ExtensionGetNextAccountUUID="EXTENSION_GET_NEXT_ACCOUNT_UUID",e.OpenMailLink="OPEN_MAIL_LINK",e.GetMLModel="GET_ML_MODEL",e.ReportProblem="REPORT_PROBLEM",e.SetReportProblemHeight="SET_REPORT_PROBLEM_HEIGHT",e.SetChangeFormBehaviourHeight="SET_CHANGE_FORM_BEHAVIOUR_HEIGHT",e.CloseReportProblemDialog="CLOSE_REPORT_PROBLEM_DIALOG",e.CloseChangeFormBehaviourDialog="CLOSE_CHANGE_TYPE_DIALOG",e.CloseAutofillSwitcherDialog="CLOSE_AUTOFILL_SWITCHER_DIALOG",e.CopyToClipboard="COPY_TO_CLIPBOARD",e.RequestHandshake="REQUEST_HANDSHAKE",e.AutofillPerformanceTracking="AUTOFILL_PERFORMANCE_TRACKING",e.OpenExtensionDeepLink="OPEN_EXTENSION_DEEP_LINK",e.SetAutofillReportStarted="SET_AUTOFILL_REPORT_STARTED",e.ChangeFormBehaviour="ChangeFormBehaviour",e.GetChangedForm="GET_CHANGED_FORMS",e.SetChangedForm="SET_CHANGED_FORMS",e.DownloadForms="DOWNLOAD_FORMS",e.DownloadLogs="DOWNLOAD_LOGS",e.OpenUrlInTab="OPEN_URL_IN_TAB",e.CredentialCreateSuccess="NORDPASS/CREDENTIAL_CREATE_SUCCESS",e.CredentialGetSuccess="NORDPASS/CREDENTIAL_GET_SUCCESS",e.DispatchPasskeysState="DISPATCH_PASSKEYS_STATE",e.GetIsNoPasskeysFoundDisabled="IS_NO_PASSKEYS_FOUND_DISABLED",e.EnablePersistentUserSession="ENABLE_PERSISTENT_USER_SESSION",e.CheckPersistentUserSessionEnabled="CHECK_PERSISTENT_USER_SESSION_ENABLED",e.DisablePersistentUserSession="DISABLE_PERSISTENT_USER_SESSION"}(M||(M={}));class L{constructor(e,t){this.sendMessage=e,this.logMessage=t,this.bindMethods()}bindMethods(){Object.getOwnPropertyNames(Object.getPrototypeOf(this)).forEach((e=>{this[e]instanceof Function&&"constructor"!==e&&(this[e]=this[e].bind(this))}))}}!function(e){e.Info="info",e.Warning="warning",e.Error="error"}(D||(D={}));var U=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};const F=(e=[],t)=>(n,r,s)=>Object.assign(Object.assign({},s),{value(...o){return U(this,void 0,void 0,(function*(){try{return yield s.value.apply(this,o)}catch(s){const i=n.constructor.name,a=t||`${i}:${String(r)}`,c=e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:o[t]})),{});throw this.logMessage(D.Error,a,s,{propertyKey:r,constructor:i,endpointArguments:c}),s}}))}});var B,G;!function(e){e.LoginFlow="login_flow",e.FeatureFetching="feature_fetching",e.MasterPasswordValidate="mp_validate",e.MasterPasswordUpdate="mp_update",e.AppLock="app_lock",e.Logout="logout",e.BreachReport="breach_report",e.PasswordHealth="password_health",e.ItemImport="item_import",e.AppUpdate="app_update",e.ItemCreate="item_create",e.ItemUpdate="item_update",e.Share="share",e.AccountSwitch="account_switch",e.AccountSwitchAdd="account_switch_add",e.PairExtension="pair_extension",e.PremiumTrialEnroll="premium_trial_enroll",e.OnboardingUpdate="onboarding_update",e.BiometricsUnlock="biometrics_unlock",e.EmergencyAccessView="emergency_access_view",e.BreachResolve="breach_resolve",e.BreachMonitoringEmailAdd="breach_monitoring_email_add",e.AutoSaveConfirm="autosave_confirm",e.AutoSaveUpdate="autosave_update",e.PasswordHistoryView="password_history_view",e.PasswordHistoryRestore="password_history_restore",e.FileStorageUpload="file_storage_upload",e.FileStorageDownload="file_storage_download",e.FileStorageDelete="file_storage_delete"}(B||(B={})),function(e){e.Intent="intent",e.Success="success",e.Error="error"}(G||(G={}));var j=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};const V=e=>(e,t,n)=>Object.assign(Object.assign({},n),{value(...e){return j(this,void 0,void 0,(function*(){const t=(e,t)=>Promise.resolve();t(0,G.Intent).catch(g);try{const r=yield n.value.apply(this,e);return t(0,G.Success).catch(g),r}catch(e){throw t(0,G.Error).catch(g),e}}))}});var H=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},K=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class W extends L{upload(e,t){return K(this,void 0,void 0,(function*(){return this.sendMessage(k.AvatarUpload,{avatar:{name:e,content:t}})}))}remove(){return K(this,void 0,void 0,(function*(){return this.sendMessage(k.AvatarRemove)}))}}H([V(k.AvatarUpload),F()],W.prototype,"upload",null),H([V(k.AvatarRemove),F()],W.prototype,"remove",null);var q,Y,z,$,X,Q,Z,J,ee,te=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ne=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class re extends L{fetchOrganization(){return this.sendMessage(k.OrganizationGet)}fetchOrganizationMembers(e){return ne(this,void 0,void 0,(function*(){const{members:t=[]}=yield this.sendMessage(k.OrganizationGetMembers,{type:k.OrganizationGetMembers,filter:e});return t}))}getInvites(){return ne(this,void 0,void 0,(function*(){const e=yield this.sendMessage(k.OrganizationGetInvites);return(null===e||void 0===e?void 0:e.organization_invites)||[]}))}createRecoveryRequestForOrgUser(e,t){return ne(this,void 0,void 0,(function*(){const{request_code:n}=yield this.sendMessage(k.OrganizationCreateRecovery,{email:e,password:t});return n}))}acceptOrganizationInvite(e){return this.sendMessage(k.OrganizationAccept,{organization_uuid:e})}declineOrganizationInvites(e){return this.sendMessage(k.OrganizationDecline,{organization_uuids:e})}reportPasswordHealth(e){return this.sendMessage(k.OrganizationReportPasswordHealth,e)}}te([V(k.OrganizationGet),F()],re.prototype,"fetchOrganization",null),te([V(k.OrganizationGetMembers),F()],re.prototype,"fetchOrganizationMembers",null),te([V(k.OrganizationGetInvites),F()],re.prototype,"getInvites",null),te([V(k.OrganizationCreateRecovery),F()],re.prototype,"createRecoveryRequestForOrgUser",null),te([V(k.OrganizationAccept),F()],re.prototype,"acceptOrganizationInvite",null),te([V(k.OrganizationDecline),F()],re.prototype,"declineOrganizationInvites",null),te([V(k.OrganizationReportPasswordHealth),F()],re.prototype,"reportPasswordHealth",null),function(e){e.Pending="pending",e.Accepted="accepted"}(q||(q={})),function(e){e.View="VIEW",e.Fill="FILL",e.ViewSecret="VIEW_SECRET",e.GetChanges="GET_CHANGES",e.Validate="VALIDATE"}(Y||(Y={})),function(e){e.Password="password",e.Note="note",e.CreditCard="credit_card",e.PersonalInfo="identity",e.Passkey="passkey",e.Unknown="unknown",e.Folder="folder",e.SharedFolder="shared_folder",e.Group="group",e.Breach="breach"}(z||(z={})),function(e){e.Password="password",e.Note="note",e.CreditCard="credit_card",e.PersonalInfo="identity",e.Passkey="passkey",e.Shared="shared",e.Trash="trash",e.Folder="folder",e.SharedFolder="shared_folder",e.EmergencyAccess="emergency_access"}($||($={})),function(e){e.TrustList="TRUST_LIST",e.RequestReceived="REQUEST_RECEIVED",e.RequestSent="REQUEST_SENT"}(X||(X={})),function(e){e.Untrusted="untrusted",e.Pending="pending",e.Trusted="trusted",e.Blocked="blocked"}(Q||(Q={})),function(e){e.Alpha="alpha",e.Recent="recent",e.AlphaFolder="alpha-folder"}(Z||(Z={})),function(e){e.Asc="asc",e.Desc="desc"}(J||(J={})),function(e){e.LastUsed="LastUsed",e.Folder="Folder"}(ee||(ee={}));var se=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},oe=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class ie extends L{fetchShares(e,t,n=!1){return oe(this,void 0,void 0,(function*(){const{shares:r=[]}=yield this.sendMessage(k.ShareGet,{uuid:e,item_type:t,with_excluded:n});return r}))}fetchShareList(){return oe(this,void 0,void 0,(function*(){const{items:e=[]}=yield this.sendMessage(k.ShareList);return e}))}accept(e){return this.sendMessage(k.ShareAccept,{items:e})}getSharer(e){return oe(this,void 0,void 0,(function*(){const{email:t}=yield this.sendMessage(k.ShareGetSharer,{uuid:e});return t}))}fetchPendingShares(){return oe(this,void 0,void 0,(function*(){const{items:e=[]}=yield this.sendMessage(k.ShareGetPendingShares);return e.map((e=>Object.assign(Object.assign({},e),{uuid:e.email,type:z.Unknown,shared:!0,share_status:q.Pending})))}))}fetchFilteredShareIds({emails:e=[],folderIds:t=[],filter:n}){return oe(this,void 0,void 0,(function*(){const{item_ids:r}=yield this.sendMessage(k.ShareSearch,{emails:e,folder_ids:t,filter:n});return r}))}fetchSharedEmails(){return oe(this,void 0,void 0,(function*(){const{emails:e=[]}=yield this.sendMessage(k.ShareGetEmails);return e}))}shareItemsToUsers(e,t,n){return oe(this,void 0,void 0,(function*(){return this.sendMessage(k.ShareUsersAddMultipleItems,{uuids:e.map((e=>e.uuid)),users:t,acl:n})}))}shareItemsToGroups(e,t,n){return oe(this,void 0,void 0,(function*(){return this.sendMessage(k.ShareToGroups,{item_uuids:e.map((e=>e.uuid)),group_uuids:t,acl:n})}))}removeFromGroups(e,t){return oe(this,void 0,void 0,(function*(){const{shares:n=[]}=yield this.sendMessage(k.ShareRemoveFromGroups,{item_uuid:e,group_uuids:t});return n}))}shareChangeAcl({email:e,uuid:t,acl:n,folderId:r}){return oe(this,void 0,void 0,(function*(){return this.sendMessage(k.ShareChangeAcl,{acl:n,uuid:t,email:e,folder_id:r})}))}removeShares(e){return this.sendMessage(k.ShareRemove,{items:e})}userRemove(e,t){return oe(this,void 0,void 0,(function*(){const{shares:n=[]}=yield this.sendMessage(k.ShareUsersRemove,{uuid:e,users:t});return n}))}changeOwner(e,t){return this.sendMessage(k.ShareChangeOwner,{email:e,uuid:t})}}se([V(k.ShareGet),F()],ie.prototype,"fetchShares",null),se([V(k.ShareList),F()],ie.prototype,"fetchShareList",null),se([V(k.ShareAccept),F()],ie.prototype,"accept",null),se([V(k.ShareGetSharer),F()],ie.prototype,"getSharer",null),se([V(k.ShareGetPendingShares),F()],ie.prototype,"fetchPendingShares",null),se([V(k.ShareSearch),F()],ie.prototype,"fetchFilteredShareIds",null),se([V(k.ShareGetEmails),F()],ie.prototype,"fetchSharedEmails",null),se([V(k.ShareUsersAddMultipleItems),F()],ie.prototype,"shareItemsToUsers",null),se([V(k.ShareToGroups),F()],ie.prototype,"shareItemsToGroups",null),se([V(k.ShareRemoveFromGroups),F()],ie.prototype,"removeFromGroups",null),se([V(k.ShareChangeAcl),F()],ie.prototype,"shareChangeAcl",null),se([V(k.ShareRemove),F()],ie.prototype,"removeShares",null),se([V(k.ShareUsersRemove),F()],ie.prototype,"userRemove",null),se([V(k.ShareChangeOwner),F()],ie.prototype,"changeOwner",null);var ae=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ce=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class le extends L{fetchItem(e,t=Y.View){var n;return ce(this,void 0,void 0,(function*(){const r=yield this.sendMessage(k.ItemGet,{reason:t,uuid:e});return(null===(n=null===r||void 0===r?void 0:r.item)||void 0===n?void 0:n.id)?r.item:null}))}fetchItems({sortBy:e,search:t,itemTypes:n}={}){var r;return ce(this,void 0,void 0,(function*(){const s=yield this.sendMessage(k.ItemSearch,{item_types:n,sort_by:e,search:t});return null!==(r=null===s||void 0===s?void 0:s.items)&&void 0!==r?r:[]}))}fetchItemsByDomain({domain:e,itemTypes:t,sortBy:n}){var r;return ce(this,void 0,void 0,(function*(){const s=yield this.sendMessage(k.ItemDomainSearch,{domain:e,item_types:t,sort_by:n});return null!==(r=null===s||void 0===s?void 0:s.items)&&void 0!==r?r:[]}))}update(e,t,n){return this.sendMessage(k.ItemUpdate,{item_type:e,timeoutMs:n,item:t})}trash(e){return this.sendMessage(k.ItemTrash,{items:e})}restore(e){return this.sendMessage(k.ItemRestore,{items:e})}moveBatch(e){return this.sendMessage(k.ItemMoveBatch,{items:e})}moveToFolder(e=[],t=""){return ce(this,void 0,void 0,(function*(){const n=e.map((({uuid:e})=>({uuid:e,folder_id:t})));n.length&&(yield this.moveBatch(n))}))}removeFromFolder(e=[]){return this.moveToFolder(e)}delete(e,t){return this.sendMessage(k.ItemDelete,{items:e,with_items:t})}save(e,t,n){return ce(this,void 0,void 0,(function*(){const{item:{uuid:r}}=yield this.sendMessage(k.ItemSave,{item_type:e,item:t,timeoutMs:n});return r}))}saveBatch(e,t){return ce(this,void 0,void 0,(function*(){const{items:n=[]}=yield this.sendMessage(k.ItemSaveBatch,{item_type:e,items:t});return n}))}fetchTrashedItems(){return ce(this,void 0,void 0,(function*(){const{items:e=[]}=yield this.sendMessage(k.TrashList);return e}))}getReusedPasswordCount(e){return ce(this,void 0,void 0,(function*(){return(yield this.sendMessage(k.ItemGetReusedPasswordCount,{uuid:e})).reuse_count}))}getItemPasswordHistory(e){return ce(this,void 0,void 0,(function*(){const{secret:t=[]}=yield this.sendMessage(k.ItemGetPasswordHistory,{uuid:e});return t}))}addItemFiles({file:e,sessionId:t,metadata:n,itemId:r,timeoutMs:s}){const{name:o,type:i,size:a,partsCount:c,createdAt:l}=n;return this.sendMessage(k.ItemAddFiles,{item_uuid:r,file:e,session_id:t,metadata:{name:o,type:i,size_in_bytes:a,parts_count:c,created_at:l},timeoutMs:s})}getItemFiles(e){return ce(this,void 0,void 0,(function*(){const{files:t}=yield this.sendMessage(k.ItemGetFiles,{item_uuid:e});return t}))}downloadFile(e,t,n){return ce(this,void 0,void 0,(function*(){return this.sendMessage(k.ItemDownloadFile,{file_uuid:e,item_uuid:t,timeoutMs:n})}))}deleteFile(e){return ce(this,void 0,void 0,(function*(){return this.sendMessage(k.ItemDeleteFile,{files_uuids:[e]})}))}}ae([V(k.ItemGet),F()],le.prototype,"fetchItem",null),ae([V(k.ItemSearch),F()],le.prototype,"fetchItems",null),ae([V(k.ItemDomainSearch),F()],le.prototype,"fetchItemsByDomain",null),ae([V(k.ItemUpdate),F([0])],le.prototype,"update",null),ae([V(k.ItemTrash),F()],le.prototype,"trash",null),ae([V(k.ItemRestore),F()],le.prototype,"restore",null),ae([V(k.ItemMoveBatch),F()],le.prototype,"moveBatch",null),ae([F()],le.prototype,"moveToFolder",null),ae([F()],le.prototype,"removeFromFolder",null),ae([V(k.ItemDelete),F()],le.prototype,"delete",null),ae([V(k.ItemSave),F()],le.prototype,"save",null),ae([V(k.ItemSaveBatch),F()],le.prototype,"saveBatch",null),ae([V(k.TrashList),F()],le.prototype,"fetchTrashedItems",null),ae([V(k.ItemGetReusedPasswordCount),F()],le.prototype,"getReusedPasswordCount",null),ae([F()],le.prototype,"getItemPasswordHistory",null),ae([V(k.ItemAddFiles),F()],le.prototype,"addItemFiles",null),ae([V(k.ItemGetFiles),F()],le.prototype,"getItemFiles",null),ae([V(k.ItemDownloadFile),F()],le.prototype,"downloadFile",null),ae([V(k.ItemDeleteFile),F()],le.prototype,"deleteFile",null);var de=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ue=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class pe extends L{fetchTrustedUsers(){return ue(this,void 0,void 0,(function*(){const{result:e}=yield this.sendMessage(k.ShareTrustGet);return e}))}fetchTrustRequests(){return ue(this,void 0,void 0,(function*(){const{received:e=[],sent:t=[]}=yield this.sendMessage(k.ShareTrustRequestGet);return{received:e,sent:t}}))}saveTrustedUser(e,t){return this.sendMessage(k.ShareTrustSave,{email:e,status:t})}removeTrustedUser(e){return this.sendMessage(k.ShareTrustRemove,{email:e})}removeTrustRequest(e,t){return this.sendMessage(k.ShareTrustRequestRemove,{email:e,received:t})}encrypt(e,t,n){return ue(this,void 0,void 0,(function*(){const{result:r}=yield this.sendMessage(k.ShareTrustEncrypt,{public_key:e,message:t,email:n});return r}))}saveTrustRequest(e,t,n){return ue(this,void 0,void 0,(function*(){return this.sendMessage(k.ShareTrustRequestSave,{public_key:e,message:t,email:n})}))}decrypt(e){return ue(this,void 0,void 0,(function*(){const{result:t}=yield this.sendMessage(k.ShareTrustDecrypt,{message:e});return t}))}fetchPublicKeys(e){return ue(this,void 0,void 0,(function*(){const{keys:t=[]}=yield this.sendMessage(k.ShareGetTrustPublicKeys,{emails:e});return t}))}invite(e){return this.sendMessage(k.ShareTrustInvite,{email:e})}}de([V(k.ShareTrustGet),F()],pe.prototype,"fetchTrustedUsers",null),de([V(k.ShareTrustRequestGet),F()],pe.prototype,"fetchTrustRequests",null),de([V(k.ShareTrustSave),F()],pe.prototype,"saveTrustedUser",null),de([V(k.ShareTrustRemove),F()],pe.prototype,"removeTrustedUser",null),de([V(k.ShareTrustRequestRemove),F()],pe.prototype,"removeTrustRequest",null),de([V(k.ShareTrustEncrypt),F()],pe.prototype,"encrypt",null),de([V(k.ShareTrustRequestSave),F()],pe.prototype,"saveTrustRequest",null),de([V(k.ShareTrustDecrypt),F()],pe.prototype,"decrypt",null),de([V(k.ShareGetTrustPublicKeys),F()],pe.prototype,"fetchPublicKeys",null),de([V(k.ShareTrustInvite),F()],pe.prototype,"invite",null);var he=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};class me extends L{save(e,t={}){return this.sendMessage(k.ActionSave,{action:e,first_session:t.firstSession,client_id:t.clientId})}saveMetric(e){return Promise.resolve()}saveItemAction(e,t=[],n){return this.sendMessage(k.ItemActionSave,{action:e,platform:n,item_ids:t})}}he([F([0])],me.prototype,"save",null),he([F([0])],me.prototype,"saveMetric",null),he([V(k.ItemActionSave),F([0])],me.prototype,"saveItemAction",null);var _e=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ge=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class fe extends L{getDetails(){return this.sendMessage(k.UserDetails)}getMFAStatus(){return this.sendMessage(k.UserMFAGet)}startTrial(){return this.sendMessage(k.UserTrialStart)}getAuthState(){return ge(this,void 0,void 0,(function*(){const e=yield this.sendMessage(k.UserIsAuth);return null===e||void 0===e?void 0:e.state}))}getTrustedPassUrl(e){return ge(this,void 0,void 0,(function*(){return(yield this.sendMessage(k.UserGetTrustedPass,{url:e})).url}))}getServices(){return ge(this,void 0,void 0,(function*(){return this.sendMessage(k.UserServices)}))}logout(e){return ge(this,void 0,void 0,(function*(){const{token:t}=yield this.sendMessage(k.UserLogout,{uuid:e});return t}))}lock(){return this.sendMessage(k.UserLock)}updateOnboardingProgress(e){var t;return ge(this,void 0,void 0,(function*(){const n=yield this.sendMessage(k.OnboardingProgressUpdate,{tasks:e});return null!==(t=null===n||void 0===n?void 0:n.tasks)&&void 0!==t?t:[]}))}getOnboardingProgress(){return ge(this,void 0,void 0,(function*(){const{tasks:e}=yield this.sendMessage(k.OnboardingProgressGet);return null!==e&&void 0!==e?e:[]}))}getFirstSessionRemainingTime(){return ge(this,void 0,void 0,(function*(){return(yield this.sendMessage(k.UserFirstSessionRemainingTime)).first_session_remaining_time}))}getProvider(e){return ge(this,void 0,void 0,(function*(){const t=yield this.sendMessage(k.OAuthGetProvider,{email:e});return null===t||void 0===t?void 0:t.provider}))}checkOAuthToken(e){return this.sendMessage(k.OAuthTokenCheck,{verify_token:e})}oAuthLogin(e){return ge(this,void 0,void 0,(function*(){const{redirect_url:t}=yield this.sendMessage(k.OAuthLogin,{redirect_uri:e.redirectUri,login_url:e.loginUrl,preferred_flow:e.preferredFlow,affiliate_id:e.affiliateId,provider:e.provider,dark_mode:e.darkMode,language:e.language,email:e.email});return t}))}deleteAccount(e){return this.sendMessage(k.RequestAccountDelete,{email:e})}getUserStorageInfo(){return this.sendMessage(k.UserGetStorageInfo).then((e=>({totalBytes:e.total_bytes,usedBytes:e.used_bytes,freeBytes:e.free_bytes})))}}_e([V(k.UserDetails),F()],fe.prototype,"getDetails",null),_e([V(k.UserMFAGet),F()],fe.prototype,"getMFAStatus",null),_e([V(k.UserTrialStart),F()],fe.prototype,"startTrial",null),_e([V(k.UserIsAuth),F()],fe.prototype,"getAuthState",null),_e([V(k.UserGetTrustedPass),F()],fe.prototype,"getTrustedPassUrl",null),_e([V(k.UserServices),F()],fe.prototype,"getServices",null),_e([V(k.UserLogout),F()],fe.prototype,"logout",null),_e([V(k.UserLock),F()],fe.prototype,"lock",null),_e([V(k.OnboardingProgressUpdate),F()],fe.prototype,"updateOnboardingProgress",null),_e([V(k.OnboardingProgressGet),F()],fe.prototype,"getOnboardingProgress",null),_e([V(k.UserFirstSessionRemainingTime),F()],fe.prototype,"getFirstSessionRemainingTime",null),_e([V(k.OAuthGetProvider),F()],fe.prototype,"getProvider",null),_e([V(k.OAuthTokenCheck),F()],fe.prototype,"checkOAuthToken",null),_e([V(k.OAuthLogin),F()],fe.prototype,"oAuthLogin",null),_e([V(k.RequestAccountDelete),F()],fe.prototype,"deleteAccount",null),_e([V(k.UserGetStorageInfo),F()],fe.prototype,"getUserStorageInfo",null);var ye=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ve=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Ae extends L{accountAdd(e,t=null){var n;return ve(this,void 0,void 0,(function*(){const r=yield this.sendMessage(k.AccountAdd,{accounts:e,switch_to:t});return null!==(n=r.accounts)&&void 0!==n?n:[]}))}getAccountList(){var e;return ve(this,void 0,void 0,(function*(){const t=yield this.sendMessage(k.AccountList);return null!==(e=t.accounts)&&void 0!==e?e:[]}))}accountSwitch(e){return this.sendMessage(k.AccountSwitch,{uuid:e})}accountLock(e){return this.sendMessage(k.AccountLock,{uuid:e})}accountLockAll(){return this.sendMessage(k.AccountLockAll)}accountUnlink(){return this.sendMessage(k.AccountUnlink)}accountLogout(e,t=!1){return ve(this,void 0,void 0,(function*(){const n=yield this.sendMessage(k.AccountLogout,{uuid:e,remove_from_list:t});return null===n||void 0===n?void 0:n.token}))}logoutAll(e=!1){return ve(this,void 0,void 0,(function*(){return this.sendMessage(k.AccountLogoutAll,{remove_from_list:e})}))}}ye([V(k.AccountAdd),F()],Ae.prototype,"accountAdd",null),ye([V(k.AccountList),F()],Ae.prototype,"getAccountList",null),ye([V(k.AccountSwitch),F()],Ae.prototype,"accountSwitch",null),ye([V(k.AccountLock),F()],Ae.prototype,"accountLock",null),ye([V(k.AccountLockAll),F()],Ae.prototype,"accountLockAll",null),ye([V(k.AccountUnlink),F()],Ae.prototype,"accountUnlink",null),ye([V(k.AccountLogout),F()],Ae.prototype,"accountLogout",null),ye([V(k.AccountLogoutAll),F()],Ae.prototype,"logoutAll",null);var Ee=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},be=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Se extends L{getDomains(){return be(this,void 0,void 0,(function*(){const{domains:e=[]}=yield this.sendMessage(k.NeverSavedGet);return e}))}save(e){return this.sendMessage(k.NeverSavedSave,{domain:e})}delete(e){return this.sendMessage(k.NeverSavedDelete,{domain:e})}}Ee([V(k.NeverSavedGet),F()],Se.prototype,"getDomains",null),Ee([V(k.NeverSavedSave),F()],Se.prototype,"save",null),Ee([V(k.NeverSavedDelete),F()],Se.prototype,"delete",null);var we=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Te=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Ce extends L{createRecoveryCode(e){return Te(this,void 0,void 0,(function*(){const{code:t}=yield this.sendMessage(k.RecoveryCreate,{email:e});return t}))}useRecoverCode(e,t){return this.sendMessage(k.RecoveryUse,{email:e,code:t})}isCodeViewed(){return Te(this,void 0,void 0,(function*(){const{viewed:e}=yield this.sendMessage(k.RecoveryIsViewed);return e}))}}we([V(k.RecoveryCreate),F()],Ce.prototype,"createRecoveryCode",null),we([V(k.RecoveryUse),F()],Ce.prototype,"useRecoverCode",null),we([V(k.RecoveryIsViewed),F()],Ce.prototype,"isCodeViewed",null);var Re=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ie=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Pe extends L{changePassword(e,t){return this.sendMessage(k.BusinessUserPasswordChange,{old:e,new:t})}getUserFactors(){return Ie(this,void 0,void 0,(function*(){const{data:e}=yield this.sendMessage(k.BusinessGet2faFactors);return e}))}enrollFactor(e){return Ie(this,void 0,void 0,(function*(){const{data:t}=yield this.sendMessage(k.BusinessEnroll2fa,{mfa_type:e});return t}))}activateFactor(e,t){return Ie(this,void 0,void 0,(function*(){const{data:n}=yield this.sendMessage(k.BusinessActivate2fa,{uuid:e,pass_code:t});return n}))}deleteFactor(e){return this.sendMessage(k.BusinessDelete2fa,{uuid:e})}resetBackupCodes(e){return Ie(this,void 0,void 0,(function*(){const{data:t}=yield this.sendMessage(k.BusinessReset2faBackupCodes,{uuid:e});return t}))}getBackupCodes(e){return Ie(this,void 0,void 0,(function*(){const{data:t}=yield this.sendMessage(k.BusinessGet2faBackupCodes,{uuid:e});return t}))}isUserRegisteredWithBA(){return Ie(this,void 0,void 0,(function*(){const{is_registered:e}=yield this.sendMessage(k.BusinessGetUser);return e}))}}Re([V(k.BusinessUserPasswordChange),F()],Pe.prototype,"changePassword",null),Re([V(k.BusinessGet2faFactors),F()],Pe.prototype,"getUserFactors",null),Re([V(k.BusinessEnroll2fa),F([0])],Pe.prototype,"enrollFactor",null),Re([V(k.BusinessActivate2fa),F()],Pe.prototype,"activateFactor",null),Re([V(k.BusinessDelete2fa),F()],Pe.prototype,"deleteFactor",null),Re([V(k.BusinessReset2faBackupCodes),F()],Pe.prototype,"resetBackupCodes",null),Re([V(k.BusinessGet2faBackupCodes),F()],Pe.prototype,"getBackupCodes",null),Re([V(k.BusinessGetUser),F()],Pe.prototype,"isUserRegisteredWithBA",null);var Oe=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},xe=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class ke extends L{export(e){return xe(this,void 0,void 0,(function*(){const{data:t}=yield this.sendMessage(k.VaultExport,{password:e});return t}))}transfer(e){return xe(this,void 0,void 0,(function*(){const{items_count:t,folders_count:n}=yield this.sendMessage(k.VaultTransfer,{save:e});return{itemsCount:t,foldersCount:n}}))}getPasswordHealthItems(){return xe(this,void 0,void 0,(function*(){const{items:e=[]}=yield this.sendMessage(k.VaultPasswordHealth);return e}))}}Oe([V(k.VaultExport),F()],ke.prototype,"export",null),Oe([V(k.VaultTransfer),F()],ke.prototype,"transfer",null),Oe([V(k.VaultPasswordHealth),F()],ke.prototype,"getPasswordHealthItems",null);var Ne=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Me=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class De extends L{export(e,t){return Me(this,void 0,void 0,(function*(){const{items:n=[]}=yield this.sendMessage(k.BrowserExport,{browser:e,master_password:t});return n}))}}Ne([V(k.BrowserExport),F()],De.prototype,"export",null);var Le=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ue=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Fe extends L{giveEmergencyAccess(e){return this.sendMessage(k.EmergencyAccessGive,{emails:e})}fetchReceivedEmergencyAccesses(){var e;return Ue(this,void 0,void 0,(function*(){const t=yield this.sendMessage(k.EmergencyAccessGetReceived);return null!==(e=null===t||void 0===t?void 0:t.received)&&void 0!==e?e:[]}))}fetchGivenEmergencyAccesses(){var e;return Ue(this,void 0,void 0,(function*(){const t=yield this.sendMessage(k.EmergencyAccessGetGiven);return null!==(e=null===t||void 0===t?void 0:t.given)&&void 0!==e?e:[]}))}acceptEmergencyAccess(e){return this.sendMessage(k.EmergencyAccessAccept,{emergency_access_uuid:e})}declineEmergencyAccess(e){return this.sendMessage(k.EmergencyAccessDecline,{emergency_access_uuid:e})}removeEmergencyAccess(e){return Ue(this,void 0,void 0,(function*(){yield this.sendMessage(k.EmergencyAccessRemove,{emergency_access_uuid:e})}))}createEmergencyAccessRequest(e){return this.sendMessage(k.EmergencyAccessCreateVaultViewRequest,{emergency_access_uuid:e})}cancelEmergencyAccessRequest(e){return this.sendMessage(k.EmergencyAccessCancelVaultViewRequest,{emergency_access_uuid:e})}grantEmergencyAccessRequest(e){return this.sendMessage(k.EmergencyAccessGrantRequest,{emergency_access_request_uuid:e})}declineEmergencyAccessRequest(e){return this.sendMessage(k.EmergencyAccessDeclineVaultViewRequest,{emergency_access_request_uuid:e})}revokeEmergencyAccessRequest(e){return this.sendMessage(k.EmergencyAccessRevoke,{emergency_access_uuid:e})}fetchReceivedEmergencyAccessItems(e){var t;return Ue(this,void 0,void 0,(function*(){const n=yield this.sendMessage(k.EmergencyAccessGetItems,{emergency_access_uuid:e});return(null!==(t=null===n||void 0===n?void 0:n.items)&&void 0!==t?t:[]).map((t=>Object.assign(Object.assign({},t),{accessId:e})))}))}fetchReceivedEmergencyAccessItem(e,t){var n;return Ue(this,void 0,void 0,(function*(){const r=yield this.sendMessage(k.EmergencyAccessGetItem,{emergency_access_uuid:e,item_uuid:t});return null!==(n=null===r||void 0===r?void 0:r.item)&&void 0!==n?n:null}))}}Le([V(k.EmergencyAccessGive),F()],Fe.prototype,"giveEmergencyAccess",null),Le([V(k.EmergencyAccessGetReceived),F()],Fe.prototype,"fetchReceivedEmergencyAccesses",null),Le([V(k.EmergencyAccessGetGiven),F()],Fe.prototype,"fetchGivenEmergencyAccesses",null),Le([V(k.EmergencyAccessAccept),F()],Fe.prototype,"acceptEmergencyAccess",null),Le([V(k.EmergencyAccessDecline),F()],Fe.prototype,"declineEmergencyAccess",null),Le([V(k.EmergencyAccessRemove),F()],Fe.prototype,"removeEmergencyAccess",null),Le([V(k.EmergencyAccessCreateVaultViewRequest),F()],Fe.prototype,"createEmergencyAccessRequest",null),Le([V(k.EmergencyAccessCancelVaultViewRequest),F()],Fe.prototype,"cancelEmergencyAccessRequest",null),Le([V(k.EmergencyAccessGrantRequest),F()],Fe.prototype,"grantEmergencyAccessRequest",null),Le([V(k.EmergencyAccessDeclineVaultViewRequest),F()],Fe.prototype,"declineEmergencyAccessRequest",null),Le([V(k.EmergencyAccessRevoke),F()],Fe.prototype,"revokeEmergencyAccessRequest",null),Le([V(k.EmergencyAccessGetItems),F()],Fe.prototype,"fetchReceivedEmergencyAccessItems",null),Le([V(k.EmergencyAccessGetItem),F()],Fe.prototype,"fetchReceivedEmergencyAccessItem",null);var Be=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ge=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class je extends L{getUserNotifications(){var e;return Ge(this,void 0,void 0,(function*(){const t=yield this.sendMessage(k.InAppNotificationGet);return null!==(e=null===t||void 0===t?void 0:t.notifications)&&void 0!==e?e:[]}))}markNotificationsAsSeen(e){return this.sendMessage(k.InAppNotificationMarkAsSeen,{uuids:e})}}Be([V(k.InAppNotificationGet),F()],je.prototype,"getUserNotifications",null),Be([V(k.InAppNotificationMarkAsSeen),F()],je.prototype,"markNotificationsAsSeen",null);var Ve=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},He=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Ke extends L{getVerifiedEmails(){return He(this,void 0,void 0,(function*(){const e=yield this.sendMessage(k.GetBreachVerifiedEmails);return(null===e||void 0===e?void 0:e.data)||[]}))}create(){return He(this,void 0,void 0,(function*(){const{uuid:e}=yield this.sendMessage(k.CreateBreachReport);return e}))}getBreachReport(e){return He(this,void 0,void 0,(function*(){const{report:t}=yield this.sendMessage(k.BreachReportGet,{uuid:e});return t}))}getInfo(){return He(this,void 0,void 0,(function*(){const e=yield this.sendMessage(k.BreachesInfo);return null===e||void 0===e?void 0:e.first_report_date}))}getDetails(e){return He(this,void 0,void 0,(function*(){const{data:t}=yield this.sendMessage(k.BreachDetails,{uuid:e});return t}))}getAccountsAtRisk(e,t,n){return He(this,void 0,void 0,(function*(){const{data:r}=yield this.sendMessage(k.BreachesAccountsAtRisk,{uuid:e,identifier:t,email:n});return r}))}sendEmailVerification(e){return this.sendMessage(k.SendBreachEmailVerification,{email:e})}resolve(e=[],t=[]){return this.sendMessage(k.BreachesResolve,{breaches:{emails:e,credit_cards:t}})}unResolve(e=[],t=[]){return this.sendMessage(k.BreachesUnresolve,{breaches:{emails:e,credit_cards:t}})}verifyEmail(e){return this.sendMessage(k.VerifyBreachEmail,{verification_code:e})}addEmailToMonitor(e){return this.sendMessage(k.EnableBreachMonitoringForEmail,{email:e})}disableEmailMonitoring(e){return this.sendMessage(k.DisableBreachMonitoringForEmail,{email:e})}sendEmailVerificationMonitoring(e){return this.sendMessage(k.SendBreachEmailVerificationMonitoring,{email:e})}getPolicyConsents(){return He(this,void 0,void 0,(function*(){const{data:e}=yield this.sendMessage(k.GetPolicyConsents);return null===e||void 0===e?void 0:e.policy_consents}))}addPolicyConsent(){return this.sendMessage(k.AddPolicyConsent,{policy:"share_emails_3rd_party"})}}Ve([V(k.GetBreachVerifiedEmails),F()],Ke.prototype,"getVerifiedEmails",null),Ve([V(k.CreateBreachReport),F()],Ke.prototype,"create",null),Ve([V(k.BreachReportGet),F()],Ke.prototype,"getBreachReport",null),Ve([V(k.BreachesInfo),F()],Ke.prototype,"getInfo",null),Ve([V(k.BreachDetails),F()],Ke.prototype,"getDetails",null),Ve([V(k.BreachesAccountsAtRisk),F()],Ke.prototype,"getAccountsAtRisk",null),Ve([V(k.SendBreachEmailVerification),F()],Ke.prototype,"sendEmailVerification",null),Ve([V(k.BreachesResolve),F()],Ke.prototype,"resolve",null),Ve([V(k.BreachesUnresolve),F()],Ke.prototype,"unResolve",null),Ve([V(k.VerifyBreachEmail),F()],Ke.prototype,"verifyEmail",null),Ve([V(k.EnableBreachMonitoringForEmail),F()],Ke.prototype,"addEmailToMonitor",null),Ve([V(k.DisableBreachMonitoringForEmail),F()],Ke.prototype,"disableEmailMonitoring",null),Ve([V(k.SendBreachEmailVerificationMonitoring),F()],Ke.prototype,"sendEmailVerificationMonitoring",null),Ve([V(k.GetPolicyConsents),F()],Ke.prototype,"getPolicyConsents",null),Ve([V(k.AddPolicyConsent),F()],Ke.prototype,"addPolicyConsent",null);var We=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},qe=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Ye extends L{getRandomWords(e,t){return qe(this,void 0,void 0,(function*(){const{words:n}=yield this.sendMessage(k.GetRandomWords,{word_count:e,min_length:t});return n}))}getPasswordPolicy(){return qe(this,void 0,void 0,(function*(){const e=yield this.sendMessage(k.GetPasswordPolicy);return{enabled:e.enabled,password_policy:e.password_policy}}))}}We([V(k.GetRandomWords),F()],Ye.prototype,"getRandomWords",null),We([V(k.GetPasswordPolicy),F()],Ye.prototype,"getPasswordPolicy",null);var ze=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},$e=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Xe extends L{checkOnlineStatus(){return this.sendMessage(k.OnlineStatusCheck)}getOnlineStatus(){return $e(this,void 0,void 0,(function*(){const{status:e}=yield this.sendMessage(k.OnlineStatusGet);return e}))}getBackgroundAPPVersion(){return $e(this,void 0,void 0,(function*(){const{version:e}=yield this.sendMessage(k.AppVersion);return e}))}shutdown(){return this.sendMessage(k.AppShutdown)}}ze([V(k.OnlineStatusCheck),F()],Xe.prototype,"checkOnlineStatus",null),ze([V(k.OnlineStatusGet),F()],Xe.prototype,"getOnlineStatus",null),ze([V(k.AppVersion),F()],Xe.prototype,"getBackgroundAPPVersion",null),ze([V(k.AppShutdown),F()],Xe.prototype,"shutdown",null);var Qe=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ze=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Je extends L{validate(e,t){return Ze(this,void 0,void 0,(function*(){return this.sendMessage(k.MasterValidate,{email:e,password:t})}))}create(e,t){return Ze(this,void 0,void 0,(function*(){const n=yield this.sendMessage(k.MasterCreate,{email:e,password:t});return null===n||void 0===n?void 0:n.recovery_code}))}update({password:e,newPassword:t,email:n,dbHash:r}){return this.sendMessage(k.MasterUpdate,{password:e,new_password:t,email:n,db_hash:r})}confirm(e,t){return this.sendMessage(k.MasterConfirm,{email:e,password:t})}}Qe([V(k.MasterValidate),F()],Je.prototype,"validate",null),Qe([V(k.MasterCreate),F()],Je.prototype,"create",null),Qe([V(k.MasterUpdate),F()],Je.prototype,"update",null),Qe([V(k.MasterConfirm),F()],Je.prototype,"confirm",null);var et=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},tt=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class nt extends L{getCode(){return tt(this,void 0,void 0,(function*(){const{code:e}=yield this.sendMessage(k.ReferralGetCode);return e}))}invite(e){return this.sendMessage(k.ReferralEmailInvite,{email:e})}}et([V(k.ReferralGetCode),F()],nt.prototype,"getCode",null),et([V(k.ReferralEmailInvite),F()],nt.prototype,"invite",null);var rt=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};class st extends L{copyWithoutClipboardHistory(e){return this.sendMessage(k.ClipboardSet,{content:e})}}rt([V(k.ClipboardSet),F()],st.prototype,"copyWithoutClipboardHistory",null);var ot=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},it=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class at extends L{autoLockGet(){var e;return it(this,void 0,void 0,(function*(){const t=yield this.sendMessage(k.AutoLockGet);return null!==(e=null===t||void 0===t?void 0:t.auto_lock)&&void 0!==e?e:-1}))}autoLockSave(e){return it(this,void 0,void 0,(function*(){return this.sendMessage(k.AutoLockSave,{auto_lock:e})}))}}ot([V(k.AutoLockGet),F()],at.prototype,"autoLockGet",null),ot([V(k.AutoLockSave),F()],at.prototype,"autoLockSave",null);var ct=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};class lt extends L{setFeatureList(e){return this.sendMessage(k.FeatureSetList,{features:e})}}ct([V(k.FeatureSetList),F()],lt.prototype,"setFeatureList",null);var dt,ut=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},pt=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class mt extends L{createCredential(e){var{type:t}=e,n=ht(e,["type"]);return pt(this,void 0,void 0,(function*(){return this.sendMessage(k.PasskeyCredentialsCreate,n)}))}findCredentials(e){var{type:t}=e,n=ht(e,["type"]);return pt(this,void 0,void 0,(function*(){const{items:e=[]}=yield this.sendMessage(k.PasskeyCredentialsSearch,n);return e}))}getSignedCredential(e){var{type:t}=e,n=ht(e,["type"]);return pt(this,void 0,void 0,(function*(){return this.sendMessage(k.PasskeyCredentialsGet,n)}))}}ut([V(k.PasskeyCredentialsCreate),F()],mt.prototype,"createCredential",null),ut([V(k.PasskeyCredentialsSearch),F()],mt.prototype,"findCredentials",null),ut([V(k.PasskeyCredentialsGet),F()],mt.prototype,"getSignedCredential",null),function(e){e.NordPassCheckout="https://my.nordaccount.com/checkout/nordpass",e.NordPassHelp="https://support.nordpass.com",e.DisableAutofillFieldsHelp="https://support.nordpass.com/hc/en-us/articles/13532389278865",e.MediaCDN="https://s1.npass.app/media/",e.TrustedContactsHowTo="https://support.nordpass.com/hc/en-us/articles/360005104338-How-sharing-and-trusted-contacts-work-",e.Support="https://nordpass.com/contact-us/",e.ForgotMasterPassword="https://support.nordpass.com/hc/articles/360002378758",e.HowToImportCSV="https://support.nordpass.com/hc/articles/360002377217",e.NordAccount2FAAccountSecurity="https://my.nordaccount.com/account-settings/account-security/",e.ECP="https://panel.nordpass.com",e.ReleaseNotes="https://nordpass.com/blog/desktop-app-update-notes/",e.PrivacyPolicy="https://my.nordaccount.com/legal/privacy-policy/nordpass/",e.TermsOfService="https://my.nordaccount.com/legal/terms-of-service/",e.RedeemReferralCode="https://join.nordpass.com/order/redeem/",e.ReferralLearnMore="https://nordpass.com/refer-a-friend/",e.CyberMonthSale="https://nordcheckout.com/?product_group=nordpass&product_filters%5Bsubgroup%5D=individual&coupon=inappdeal",e.BusinessReferral="https://nordpass.com/company-password-manager/",e.MoveToFolderLearnMore="https://support.nordpass.com/hc/en-us/articles/5856529621393",e.TypeForm="https://nordpass.typeform.com/to/ttc6z6WQ",e.FamilyPlan="https://nordpass.com/plans/family/",e.PasskeysLearnMoreLink="https://support.nordpass.com/hc/en-us/articles/12984678202641",e.NordPassB2BCheckout="https://business.nordsec.com",e.DownloadsApp="https://downloads.npass.app",e.UninstallSurvey="https://nordpass.typeform.com/to/Ww8lzY",e.ChromeReviewStore="https://chrome.google.com/webstore/detail/nordpass\xae-password-manage/fooolghllnmhmmndgjiamiiodkpenpbb/reviews",e.AutofillAnalyzeTool="https://analyze.mismatch.site",e.StandaloneUpdate="https://nordpass.com/blog/new-browser-extension-experience/?utm_source=nordpass_extension&utm_medium=app&utm_campaign=top_banner_13032023&utm_content=announcement",e.StandaloneExtensionMarketingBlogPost="https://nordpass.com/blog/new-browser-extension-experience/?utm_source=nordpass_desktop&utm_medium=app&utm_campaign=top_banner_13032023&utm_content=announcement",e.NordPassApiWithoutProtocol="api.nordpass.com",e.SubscriptionPlans="https://api.nordpass.com/v1/plans",e.Payments="https://api.nordpass.com/v1/payments",e.ClientFeatures="https://api-toggle.nordpass.com/v3/features/client",e.UserFeatures="https://api-toggle.nordpass.com/v3/features/user",e.OrganizationFeatures="https://api-toggle.nordpass.com/v3/features/organization",e.AvatarsUrl="https://avatars.nordpass.com/",e.StagingNordPassApiWithoutProtocol="api.mismatch.site",e.StagingClientFeatures="https://api-toggle.mismatch.site/v3/features/client",e.StagingUserFeatures="https://api-toggle.mismatch.site/v3/features/user",e.StagingOrganizationFeatures="https://api-toggle.mismatch.site/v3/features/organization",e.StagingNordAccount2FAAccountSecurity="https://nordaccount-my-test.downhills.dev/account-settings/account-security/",e.StagingAvatarsUrl="https://avatars.mismatch.site/",e.StagingECP="https://ecp-dev.mismatch.site",e.StagingNordPassB2BCheckout="https://b2b-checkout-web-staging.mountainkube.com",e.NordVPN="https://www.nordvpn.com/",e.NordLocker="https://www.nordlocker.com/",e.NordPassAndroid="https://nordpass.com/download/android/",e.NordPassIOS="https://nordpass.com/download/ios/",e.WebVault="https://app.nordpass.com",e.ModelJSON="https://downloads.npass.app/extension/"}(dt||(dt={}));var _t=n(4155),gt=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ft=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class yt extends L{getSubscriptionPlans(e,t=!0){return ft(this,void 0,void 0,(function*(){const n={method:"GET",headers:{"NordPass-User-Agent":`NordPass null (${_t.env.APP_VERSION}) null`,"Content-Type":"application/json"}},r=yield fetch(`${dt.SubscriptionPlans}?filters[plans.type]=${e}&[plans.active]=${t}`,n);return yield r.json()}))}}gt([F()],yt.prototype,"getSubscriptionPlans",null);var vt=n(4155),At=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Et=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class bt extends L{createPayment(e,t){return Et(this,void 0,void 0,(function*(){const n={method:"POST",headers:{"NordPass-User-Agent":`NordPass null (${vt.env.APP_VERSION}) null`,"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)};return(yield fetch(dt.Payments,n)).json()}))}}At([F()],bt.prototype,"createPayment",null);const St=()=>{var e,t;let n;try{n=null!==(t=null===(e=window.top)||void 0===e?void 0:e.screen)&&void 0!==t?t:window.screen}catch(e){n=window.screen}const{width:r,availWidth:s,height:o,availHeight:i}=n;return r===s&&o===i};var wt=function(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Tt=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};class Ct extends L{openApp(e){return this.sendMessage(M.OpenApp,e)}closeTab(){return this.sendMessage(M.CloseTab)}closePopup(){return this.sendMessage(M.ClosePopup)}openWS(){return this.sendMessage(M.OpenWS)}openInstallPage(){return this.sendMessage(M.OpenInstallPage)}openDesktopApp(n={}){return Tt(this,void 0,void 0,(function*(){return(yield _.get({[t.AppState]:null}))[t.AppState]===e.Ready?this.sendMessage(k.DesktopOpen,n):null}))}closeAutofill(e){return this.sendMessage(M.AutofillClose,{status:e})}getUserUuid(){return Tt(this,void 0,void 0,(function*(){return(yield this.sendMessage(k.GetUserUuid)).uuid}))}getUserEmail(){var e;return Tt(this,void 0,void 0,(function*(){const t=yield this.sendMessage(k.GetEmail);return null!==(e=null===t||void 0===t?void 0:t.email)&&void 0!==e?e:""}))}getUserAvatar(){return Tt(this,void 0,void 0,(function*(){const e=yield this.sendMessage(k.GetAvatar);return null===e||void 0===e?void 0:e.avatar}))}downloadLogs(){return this.sendMessage(M.DownloadLogs)}logoutAll(){return this.sendMessage(M.ExtensionLogoutAll)}getTabUrl(){var e;return Tt(this,void 0,void 0,(function*(){return null!==(e=yield this.sendMessage(M.GetTabUrl))&&void 0!==e?e:window.location.href}))}copyToClipboard(e){return this.sendMessage(M.CopyToClipboard,{clipboardValue:e})}getNextAccountUUID(){return this.sendMessage(M.ExtensionGetNextAccountUUID)}switchAccount(e){return this.sendMessage(M.ExtensionSwitchAccount,{uuid:e})}autofillFillGeneratedPass(e,t){return this.sendMessage(M.AutofillFillGeneratedPass,{secret:e,inputUid:t})}autofillRedirectToSecure(){return this.sendMessage(M.AutofillRedirectToSecure)}reportProblem({isEnjoying:e,purpose:t}){return this.sendMessage(M.ReportProblem,{isEnjoying:e,purpose:t})}closeAutofillSwitcherDialog(){return this.sendMessage(M.CloseAutofillSwitcherDialog)}getMLModels(e){return this.sendMessage(M.GetMLModel,{version:e})}openExtensionDeepLink(e){return this.sendMessage(M.OpenExtensionDeepLink,{url:e})}closeReportProblemDialog(){return this.sendMessage(M.CloseReportProblemDialog)}setAutofillReportStarted(){return this.sendMessage(M.SetAutofillReportStarted)}dispatchPasskeysState(e){return this.sendMessage(M.DispatchPasskeysState,e)}getDisabledFields(e){return Tt(this,void 0,void 0,(function*(){const t=yield this.sendMessage(M.GetDisableField,{url:e});return null!==t&&void 0!==t?t:[]}))}windowClick(e,t){return Tt(this,void 0,void 0,(function*(){return this.sendMessage(M.WindowClick,{inputUid:e,selector:t})}))}userDataSave(e){return Tt(this,void 0,void 0,(function*(){return this.sendMessage(M.UserDataSave,Object.assign(Object.assign({},e),{isFullScreen:St(),offset:{top:window.screen.availTop,left:window.screen.width+window.screen.availLeft}}))}))}changeFormBehaviour(e){return this.sendMessage(M.ChangeFormBehaviour,{to:e})}closeChangeFormBehaviourDialog(){return this.sendMessage(M.CloseChangeFormBehaviourDialog)}getChangedForm(e){return this.sendMessage(M.GetChangedForm,{formSelector:e})}setChangedForm(e,t){return this.sendMessage(M.SetChangedForm,{formSelector:e,to:t})}getIsNoPasskeysFoundDisabled(){return Tt(this,void 0,void 0,(function*(){const{isNoPasskeysFoundDisabled:e}=yield this.sendMessage(M.GetIsNoPasskeysFoundDisabled);return e}))}collectChangeType(e){return this.sendMessage(k.AutofillCollectChangeType,e)}downloadForms(e){return this.sendMessage(M.DownloadForms,e)}}wt([F()],Ct.prototype,"closeTab",null),wt([F()],Ct.prototype,"closePopup",null),wt([F()],Ct.prototype,"openWS",null),wt([F()],Ct.prototype,"openInstallPage",null),wt([F()],Ct.prototype,"openDesktopApp",null),wt([F()],Ct.prototype,"closeAutofill",null),wt([F()],Ct.prototype,"getUserUuid",null),wt([F()],Ct.prototype,"getUserEmail",null),wt([F()],Ct.prototype,"getUserAvatar",null),wt([F()],Ct.prototype,"downloadLogs",null),wt([F()],Ct.prototype,"logoutAll",null),wt([F()],Ct.prototype,"getTabUrl",null),wt([F()],Ct.prototype,"copyToClipboard",null),wt([F()],Ct.prototype,"getNextAccountUUID",null),wt([F()],Ct.prototype,"switchAccount",null),wt([F()],Ct.prototype,"autofillFillGeneratedPass",null),wt([F()],Ct.prototype,"autofillRedirectToSecure",null),wt([F()],Ct.prototype,"reportProblem",null),wt([F()],Ct.prototype,"closeAutofillSwitcherDialog",null),wt([F()],Ct.prototype,"getMLModels",null),wt([F()],Ct.prototype,"openExtensionDeepLink",null),wt([F()],Ct.prototype,"closeReportProblemDialog",null),wt([F()],Ct.prototype,"setAutofillReportStarted",null),wt([F()],Ct.prototype,"dispatchPasskeysState",null),wt([F()],Ct.prototype,"getDisabledFields",null),wt([F()],Ct.prototype,"windowClick",null),wt([F()],Ct.prototype,"userDataSave",null),wt([F()],Ct.prototype,"changeFormBehaviour",null),wt([F()],Ct.prototype,"closeChangeFormBehaviourDialog",null),wt([F()],Ct.prototype,"getChangedForm",null),wt([F()],Ct.prototype,"setChangedForm",null),wt([F()],Ct.prototype,"getIsNoPasskeysFoundDisabled",null),wt([F()],Ct.prototype,"collectChangeType",null),wt([F()],Ct.prototype,"downloadForms",null);const Rt=(e,t={})=>Ic.sendMessage(Object.assign({type:e},t)),It=e=>{},Pt=Object.assign(Object.assign({},((e,t)=>({organization:new re(e,t),share:new ie(e,t),item:new le(e,t),shareTrust:new pe(e,t),action:new me(e,t),user:new fe(e,t),account:new Ae(e,t),sites:new Se(e,t),subscriptionPlans:new yt(e,t),recovery:new Ce(e,t),businessAuth:new Pe(e,t),vault:new ke(e,t),browser:new De(e,t),emergencyAccess:new Fe(e,t),notifications:new je(e,t),breachReport:new Ke(e,t),payments:new bt(e,t),password:new Ye(e,t),app:new Xe(e,t),masterPassword:new Je(e,t),referral:new nt(e,t),clipboard:new st(e,t),avatar:new W(e,t),autoLock:new at(e,t),feature:new lt(e,t),passkeys:new mt(e,t)}))(Rt,It)),{extension:new Ct(Rt,It)}),Ot=(e,t=!1)=>{x({url:e}),t&&(({windowRef:e,legacySafariPopupClose:t}={})=>{I(void 0,void 0,void 0,(function*(){e?e.close():globalThis.close()}))})({legacySafariPopupClose:Pt.extension.closePopup})};const xt=()=>"",kt=/\s+at.*[(\s](.*)\)?/,Nt=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/;function Mt(e,{pretty:t=!1,basePath:n,pathFilter:r}={}){const s=n&&new RegExp(`(file://)?${function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(n.replace(/\\/g,"/"))}/?`,"g"),o=t?xt():"";if("string"===typeof e)return e.replace(/\\/g,"/").split("\n").filter((e=>{const t=e.match(kt);if(null===t||!t[1])return!0;const n=t[1];return!(n.includes(".app/Contents/Resources/electron.asar")||n.includes(".app/Contents/Resources/default_app.asar")||n.includes("node_modules/electron/dist/resources/electron.asar")||n.includes("node_modules/electron/dist/resources/default_app.asar"))&&(r?!Nt.test(n)&&r(n):!Nt.test(n))})).filter((e=>""!==e.trim())).map((e=>(s&&(e=e.replace(s,"")),t&&(e=e.replace(kt,((e,t)=>e.replace(t,t.replace(o,"~"))))),e))).join("\n")}const Dt=e=>`[EXTENSION] ${e}`,Lt=Object.values({goOnline:"Please go online to complete this action",cantConnect:"Could not establish connection. Receiving end does not exist.",forceCrash:"Force Crash",appArmor:"An AppArmor policy prevents this sender from sending this message to this recipient",noSpaceLeft:"UNIX[No space left on device]",authCanceled:"The operation couldn\u2019t be completed. (OSStatus error -60006.)",networkError:"net::ERR_NETWORK_CHANGED",timeout:"Request has timed out",incorrectUserName:"The username or passphrase you entered is not correct",incorrectMP:"Incorrect Master Password. Please try again",incorrectMP2:"Incorrect Master Password. Please double-check and try again.",unloadedContext:"Called raw() on unloaded/inactive context",abortedRequest:"The user aborted a request.",resizeObserverLimit:"ResizeObserver loop limit exceeded"});var Ut=n(7850);function Ft(){const e=Ut.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}var Bt=n(5292);const Gt=["debug","info","warn","error","log","assert","trace"];function jt(e){if(!("console"in Ut.n2))return e();const t=Ut.n2.console,n={};Gt.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function Vt(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Gt.forEach((n=>{t[n]=(...t)=>{e&&jt((()=>{Ut.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):Gt.forEach((e=>{t[e]=()=>{}})),t}let Ht;Ht="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,Ut.YO)("logger",Vt):Vt();const Kt="production",Wt=Object.prototype.toString;function qt(e,t){return Wt.call(e)===`[object ${t}]`}function Yt(e){return qt(e,"Object")}function zt(e){return Boolean(e&&e.then&&"function"===typeof e.then)}var $t;!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}($t||($t={}));class Xt{__init(){this._state=$t.PENDING}__init2(){this._handlers=[]}constructor(e){Xt.prototype.__init.call(this),Xt.prototype.__init2.call(this),Xt.prototype.__init3.call(this),Xt.prototype.__init4.call(this),Xt.prototype.__init5.call(this),Xt.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Xt(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Xt(((t,n)=>{let r,s;return this.then((t=>{s=!1,r=t,e&&e()}),(t=>{s=!0,r=t,e&&e()})).then((()=>{s?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult($t.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult($t.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===$t.PENDING&&(zt(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===$t.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===$t.RESOLVED&&e[1](this._value),this._state===$t.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Qt(e){return Zt(e,new Map)}function Zt(e,t){if(Yt(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))"undefined"!==typeof e[n]&&(r[n]=Zt(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(Zt(e,t))})),r}return e}function Jt(e){const t=(0,Bt.ph)(),n={sid:Ft(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Qt({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&en(n,e),n}function en(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,Bt.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Ft()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class tn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new tn;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&en(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"===typeof e){const t=e(this);return t instanceof tn?t:this}return e instanceof tn?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Yt(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,Bt.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const n=t.name;n&&(e.tags={transaction:n,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...nn(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new Xt(((s,o)=>{const i=e[r];if(null===t||"function"!==typeof i)s(t);else{const a=i({...t},n);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.id&&null===a&&Ht.log(`Event processor "${i.id}" dropped event`),zt(a)?a.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(s))).then(null,o):this._notifyEventProcessors(e,a,n,r+1).then(s).then(null,o)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){var t;e.fingerprint=e.fingerprint?(t=e.fingerprint,Array.isArray(t)?t:[t]):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function nn(){return(0,Ut.YO)("globalEventProcessors",(()=>[]))}const rn=4,sn=100;class on{constructor(e,t=new tn,n=rn){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=tn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Ft(),r=new Error("Sentry syntheticException");return this._withClient(((s,o)=>{s.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},o)})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Ft(),s=new Error(e);return this._withClient(((o,i)=>{o.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r},i)})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Ft();return e.type||(this._lastEventId=n),this._withClient(((r,s)=>{r.captureEvent(e,{...t,event_id:n},s)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=sn}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const i={timestamp:(0,Bt.yW)(),...e},a=s?jt((()=>s(i,t))):i;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=cn(this);try{e(this)}finally{cn(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);return"undefined"!==typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||n||console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),en(e,n)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:s=Kt}=n&&n.getOptions()||{},{userAgent:o}=Ut.n2.navigator||{},i=Jt({release:r,environment:s,user:t.getUser(),...o&&{userAgent:o},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&en(a,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=an().__SENTRY__;if(n&&n.extensions&&"function"===typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function an(){return Ut.n2.__SENTRY__=Ut.n2.__SENTRY__||{extensions:{},hub:void 0},Ut.n2}function cn(e){const t=an(),n=un(t);return pn(t,e),n}function ln(e=an()){return dn(e)&&!un(e).isOlderThan(rn)||pn(e,new on),un(e)}function dn(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function un(e){return(0,Ut.YO)("hub",(()=>new on),e)}function pn(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function hn(e,t){return function(){const e=an();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return ln(e)}().captureException(e,{captureContext:t})}const mn=(e,t,n)=>{hn(t,(t=>(t.setContext("Manual context message",{message:e}),n&&t.setExtra("info",n),t)))};var _n=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};const gn=e=>{const t=(t,n,r)=>_n(void 0,void 0,void 0,(function*(){const s=(e=>"string"===typeof e?e:Mt(null===e||void 0===e?void 0:e.stack,{pretty:!0}))(n);if(!Lt.includes(s)){mn(t,n,r);try{yield e({type:k.LogExtensionError,context:Dt(t),errorString:s})}catch(e){mn(t,e,r)}}}));return(n,...r)=>{switch(n){case D.Error:return t(...r);case D.Info:return((n,r)=>_n(void 0,void 0,void 0,(function*(){yield e({type:k.LogExtensionInfo,context:Dt(n),info:r}).catch((e=>t("logInfo",e)))})))(...r);default:return}}},fn="[a-fA-F\\d:]",yn=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${fn})|(?<=${fn})(?=\\s|$))`:"",vn="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",An="[a-fA-F\\d]{1,4}",En=`\n(?:\n(?:${An}:){7}(?:${An}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${An}:){6}(?:${vn}|:${An}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${An}:){5}(?::${vn}|(?::${An}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${An}:){4}(?:(?::${An}){0,1}:${vn}|(?::${An}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${An}:){3}(?:(?::${An}){0,2}:${vn}|(?::${An}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${An}:){2}(?:(?::${An}){0,3}:${vn}|(?::${An}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${An}:){1}(?:(?::${An}){0,4}:${vn}|(?::${An}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${An}){0,5}:${vn}|(?::${An}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),bn=new RegExp(`(?:^${vn}$)|(?:^${En}$)`),Sn=new RegExp(`^${vn}$`),wn=new RegExp(`^${En}$`),Tn=e=>e&&e.exact?bn:new RegExp(`(?:${yn(e)}${vn}${yn(e)})|(?:${yn(e)}${En}${yn(e)})`,"g");Tn.v4=e=>e&&e.exact?Sn:new RegExp(`${yn(e)}${vn}${yn(e)}`,"g"),Tn.v6=e=>e&&e.exact?wn:new RegExp(`${yn(e)}${En}${yn(e)}`,"g");const Cn=".",Rn=new TextEncoder;var In,Pn,On;!function(e){e.Lax="LAX",e.Strict="STRICT"}(In||(In={})),function(e){e.NoHostname="NO_HOSTNAME",e.DomainMaxLength="DOMAIN_MAX_LENGTH",e.LabelMinLength="LABEL_MIN_LENGTH",e.LabelMaxLength="LABEL_MAX_LENGTH",e.LabelInvalidCharacter="LABEL_INVALID_CHARACTER",e.LastLabelInvalid="LAST_LABEL_INVALID"}(Pn||(Pn={})),function(e){e.ValidIp="VALID_IP",e.ValidDomain="VALID_DOMAIN",e.Error="ERROR"}(On||(On={}));const xn=(e,t)=>{const n=e.length;return{type:Pn.LabelMinLength,message:`Label "${e}" is too short. Label is ${n} octets long but should be at least 1.`,column:t}},kn=(e,t)=>{const n=e.length;return{type:Pn.LabelMaxLength,message:`Label "${e}" is too long. Label is ${n} octets long but should not be longer than 63.`,column:t}},Nn=(e,t,n)=>({type:Pn.LabelInvalidCharacter,message:`Label "${e}" contains invalid character "${t}" at column ${n}.`,column:n});In.Lax,In.Strict,Symbol("ROOT"),Symbol("CHILD");var Mn;!function(e){e.Invalid="INVALID",e.Ip="IP",e.Reserved="RESERVED",e.NotListed="NOT_LISTED",e.Listed="LISTED"}(Mn||(Mn={}));Symbol("NO_HOSTNAME");var Dn=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};let Ln;const Un=(e,t=!1)=>Dn(void 0,void 0,void 0,(function*(){if(!e)throw new Error(`invalid version ${e}`);if(Ln&&!t)return Ln;const n=yield fetch(`${dt.ModelJSON}models_${e}.json`,{headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(`invalid status ${n.status}`);return Ln=yield n.json(),Ln})),Fn={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Bn;const Gn=new Uint8Array(16);function jn(){if(!Bn&&(Bn="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bn(Gn)}const Vn=[];for(let e=0;e<256;++e)Vn.push((e+256).toString(16).slice(1));function Hn(e,t=0){return(Vn[e[t+0]]+Vn[e[t+1]]+Vn[e[t+2]]+Vn[e[t+3]]+"-"+Vn[e[t+4]]+Vn[e[t+5]]+"-"+Vn[e[t+6]]+Vn[e[t+7]]+"-"+Vn[e[t+8]]+Vn[e[t+9]]+"-"+Vn[e[t+10]]+Vn[e[t+11]]+Vn[e[t+12]]+Vn[e[t+13]]+Vn[e[t+14]]+Vn[e[t+15]]).toLowerCase()}const Kn=function(e,t,n){if(Fn.randomUUID&&!t&&!e)return Fn.randomUUID();const r=(e=e||{}).random||(e.rng||jn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Hn(r)};var Wn,qn,Yn;!function(e){e.Light="Light",e.Dark="Dark",e.System="System"}(Wn||(Wn={})),function(e){e.Light="theme-light",e.Dark="theme-dark"}(qn||(qn={})),function(e){e.AppCrashed="APP/CRASHED",e.AppUpdate="APP/UPDATE",e.AppStateChange="APP/STATE_CHANGE",e.AppFocused="APP/FOCUSED",e.UserStateChange="USER/STATE_CHANGE",e.TokenChange="USER/TOKEN_CHANGE",e.TokenRemoved="USER/ANY_TOKEN_REMOVED",e.TwoFAChanged="USER/TWO_FA_CHANGED",e.AvatarChanged="USER/AVATAR_CHANGED",e.NeverSaveSiteChange="NEVER_SAVE_SITE/CHANGE",e.VaultChange="VAULT/CHANGE",e.ServicesChanged="USER/SERVICES_CHANGED",e.ShareTrustChange="SHARE/TRUST_CHANGE",e.ShareTrustRequestChange="SHARE/TRUST_REQUEST_CHANGE",e.OnlineStatusChange="ONLINE/STATUS_CHANGE",e.RecoveryChanged="RECOVERY/CHANGED",e.OnboardingProgressChanged="USER/ONBOARDING_PROGRESS_CHANGED",e.AccountChanged="AccountChanged",e.AccountSwitching="ACCOUNT_SWITCHING",e.AccountListChanged="ACCOUNT/LIST_CHANGED",e.FeatureListChange="FEATURE/LIST_CHANGED",e.PasswordPolicyChange="ORGANIZATION/PASSWORD_POLICY_CHANGED",e.ConnectedBrowsersChange="CONNECTED_BROWSERS_CHANGE",e.HistoryPush="HISTORY_PUSH",e.DuplicatePersonalInfo="DUPLICATE_PERSONAL_INFO_EXT",e.OrganizationInfoChanged="ORGANIZATION/INFO_CHANGED",e.OrganizationInvitesChanged="ORGANIZATION/INVITES_CHANGED",e.OrganizationKeyChanged="ORGANIZATION/KEY_CHANGED",e.BiometricUnlock="BiometricUnlock",e.BreachReportGenerated="BREACH_REPORT/GENERATED",e.BreachEmailVerified="BREACH/EMAIL_VERIFIED",e.VerifiedEmailsMonitoringStatusChange="VERIFIED_EMAILS/MONITORING_STATUS_CHANGED",e.VerifiedEmailsCreated="VERIFIED_EMAILS/CREATED",e.FirstSessionRemainingTimeChanged="USER/FIRST_SESSION_REMAINING_TIME_CHANGED",e.EmergencyAccessGivenChanged="EMERGENCY_ACCESS/GIVEN_CHANGED",e.EmergencyAccessReceivedChanged="EMERGENCY_ACCESS/RECEIVED_CHANGED",e.RemoveFromFolder="REMOVE_FROM_FOLDER",e.AppThemeChange="APP_THEME_CHANGE",e.AppLanguageChange="APP_LANGUAGE_CHANGE",e.ScreenStateChange="SCREEN_STATE_CHANGE",e.RefreshApproveCode="REFRESH_APPROVE_CODE",e.UserEmailChange="USER_EMAIL_CHANGE",e.InAppNotificationChanged="IN_APP_NOTIFICATION/CHANGED",e.GenerateAndDownloadLogs="GENERATE_AND_DOWNLOAD_LOGS",e.UpdateTabRoute="UPDATE_TAB_ROUTE",e.ExtensionTabOpened="EXTENSION_TAB_OPENED"}(Yn||(Yn={}));const zn=[9213,9217,9221,9234,9238,9245],$n=4001,Xn=4002,Qn=[k.AppLogin,k.BgAppAcknowledge,k.AvatarUpload,k.LogExtensionErrorPlain,Yn.AppCrashed,Yn.OnlineStatusChange,Yn.RefreshApproveCode,M.RequestHandshake];var Zn;!function(e){e.Unauthenticated="unauthenticated",e.MasterCreate="master_create",e.MasterValidate="master_validate",e.MasterChange="master_change",e.Authenticated="authenticated"}(Zn||(Zn={}));Zn.Unauthenticated;var Jn;!function(e){e.ResetState="ResetAuthReducerState",e.SetIsNewAuthSession="SetIsNewAuthSession",e.SetSubscriptionData="SetSubscriptionData",e.SetBusinessAccountMfaState="SetBusinessAccountMfaState",e.UserStateChange="UserStateChange",e.SetEmail="SetAuthEmail",e.SetUserId="SetUserId",e.SetHasNeverLoggedIn="SetHasNeverLoggedIn",e.SetIsAutoStartTrial="SetIsAutoStartTrial",e.SetIsUserEmailSynced="SetIsUserEmailSynced",e.SetIsLoggingOut="SetIsLoggingOut",e.SetIsLoggingOutCurrentUserOnly="SetIsLoggingOutCurrentUserOnly",e.SetLockInitiator="SetLockInitiator",e.SetIsValidatingMasterPassword="SetIsValidatingMasterPassword",e.SetMasterPasswordValidationError="SetMasterPasswordValidationError"}(Jn||(Jn={}));Math.pow(10,8);var er=6e4,tr=36e5;function nr(e,t){var n;!function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}(1,arguments);var r=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var s,o=function(e){var t,n={},r=e.split(rr.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],rr.timeZoneDelimiter.test(n.date)&&(n.date=e.split(rr.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var s=rr.timezone.exec(t);s?(n.time=t.replace(s[1],""),n.timezone=s[1]):n.time=t}return n}(e);if(o.date){var i=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?s:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,r);s=function(e,t){if(null===t)return new Date(NaN);var n=e.match(sr);if(!n)return new Date(NaN);var r=!!n[4],s=ar(n[1]),o=ar(n[2])-1,i=ar(n[3]),a=ar(n[4]),c=ar(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,c)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,o=7*(t-1)+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}(t,a,c):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(lr[t]||(dr(e)?29:28))}(t,o,i)&&function(e,t){return t>=1&&t<=(dr(e)?366:365)}(t,s)?(l.setUTCFullYear(t,o,Math.max(s,i)),l):new Date(NaN)}(i.restDateString,i.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a,c=s.getTime(),l=0;if(o.time&&(l=function(e){var t=e.match(or);if(!t)return NaN;var n=cr(t[1]),r=cr(t[2]),s=cr(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,s))return NaN;return n*tr+r*er+1e3*s}(o.time),isNaN(l)))return new Date(NaN);if(!o.timezone){var d=new Date(c+l),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return a=function(e){if("Z"===e)return 0;var t=e.match(ir);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,s))return NaN;return n*(r*tr+s*er)}(o.timezone),isNaN(a)?new Date(NaN):new Date(c+l+a)}var rr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,or=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ir=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ar(e){return e?parseInt(e):1}function cr(e){return e&&parseFloat(e.replace(",","."))||0}var lr=[31,null,31,30,31,30,31,31,30,31,30,31];function dr(e){return e%400===0||e%4===0&&e%100!==0}const ur=(e,t)=>{const n=((e,t)=>e.find((({identifier:e})=>e===t)))(e,t),r=Date.now();if(!n)return!1;const{startDate:s,endDate:o}=(e=>({startDate:l(e.startDate)?nr(e.startDate).getTime():0,endDate:l(e.endDate)?nr(e.endDate).getTime():1/0}))(n);return s<r&&o>r};var pr=n(1584),hr=n.n(pr),mr=n(8081),_r=n.n(mr),gr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};let fr;{const{setExtensionIcon:e}=n(4070);fr=e}const yr=e=>gr(void 0,void 0,void 0,(function*(){yield fr({path:e===o.Locked?hr():_r()})}));var vr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};const Ar=n=>vr(void 0,void 0,void 0,(function*(){yield _.set({[t.AppState]:n}),n!==e.Ready&&yr(o.Locked)}));class Er extends Error{constructor(e,t){super(e),t&&(this.info=t)}}n(4155);var br=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]];function Sr(e){return""!==e&&br.reduce((function(t,n){var r=n[0],s=n[1];if(t)return t;var o=s.exec(e);return!!o&&[r,o]}),!1)}const wr=(e=navigator.userAgent)=>{const t=/chrome|crios/.test(e.toLowerCase())&&!/edg|opr\//.test(e.toLowerCase());return e.includes("Firefox/")?A.Firefox:e.includes("OPR/")?A.Opera:e.includes("Chromium/")||t?A.Chrome:e.includes("Edg/")?A.Edge:e.includes("Vivaldi/")?A.Vivaldi:t&&!window.googletag?A.Brave:function(e){var t=Sr(e);return t?t[0]:null}(e)};var Tr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};let Cr;Cr=n(3150);const Rr=e=>Tr(void 0,void 0,void 0,(function*(){yield Cr.runtime.sendMessage(e)}));var Ir=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};let Pr;Pr=n(3150);const Or=(e,t)=>Ir(void 0,void 0,void 0,(function*(){try{const t=yield Pr.tabs.query({});return Promise.allSettled(t.map((({id:t})=>t?Pr.tabs.sendMessage(t,e):null)))}catch(n){return t(D.Error,`background:sendMessageToAllTabs (${e.type}): `,n)}}));var xr;!function(e){e.Production="production",e.Staging="staging"}(xr||(xr={}));var kr,Nr,Mr;!function(e){e.UserlessClientId="UserlessClientId",e.SubscriptionData="SubscriptionData",e.Features="Features",e.AppTheme="AppTheme",e.AppLocale="AppLocale",e.MiscData="MiscData",e.Upsell="Upsell",e.PasswordGenerator="PasswordGenerator",e.GoogleAnalytics="GoogleAnalytics",e.HasBeenUpdated="HasBeenUpdated",e.AutoLock="AutoLock",e.InstallTime="InstallTime",e.StartHidden="StartHidden",e.UserPasswordGeneratorHistory="History",e.UserEmail="UserEmail",e.UserId="UserId",e.WindowState="WindowState",e.ConnectedBrowsers="ConnectedBrowsers",e.IsCrashReportingEnabled="IsCrashReportingEnabled",e.RecoveryCodeInfo="RecoveryCodeInfo",e.ClipboardClearingTime="ClipboardClearingTime",e.VaultState="VaultState",e.WebInstallerTrackingEvents="WebInstallerTrackingEvents",e.HasNeverLoggedIn="HasNeverLoggedIn",e.IsFirstStart="IsFirstStart",e.SendActionsTimeRemaining="SendActionsTimeRemaining",e.ShouldOpenOnLogin="ShouldOpenOnLogin",e.DbHash="DbHash",e.IsAutoStartTrial="IsAutoStartTrial",e.SidebarState="SidebarState",e.BreachState="BreachState",e.LastKnownEmail="LastKnownEmail",e.AccountList="AccountList",e.Environment="Environment",e.AppVersion="AppVersion",e.IsViableForUpdateBanner="IsViableForUpdateBanner",e.WasUpdateBannerSeen="WasUpdateBannerSeen",e.IsNoPasskeysFoundDisabled="IsNoPasskeysFoundDisabled",e.CompletedAutolockTileUserIds="CompletedAutolockTileUserIds",e.CompletedBiometricsTileUserIds="CompletedBiometricsTileUserIds",e.BrowserID="browserId",e.UnauthenticatedClientId="unauthenticatedClientId",e.LastHeartBeatTime="lastHeartBeatTime",e.SkippedOnboardingUserIds="SkippedOnboardingUserIds",e.IdentityKey="identityKey"}(kr||(kr={})),function(e){e.SpringSale2023Modal="spring_sale_2023_modal",e.SpringSale2023Ribbon="spring_sale_2023_ribbon",e.SpringSale2023Extension="spring_sale_2023_extension",e.FamilyBanner="family_banner_premium",e.BundleSaleA="bundle_deal_desktop_a",e.BundleSaleB="bundle_deal_desktop_b",e.CustomFields="custom_fields",e.CustomFieldsAutofill="custom_fields_autofill",e.CustomFieldsAutosave="custom_fields_autosave",e.CreditCardCustomFields="credit_card_custom_fields",e.PersonalInfoCustomFields="personal_info_custom_fields",e.SecureNoteCustomFields="secure_note_custom_fields",e.PasskeyCustomFields="passkey_custom_fields",e.PersonalInfoCustomFieldsAutofill="personal_info_custom_fields_autofill",e.CreditCardCustomFieldsAutofill="credit_card_custom_fields_autofill",e.RecoveryCodeInBar="recovery_code_in_bar",e.TrackFirstSessionUserActions="track_user_actions",e.SharingAccess="sharing_access",e.OnboardingFree="onboarding_free",e.OnboardingPremium="onboarding_premium",e.OnboardingAnotherDevice="onboarding_another_device",e.OnboardingStandaloneTestA="standalone_onboarding_test_a",e.OnboardingStandaloneTestB="standalone_onboarding_test_b",e.SharedItemsFilter="shared_items_filter",e.FreeUsersRibbon_04_06="free_users_ribbon_04_06",e.TrialUsersRibbon_04_06="trial_users_ribbon_04_06",e.MlRemoteModel="ml_remote_model",e.AutofillDataCollection="autofill_data_collection",e.LanguageSelection="desktop_languages",e.Business2fa="business_2fa",e.ExtensionLanguageChange="extension_languages",e.AfterTrialRibbon="after_trial_ribbon",e.EmergencyAccess="emergency_access",e.BreachResolve="breach_resolve",e.ForceCrashButton="force_crash_button",e.RevealLeakedData="reveal_leaked_data",e.InAppNotifications="in_app_notifications_desktop",e.CreditCardPin="credit_card_pin",e.DesktopReleaseChannels="desktop_release_channels",e.BreachMonitoring="data_breach_scanner_breach_monitoring",e.UserAvatar="user_avatar",e.ClipboardClearing="clipboard_clearing",e.AutofillChangeBehaviourDev="autofill_change_behaviour_dev",e.SharedItemInAppNotifications="shared_item_notifications",e.ReferralInAppNotifications="referral_program_notifications",e.SharedFoldersV2="shared_folders_v2",e.SharedFoldersFullRights="shared_folders_full_rights",e.SharedFolderGroupSharing="shared_folder_group_sharing_ui",e.UnpaidPremiumInAppNotifications="unpaid_premium_notifications",e.NewBreachInAppNotifications="new_breach_notifications",e.EnvironmentSwitch="environment_switch",e.SwitchDevicesModal="switch_between_devices_modal",e.AutofillPerformance="autofill_performance",e.PasswordItemHistory="password_history_desktop",e.FileStorage="file_storage_desktop",e.ShareFeedbackLink="share_feedback_link",e.StandaloneUpdate="standalone_update",e.MigrateTokensToStandalone="migrate_tokens_to_standalone",e.Passwordless="passwordless",e.FileStorageOnboarding="file_storage_onboarding",e.FileStorageExtensionPopUp="file_storage_extension_pop_up",e.OnboardingPresets="onboarding_presets_desktop",e.B2bUpsellWebTrialInApp="b2b_upsell_webtrial_inapp",e.NewBrowserExtensionInAppNotifications="new_browser_extension_notification",e.RateChromeBrowserInAppNotifications="rate_chrome_browser_notification",e.FileStorageImagePreview="file_storage_image_preview",e.AutofillChangeType="autofill_change_type",e.PersistentUserSession="persistent_user_session",e.MultipleURLs="multiple_urls",e.DataBreachScanner2="data_breach_scanner_2_desktop",e.GreetingCards="greeting_cards_desktop",e.VaultRecommendations="vault_recommendations_desktop"}(Nr||(Nr={})),function(e){e.Start="start",e.End="end"}(Mr||(Mr={}));var Dr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};const Lr={name:"AES-GCM",length:256},Ur={name:"ECDH",namedCurve:"P-384"};function Fr(e){return Array.prototype.map.call(new Uint8Array(e),(e=>e.toString(16).padStart(2,"0"))).join("")}function Br(e){const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.substring(n,n+2),16);return t}function Gr(e){return Dr(this,void 0,void 0,(function*(){return crypto.subtle.importKey("raw",e,Lr,!0,["encrypt","decrypt"])}))}function jr(e){return Dr(this,void 0,void 0,(function*(){return Gr(Br(e))}))}function Vr(e){return Dr(this,void 0,void 0,(function*(){return Fr(yield crypto.subtle.exportKey("raw",e))}))}function Hr(e,t){return Dr(this,void 0,void 0,(function*(){const n=yield function(e){return Dr(this,void 0,void 0,(function*(){return crypto.subtle.importKey("raw",Br(e),Ur,!1,[])}))}(e),r=yield crypto.subtle.deriveBits(Object.assign(Object.assign({},Ur),{public:n}),t,384);return function(e){return Dr(this,void 0,void 0,(function*(){return Gr(new Uint8Array(e))}))}(yield crypto.subtle.digest("SHA-256",r))}))}function Kr(e,t){return Dr(this,void 0,void 0,(function*(){const n=crypto.getRandomValues(new Uint8Array(12)),r=(new TextEncoder).encode(e),s=yield crypto.subtle.encrypt(Object.assign(Object.assign({},Lr),{iv:n}),t,r);return Fr(function(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(n,new Uint8Array(s)))}))}function Wr(e,t){return Dr(this,void 0,void 0,(function*(){const n=Br(e),r=n.slice(0,12),s=n.slice(12),o=yield crypto.subtle.decrypt(Object.assign(Object.assign({},Lr),{iv:r}),t,s);return(new TextDecoder).decode(new Uint8Array(o))}))}var qr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},Yr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};let zr=null,$r=0,Xr=null;const Qr=new Map;function Zr(e){return qr(this,void 0,void 0,(function*(){if(e.type&&Qn.includes(e.type))return e;if(e.type&&!e.data)return{};try{const t=yield Wr(e.data,Xr);return JSON.parse(t)}catch(e){return{error:w.Message}}}))}const Jr=gn(es);function es(e,t){if(!zr||zr.readyState!==WebSocket.OPEN)throw new Er("Something went wrong. Please check back shortly.",{name:T});return e.type?new Promise(((n,r)=>{$r>=Number.MAX_SAFE_INTEGER&&($r=0);const s=null!==t&&void 0!==t?t:++$r;return c(t)&&Qr.set(s,{handler:e=>{var{error:t,info:s}=e,o=Yr(e,["error","info"]);return t?r(Error((null===s||void 0===s?void 0:s.translation)||t)):n(Object.assign(Object.assign({},s),o))},type:e.type,content:e}),Xr||e.type!==k.LogExtensionError?e.type&&Qn.includes(e.type)?void zr.send(JSON.stringify(Object.assign(Object.assign({id:s},e),{browser:wr()}))):Xr?void Kr(JSON.stringify(Object.assign(Object.assign({},e),{browser:wr()})),Xr).then((e=>zr.send(JSON.stringify({id:s,data:e})))).catch((e=>{Qr.delete(s),r(e)})):(Jr(D.Error,"socketMessenger:sendMessage","no key when trying to encrypt"),ss(e),void cs(!0)):(zr.send(JSON.stringify(Object.assign(Object.assign({id:s},e),{browser:wr(),type:k.LogExtensionErrorPlain}))),void Qr.delete(s))})):(Jr(D.Error,"socketMessenger:sendMessage",Error(`message without type: ${e}`)),Promise.reject())}function ts(n){return qr(this,void 0,void 0,(function*(){_.set({authState:n}),function(e){qr(this,void 0,void 0,(function*(){if(e===Zn.Authenticated)try{const{domains:e}=yield es({type:k.NeverSavedGet});_.set({[t.NeverSavedSites]:e})}catch(e){_.set({[t.NeverSavedSites]:[]})}else _.set({[t.NeverSavedSites]:[]})}))}(n);let r=[];try{r=(yield es({type:k.GetFeatures})).features,r&&_.set({[t.Features]:r})}catch(e){Jr(D.Error,"handleAuthStateChange: get_features",e)}try{const{theme:e}=yield es({type:k.GetAppTheme});e&&_.set({[t.AppTheme]:e})}catch(e){Jr(D.Error,"handleAuthStateChange:GET_APP_THEME",e)}try{const{language:e}=yield es({type:k.GetAppLocale});e&&_.set({[t.AppLanguage]:e})}catch(e){Jr(D.Error,"handleAuthStateChange:GET_APP_LANGUAGE",e)}if(ur(r,Nr.MigrateTokensToStandalone)){try{const{uuid:e}=yield es({type:k.GetUserUuid});e&&_.set({[kr.UserId]:e})}catch(e){Jr(D.Error,"handleAuthStateChange:DESKTOP/GET_UUID",e)}try{const{accounts:e}=yield es({type:k.AccountList});e&&_.set({[kr.AccountList]:e})}catch(e){Jr(D.Error,"handleAuthStateChange:ACCOUNT/LIST",e)}}const{appState:s}=yield _.get({[t.AppState]:e.NeedApprove});!function(t,n){t===e.Ready&&n===Zn.Authenticated?yr(o.Unlocked):yr(o.Locked)}(s,n)}))}function ns(n){return qr(this,void 0,void 0,(function*(){if(!n.type&&!n.data)return;const r=yield Zr(n);switch(r.type){case Yn.AppStateChange:!function(n){qr(this,void 0,void 0,(function*(){if(yield Ar(n),n===e.Ready){_.remove(t.ApproveCode);const e=yield Vr(Xr);yield _.set({[t.Key]:e});try{const{state:e}=yield es({type:k.UserIsAuth});ts(e)}catch(e){Jr(D.Error,"handleAppStateChange:",e)}}}))}(r.value);break;case Yn.UserStateChange:ts(r.state);break;case Yn.NeverSaveSiteChange:_.set({[t.NeverSavedSites]:r.domains});break;case Yn.AccountChanged:case Yn.VaultChange:case Yn.UserEmailChange:case Yn.AvatarChanged:case Yn.AccountSwitching:case Yn.AccountListChanged:Rr(r).catch((e=>{0}));break;case M.CredentialCreateSuccess:case M.CredentialGetSuccess:Or(r,Jr);break;case Yn.OnlineStatusChange:yield _.set({[t.OnlineStatus]:r.status});break;case Yn.AppThemeChange:yield _.set({[t.AppTheme]:r.theme});break;case Yn.AppLanguageChange:yield _.set({[t.AppLanguage]:r.language});break;case Yn.RefreshApproveCode:Xr=yield as();break;case Yn.FeatureListChange:Array.isArray(r.features)&&_.set({[t.Features]:r.features});break;case Yn.OnboardingProgressChanged:case Yn.OrganizationInfoChanged:case Yn.OrganizationInvitesChanged:case Yn.ServicesChanged:case Yn.RecoveryChanged:break;default:Jr(D.Error,"socketMessenger:handleNotification:",`Unknown notification type: ${r.type}`)}}))}let rs=[];const ss=e=>{e.id&&Qr.has(e.id)&&rs.push(e.id)};function os(e){var n,r;return qr(this,void 0,void 0,(function*(){try{const s=JSON.parse(e.data);if(0===s.id)yield ns(s);else{const e=yield Zr(s);e.type===k.AppLogin&&(yield _.set({[t.DesktopVersion]:e.desktopVersion}),yield _.set({[t.AppTheme]:e.theme||Wn.Light}),yield _.set({[t.Environment]:e.environment||xr.Production}),rs.forEach((e=>{const t=Qr.get(e);t&&es(t.content,e)})),rs=[]),e.type===k.MasterValidate&&(yield _.set({[t.IsValidatingMasterPassword]:!1}),e.error&&(yield _.set({[t.MasterPasswordValidationError]:(null===(n=e.info)||void 0===n?void 0:n.translation)||e.error}))),e.type===M.RequestHandshake?ss(e):(null===(r=Qr.get(s.id))||void 0===r||r.handler(e),Qr.delete(s.id))}}catch(e){Jr(D.Error,"socketMessenger:handleMessage:",e)}}))}function is(){return qr(this,void 0,void 0,(function*(){const{extensionId:e}=yield _.get({[t.ExtensionId]:""});if(e)return e;const n=Kn();return yield _.set({[t.ExtensionId]:n}),n}))}function as(){return qr(this,void 0,void 0,(function*(){const e=yield crypto.subtle.generateKey(Ur,!0,["deriveBits"]),n=yield Vr(e.publicKey),r=yield is(),s=yield es({type:k.AppLogin,key:n,isFullScreen:St(),extensionId:r}),o=yield Hr(s.key,e.privateKey),i=yield crypto.subtle.exportKey("raw",o),a=new Uint8Array(i,0,2).join("").padStart(4,"0").substring(0,4);return yield _.set({[t.AppInstalled]:!0,[t.ApproveCode]:a}),o}))}const cs=(n=!1)=>qr(void 0,void 0,void 0,(function*(){try{yield Ar(e.Loading);const{key:r}=yield _.get({[t.Key]:""});if(r&&!n){Xr=yield jr(r);const n=yield is(),s=yield Kr("ok",Xr),{isDesktopLaunchedOnSameUser:o}=yield es({type:k.AppLogin,extensionId:n,check:s});if(o){yield Ar(e.Ready),yield _.set({[t.AppInstalled]:!0});const{state:n}=yield es({type:k.UserIsAuth});ts(n)}else yield Ar(e.Closed),null===zr||void 0===zr||zr.close()}else n&&(yield _.remove(t.ExtensionId)),Xr=yield as(),yield Ar(e.NeedApprove),Ot("")}catch(n){Jr(D.Error,"Socket handshake:",n),n.message===w.Key?(Xr=null,yield _.remove(t.Key)):n.message===w.Extension?(zr.onclose=g,yield Ar(e.Crashed)):n.message===w.Message?yield Ar(e.NotCompatible):yield Ar(e.Crashed),zr.close()}})),ls=t=>qr(void 0,void 0,void 0,(function*(){var n;[$n,Xn].includes(t.code)&&(n=t.code,zr.onclose=g,Xn===n&&ds().catch((()=>Ar(e.Crashed))),$n===n&&Ar(e.FailedApprove),zr.close()),(null===zr||void 0===zr?void 0:zr.readyState)===WebSocket.CLOSED&&(yield Ar(e.Closed))})),ds=()=>qr(void 0,void 0,void 0,(function*(){if(zr&&zr.readyState===WebSocket.OPEN)return Promise.resolve();let t;Qr.forEach(((e,t)=>{var n;null===(n=Qr.get(t))||void 0===n||n.handler({error:"App closed"})})),Qr.clear();try{const e=zn.map((e=>new Promise(((t,n)=>((e,t,n)=>qr(void 0,void 0,void 0,(function*(){try{const r=new WebSocket(`ws://localhost:${e}`);r.onopen=()=>t(r),r.onmessage=os,r.onclose=e=>ls(e),r.onerror=e=>{n(),e&&e.message&&Jr(D.Error,"Socket error:",e)}}catch(e){Jr(D.Error,"Socket init:",e),n()}})))(e,t,n)))));t=yield Promise.any(e)}catch(e){t=null}return zr&&zr.readyState===WebSocket.OPEN&&t?t.close():t?(zr=t,cs(),Promise.resolve()):(yield Ar(e.Closed),Promise.reject(Error("desktop closed")))})),us=gn(es);var ps=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};let hs;hs=n(3150);var ms,_s;!function(e){e.TapEmptyStateAddItem="tap_emptyState_addItem",e.TapEmptyStateImportItems="tap_emptyState_importItems",e.TapEmptyStateLogIn="tap_emptyState_logIn",e.TapEmptyStateAddItemAddLogin="tap_emptyState_addItem_addLogin",e.TapEmptyStateAddItemAddSecureNote="tap_emptyState_addItem_addSecureNote",e.TapEmptyStateAddItemAddCC="tap_emptyState_addItem_addCC",e.TapEmptyStateAddItemAddPersonalInfo="tap_emptyState_addItem_addPersonalInfo",e.TapAvatar="tap_avatar",e.TapSearch="tap_search",e.TapAllItems="tap_allItems",e.TapLogins="tap_logins",e.TapSecureNotes="tap_secureNotes",e.TapCC="tap_CC",e.TapPersonalInfo="tap_personalInfo",e.TapPasskeys="tap_passkeys",e.TapSharedItems="tap_sharedItems",e.TapTrash="tap_trash",e.TapAddNewFolder="tap_addNewFolder",e.TapAddNewSharedFolder="tap_addNewSharedFolder",e.TapSettings="tap_settings",e.TapAddNewFolderClose="tap_addNewFolder_close",e.TapAddNewSharedFolderClose="tap_addNewSharedFolder_close",e.TapAddNewFolderAddNewFolder="tap_addNewFolder_addNewFolder",e.TapAddNewSharedFolderAddNewFolder="tap_addNewSharedFolder_addNewFolder",e.TapFolderConvertToSharedFolder="tap_folder_convertToSharedFolder",e.TapAddNewSharedFolderShareWithOwners="tap_addNewSharedFolder_shareWithOwners",e.TapAddNewSharedFolderShareWithOwnersAndOthers="tap_addNewSharedFolder_shareWithOwnersAndOthers",e.TapAllItemsListAddItem="tap_allItemsList_addItem",e.TapAllItemsListAddItemAddLogin="tap_allItemsList_addItem_addLogin",e.TapAllItemsListAddItemAddSecureNote="tap_allItemsList_addItem_addSecureNote",e.TapAllItemsListAddItemAddCC="tap_allItemsList_addItem_addCC",e.TapAllItemsListAddItemAddPersonalInfo="tap_allItemsList_addItem_addPersonalInfo",e.TapDeleteSharedFolder="tap_delete_shared_folder",e.TapMoveSharedFolder="tap_move_to_shared_folder",e.TapDeleteItem="tap_delete_item",e.TapShareFolder="tap_share_folder",e.TapEmptyStateLoginsAddLogin="tap_emptyStateLogins_addLogin",e.TapEmptyStateLoginsImportLogins="tap_emptyStateLogins_importLogins",e.TapLoginEditScreenShow="tap_loginEditScreen_show",e.TapLoginEditScreenSave="tap_loginEditScreen_Save",e.TapLoginEditScreenCancel="tap_loginEditScreen_Cancel",e.TapPasskeyEditScreenSave="tap_passkeyEditScreen_Save",e.TapPasskeyEditScreenCancel="tap_passkeyEditScreen_Cancel",e.TapOnLoginItem="tap_on_loginItem",e.TapMoreActions="tap_moreActions",e.TapCopyEmailUsername="tap_copyEmailUsername",e.TapCopyPassword="tap_copyPassword",e.TapCopyNote="tap_copyNote",e.TapEdit="tap_edit",e.TapShare="tap_share",e.TapMoveToFolder="tap_moveToFolder",e.TapMoveToTrash="tap_moveToTrash",e.TapAddLogin="tap_addLogin",e.TapCheckBox="tap_checkBox",e.TapBulkCheckBox="tap_bulkCheckBox",e.TapBulkMoveToFolder="tap_bulkMoveToFolder",e.TapBulkMoveToTrash="tap_bulkMoveToTrash",e.TapLoginViewWebIcon="tap_loginView_webIcon",e.TapLoginViewEdit="tap_loginView_edit",e.TapLoginViewShare="tap_loginView_share",e.TapLoginViewTrash="tap_loginView_trash",e.TapLoginViewBack="tap_loginView_back",e.TapLoginViewEmailUsernameCopy="tap_loginView_emailUsernameCopy",e.TapPasskeyViewEmailUsernameCopy="tap_passkeyView_emailUsernameCopy",e.TapLoginViewPasswordShow="tap_loginView_passwordShow",e.TapLoginViewPasswordCopy="tap_loginView_passwordCopy",e.TapLoginViewWebsiteLaunch="tap_loginView_websiteLaunch",e.TapPasskeyViewWebsiteLaunch="tap_passkeyView_websiteLaunch",e.TapLoginViewWebsiteCopy="tap_loginView_websiteCopy",e.TapPasskeyViewWebsiteCopy="tap_passkeyView_websiteCopy",e.TapPasswordGeneratorRefresh="tap_passwordGenerator_refresh",e.TapPasswordGeneratorUsePassword="tap_passwordGenerator_usePassword",e.TapPasswordGenerator="tap_passwordGenerator",e.TapExtensionPasswordGeneratorRefresh="ext_tap_passwordGenerator_refresh",e.TapExtensionPasswordGeneratorUsePassword="ext_tap_passwordGenerator_usePassword",e.TapExtensionPasswordGenerator="ext_tap_passwordGenerator",e.PremiumBannerShown="banner_showed_1",e.ConfirmationBannerShown="banner_showed_2",e.TrialTap="trial_tap",e.ExitTap1="exit_tap_1",e.ExitTap2="exit_tap_2",e.HealthTap="health_tap",e.ScanTap="scan_tap",e.PremiumShareItemModal="share_item_modal",e.PremiumSaleShown="offer_modal_desktop_shown",e.PremiumSaleTap="offer_modal_desktop_tap",e.PremiumSaleExit="offer_modal_desktop_exit",e.PremiumSaleTrialTap="offer_modal_trial_desktop_tap",e.PremiumSaleRibbonTap="sale_ribbon_desktop",e.PremiumSaleBannerExtension="sale_banner_extension",e.PremiumBannerExtension="generic_banner_extension",e.B2BUpsellBannerClickedExtension="b2b_upsell_banner_clicked_extension",e.PremiumUpgradeModalTapBreachScanner="premium_upgrade_modal_desktop_tap_breach_scanner",e.PremiumUpgradeModalTapPasswordHealth="premium_upgrade_modal_desktop_tap_password_health",e.PremiumUpgradeModalTapEmergencyAccess="premium_upgrade_modal_desktop_tap_emergency_access",e.PremiumUpgradeModalTapShare="premium_upgrade_modal_desktop_tap_share",e.PremiumUpgradeModalTapFileStorage="premium_upgrade_modal_desktop_tap_storage",e.PremiumUpgradeModalTapTrustedContacts="premium_upgrade_modal_desktop_tap_trusted_contacts",e.PremiumUpgradeModalShowPasswordHealth="premium_upgrade_modal_password_health_show",e.PremiumUpgradeModalShowEmergencyAccess="premium_upgrade_modal_emergency_access_show",e.PremiumUpgradeModalShowShare="premium_upgrade_modal_share_show",e.PremiumUpgradeModalShowFileStorage="premium_upgrade_modal_storage_show",e.PremiumUpgradeModalShowTrustedContacts="premium_upgrade_modal_trusted_contacts_show",e.PremiumUpgradeModalExitPasswordHealth="premium_upgrade_modal_password_health_exit",e.PremiumUpgradeModalExitEmergencyAccess="premium_upgrade_modal_emergency_access_exit",e.PremiumUpgradeModalExitShare="premium_upgrade_modal_share_exit",e.PremiumUpgradeModalExitFileStorage="premium_upgrade_modal_storage_exit",e.PremiumUpgradeModalExitTrustedContacts="premium_upgrade_modal_trusted_contacts_exit",e.PremiumUpgradeModalShown="premium_upgrade_modal_desktop_shown",e.PremiumUpgradeModalExit="premium_upgrade_modal_desktop_exit",e.CurrentSaleModalTap="sale_modal_tap",e.CurrentSaleModalTrialTap="sale_modal_trial_tap",e.CurrentSaleModalShown="sale_modal_show",e.CurrentSaleModalExitTap="sale_modal_exit",e.BundleDealModalTapA="bundle_deal_modal_a_tap",e.BundleDealModalShowA="bundle_deal_modal_a_show",e.BundleDealModalExitA="bundle_deal_modal_a_exit",e.BundleDealModalTapB="bundle_deal_modal_b_tap",e.BundleDealModalShowB="bundle_deal_modal_b_show",e.BundleDealModalExitB="bundle_deal_modal_b_exit",e.BundleDealModalTapPassB="bundle_deal_modal_b_tap_pass",e.BundleDealModalTapVpnB="bundle_deal_modal_b_tap_vpn",e.BundleDealModalTapLockerB="bundle_deal_modal_b_tap_locker",e.BundleDealModalShowPassB="bundle_deal_modal_b_show_pass",e.BundleDealModalShowVpnB="bundle_deal_modal_b_show_vpn",e.BundleDealModalShowLockerB="bundle_deal_modal_b_show_locker",e.SwitchDevicesModalTestBShow="switch_between_devices_modal_show_test_b",e.SwitchDevicesModalTestBExit="switch_between_devices_modal_exit_test_b",e.SwitchDevicesModalTestBCTA="switch_between_devices_modal_cta_test_b",e.WelcomeToPremiumModalClose="welcome_to_premium_close",e.GreetingCardWelcomeClose="greeting_card_welcome_close_click",e.GreetingCardWelcomeArrowLeft="greeting_card_welcome_left_arrow_click",e.GreetingCardWelcomeArrowRight="greeting_card_welcome_right_arrow_click",e.GreetingCardDataBreachClose="greeting_card_data_breach_close_click",e.GreetingCardDataBreachArrowLeft="greeting_card_data_breach_left_arrow_click",e.GreetingCardDataBreachArrowRight="greeting_card_data_breach_right_arrow_click",e.GreetingCardPasswordHealthClose="greeting_card_password_health_close_click",e.GreetingCardPasswordHealthArrowLeft="greeting_card_password_health_left_arrow_click",e.GreetingCardPasswordHealthArrowRight="greeting_card_password_health_right_arrow_click",e.GreetingCardShareClose="greeting_card_share_close_click",e.GreetingCardShareArrowLeft="greeting_card_share_left_arrow_click",e.GreetingCardShareArrowRight="greeting_card_share_right_arrow_click",e.GreetingCardAttachmentsClose="greeting_card_attachments_close_click",e.GreetingCardAttachmentsArrowLeft="greeting_card_attachments_left_arrow_click",e.GreetingCardAttachmentsArrowRight="greeting_card_attachments_right_arrow_click",e.GreetingCardEmergencyAccessClose="greeting_card_emergency_access_close_click",e.GreetingCardEmergencyAccessArrowLeft="greeting_card_emergency_access_left_arrow_click",e.GreetingCardEmergencyAccessArrowRight="greeting_card_emergency_access_right_arrow_click",e.AfterTrialRibbonTap="after_trial_users_ribbon_tap",e.B2BUpsellBannerClickedDesktop="b2b_upsell_banner_clicked_desktop",e.AddPasswordFreeUserTap="add_password_free_user_tap",e.ImportPasswordsFreeUserTap="import_passwords_free_user_tap",e.AddExtensionFreeUserTap="add_extesnion_free_user_tap",e.RecoveryCodeFreeUserTap="recovery_code_free_user_tap",e.TryTrialNoFreeUserTap="try_trial_no_free_user_tap",e.OnboardingNotification1Tap="notification_tap1",e.OnboardingNotification1ExitTap="exit_tap_1",e.OnboardingNotification1Showed="notification_showed_1",e.OnboardingNotification2Tap="notification_tap2",e.OnboardingNotification2ExitTap="exit_tap_2",e.OnboardingNotification2Showed="notification_showed_2",e.OnboardingNotification3Tap="notification_tap3",e.OnboardingNotification3ExitTap="exit_tap_3",e.OnboardingNotification3Showed="notification_showed_3",e.AnotherDeviceFreeUserTap="another_device_free_user_tap",e.AddPasswordPremiumUserTap="add_password_premium_user_tap",e.ImportPasswordsPremiumUserTap="import_passwords_premium_user_tap",e.AddExtensionPremiumUserTap="add_extension_premium_user_tap",e.AnotherDevicePremiumUserTap="another_device_premium_user_tap",e.RecoveryCodePremiumUserTap="recovery_code_premium_user_tap",e.SitePresetsOpened="site_presets_opened",e.SitePresetsSkipped="site_presets_skipped",e.SitePresetsSelectPopular="site_presets_select_popular",e.SitePresetsSelectSuggestion="site_presets_select_suggestion",e.OnboardingIntroViewed="ob_intro_viewed",e.OnboardingIntroSkipped="ob_intro_skipped",e.OnboardingIntroImport="ob_intro_import",e.OnboardingIntroManual="ob_intro_manual",e.OnboardingManualTemplatesViewed="ob_manual_templates_viewed",e.OnboardingManualTemplatesSkipped="ob_manual_templates_skipped",e.OnboardingManualTemplatesPopular="ob_manual_templates_popular",e.OnboardingManualTemplatesSuggestion="ob_manual_templates_suggestion",e.OnboardingManualTemplatesCustom="ob_manual_templates_custom",e.OnboardingManualTemplatesContinue="ob_manual_templates_continue",e.OnboardingManualFormViewed="ob_manual_form_viewed",e.OnboardingManualFormSkipped="ob_manual_form_skipped",e.OnboardingManualFormComplete="ob_manual_form_complete",e.OnboardingImportViewed="ob_import_viewed",e.OnboardingImportSkipped="ob_import_skipped",e.OnboardingImportChrome="ob_import_chrome",e.OnboardingImportFirefox="ob_import_firefox",e.OnboardingImportSafari="ob_import_safari",e.OnboardingImportEdge="ob_import_edge",e.OnboardingImportOpera="ob_import_opera",e.OnboardingImportBrave="ob_import_brave",e.OnboardingImportLastpass="ob_import_lastpass",e.OnboardingImport1Password="ob_import_1password",e.OnboardingImportDashlane="ob_import_dashlane",e.OnboardingImportKeepass="ob_import_keepass",e.OnboardingImportKeepassx="ob_import_keepassx",e.OnboardingImportKeeper="ob_import_keeper",e.OnboardingImportBitwarden="ob_import_bitwarden",e.OnboardingImportTruekey="ob_import_truekey",e.OnboardingImportRoboform="ob_import_roboform",e.OnboardingImportRemembear="ob_import_remembear",e.OnboardingImportUploadViewed="ob_import_upload_viewed",e.OnboardingImportUploadUploaded="ob_import_upload_uploaded",e.OnboardingImportUploadSkipped="ob_import_upload_skipped",e.OnboardingImportReviewViewed="ob_import_review_viewed",e.OnboardingImportReviewImported="ob_import_review_imported",e.OnboardingImportReviewSkipped="ob_import_review_skipped",e.ImportWindowOpened="import_window_opened",e.ImportFileUploaded="import_file_uploaded",e.TapImportWindowClose="tap_import_window_close",e.TapImportImport="tap_import_import",e.TapImportChrome="tap_import_chrome",e.TapImportFirefox="tap_import_firefox",e.TapImportEdge="tap_import_edge",e.TapImportOpera="tap_import_opera",e.TapImportBrave="tap_import_brave",e.TapImportSafari="tap_import_safari",e.TapImportLastPass="tap_import_lastpass",e.TapImport1Password="tap_import_1password",e.TapImportDashlane="tap_import_dashlane",e.TapImportKeePass="tap_import_KeePass",e.TapImportKeePassX="tap_import_KeePassX",e.TapImportRemembear="tap_import_Remembear",e.TapImportKeeper="tap_import_Keeper",e.TapImportBitWarden="tap_import_BitWarden",e.TapImportTrueKey="tap_import_TrueKey",e.TapImportRoboForm="tap_import_RoboForm",e.TapImportOther="tap_import_other",e.ExportStarted="export_started",e.ExportCompleted="export_completed",e.GetStartedTap="get_started_tap",e.CongratulationsOnboarding="congratulations_onboarding",e.ReferralEmailSend="referral_desktop_send",e.ReferralCodeCopy="referral_desktop_copy",e.ReferralScreenOpen="referral_desktop_open",e.ReferralScreenClose="referral_desktop_exit",e.PasswordHealth="password_health",e.PasswordHealthExtension="password_health_extension",e.PasswordHealthPushSend="pass_health_push_send",e.PasswordHealthPushTap="pass_health_push_tap",e.PasswordHealthWeakTap="weak_passwords_tap",e.PasswordHealthReusedTap="reused_passwords_tap",e.PasswordHealthOldTap="old_passwords_tap",e.PasswordHealthChangeTap="change_password_password_health_tap",e.PasswordHealthShowPasswordTap="show_password_pass_health_tap",e.EmergencyAccess="emergency_access",e.EmergencyAccessGiveAccessTap="emergency_give_access_tap",e.EmergencyAccessSuccess="emergency_access_success",e.EmergencyAccessAccept="emergency_accept",e.EmergencyAccessDecline="emergency_decline",e.EmergencyAccessRevoke="emergency_revoke",e.EmergencyAccessRemove="emergency_remove",e.EmergencyAccessRequestToSeePasswords="emergency_request_to_see_passwords",e.EmergencyAccessCancel="emergency_cancel_request",e.EmergencyAccessGrantRequest="emergency_grant_access_request",e.EmergencyAccessDeclineRequest="emergency_decline_request",e.EmergencyAccessSeePasswords="emergency_see_passwords",e.TapCopyPasswordFromItem="password_copy_password",e.TapCopyUsernameFromItem="password_copy_username",e.TapCopyValueFromIdentity="autofill_copy_identity",e.TapCopyValueFromCC="autofill_copy_cc",e.NoteAddedToPassword="note_added_to_password",e.AddAccountDesktop="add_account_desktop",e.SwitchAccount="switch_account",e.TapReferralOption="referral_settings",e.TapUpgradeButton="upgrade_button_tap",e.TapFreeUserBanner="free_users_banner_tap",e.TapFreeTrialBanner="free_trial_banner_settings_tap",e.TapPremiumBanner="premium_banner_settings_tap",e.TapFamilyBanner="family_plan_settings_tap",e.EnableBiometrics="settings_biometrics_enabled",e.DisableBiometrics="settings_biometrics_disabled",e.StartAccountDelete="delete_account_start",e.ConfirmAccountDelete="delete_account_confirm",e.BreachReport="breach_report",e.BreachReportExtension="breach_report_extension",e.TapUpgradeBreachScanner="premium_upgrade_tap_breach_scanner",e.BreachMonitoringAddTap="breach_monitoring_add_tap",e.BreachMonitoringAdd="breach_monitoring_add",e.BreachMonitoringRemove="breach_monitoring_remove",e.BreachReportResolvedTap="breach_report_resolved_tap",e.BreachReportUnresolvedTap="breach_report_unresolved_tap",e.BreachReportShowLeakedDataTap="breach_report_show_leaked_data_tap",e.DataBreachScannerConsentAccepted="data_breach_scanner_consent_accepted",e.TapLock="tap_lock",e.TapNotificationReferralFirstNudge="tap_in_app_notification_referral_first_nudge",e.TapNotificationReferralSecondNudge="tap_in_app_notification_referral_second_nudge",e.TapNotificationReferralThirdNudge="tap_in_app_notification_referral_third_nudge",e.TapNotificationSharedItem="tap_in_app_notification_shared_item",e.SeenNotificationBusiness="b2b_notification_test_seen",e.TapNotificationBusinessReferral="b2b_notification_test_clicked",e.TapNotificationUnpaidPremium1Week="notification_unpaidpremium_clicked1",e.SeenNotificationUnpaidPremium1Week="notification_unpaidpremium_seen1",e.TapNotificationUnpaidPremium1Day="notification_unpaidpremium_clicked2",e.SeenNotificationUnpaidPremium1Day="notification_unpaidpremium_seen2",e.TapNotificationUnpaidPremiumExpired="notification_unpaidpremium_clicked3",e.SeenNotificationUnpaidPremiumExpired="notification_unpaidpremium_seen3",e.TapNotificationBreachMonitoringFree="notification_monitoring_inform_clicked1",e.SeenNotificationBreachMonitoringFree="notification_monitoring_inform_seen1",e.TapNotificationBreachMonitoringPremium="notification_monitoring_inform_clicked2",e.SeenNotificationBreachMonitoringPremium="notification_monitoring_inform_seen2",e.TapNotificationBreachScannerFree="notification_breach_report_upsell_clicked",e.SeenNotificationBreachScannerFree="notification_breach_report_upsell_seen",e.TapNotificationBreachScannerNewPremium="notification_breach_report_try_clicked",e.SeenNotificationBreachScannerNewPremium="notification_breach_report_try_seen",e.TapNotificationBreachScannerPremium="notification_breach_report_check_clicked",e.SeenNotificationBreachScannerPremium="notification_breach_report_check_seen",e.SeenNotificationNewBrowserExtension="desktop_stallone_notification_seen",e.TapNotificationNewBrowserExtension="desktop_stallone_notification_clicked",e.SeenNotificationRateApp="notification_rate_app_seen",e.TapNotificationRateApp="notification_rate_app_clicked",e.AutofillEnabled="extension_autofill_enabled",e.AutofillDisabled="extension_autofill_disabled",e.AutofillEnabledField="extension_autofill_enabled_field",e.AutofillDisabledField="extension_autofill_disabled_field",e.AutofillIntentionClick="_autofill_intention",e.ReportStarted="report_started",e.ReportCanceled="report_canceled",e.ChangeTypeFeatureTooltipShow="change_type_onboarding_tooltip_premium_show",e.ChangeTypeFeatureTooltipExit="change_type_onboarding_tooltip_premium_exit",e.PasswordHistoryRestore="password_history_restore",e.PasswordHistoryTap="password_history_tap",e.ExtensionStalloneBannerSeen="extension_stallone_banner_seen",e.ExtensionStalloneBannerClicked="extension_stallone_banner_clicked",e.AttachmentAddedPassword="password_attachment_added",e.AttachmentAddedCreditCard="credit_card_attachment_added",e.AttachmentAddedPersonalInfo="identity_attachment_added",e.AttachmentAddedNote="note_attachment_added",e.AttachmentAddedPasskey="passkey_attachment_added",e.AttachmentTapPassword="password_attachment_added_tap",e.AttachmentTapCreditCard="credit_card_attachment_added_tap",e.AttachmentTapPersonalInfo="identity_attachment_added_tap",e.AttachmentTapNote="note_attachment_added_tap",e.AttachmentTapPasskey="passkey_attachment_added_tap",e.AttachmentDeletedPassword="password_attachment_deleted",e.AttachmentDeletedCreditCard="credit_card_attachment_deleted",e.AttachmentDeletedPersonalInfo="identity_attachment_deleted",e.AttachmentDeletedPasskey="passkey_attachment_deleted",e.AttachmentDeletedNote="note_attachment_deleted",e.AttachmentDeletedTapPassword="password_attachment_deleted_tap",e.AttachmentDeletedTapCreditCard="credit_card_attachment_deleted_tap",e.AttachmentDeletedTapPersonalInfo="identity_attachment_deleted_tap",e.AttachmentDeletedTapPasskey="passkey_attachment_deleted_tap",e.AttachmentDeletedTapNote="note_attachment_deleted_tap",e.AttachmentDownloadedPassword="password_attachment_downloaded",e.AttachmentDownloadedCreditCard="credit_card_attachment_downloaded",e.AttachmentDownloadedPersonalInfo="identity_attachment_downloaded",e.AttachmentDownloadedNote="note_attachment_downloaded",e.AttachmentDownloadedPasskey="passkey_attachment_downloaded",e.AttachmentDownloadedTapPassword="password_attachment_downloaded_tap",e.AttachmentDownloadedTapCreditCard="credit_card_attachment_downloaded_tap",e.AttachmentDownloadedTapPersonalInfo="identity_attachment_downloaded_tap",e.AttachmentDownloadedTapNote="note_attachment_downloaded_tap",e.AttachmentDownloadedTapPasskey="passkey_attachment_downloaded_tap",e.AttachmentTapPasswordExtension="password_attachment_added_tap_ext",e.AttachmentTapCreditCardExtension="credit_card_attachment_added_tap_ext",e.AttachmentTapPersonalInfoExtension="identity_attachment_added_tap_ext",e.AttachmentTapNoteExtension="note_attachment_added_tap_ext",e.AttachmentTapPasskeyExtension="passkey_attachment_added_tap_ext",e.AttachmentDeletedPasswordExtension="password_attachment_deleted_ext",e.AttachmentDeletedCreditCardExtension="credit_card_attachment_deleted_ext",e.AttachmentDeletedPersonalInfoExtension="identity_attachment_deleted_ext",e.AttachmentDeletedPasskeyExtension="passkey_attachment_deleted_ext",e.AttachmentDeletedNoteExtension="note_attachment_deleted_ext",e.AttachmentDeletedTapPasswordExtension="password_attachment_deleted_tap_ext",e.AttachmentDeletedTapCreditCardExtension="credit_card_attachment_deleted_tap_ext",e.AttachmentDeletedTapPersonalInfoExtension="identity_attachment_deleted_tap_ext",e.AttachmentDeletedTapPasskeyExtension="passkey_attachment_deleted_tap_ext",e.AttachmentDeletedTapNoteExtension="note_attachment_deleted_tap_ext",e.AttachmentDownloadedTapPasswordExtension="password_attachment_downloaded_tap_ext",e.AttachmentDownloadedTapCreditCardExtension="credit_card_attachment_downloaded_tap_ext",e.AttachmentDownloadedTapPersonalInfoExtension="identity_attachment_downloaded_tap_ext",e.AttachmentDownloadedTapNoteExtension="note_attachment_downloaded_tap_ext",e.AttachmentDownloadedTapPasskeyExtension="passkey_attachment_downloaded_tap_ext",e.AttachmentViewTapPassword="password_attachment_view_tap",e.AttachmentViewTapCreditCard="credit_card_attachment_view_tap",e.AttachmentViewTapPersonalInfo="identity_attachment_view_tap",e.AttachmentViewTapNote="note_attachment_view_tap",e.AttachmentViewTapPasskey="passkey_attachment_view_tap",e.AttachmentViewTapPasswordExtension="password_attachment_view_tap_ext",e.AttachmentViewTapCreditCardExtension="credit_card_attachment_view_tap_ext",e.AttachmentViewTapPersonalInfoExtension="identity_attachment_view_tap_ext",e.AttachmentViewTapNoteExtension="note_attachment_view_tap_ext",e.AttachmentViewTapPasskeyExtension="passkey_attachment_view_tap_ext",e.NewFeatureOnboardingModalExit="new_feature_onboarding_modal_premium_exit",e.NewFeatureOnboardingModalShow="new_feature_onboarding_modal_premium_show",e.NewFeatureOnboardingModalTap="new_feature_onboarding_modal_premium_tap",e.NewFeatureOnboardingTagPremiumTap="new_feature_onboarding_tag_premium_tap",e.PassCustomTextCreatedAutosave="pass_custom_text_created_autosave",e.PassCustomHiddenCreatedAutosave="pass_custom_hidden_created_autosave",e.PassCustomTextCreatedManual="pass_custom_text_created_manual",e.PassCustomHiddenCreatedManual="pass_custom_hidden_created_manual",e.PassCustomFieldFill="pass_custom_field_fill",e.PassCustomTextCreatedEmptyManual="pass_custom_text_created_empty_manual",e.PassCustomTextCreatedEmptyAutosave="pass_custom_text_created_empty_autosave",e.PassCustomHiddenCreatedEmptyManual="pass_custom_hidden_created_empty_manual",e.PassCustomHiddenCreatedEmptyAutosave="pass_custom_hidden_created_empty_autosave",e.PassCustomFieldDeletedValue="pass_custom_field_deleted_value",e.PassCustomFieldDeletedEmpty="pass_custom_field_deleted_empty",e.PassCustomLabelEdited="pass_custom_label_edited",e.PassCustomFieldTypeEdited="pass_custom_field_type_edited",e.CustomTextCopied="custom_text_copied",e.CustomHiddenCopied="custom_hidden_copied",e.PersonalInfoCustomTextCreatedManual="pi_custom_text_created_manual",e.PersonalInfoCustomHiddenCreatedManual="pi_custom_hidden_created_manual",e.CreditCardCustomTextCreatedManual="cc_custom_text_created_manual",e.CreditCardCustomHiddenCreatedManual="cc_custom_hidden_created_manual",e.NoteCustomTextCreatedManual="note_custom_text_created_manual",e.NoteCustomHiddenCreatedManual="note_custom_hidden_created_manual",e.PersonalInfoCustomTextCreatedEmptyManual="pi_custom_text_created_empty_manual",e.PersonalInfoCustomHiddenCreatedEmptyManual="pi_custom_hidden_created_empty_manual",e.CreditCardCustomTextCreatedEmptyManual="cc_custom_text_created_empty_manual",e.CreditCardCustomHiddenCreatedEmptyManual="cc_custom_hidden_created_empty_manual",e.NoteCustomTextCreatedEmptyManual="note_custom_text_created_empty_manual",e.NoteCustomHiddenCreatedEmptyManual="note_custom_hidden_created_empty_manual",e.PersonalInfoCustomFieldFill="pi_custom_field_fill",e.CreditCardCustomFieldFill="cc_custom_field_fill",e.PersonalInfoCustomFieldDeletedValue="pi_custom_field_deleted_value",e.PersonalInfoCustomFieldDeletedEmpty="pi_custom_field_deleted_empty",e.CreditCardCustomFieldDeletedValue="cc_custom_field_deleted_value",e.CreditCardCustomFieldDeletedEmpty="cc_custom_field_deleted_empty",e.NoteCustomFieldDeletedValue="note_custom_field_deleted_value",e.NoteCustomFieldDeletedEmpty="note_custom_field_deleted_empty",e.PasskeyCustomFieldDeletedValue="passkey_custom_field_deleted_value",e.PasskeyCustomFieldDeletedEmpty="passkey_custom_field_deleted_empty",e.PersonalInfoCustomLabelEdited="pi_custom_label_edited",e.PersonalInfoCustomFieldTypeEdited="pi_custom_field_type_edited",e.CreditCardCustomLabelEdited="cc_custom_label_edited",e.CreditCardCustomFieldTypeEdited="cc_custom_field_type_edited",e.NoteCustomLabelEdited="note_custom_label_edited",e.NoteCustomFieldTypeEdited="note_custom_field_type_edited",e.PasskeyCustomLabelEdited="passkey_custom_label_edited",e.PasskeyCustomFieldTypeEdited="passkey_custom_field_type_edited",e.PersonalInfoCustomTextCopied="pi_custom_text_copied",e.PersonalInfoCustomHiddenCopied="pi_custom_hidden_copied",e.CreditCardCustomTextCopied="cc_custom_text_copied",e.CreditCardCustomHiddenCopied="cc_custom_hidden_copied",e.NoteCustomTextCopied="note_custom_text_copied",e.NoteCustomHiddenCopied="note_custom_hidden_copied",e.PasskeyCustomTextCopied="passkey_custom_text_copied",e.PasskeyCustomHiddenCopied="passkey_custom_hidden_copied",e.NordSecurityCenterInstall="nordsec_center_install",e.MultipleURLAdded="multiple_url_added",e.MultipleURLRemoved="multiple_url_removed",e.MultipleURLCopied="multiple_url_copied",e.MultipleURLLaunched="multiple_url_launched",e.MultipleURLFilled="multiple_url_filled",e.PasskeyRegisterPopupShown="passkey_register_shown",e.PasskeyRegisterPopupClosed="passkey_register_closed",e.PasskeyLoginPopupShown="passkey_login_shown",e.PasskeyLoginPopupClosed="passkey_login_closed",e.PasskeySavedToBrowser="passkey_saved_browser",e.PasskeyUsedFromApp="passkey_used_app",e.PasskeyUsedFromBrowser="passkey_used_browser",e.FileStorageFeatureTooltipShow="new_feature_onboarding_tooltip_premium_show",e.FileStorageFeatureTooltipExit="new_feature_onboarding_tooltip_premium_exit",e.LaunchWebsiteApp="launch_website_app",e.LaunchWebsiteExtension="launch_website_ext",e.ExtensionRatingRateClick="extension_rating_rate_click",e.ExtensionRatingCloseClick="extension_rating_close_click",e.ExtensionRatingShown="extension_rating_shown",e.AutoSaveRatingRateClick="auto_save_rating_rate_click",e.AutoSaveRatingShown="auto_save_rating_shown",e.RecoveryGet="recovery_get",e.RecoveryReset="recovery_reset",e.OnboardingRecoveryGet="ob_recovery_get",e.OnboardingRecoveryReset="ob_recovery_reset",e.PersistentSessionEnabled="persistent_session_enabled",e.PersistentSessionDisabled="persistent_session_disabled",e.PersistentSessionInSettingsEnabled="settings_persistent_session_enabled",e.PersistentSessionInSettingsDisabled="settings_persistent_session_disabled",e.AutolockRecommendationOpened="vrt_autolock_opened",e.AutolockRecommendationCompleted="vrt_autolock_completed",e.AutolockRecommendationClosed="vrt_autolock_closed",e.BiometricsRecommendationOpened="vrt_biometrics_opened",e.BiometricsRecommendationCompleted="vrt_biometrics_completed",e.BiometricsRecommendationClosed="vrt_biometrics_closed"}(ms||(ms={})),function(e){e.ItemViewed="item_viewed",e.ItemCopied="item_copied",e.ItemSecretViewed="item_secret_viewed",e.ItemAutofilled="item_autofilled"}(_s||(_s={}));const gs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,fs=Object.keys,ys=Array.isArray;function vs(e,t){return"object"!=typeof t||fs(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||gs.Promise||(gs.Promise=Promise);const As=Object.getPrototypeOf,Es={}.hasOwnProperty;function bs(e,t){return Es.call(e,t)}function Ss(e,t){"function"==typeof t&&(t=t(As(e))),("undefined"==typeof Reflect?fs:Reflect.ownKeys)(t).forEach((n=>{Ts(e,n,t[n])}))}const ws=Object.defineProperty;function Ts(e,t,n,r){ws(e,t,vs(n&&bs(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Cs(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ts(e.prototype,"constructor",e),{extend:Ss.bind(null,e.prototype)}}}}const Rs=Object.getOwnPropertyDescriptor;function Is(e,t){let n;return Rs(e,t)||(n=As(e))&&Is(n,t)}const Ps=[].slice;function Os(e,t,n){return Ps.call(e,t,n)}function xs(e,t){return t(e)}function ks(e){if(!e)throw new Error("Assertion Failed")}function Ns(e){gs.setImmediate?setImmediate(e):setTimeout(e,0)}function Ms(e,t){return e.reduce(((e,n,r)=>{var s=t(n,r);return s&&(e[s[0]]=s[1]),e}),{})}function Ds(e,t){if(bs(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var o=Ds(e,t[r]);n.push(o)}return n}var i=t.indexOf(".");if(-1!==i){var a=e[t.substr(0,i)];return void 0===a?void 0:Ds(a,t.substr(i+1))}}function Ls(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){ks("string"!=typeof n&&"length"in n);for(var r=0,s=t.length;r<s;++r)Ls(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var i=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===n?ys(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=n;else{var c=e[i];c&&bs(e,i)||(c=e[i]={}),Ls(c,a,n)}}else void 0===n?ys(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Us(e){var t={};for(var n in e)bs(e,n)&&(t[n]=e[n]);return t}const Fs=[].concat;function Bs(e){return Fs.apply([],e)}const Gs="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Bs([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>gs[e])),js=Gs.map((e=>gs[e]));Ms(Gs,(e=>[e,!0]));let Vs=null;function Hs(e){Vs="undefined"!=typeof WeakMap&&new WeakMap;const t=Ks(e);return Vs=null,t}function Ks(e){if(!e||"object"!=typeof e)return e;let t=Vs&&Vs.get(e);if(t)return t;if(ys(e)){t=[],Vs&&Vs.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Ks(e[n]))}else if(js.indexOf(e.constructor)>=0)t=e;else{const n=As(e);for(var s in t=n===Object.prototype?{}:Object.create(n),Vs&&Vs.set(e,t),e)bs(e,s)&&(t[s]=Ks(e[s]))}return t}const{toString:Ws}={};function qs(e){return Ws.call(e).slice(8,-1)}const Ys="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",zs="symbol"==typeof Ys?function(e){var t;return null!=e&&(t=e[Ys])&&t.apply(e)}:function(){return null},$s={};function Xs(e){var t,n,r,s;if(1===arguments.length){if(ys(e))return e.slice();if(this===$s&&"string"==typeof e)return[e];if(s=zs(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Qs="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var Zs="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Js(e,t){Zs=e,eo=t}var eo=()=>!0;const to=!new Error("").stack;function no(){if(to)try{throw no.arguments,new Error}catch(e){return e}return new Error}function ro(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(eo).map((e=>"\n"+e)).join("")):""}var so=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(so),io={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ao(e,t){this._e=no(),this.name=e,this.message=t}function co(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function lo(e,t,n,r){this._e=no(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=co(e,t)}function uo(e,t){this._e=no(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=co(e,t)}Cs(ao).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ro(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Cs(lo).from(ao),Cs(uo).from(ao);var po=oo.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const ho=ao;var mo=oo.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=no(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=io[t]||n,this.inner=null)}return Cs(r).from(ho),e[t]=r,e}),{});mo.Syntax=SyntaxError,mo.Type=TypeError,mo.Range=RangeError;var _o=so.reduce(((e,t)=>(e[t+"Error"]=mo[t],e)),{}),go=oo.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=mo[t]),e)),{});function fo(){}function yo(e){return e}function vo(e,t){return null==e||e===yo?t:function(n){return t(e(n))}}function Ao(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Eo(e,t){return e===fo?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ao(r,this.onsuccess):r),s&&(this.onerror=this.onerror?Ao(s,this.onerror):s),void 0!==o?o:n}}function bo(e,t){return e===fo?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ao(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ao(r,this.onerror):r)}}function So(e,t){return e===fo?t:function(n){var r=e.apply(this,arguments);vs(n,r);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Ao(s,this.onsuccess):s),o&&(this.onerror=this.onerror?Ao(o,this.onerror):o),void 0===r?void 0===i?void 0:i:vs(r,i)}}function wo(e,t){return e===fo?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function To(e,t){return e===fo?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}go.ModifyError=lo,go.DexieError=ao,go.BulkError=uo;var Co={};const Ro=100,[Io,Po,Oo]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,As(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,As(t),e]})(),xo=Po&&Po.then,ko=Io&&Io.constructor,No=!!Oo;var Mo=!1,Do=Oo?()=>{Oo.then(si)}:gs.setImmediate?setImmediate.bind(null,si):gs.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{si(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(si,0)},Lo=function(e,t){Wo.push([e,t]),Fo&&(Do(),Fo=!1)},Uo=!0,Fo=!0,Bo=[],Go=[],jo=null,Vo=yo,Ho={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Pi,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Pi(e[0],e[1])}catch(e){}}))}},Ko=Ho,Wo=[],qo=0,Yo=[];function zo(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=fo,this._lib=!1;var t=this._PSD=Ko;if(Zs&&(this._stackHolder=no(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Co)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Zo(this,this._value))}this._state=null,this._value=null,++t.ref,Qo(this,e)}const $o={get:function(){var e=Ko,t=mi;function n(n,r){var s=!e.global&&(e!==Ko||t!==mi);const o=s&&!yi();var i=new zo(((t,i)=>{ei(this,new Xo(Ci(n,e,s,o),Ci(r,e,s,o),t,i,e))}));return Zs&&ri(i,this),i}return n.prototype=Co,n},set:function(e){Ts(this,"then",e&&e.prototype===Co?$o:{get:function(){return e},set:$o.set})}};function Xo(e,t,n,r,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=s}function Qo(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&oi();t&&"function"==typeof t.then?Qo(e,((e,n)=>{t instanceof zo?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Jo(e)),n&&ii()}}),Zo.bind(null,e))}catch(t){Zo(e,t)}}function Zo(e,t){if(Go.push(t),null===e._state){var n=e._lib&&oi();t=Vo(t),e._state=!1,e._value=t,Zs&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=Is(t,"stack");t._promise=e,Ts(t,"stack",{get:()=>Mo?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){Bo.some((t=>t._value===e._value))||Bo.push(e)}(e),Jo(e),n&&ii()}}function Jo(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ei(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===qo&&(++qo,Lo((()=>{0==--qo&&ai()}),[]))}function ei(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++qo,Lo(ti,[n,e,t])}else e._listeners.push(t)}function ti(e,t,n){try{jo=t;var r,s=t._value;t._state?r=e(s):(Go.length&&(Go=[]),r=e(s),-1===Go.indexOf(s)&&function(e){for(var t=Bo.length;t;)if(Bo[--t]._value===e._value)return void Bo.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{jo=null,0==--qo&&ai(),--n.psd.ref||n.psd.finalize()}}function ni(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var s,o,i=e._value;null!=i?(s=i.name||"Error",o=i.message||i,r=ro(i,0)):(s=i,o=""),t.push(s+(o?": "+o:"")+r)}return Zs&&((r=ro(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&ni(e._prev,t,n)),t}function ri(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function si(){oi()&&ii()}function oi(){var e=Uo;return Uo=!1,Fo=!1,e}function ii(){var e,t,n;do{for(;Wo.length>0;)for(e=Wo,Wo=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Wo.length>0);Uo=!0,Fo=!0}function ai(){var e=Bo;Bo=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Yo.slice(0),n=t.length;n;)t[--n]()}function ci(e){return new zo(Co,!1,e)}function li(e,t){var n=Ko;return function(){var r=oi(),s=Ko;try{return bi(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{bi(s,!1),r&&ii()}}}Ss(zo.prototype,{then:$o,_then:function(e,t){ei(this,new Xo(null,null,e,t,Ko))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):ci(e))):this.then(null,(e=>e&&e.name===t?n(e):ci(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),ci(t))))},stack:{get:function(){if(this._stack)return this._stack;try{Mo=!0;var e=ni(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Mo=!1}}},timeout:function(e,t){return e<1/0?new zo(((n,r)=>{var s=setTimeout((()=>r(new mo.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Ts(zo.prototype,Symbol.toStringTag,"Dexie.Promise"),Ho.env=Si(),Ss(zo,{all:function(){var e=Xs.apply(null,arguments).map(vi);return new zo((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((s,o)=>zo.resolve(s).then((n=>{e[o]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof zo)return e;if(e&&"function"==typeof e.then)return new zo(((t,n)=>{e.then(t,n)}));var t=new zo(Co,!0,e);return ri(t,jo),t},reject:ci,race:function(){var e=Xs.apply(null,arguments).map(vi);return new zo(((t,n)=>{e.map((e=>zo.resolve(e).then(t,n)))}))},PSD:{get:()=>Ko,set:e=>Ko=e},totalEchoes:{get:()=>mi},newPSD:gi,usePSD:wi,scheduler:{get:()=>Lo,set:e=>{Lo=e}},rejectionMapper:{get:()=>Vo,set:e=>{Vo=e}},follow:(e,t)=>new zo(((n,r)=>gi(((t,n)=>{var r=Ko;r.unhandleds=[],r.onunhandled=n,r.finalize=Ao((function(){!function(e){Yo.push((function t(){e(),Yo.splice(Yo.indexOf(t),1)})),++qo,Lo((()=>{0==--qo&&ai()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),ko&&(ko.allSettled&&Ts(zo,"allSettled",(function(){const e=Xs.apply(null,arguments).map(vi);return new zo((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,s)=>zo.resolve(e).then((e=>r[s]={status:"fulfilled",value:e}),(e=>r[s]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),ko.any&&"undefined"!=typeof AggregateError&&Ts(zo,"any",(function(){const e=Xs.apply(null,arguments).map(vi);return new zo(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach(((e,o)=>zo.resolve(e).then((e=>t(e)),(e=>{s[o]=e,--r||n(new AggregateError(s))}))))}))})));const di={awaits:0,echoes:0,id:0};var ui=0,pi=[],hi=0,mi=0,_i=0;function gi(e,t,n,r){var s=Ko,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++_i;var i=Ho.env;o.env=No?{Promise:zo,PromiseProp:{value:zo,configurable:!0,writable:!0},all:zo.all,race:zo.race,allSettled:zo.allSettled,any:zo.any,resolve:zo.resolve,reject:zo.reject,nthen:Ri(i.nthen,o),gthen:Ri(i.gthen,o)}:{},t&&vs(o,t),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=wi(o,e,n,r);return 0===o.ref&&o.finalize(),a}function fi(){return di.id||(di.id=++ui),++di.awaits,di.echoes+=Ro,di.id}function yi(){return!!di.awaits&&(0==--di.awaits&&(di.id=0),di.echoes=di.awaits*Ro,!0)}function vi(e){return di.echoes&&e&&e.constructor===ko?(fi(),e.then((e=>(yi(),e)),(e=>(yi(),Oi(e))))):e}function Ai(e){++mi,di.echoes&&0!=--di.echoes||(di.echoes=di.id=0),pi.push(Ko),bi(e,!0)}function Ei(){var e=pi[pi.length-1];pi.pop(),bi(e,!1)}function bi(e,t){var n=Ko;if((t?!di.echoes||hi++&&e===Ko:!hi||--hi&&e===Ko)||Ti(t?Ai.bind(null,e):Ei),e!==Ko&&(Ko=e,n===Ho&&(Ho.env=Si()),No)){var r=Ho.env.Promise,s=e.env;Po.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(gs,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function Si(){var e=gs.Promise;return No?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(gs,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Po.then,gthen:e.prototype.then}:{}}function wi(e,t,n,r,s){var o=Ko;try{return bi(e,!0),t(n,r,s)}finally{bi(o,!1)}}function Ti(e){xo.call(Io,e)}function Ci(e,t,n,r){return"function"!=typeof e?e:function(){var s=Ko;n&&fi(),bi(t,!0);try{return e.apply(this,arguments)}finally{bi(s,!1),r&&Ti(yi)}}}function Ri(e,t){return function(n,r){return e.call(this,Ci(n,t),Ci(r,t))}}-1===(""+xo).indexOf("[native code]")&&(fi=yi=fo);const Ii="unhandledrejection";function Pi(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,s={promise:t,reason:e};if(gs.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Ii,!0,!0),vs(r,s)):gs.CustomEvent&&vs(r=new CustomEvent(Ii,{detail:s}),s),r&&gs.dispatchEvent&&(dispatchEvent(r),!gs.PromiseRejectionEvent&&gs.onunhandledrejection))try{gs.onunhandledrejection(r)}catch(e){}Zs&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var Oi=zo.reject;function xi(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Ko.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===po.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>xi(e,t,n,r)))):Oi(s)}return s._promise(t,((e,t)=>gi((()=>(Ko.trans=s,r(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return Oi(new mo.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Oi(new mo.DatabaseClosed);e.open().catch(fo)}return e._state.dbReadyPromise.then((()=>xi(e,t,n,r)))}const ki="3.2.4",Ni=String.fromCharCode(65535),Mi=-1/0,Di="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Li="String expected.",Ui=[],Fi="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Bi=Fi,Gi=Fi,ji=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Vi="__dbnames",Hi="readonly",Ki="readwrite";function Wi(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const qi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yi(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=Hs(t))[e],t)}class zi{_trans(e,t,n){const r=this._tx||Ko.trans,s=this.name;function o(e,n,r){if(!r.schema[s])throw new mo.NotFound("Table "+s+" not part of transaction");return t(r.idbtrans,r)}const i=oi();try{return r&&r.db===this.db?r===Ko.trans?r._promise(e,o,n):gi((()=>r._promise(e,o,n)),{trans:r,transless:Ko.transless||Ko}):xi(this.db,e,[this.name],o)}finally{i&&ii()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(ys(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=fs(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==Ni)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&Zs&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,s=this.db._deps.indexedDB;function o(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[i,a]=t.reduce((([t,n],s)=>{const i=r[s],a=e[s];return[t||i,t||!i?Wi(n,i&&i.multi?e=>{const t=Ds(e,s);return ys(t)&&t.some((e=>o(a,e)))}:e=>o(a,Ds(e,s))):n]}),[null,null]);return i?this.where(i.name).equals(e[i.keyPath]).filter(a):n?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ys(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(bs(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){vs(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=Yi(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?zo.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{Ls(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||ys(e))return this.where(":id").equals(e).modify(t);{const n=Ds(e,this.schema.primKey.keyPath);if(void 0===n)return Oi(new mo.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?fs(t).forEach((n=>{Ls(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=Yi(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?zo.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{Ls(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?zo.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:qi}))).then((e=>e.numFailures?zo.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new mo.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new mo.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;let a=o&&n?e.map(Yi(o)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new uo(`${this.name}.bulkAdd(): ${e} of ${i} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new mo.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new mo.InvalidArgument("Arguments objects and keys must have the same length");const i=e.length;let a=o&&n?e.map(Yi(o)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new uo(`${this.name}.bulkPut(): ${e} of ${i} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new uo(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function $i(e){var t={},n=function(n,r){if(r){for(var s=arguments.length,o=new Array(s-1);--s;)o[s-1]=arguments[s];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,s=arguments.length;r<s;++r)o(arguments[r]);return n;function o(e,r,s){if("object"!=typeof e){var i;r||(r=wo),s||(s=fo);var a={subscribers:[],fire:s,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,s)}};return t[e]=n[e]=a,a}fs(i=e).forEach((function(e){var t=i[e];if(ys(t))o(e,i[e][0],i[e][1]);else{if("asap"!==t)throw new mo.InvalidArgument("Invalid event config");var n=o(e,yo,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){Ns((function(){e.apply(null,t)}))}))}))}}))}}function Xi(e,t){return Cs(t).from({prototype:e}),t}function Qi(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Zi(e,t){e.filter=Wi(e.filter,t)}function Ji(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Wi(r(),t()):t,e.justLimit=n&&!r}function ea(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new mo.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function ta(e,t,n){const r=ea(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function na(e,t,n,r){const s=e.replayFilter?Wi(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},i=(e,n,r)=>{if(!s||s(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var i=n.primaryKey,a=""+i;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(i)),bs(o,a)||(o[a]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(i,n),ra(ta(e,r,n),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return ra(ta(e,r,n),Wi(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function ra(e,t,n,r){var s=li(r?(e,t,s)=>n(r(e),t,s):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=fo}),(t=>{e.fail(t),n=fo}))||s(e.value,e,(e=>n=e)),n()}))}))}function sa(e,t){try{const n=oa(e),r=oa(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(ia(e),ia(t));case"Array":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n){const r=sa(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function oa(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=qs(e);return"ArrayBuffer"===n?"binary":n}function ia(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class aa{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,Oi.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,Oi.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Wi(t.algorithm,e)}_iterate(e,t){return na(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&vs(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>na(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Qi(t,!0))return n.count({trans:e,query:{index:ea(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return na(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],s=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var i="next"===this._ctx.dir?1:-1;function a(e,t){var n=o(e,s),r=o(t,s);return n<r?-i:n>r?i:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Qi(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=ea(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return na(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Qi(t)?Ji(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Ji(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ji(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Zi(this._ctx,(function(n,r,s){return!e(n.value)||(r(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Zi(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Wi(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Qi(t,!0)&&t.limit>0)return this._read((e=>{var n=ea(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Zi(this._ctx,(function(e){var t=e.primaryKey.toString(),r=bs(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var s=fs(e),o=s.length;r=function(t){for(var n=!1,r=0;r<o;++r){var i=s[r],a=e[i];Ds(t,i)!==a&&(Ls(t,i,a),n=!0)}return n}}const i=t.table.core,{outbound:a,extractKey:c}=i.schema.primaryKey,l=this.db._options.modifyChunkSize||200,d=[];let u=0;const p=[],h=(e,t)=>{const{failures:n,numFailures:r}=t;u+=e-r;for(let e of fs(n))d.push(n[e])};return this.clone().primaryKeys().then((s=>{const o=d=>{const u=Math.min(l,s.length-d);return i.getMany({trans:n,keys:s.slice(d,d+u),cache:"immutable"}).then((p=>{const m=[],_=[],g=a?[]:null,f=[];for(let e=0;e<u;++e){const t=p[e],n={value:Hs(t),primKey:s[d+e]};!1!==r.call(n,n.value,n)&&(null==n.value?f.push(s[d+e]):a||0===sa(c(t),c(n.value))?(_.push(n.value),a&&g.push(s[d+e])):(f.push(s[d+e]),m.push(n.value)))}const y=Qi(t)&&t.limit===1/0&&("function"!=typeof e||e===ca)&&{index:t.index,range:t.range};return Promise.resolve(m.length>0&&i.mutate({trans:n,type:"add",values:m}).then((e=>{for(let t in e.failures)f.splice(parseInt(t),1);h(m.length,e)}))).then((()=>(_.length>0||y&&"object"==typeof e)&&i.mutate({trans:n,type:"put",keys:g,values:_,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>h(_.length,e))))).then((()=>(f.length>0||y&&e===ca)&&i.mutate({trans:n,type:"delete",keys:f,criteria:y}).then((e=>h(f.length,e))))).then((()=>s.length>d+u&&o(d+l)))}))};return o(0).then((()=>{if(d.length>0)throw new lo("Error modifying one or more objects",d,u,p);return s.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Qi(e)&&(e.isPrimKey&&!Gi||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,s=t;return e.table.core.count({trans:n,query:{index:r,range:s}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:s}).then((({failures:e,lastResult:n,results:r,numFailures:s})=>{if(s)throw new lo("Could not delete some values",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(ca)}}const ca=(e,t)=>t.value=null;function la(e,t){return e<t?-1:e===t?0:1}function da(e,t){return e>t?-1:e===t?0:1}function ua(e,t,n){var r=e instanceof fa?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function pa(e){return new e.Collection(e,(()=>ga(""))).limit(0)}function ha(e,t,n,r,s,o){for(var i=Math.min(e.length,r.length),a=-1,c=0;c<i;++c){var l=t[c];if(l!==r[c])return s(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):s(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[c],l)<0&&(a=c)}return i<r.length&&"next"===o?e+n.substr(e.length):i<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function ma(e,t,n,r){var s,o,i,a,c,l,d,u=n.length;if(!n.every((e=>"string"==typeof e)))return ua(e,Li);function p(e){s=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),i="next"===e?la:da;var t=n.map((function(e){return{lower:o(e),upper:s(e)}})).sort((function(e,t){return i(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),l=e,d="next"===e?"":r}p("next");var h=new e.Collection(e,(()=>_a(a[0],c[u-1]+r)));h._ondirectionchange=function(e){p(e)};var m=0;return h._addAlgorithm((function(e,n,r){var s=e.key;if("string"!=typeof s)return!1;var p=o(s);if(t(p,c,m))return!0;for(var h=null,_=m;_<u;++_){var g=ha(s,p,a[_],c[_],i,l);null===g&&null===h?m=_+1:(null===h||i(h,g)>0)&&(h=g)}return n(null!==h?function(){e.continue(h+d)}:r),!1})),h}function _a(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ga(e){return{type:1,lower:e,upper:e}}class fa{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?pa(this):new this.Collection(this,(()=>_a(e,t,!n,!r)))}catch(e){return ua(this,Di)}}equals(e){return null==e?ua(this,Di):new this.Collection(this,(()=>ga(e)))}above(e){return null==e?ua(this,Di):new this.Collection(this,(()=>_a(e,void 0,!0)))}aboveOrEqual(e){return null==e?ua(this,Di):new this.Collection(this,(()=>_a(e,void 0,!1)))}below(e){return null==e?ua(this,Di):new this.Collection(this,(()=>_a(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?ua(this,Di):new this.Collection(this,(()=>_a(void 0,e)))}startsWith(e){return"string"!=typeof e?ua(this,Li):this.between(e,e+Ni,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):ma(this,((e,t)=>0===e.indexOf(t[0])),[e],Ni)}equalsIgnoreCase(e){return ma(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=Xs.apply($s,arguments);return 0===e.length?pa(this):ma(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=Xs.apply($s,arguments);return 0===e.length?pa(this):ma(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,Ni)}anyOf(){const e=Xs.apply($s,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return ua(this,Di)}if(0===e.length)return pa(this);const n=new this.Collection(this,(()=>_a(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,s,o)=>{const i=n.key;for(;t(i,e[r])>0;)if(++r,r===e.length)return s(o),!1;return 0===t(i,e[r])||(s((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[Mi,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Xs.apply($s,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return ua(this,Di)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[Mi,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,s=this._descending,o=this._min,i=this._max;if(0===e.length)return pa(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return ua(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",mo.InvalidArgument);const a=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;let l,d=r;function u(e,t){return d(e[0],t[0])}try{l=e.reduce((function(e,t){let r=0,s=e.length;for(;r<s;++r){const s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=o(s[0],t[0]),s[1]=i(s[1],t[1]);break}}return r===s&&e.push(t),e}),[]),l.sort(u)}catch(e){return ua(this,Di)}let p=0;const h=c?e=>r(e,l[p][1])>0:e=>r(e,l[p][1])>=0,m=a?e=>s(e,l[p][0])>0:e=>s(e,l[p][0])>=0;let _=h;const g=new this.Collection(this,(()=>_a(l[0][0],l[l.length-1][1],!a,!c)));return g._ondirectionchange=e=>{"next"===e?(_=h,d=r):(_=m,d=s),l.sort(u)},g._addAlgorithm(((e,t,n)=>{for(var s=e.key;_(s);)if(++p,p===l.length)return t(n),!1;return!!function(e){return!h(e)&&!m(e)}(s)||(0===this._cmp(s,l[p][1])||0===this._cmp(s,l[p][0])||t((()=>{d===r?e.continue(l[p][0]):e.continue(l[p][1])})),!1)})),g}startsWithAnyOf(){const e=Xs.apply($s,arguments);return e.every((e=>"string"==typeof e))?0===e.length?pa(this):this.inAnyRange(e.map((e=>[e,e+Ni]))):ua(this,"startsWithAnyOf() only works with strings")}}function ya(e){return li((function(t){return va(t),e(t.target.error),!1}))}function va(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Aa="storagemutated",Ea="x-storagemutated-1",ba=$i(null,Aa);class Sa{_lock(){return ks(!Ko.global),++this._reculock,1!==this._reculock||Ko.global||(Ko.lockOwnerFor=this),this}_unlock(){if(ks(!Ko.global),0==--this._reculock)for(Ko.global||(Ko.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{wi(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Ko.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(ks(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new mo.DatabaseClosed(n);case"MissingAPIError":throw new mo.MissingAPI(n.message,n);default:throw new mo.OpenFailed(n)}if(!this.active)throw new mo.TransactionInactive;return ks(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=li((t=>{va(t),this._reject(e.error)})),e.onabort=li((t=>{va(t),this.active&&this._reject(new mo.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=li((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ba.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return Oi(new mo.ReadOnly("Transaction is readonly"));if(!this.active)return Oi(new mo.TransactionInactive);if(this._locked())return new zo(((r,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,s)},Ko])}));if(n)return gi((()=>{var e=new zo(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new zo(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=zo.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new zo(((e,r)=>{n.then((n=>t._waitingQueue.push(li(e.bind(null,n)))),(e=>t._waitingQueue.push(li(r.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new mo.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(bs(t,e))return t[e];const n=this.schema[e];if(!n)throw new mo.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function wa(e,t,n,r,s,o,i){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:o,src:(n&&!i?"&":"")+(r?"*":"")+(s?"++":"")+Ta(t)}}function Ta(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Ca(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Ms(n,(e=>[e.name,e]))}}let Ra=e=>{try{return e.only([[]]),Ra=()=>[[]],[[]]}catch(e){return Ra=()=>Ni,Ni}};function Ia(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>Ds(t,e)}(e):t=>Ds(t,e)}function Pa(e){return[].slice.call(e)}let Oa=0;function xa(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function ka(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:s,upperOpen:o}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!o):void 0===r?t.lowerBound(n,!!s):t.bound(n,r,!!s,!!o)}const{schema:s,hasGetAll:o}=function(e,t){const n=Pa(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=ys(t),s=null==t,o={},i={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:s,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Ia(t)},indexes:Pa(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:s}=e,i={name:t,compound:ys(s),keyPath:s,unique:n,multiEntry:r,extractKey:Ia(s)};return o[xa(s)]=i,i})),getIndexByKeyPath:e=>o[xa(e)]};return o[":id"]=i.primaryKey,null!=t&&(o[xa(t)]=i.primaryKey),i}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=s.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:s,values:o,range:i}){return new Promise(((a,c)=>{a=li(a);const l=e.objectStore(t),d=null==l.keyPath,u="put"===n||"add"===n;if(!u&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:p}=s||o||{length:1};if(s&&o&&s.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let h;const m=[],_=[];let g=0;const f=e=>{++g,va(e)};if("deleteRange"===n){if(4===i.type)return a({numFailures:g,failures:_,results:[],lastResult:void 0});3===i.type?m.push(h=l.clear()):m.push(h=l.delete(r(i)))}else{const[e,t]=u?d?[o,s]:[o,null]:[s,null];if(u)for(let r=0;r<p;++r)m.push(h=t&&void 0!==t[r]?l[n](e[r],t[r]):l[n](e[r])),h.onerror=f;else for(let t=0;t<p;++t)m.push(h=l[n](e[t])),h.onerror=f}const y=e=>{const t=e.target.result;m.forEach(((e,t)=>null!=e.error&&(_[t]=e.error))),a({numFailures:g,failures:_,results:"delete"===n?s:m.map((e=>e.result)),lastResult:t})};h.onerror=e=>{f(e),y(e)},h.onsuccess=y}))},getMany:({trans:e,keys:n})=>new Promise(((r,s)=>{r=li(r);const o=e.objectStore(t),i=n.length,a=new Array(i);let c,l=0,d=0;const u=e=>{const t=e.target;a[t._pos]=t.result,++d===l&&r(a)},p=ya(s);for(let e=0;e<i;++e)null!=n[e]&&(c=o.get(n[e]),c._pos=e,c.onsuccess=u,c.onerror=p,++l);0===l&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,s)=>{r=li(r);const o=e.objectStore(t).get(n);o.onsuccess=e=>r(e.target.result),o.onerror=ya(s)})),query:function(e){return n=>new Promise(((s,o)=>{s=li(s);const{trans:i,values:a,limit:c,query:l}=n,d=c===1/0?void 0:c,{index:u,range:p}=l,h=i.objectStore(t),m=u.isPrimaryKey?h:h.index(u.name),_=r(p);if(0===c)return s({result:[]});if(e){const e=a?m.getAll(_,d):m.getAllKeys(_,d);e.onsuccess=e=>s({result:e.target.result}),e.onerror=ya(o)}else{let e=0;const t=a||!("openKeyCursor"in m)?m.openCursor(_):m.openKeyCursor(_),n=[];t.onsuccess=r=>{const o=t.result;return o?(n.push(a?o.value:o.primaryKey),++e===c?s({result:n}):void o.continue()):s({result:n})},t.onerror=ya(o)}}))}(o),openCursor:function({trans:e,values:n,query:s,reverse:o,unique:i}){return new Promise(((a,c)=>{a=li(a);const{index:l,range:d}=s,u=e.objectStore(t),p=l.isPrimaryKey?u:u.index(l.name),h=o?i?"prevunique":"prev":i?"nextunique":"next",m=n||!("openKeyCursor"in p)?p.openCursor(r(d),h):p.openKeyCursor(r(d),h);m.onerror=ya(c),m.onsuccess=li((t=>{const n=m.result;if(!n)return void a(null);n.___id=++Oa,n.done=!1;const r=n.continue.bind(n);let s=n.continuePrimaryKey;s&&(s=s.bind(n));const o=n.advance.bind(n),i=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=li(c),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=li(e),m.onerror=ya(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=i,e(t)}})),a=()=>{if(m.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return m.onsuccess=li((e=>{m.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=s,n.advance=o,a(),t},a(n)}),c)}))},count({query:e,trans:n}){const{index:s,range:o}=e;return new Promise(((e,i)=>{const a=n.objectStore(t),c=s.isPrimaryKey?a:a.index(s.name),l=r(o),d=l?c.count(l):c.count();d.onsuccess=li((t=>e(t.target.result))),d.onerror=ya(i)}))}}}(e))),a={};return i.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:Ra(t),schema:s}}function Na({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},s){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(ka(t,n,s),e.dbcore);return{dbcore:o}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function Ma({_novip:e},t,n,r){n.forEach((n=>{const s=r[n];t.forEach((t=>{const r=Is(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Ts(t,n,{get(){return this.table(n)},set(e){ws(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,s))}))}))}function Da({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function La(e,t){return e._cfg.version-t._cfg.version}function Ua(e,t,n,r){const s=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,s);o.create(n),o._completion.catch(r);const i=o._reject.bind(o),a=Ko.transless||Ko;gi((()=>{Ko.trans=o,Ko.transless=a,0===t?(fs(s).forEach((e=>{Ba(n,e,s[e].primKey,s[e].indexes)})),Na(e,n),zo.follow((()=>e.on.populate.fire(o))).catch(i)):function({_novip:e},t,n,r){const s=[],o=e._versions;let i=e._dbSchema=ja(e,e.idbdb,r),a=!1;const c=o.filter((e=>e._cfg.version>=t));return c.forEach((o=>{s.push((()=>{const s=i,c=o._cfg.dbschema;Va(e,s,r),Va(e,c,r),i=e._dbSchema=c;const l=Fa(s,c);l.add.forEach((e=>{Ba(r,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((e=>{if(e.recreate)throw new mo.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>Ga(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),Ga(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const d=o._cfg.contentUpgrade;if(d&&o._cfg.version>t){Na(e,r),n._memoizedTables={},a=!0;let t=Us(c);l.del.forEach((e=>{t[e]=s[e]})),Da(e,[e.Transaction.prototype]),Ma(e,[e.Transaction.prototype],fs(t),t),n.schema=t;const o=Qs(d);let i;o&&fi();const u=zo.follow((()=>{if(i=d(n),i&&o){var e=yi.bind(null,null);i.then(e,e)}}));return i&&"function"==typeof i.then?zo.resolve(i):u.then((()=>i))}})),s.push((t=>{a&&Bi||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t),Da(e,[e.Transaction.prototype]),Ma(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return s.length?zo.resolve(s.shift()(n.idbtrans)).then(e):zo.resolve()}().then((()=>{var e,t;t=r,fs(e=i).forEach((n=>{t.db.objectStoreNames.contains(n)||Ba(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(i)}))}function Fa(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],o=t[r];if(s){const e={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!Fi)e.recreate=!0,n.change.push(e);else{const t=s.idxByName,r=o.idxByName;let i;for(i in t)r[i]||e.del.push(i);for(i in r){const n=t[i],s=r[i];n?n.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,o])}return n}function Ba(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>Ga(s,e))),s}function Ga(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ja(e,t,n){const r={};return Os(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let s=t.keyPath;const o=wa(Ta(s),s||"",!1,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),i=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);s=n.keyPath;var a=wa(n.name,s,!!n.unique,!!n.multiEntry,!1,s&&"string"!=typeof s,!1);i.push(a)}r[e]=Ca(e,o,i)})),r}function Va({_novip:e},t,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const o=r[s],i=n.objectStore(o);e._hasGetAll="getAll"in i;for(let e=0;e<i.indexNames.length;++e){const n=i.indexNames[e],r=i.index(n).keyPath,s="string"==typeof r?r:"["+Os(r).join("+")+"]";if(t[o]){const e=t[o].idxByName[s];e&&(e.name=n,delete t[o].idxByName[s],t[o].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&gs.WorkerGlobalScope&&gs instanceof gs.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Ha{_parseStoresSpec(e,t){fs(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return wa(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ys(r),0===t)})),s=r.shift();if(s.multi)throw new mo.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new mo.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new mo.Schema("Index must have a name and cannot be an empty string")})),t[n]=Ca(n,s,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?vs(this._cfg.storesSource,e):e;const n=t._versions,r={};let s={};return n.forEach((e=>{vs(r,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(r,s)})),t._dbSchema=s,Da(t,[t._allTables,t,t.Transaction.prototype]),Ma(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],fs(s),s),t._storeNames=fs(s),this}upgrade(e){return this._cfg.contentUpgrade=To(this._cfg.contentUpgrade||fo,e),this}}function Ka(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new uc(Vi,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Wa(e){return e&&"function"==typeof e.databases}function qa(e){return gi((function(){return Ko.letThrough=!0,e()}))}function Ya(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function za(e){var t=t=>e.next(t),n=s(t),r=s((t=>e.throw(t)));function s(e){return t=>{var s=e(t),o=s.value;return s.done?o:o&&"function"==typeof o.then?o.then(n,r):ys(o)?Promise.all(o).then(n,r):n(o)}}return s(t)()}function $a(e,t,n){var r=arguments.length;if(r<2)throw new mo.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[e,Bs(s),n]}function Xa(e,t,n,r,s){return zo.resolve().then((()=>{const o=Ko.transless||Ko,i=e._createTransaction(t,n,e._dbSchema,r),a={trans:i,transless:o};if(r)i.idbtrans=r.idbtrans;else try{i.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===po.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Xa(e,t,n,null,s)))):Oi(r)}const c=Qs(s);let l;c&&fi();const d=zo.follow((()=>{if(l=s.call(i,i),l)if(c){var e=yi.bind(null,null);l.then(e,e)}else"function"==typeof l.next&&"function"==typeof l.throw&&(l=za(l))}),a);return(l&&"function"==typeof l.then?zo.resolve(l).then((e=>i.active?e:Oi(new mo.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):d.then((()=>l))).then((e=>(r&&i._resolve(),i._completion.then((()=>e))))).catch((e=>(i._reject(e),Oi(e))))}))}function Qa(e,t,n){const r=ys(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const Za={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},o=[];function i(e,t,n){const r=xa(e),a=s[r]=s[r]||[],c=null==e?0:"string"==typeof e?1:e.length,l=t>0,d={...n,isVirtual:l,keyTail:t,keyLength:c,extractKey:Ia(e),unique:!l&&n.unique};return a.push(d),d.isPrimaryKey||o.push(d),c>1&&i(2===c?e[0]:e.slice(0,c-1),t+1,n),a.sort(((e,t)=>e.keyTail-t.keyTail)),d}const a=i(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const e of r.indexes)i(e.keyPath,0,e);function c(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,s=n.keyTail,{type:1===r.type?2:r.type,lower:Qa(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:Qa(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var r,s}const l={...n,schema:{...r,primaryKey:a,indexes:o,getIndexByKeyPath:function(e){const t=s[xa(e)];return t&&t[0]}},count:e=>n.count(c(e)),query:e=>n.query(c(e)),openCursor(t){const{keyTail:r,isVirtual:s,keyLength:o}=t.query.index;return s?n.openCursor(c(t)).then((n=>n&&function(n){const s=Object.create(n,{continue:{value:function(s){null!=s?n.continue(Qa(s,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,s){n.continuePrimaryKey(Qa(t,e.MAX_KEY,r),s)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>n.value}});return s}(n))):n.openCursor(t)}};return l}}}};function Ja(e,t,n,r){return n=n||{},r=r||"",fs(e).forEach((s=>{if(bs(t,s)){var o=e[s],i=t[s];if("object"==typeof o&&"object"==typeof i&&o&&i){const e=qs(o);e!==qs(i)?n[r+s]=t[s]:"Object"===e?Ja(o,i,n,r+s+"."):o!==i&&(n[r+s]=t[s])}else o!==i&&(n[r+s]=t[s])}else n[r+s]=void 0})),fs(t).forEach((s=>{bs(e,s)||(n[r+s]=t[s])})),n}const ec={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,s={...n,mutate(e){const s=Ko.trans,{deleting:o,creating:i,updating:a}=s.table(t).hook;switch(e.type){case"add":if(i.fire===fo)break;return s._promise("readwrite",(()=>c(e)),!0);case"put":if(i.fire===fo&&a.fire===fo)break;return s._promise("readwrite",(()=>c(e)),!0);case"delete":if(o.fire===fo)break;return s._promise("readwrite",(()=>c(e)),!0);case"deleteRange":if(o.fire===fo)break;return s._promise("readwrite",(()=>function(e){return l(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function c(e){const t=Ko.trans,s=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!s)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,s).then((c=>{const l=s.map(((n,s)=>{const l=c[s],d={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(d,n,l,t);else if("add"===e.type||void 0===l){const o=i.fire.call(d,n,e.values[s],t);null==n&&null!=o&&(n=o,e.keys[s]=n,r.outbound||Ls(e.values[s],r.keyPath,n))}else{const r=Ja(l,e.values[s]),o=a.fire.call(d,r,n,l,t);if(o){const t=e.values[s];Object.keys(o).forEach((e=>{bs(t,e)?t[e]=o[e]:Ls(t,e,o[e])}))}}return d}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:o})=>{for(let r=0;r<s.length;++r){const o=n?n[r]:s[r],i=l[r];null==o?i.onerror&&i.onerror(t[r]):i.onsuccess&&i.onsuccess("put"===e.type&&c[r]?e.values[r]:o)}return{failures:t,results:n,numFailures:r,lastResult:o}})).catch((e=>(l.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function l(e,t,s){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:s}).then((({result:n})=>c({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<s?{failures:[],numFailures:0,lastResult:void 0}:l(e,{...t,lower:n[n.length-1],lowerOpen:!0},s)))))}}};return s}})};function tc(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let s=0,o=0;s<t.keys.length&&o<e.length;++s)0===sa(t.keys[s],e[o])&&(r.push(n?Hs(t.values[s]):t.values[s]),++o);return r.length===e.length?r:null}catch(e){return null}}const nc={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=tc(e.keys,e.trans._cache,"clone"===e.cache);return t?zo.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?Hs(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function rc(e){return!("from"in e)}const sc=function(e,t){if(!this){const t=new sc;return e&&"d"in e&&vs(t,e),t}vs(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function oc(e,t,n){const r=sa(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(rc(e))return vs(e,{from:t,to:n,d:1});const s=e.l,o=e.r;if(sa(n,e.from)<0)return s?oc(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},cc(e);if(sa(t,e.to)>0)return o?oc(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},cc(e);sa(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),sa(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const i=!e.r;s&&!e.l&&ic(e,s),o&&i&&ic(e,o)}function ic(e,t){rc(t)||function e(t,{from:n,to:r,l:s,r:o}){oc(t,n,r),s&&e(t,s),o&&e(t,o)}(e,t)}function ac(e){let t=rc(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&sa(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||sa(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function cc(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const t="r"===s?"l":"r",n={...e},r=e[s];e.from=r.from,e.to=r.to,e[s]=r[s],n[s]=r[t],e[t]=n,n.d=lc(n)}e.d=lc(e)}function lc({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ss(sc.prototype,{add(e){return ic(this,e),this},addKey(e){return oc(this,e,e),this},addKeys(e){return e.forEach((e=>oc(this,e,e))),this},[Ys](){return ac(this)}});const dc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new sc(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:o}=s,{primaryKey:i}=o,{extractKey:a,outbound:c}=i,l={...s,mutate:e=>{const i=e.trans,a=i.mutatedParts||(i.mutatedParts={}),c=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new sc)},l=c(""),d=c(":dels"),{type:u}=e;let[p,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const m=e.trans._cache;return s.mutate(e).then((e=>{if(ys(p)){"delete"!==u&&(p=e.results),l.addKeys(p);const t=tc(p,m);t||"add"===u||d.addKeys(p),(t||h)&&function(e,t,n,r){t.indexes.forEach((function(t){const s=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const i=e=>t.multiEntry&&ys(e)?e.forEach((e=>s.addKey(e))):s.addKey(e);(n||r).forEach(((e,t)=>{const s=n&&o(n[t]),a=r&&o(r[t]);0!==sa(s,a)&&(null!=s&&i(s),null!=a&&i(a))}))}))}(c,o,t,h)}else if(p){const e={from:p.lower,to:p.upper};d.add(e),l.add(e)}else l.add(n),d.add(n),o.indexes.forEach((e=>c(e.name).add(n)));return e}))}},d=({query:{index:t,range:n}})=>{var r,s;return[t,new sc(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(s=n.upper)&&void 0!==s?s:e.MAX_KEY)]},u={get:e=>[i,new sc(e.key)],getMany:e=>[i,(new sc).addKeys(e.keys)],count:d,query:d,openCursor:d};return fs(u).forEach((e=>{l[e]=function(o){const{subscr:i}=Ko;if(i){const l=e=>{const n=`idb://${t}/${r}/${e}`;return i[n]||(i[n]=new sc)},d=l(""),p=l(":dels"),[h,m]=u[e](o);if(l(h.name||"").add(m),!h.isPrimaryKey){if("count"!==e){const t="query"===e&&c&&o.values&&s.query({...o,values:!1});return s[e].apply(this,arguments).then((n=>{if("query"===e){if(c&&o.values)return t.then((({result:e})=>(d.addKeys(e),n)));const e=o.values?n.result.map(a):n.result;o.values?d.addKeys(e):p.addKeys(e)}else if("openCursor"===e){const e=n,t=o.values;return e&&Object.create(e,{key:{get:()=>(p.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return p.addKey(t),t}},value:{get:()=>(t&&d.addKey(e.primaryKey),e.value)}})}return n}))}p.add(n)}}return s[e].apply(this,arguments)}})),l}}}};class uc{constructor(e,t){this._middlewares={},this.verno=0;const n=uc.dependencies;this._options=t={addons:uc.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:fo,dbReadyPromise:null,cancelOpen:fo,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new zo((e=>{s.dbReadyResolve=e})),s.openCanceller=new zo(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=$i(this,"populate","blocked","versionchange","close",{ready:[To,fo]}),this.on.ready.subscribe=xs(this.on.ready.subscribe,(e=>(t,n)=>{uc.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||zo.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,Xi(aa.prototype,(function(e,t){this.db=o;let n=qi,r=null;if(t)try{n=t()}catch(e){r=e}const s=e._ctx,i=s.table,a=i.hook.reading.fire;this._ctx={table:i,index:s.index,isPrimKey:!s.index||i.schema.primKey.keyPath&&s.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:a!==yo?a:null}}))),this.Table=function(e){return Xi(zi.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:$i(null,{creating:[Eo,fo],reading:[vo,yo],updating:[So,fo],deleting:[bo,fo]})}))}(this),this.Transaction=function(e){return Xi(Sa.prototype,(function(t,n,r,s,o){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=$i(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new zo(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),Oi(e)}))}))}(this),this.Version=function(e){return Xi(Ha.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Xi(fa.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const s=e._deps.indexedDB;if(!s)throw new mo.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Ra(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),Ui.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Za),this.use(ec),this.use(dc),this.use(nc),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new mo.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new mo.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(La),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Ko.letThrough||this._vip)?e():new zo(((e,t)=>{if(this._state.openComplete)return t(new mo.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new mo.DatabaseClosed);this.open().catch(fo)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==n?10:n,name:r}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?Oi(t.dbOpenError):e));Zs&&(t.openCanceller._stackHolder=no()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new mo.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,i=null,a=!1;return zo.race([r,("undefined"==typeof navigator?zo.resolve():Ya()).then((()=>new zo(((r,o)=>{if(s(),!n)throw new mo.MissingAPI;const c=e.name,l=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!l)throw new mo.MissingAPI;l.onerror=ya(o),l.onblocked=li(e._fireOnBlocked),l.onupgradeneeded=li((r=>{if(i=l.transaction,t.autoSchema&&!e._options.allowEmptyDB){l.onerror=va,i.abort(),l.result.close();const e=n.deleteDatabase(c);e.onsuccess=e.onerror=li((()=>{o(new mo.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{i.onerror=ya(o);var s=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;a=s<1,e._novip.idbdb=l.result,Ua(e,s/10,i,o)}}),o),l.onsuccess=li((()=>{i=null;const n=e._novip.idbdb=l.result,s=Os(n.objectStoreNames);if(s.length>0)try{const r=n.transaction(1===(o=s).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=ja(0,t,n);e._storeNames=Os(t.objectStoreNames,0),Ma(e,[e._allTables],fs(r),r)}(e,n,r):(Va(e,e._dbSchema,r),function(e,t){const n=Fa(ja(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Na(e,r)}catch(e){}var o;Ui.push(e),n.onversionchange=li((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=li((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},n){!Wa(e)&&n!==Vi&&Ka(e,t).put({name:n}).catch(fo)}(e._deps,c),r()}),o)}))))]).then((()=>(s(),t.onReadyBeingFired=[],zo.resolve(qa((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(To,fo);return t.onReadyBeingFired=[],zo.resolve(qa((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{i&&i.abort()}catch(e){}return r===t.openCanceller&&e._close(),Oi(n)})).finally((()=>{t.openComplete=!0,o()}))}(this)}_close(){const e=this._state,t=Ui.indexOf(this);if(t>=0&&Ui.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new zo((t=>{e.dbReadyResolve=t})),e.openCanceller=new zo(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new mo.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new zo(((n,r)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=li((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!Wa(e)&&n!==Vi&&Ka(e,t).delete(n).catch(fo)}(this._deps,this.name),n()})),e.onerror=ya(r),e.onblocked=this._fireOnBlocked};if(e)throw new mo.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return fs(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=$a.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Ko.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const s=-1!==e.indexOf("?");let o,i;e=e.replace("!","").replace("?","");try{if(i=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Hi)o=Hi;else{if("rw"!=e&&e!=Ki)throw new mo.InvalidArgument("Invalid transaction mode: "+e);o=Ki}if(r){if(r.mode===Hi&&o===Ki){if(!s)throw new mo.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new mo.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),s&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):Oi(e)}const a=Xa.bind(null,this,o,i,r,n);return r?r._promise(o,a,"lock"):Ko.trans?wi(Ko.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!bs(this._allTables,e))throw new mo.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const pc="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class hc{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[pc](){return this}}function mc(e,t){return fs(t).forEach((n=>{ic(e[n]||(e[n]=new sc),t[n])})),e}let _c;try{_c={indexedDB:gs.indexedDB||gs.mozIndexedDB||gs.webkitIndexedDB||gs.msIndexedDB,IDBKeyRange:gs.IDBKeyRange||gs.webkitIDBKeyRange}}catch(gs){_c={indexedDB:null,IDBKeyRange:null}}const gc=uc;function fc(e){let t=yc;try{yc=!0,ba.storagemutated.fire(e)}finally{yc=t}}Ss(gc,{...go,delete:e=>new gc(e,{addons:[]}).delete(),exists:e=>new gc(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return Wa(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==Vi)))):Ka(e,t).toCollection().primaryKeys()}(gc.dependencies).then(e)}catch(e){return Oi(new mo.MissingAPI)}},defineClass:()=>function(e){vs(this,e)},ignoreTransaction:e=>Ko.trans?wi(Ko.transless,e):e(),vip:qa,async:function(e){return function(){try{var t=za(e.apply(this,arguments));return t&&"function"==typeof t.then?t:zo.resolve(t)}catch(e){return Oi(e)}}},spawn:function(e,t,n){try{var r=za(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:zo.resolve(r)}catch(e){return Oi(e)}},currentTransaction:{get:()=>Ko.trans||null},waitFor:function(e,t){const n=zo.resolve("function"==typeof e?gc.ignoreTransaction(e):e).timeout(t||6e4);return Ko.trans?Ko.trans.waitFor(n):n},Promise:zo,debug:{get:()=>Zs,set:e=>{Js(e,"dexie"===e?()=>!0:ji)}},derive:Cs,extend:vs,props:Ss,override:xs,Events:$i,on:ba,liveQuery:function(e){let t,n=!1;const r=new hc((r=>{const s=Qs(e);let o=!1,i={},a={};const c={get closed(){return o},unsubscribe:()=>{o=!0,ba.storagemutated.unsubscribe(p)}};r.start&&r.start(c);let l=!1,d=!1;function u(){return fs(a).some((e=>i[e]&&function(e,t){const n=ac(t);let r=n.next();if(r.done)return!1;let s=r.value;const o=ac(e);let i=o.next(s.from),a=i.value;for(;!r.done&&!i.done;){if(sa(a.from,s.to)<=0&&sa(a.to,s.from)>=0)return!0;sa(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(i=o.next(s.from)).value}return!1}(i[e],a[e])))}const p=e=>{mc(i,e),u()&&h()},h=()=>{if(l||o)return;i={};const m={},_=function(t){s&&fi();const n=()=>gi(e,{subscr:t,trans:null}),r=Ko.trans?wi(Ko.transless,n):n();return s&&r.then(yi,yi),r}(m);d||(ba(Aa,p),d=!0),l=!0,Promise.resolve(_).then((e=>{n=!0,t=e,l=!1,o||(u()?h():(i={},a=m,r.next&&r.next(e)))}),(e=>{l=!1,n=!1,r.error&&r.error(e),c.unsubscribe()}))};return h(),c}));return r.hasValue=()=>n,r.getValue=()=>t,r},extendObservabilitySet:mc,getByKeyPath:Ds,setByKeyPath:Ls,delByKeyPath:function(e,t){"string"==typeof t?Ls(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Ls(e,t,void 0)}))},shallowClone:Us,deepClone:Hs,getObjectDiff:Ja,cmp:sa,asap:Ns,minKey:Mi,addons:[],connections:Ui,errnames:po,dependencies:_c,semVer:ki,version:ki.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),gc.maxKey=Ra(gc.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(ba(Aa,(e=>{if(!yc){let t;Fi?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Ea,!0,!0,e)):t=new CustomEvent(Ea,{detail:e}),yc=!0,dispatchEvent(t),yc=!1}})),addEventListener(Ea,(({detail:e})=>{yc||fc(e)})));let yc=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(Ea);"function"==typeof e.unref&&e.unref(),ba(Aa,(t=>{yc||e.postMessage(t)})),e.onmessage=e=>{e.data&&fc(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){ba(Aa,(e=>{try{yc||("undefined"!=typeof localStorage&&localStorage.setItem(Ea,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:Ea,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===Ea){const t=JSON.parse(e.newValue);t&&fc(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===Ea&&fc(e.changedParts)}))}zo.rejectionMapper=function(e,t){if(!e||e instanceof ao||e instanceof TypeError||e instanceof SyntaxError||!e.name||!_o[e.name])return e;var n=new _o[e.name](t||e.message,e);return"stack"in e&&Ts(n,"stack",{get:function(){return this.inner.stack}}),n},Js(Zs,ji);class vc extends uc{constructor(){super("autofill"),this.version(3).stores({disabledUrls:"url",disabledFields:"url",changedForms:"url"})}}var Ac=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};var Ec=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};let bc;bc=n(3150);const Sc=e=>Ec(void 0,void 0,void 0,(function*(){return bc.runtime.sendMessage(e)})),wc=gn(Sc),Tc=new class{constructor(e,t){this.lastTargetSelector=null,this.getIsEnabled=e=>Ac(this,void 0,void 0,(function*(){return c(yield this.db.disabledUrls.get(e).catch(g))})),this.disableAutofillForUrl=e=>this.db.disabledUrls.put({url:e}).then((()=>this.trackUserAction(ms.AutofillDisabled))).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:disableAutofillForUrl",e))),this.enableAutofillForUrl=e=>this.db.disabledUrls.delete(e).then((()=>this.trackUserAction(ms.AutofillEnabled))).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:enableAutofillForUrl",e))),this.getIsFieldDisabled=(e,t)=>Ac(this,void 0,void 0,(function*(){if(!e||!t)return{isDisabled:!0,canShowOptions:!1};try{const n=yield this.db.disabledFields.get(e);return{isDisabled:!!(null===n||void 0===n?void 0:n.selectors.has(t)),canShowOptions:yield this.getIsEnabled(e)}}catch(e){return{isDisabled:!1,canShowOptions:!1}}})),this.setLastClickTarget=e=>{this.lastTargetSelector=e},this.getLastClickTarget=()=>this.lastTargetSelector,this.disableField=e=>Ac(this,void 0,void 0,(function*(){if(!this.lastTargetSelector)return null;const t=yield this.db.disabledFields.get(e).catch(g);return t?this.db.disabledFields.update(e,{selectors:t.selectors.add(this.lastTargetSelector)}).then((()=>this.trackUserAction(ms.AutofillDisabledField))).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:disableAutofillField",e))):this.db.disabledFields.put({url:e,selectors:new Set([this.lastTargetSelector])}).then((()=>this.trackUserAction(ms.AutofillDisabledField))).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:disableAutofillField",e))),this.lastTargetSelector})),this.enableField=e=>Ac(this,void 0,void 0,(function*(){if(!this.lastTargetSelector)return null;const t=yield this.db.disabledFields.get(e).catch(g);if(!t)return null;const{selectors:n}=t;return n.delete(this.lastTargetSelector),0===n.size?this.db.disabledFields.delete(e).then((()=>this.trackUserAction(ms.AutofillEnabledField))).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:enableAutofillField",e))):this.db.disabledFields.update(e,{selectors:n}).then((()=>this.trackUserAction(ms.AutofillEnabledField))).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:enableAutofillField",e))),this.lastTargetSelector})),this.getDisabledFields=e=>this.db.disabledFields.get(e,(e=>e?[...e.selectors]:[])).catch(g),this.getChangedFormBehaviour=(e,t)=>Ac(this,void 0,void 0,(function*(){return t&&e?this.db.changedForms.get(t,(t=>null===t||void 0===t?void 0:t.changes.get(e))).catch(g):null})),this.deleteChangeFormBehaviour=(e,t)=>Ac(this,void 0,void 0,(function*(){const n=yield this.db.changedForms.get(e).catch(g);if(n){n.changes.delete(t)&&(yield this.db.changedForms.update(e,n.changes).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:updateChangeFormBehaviour",e)))),0===n.changes.size&&(yield this.db.changedForms.delete(e).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:deleteChangeFormBehaviour",e))))}})),this.storeChangeFormBehaviour=(e,t,n)=>Ac(this,void 0,void 0,(function*(){if(!n||!e)return;const r=yield this.db.changedForms.get(n);"default"!==t?r?(r.changes.set(e,t),yield this.db.changedForms.put({url:r.url,changes:r.changes}).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:addUpdatedChangeFormBehaviour",e)))):yield this.db.changedForms.put({url:n,changes:new Map([[e,t]])}).catch((e=>this.logMessage(D.Error,"AutofillSwitcher:changeForm",e))):yield this.deleteChangeFormBehaviour(n,e)})),this.db=new vc,this.logMessage=t,this.trackUserAction=e}}((e=>es({type:k.ActionSave,action:e})),wc);const Cc=e=>Ec(void 0,void 0,void 0,(function*(){var t;if(!(null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.type))return Promise.resolve(null);const{id:n,data:r}=e;switch(r.type){case M.SetChangedForm:return yield Tc.storeChangeFormBehaviour(r.formSelector,r.to,r.url),p();case M.ChangeFormBehaviour:{const e=Tc.getLastClickTarget();return p(0,Object.assign(Object.assign({},r),{selector:e}))}case M.GetChangedForm:yield Tc.getChangedFormBehaviour(r.formSelector,r.url);return p();case M.AutofillFillPassword:return p(0,yield((e,t)=>ps(void 0,void 0,void 0,(function*(){try{const n=yield es({type:k.ItemGet,item_type:z.Password,reason:Y.Fill,uuid:e.uuid});return hs.tabs.sendMessage(t,Object.assign(Object.assign({},e),{data:null===n||void 0===n?void 0:n.item}))}catch(e){us(D.Error,"fillLogin:",e)}return null})))(r));case M.AutofillFillCard:return p(0,yield((e,t)=>ps(void 0,void 0,void 0,(function*(){try{const n=yield es({type:k.ItemGet,item_type:z.CreditCard,reason:Y.Fill,uuid:e.uuid});return hs.tabs.sendMessage(t,Object.assign(Object.assign({},e),{data:null===n||void 0===n?void 0:n.item}))}catch(e){us(D.Error,"fillCard:",e)}return null})))(r));case M.AutofillFillIdentity:return p(0,yield((e,t)=>ps(void 0,void 0,void 0,(function*(){try{const n=yield es({type:k.ItemGet,item_type:z.PersonalInfo,reason:Y.Fill,uuid:e.uuid});return hs.tabs.sendMessage(t,Object.assign(Object.assign({},e),{data:null===n||void 0===n?void 0:n.item}))}catch(e){us(D.Error,"fillIdentity:",e)}return null})))(r));case M.GetMLModel:return p(0,yield Un(r.version));case M.WindowClick:return Tc.setLastClickTarget(r.selector),r.inputUid&&(yield ds().catch((e=>wc(D.Error,"WindowClick:bgInitSockets",e)))),Promise.resolve();default:return p(0,yield es(r))}}));const Rc=e=>Ec(void 0,void 0,void 0,(function*(){window===window.top&&e.type===M.AutofillRedirectToSecure&&window.location.replace(e.url.replace("http://","https://"))}));u&&h("topLevelContentScriptMessage",Rc);const Ic={getTabFromCurrentWindow:()=>Ec(void 0,void 0,void 0,(function*(){return bc.tabs.query({active:!0,currentWindow:!0})})),tabCreate:x,appOpen:(e="")=>Ec(void 0,void 0,void 0,(function*(){const t={url:`nordpass://${e}`};try{yield ds()}catch(e){return bc.tabs.update(t)}return Promise.resolve()})),sendMessage:Sc,runtimeGetUrl:e=>bc.runtime.getURL(e),addListener:(e,t,n)=>{switch(n){case r.RuntimeMessage:bc.runtime.onMessage.addListener(t);break;case r.StorageChange:bc.storage.onChanged.addListener(t)}},removeListener:function(e,t,n){switch(n){case r.RuntimeMessage:bc.runtime.onMessage.removeListener(t);break;case r.StorageChange:bc.storage.onChanged.removeListener(t)}},hasListener:(e,t)=>{var n;return null===(n=bc.runtime)||void 0===n?void 0:n.onMessage.hasListener(t)},sendToListeners:Rr,browserActionSetIcon:yr,reload:()=>(e=>{e.runtime.reload()})(bc),onContentScriptMessage:Cc,topLevelContentScriptMessage:Rc};var Pc=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};const{href:Oc}=document.location,xc=Oc.indexOf("#");(n=>{Pc(void 0,void 0,void 0,(function*(){if(R)return Pt.extension.openExtensionDeepLink(n),void window.location.assign("https://nordpass.com/");(yield _.get({[t.AppState]:e.Ready}))[t.AppState]===e.Closed?wr()===A.Firefox?yield Pt.extension.openApp({url:n}):P(`nordpass://${n}`,"_blank"):Ic.sendMessage({type:k.DesktopOpen,path:n})}))})(-1===xc?"":Oc.substring(xc+1))})()})();