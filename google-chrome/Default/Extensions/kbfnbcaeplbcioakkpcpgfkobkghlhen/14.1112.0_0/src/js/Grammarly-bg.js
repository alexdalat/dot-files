/*! For license information please see Grammarly-bg.js.LICENSE.txt */
var __webpack_modules__={11066:(e,t)=>{function n(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=o(e)+"="+o(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}function r(e){var t=function(e){var t={},n=e.split(/ *; */);if(!n[0])return t;var r=n,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var u=s;t[i((u=u.split("="))[0])]=i(u[1])}return t}(document.cookie);return e?t[e]:t}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}function i(e){try{return decodeURIComponent(e)}catch(e){return null}}t.Z=function(e,t,o){if(arguments.length<2)return r(e);n(e,t,o)}},18410:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBuilder=t.Request=t.HTTPError=t.RequestError=t.Ajax=void 0;var r,o=n(59312),i=n(99950),a=n(32687),s=n(99129),u=n(79849);!function(e){e.extend=function(e){return u.R.local((function(t){return(0,o.__assign)((0,o.__assign)({},t),{requestExtender:t.requestExtender?p.Extender.compose(e,t.requestExtender):e})}))};var t=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="ParseError",r}return(0,o.__extends)(t,e),t.prototype.toString=function(){return"Ajax response parsing error\n        Message ".concat(this.message,"\n        Details ").concat(a.failure(this.details).join("\n"))},t}(u.CustomError);e.ParseError=t,function(e){e.json="application/json",e.form="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.pdf="application/pdf",e.txt="text/plain",e.stream="application/octet-stream",e.vnd="application/vnd",e.zip="application/zip",e.any="*/*"}(e.MimeType||(e.MimeType={})),e.mapToHTTPErrorWithoutBody=function(t,n,r){return r.removeBody(),e.mapToHTTPError(t,n,r)},e.mapToHTTPError=function(e,t,n){return new l({request:n,code:t.status,status:t.statusText,url:t.url,body:e})}}(r=t.Ajax||(t.Ajax={}));var c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="RequestError",r}return(0,o.__extends)(t,e),t.prototype.toString=function(){return"Request error\n      Message: ".concat(this.message,"\n      details: ").concat(this.details)},t.fromError=function(e,n){var r=new t(e,n.message);return r.stack=n.stack,r},t}(u.CustomError);t.RequestError=c;var l=function(e){function t(t){var n=t.code,r=t.status,o=t.url,i=t.message,a=t.body,s=t.request,u=e.call(this,Boolean(i)?i:Boolean(r||a)?r||a:"HTTPError")||this;return u.name="HTTPError",u.url=o,u.code=n,u.body=a,u.status=r,u.request=s,u}return(0,o.__extends)(t,e),t.prototype.toString=function(){return"Response\n      Message: ".concat(this.message,"\n      Status: ").concat(this.status,"\n      Code: ").concat(this.code,"\n      Body: ").concat(this.body,"\n      ").concat(void 0!==this.request?"\n"+this.request.toString():"Url: ".concat(this.url))},t}(u.CustomError);t.HTTPError=l;var d=function(){function e(e,t,n,r,o,i){this._url=e,this._method=t,this._headers=n,this._mime=r,this._body=o,this._keepalive=i}return e.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p.get.apply(p,e).build()},e.post=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p.post.apply(p,e).build()},e.put=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p.put.apply(p,e).build()},e.del=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p.del.apply(p,e).build()},e.head=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p.head.apply(p,e).build()},Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this._method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mime",{get:function(){return this._mime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepalive",{get:function(){var e;return null!==(e=this._keepalive)&&void 0!==e&&e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return u.O.fromNullable(this._body)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"Request\n    Method: ".concat(this.method.toUpperCase(),"\n    Url: ").concat(this.url,"\n    Mime: ").concat(this.mime,"\n    Headers: ").concat(JSON.stringify(this.headers,void 0,2),"\n    Body:").concat(u.O.mapOrDefault((function(e){return t=JSON.stringify(e instanceof URLSearchParams?(r={},e.forEach((function(e,t){return r[t]=e})),r):e,void 0,2),n=200,t.length<=n?t:t.slice(0,n)+"....";var t,n,r}),"empty")(this.body),"\n    ")},e.prototype.removeBody=function(){this._body=void 0},e}();t.Request=d,function(e){!function(e){e.GET="GET",e.POST="POST",e.PATCH="PATCH",e.PUT="PUT",e.OPTIONS="OPTIONS",e.HEAD="HEAD",e.TRACE="TRACE",e.DELETE="DELETE",e.CONNECT="CONNECT"}(e.Method||(e.Method={}))}(d=t.Request||(t.Request={})),t.Request=d;var p=function(){function e(e,t,n,r,o,i,a,s,u){void 0===e&&(e=""),void 0===t&&(t=new URLSearchParams),void 0===n&&(n=[]),void 0===r&&(r={}),void 0===s&&(s=!1),void 0===u&&(u=!1),this._url=e,this._queryParams=t,this._cookies=n,this._headers=r,this._method=o,this._mime=i,this._body=a,this._preserveUrl=s,this._keepalive=u}return e.join=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=[].slice.call(t.filter((function(e){return e.length>0})),0).join("/");return e._normalize(r)},e._normalize=function(e){return e=(e=(e=e.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|#)/g,"$1")},e.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(d.Method.GET)},e.post=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(d.Method.POST)},e.put=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(d.Method.PUT)},e.patch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(d.Method.PATCH)},e.del=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(d.Method.DELETE)},e.head=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(d.Method.HEAD)},e.url=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(e.join.apply(e,t))},e.prototype.url=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(""!==this._url)throw new Error("URL already set to "+this._url+", use join(string) to add additional parts to it");return this.join(e.join.apply(e,t))},e.create=function(){return new e},e.prototype.method=function(e){if(Boolean(this._method)&&this._method!==e)throw new Error("Method already set to "+this._method+", but was overwritten by "+e);return this._method=e,this},e.prototype.join=function(t){return this._url=e.join(this._url,t),this},e.prototype.pathParam=function(t){return this._url=e.join(this._url,encodeURIComponent(t)),this},e.prototype.body=function(e){if(Boolean(this._body))throw new Error("Body already set to "+this._body+", but was overwritten by "+e);return this._body=e,this},e.prototype.formParam=function(e,t){return(this._body=this._body instanceof URLSearchParams?this._body:new URLSearchParams).append(e,t),this},e.prototype.multipartFormData=function(e,t,n){var r=this._body instanceof s?this._body:new s;return r.append(e,t,n),this._body=r,this},e.prototype.header=function(e,t){return this._headers[e]=t,this},e.prototype.queryParam=function(e,t){return this._queryParams.append(e,t),this},e.prototype.queryParams=function(e){var t=this;return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];return t._queryParams.append(n,r)})),this},e.prototype.cookie=function(e,t){return this._cookies.push(e+"="+t),this},e.prototype.mime=function(e){if(Boolean(this._mime)&&this._mime!==e)throw new Error("MIME already set to "+this._mime+", but was overwritten by "+e);return this._mime=e,this},e.prototype.keepalive=function(){return this._keepalive=!0,this},e.prototype.json=function(e){return Boolean(e)?this.body(e).mime(r.MimeType.json):this.mime(r.MimeType.json)},e.prototype.preserveUrl=function(){return this._preserveUrl=!0,this},e.prototype.build=function(){var e;if(!this._url||0===this._url.length)throw new Error("URL cannot be empty");if(this._preserveUrl||(this._url=this._url.replace(/\/$/,"")),"".concat(this._queryParams).length>0&&(this._url+="?"+this._queryParams),this._body instanceof URLSearchParams){if(Boolean(this._mime)&&this._mime!==r.MimeType.form)throw new Error("Only application/x-www-form-urlencoded can be used for form requests, don't specify it mandatory in mime() method");this._mime=r.MimeType.form}else if(this._body instanceof s&&Boolean(this._mime)&&this._mime!==r.MimeType.multipart)throw new Error("Only multipart/form-data can be used for multipart form data requests, don't specify it mandatory in mime() method");if(this._mime===r.MimeType.json&&Boolean(this._body)&&(this._body=JSON.stringify(this._body)),!Boolean(this._method))throw new Error("HTTP method was not set");if(this._method=this._method,this._method===d.Method.GET&&Boolean(this._body))throw new Error("Body is not supported for GET");if(Boolean(this._mime)&&(this._headers["Content-Type"]=this._mime),this._cookies.length>0){this._headers.Cookie=this._cookies.join("; ")}return new d(this._url,this._method,this._headers,Boolean(this._mime)?this._mime:null,this._body,null!==(e=this._keepalive)&&void 0!==e&&e)},e}();t.RequestBuilder=p,function(e){!function(e){e.identity=function(e){return i.task.of(e)},e.compose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return t.reduce(i.task.chain,e.identity(n))}}}(e.Extender||(e.Extender={}))}(p=t.RequestBuilder||(t.RequestBuilder={})),t.RequestBuilder=p},91364:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0,function(e){var t=function(){};e.Base=t}(t.Client||(t.Client={}))},32769:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dapi=t.DapiPropertiesSerializationError=t.Properties=t.PropertyImpl=t.emptyValue=void 0;var r=n(59312),o=n(95195),i=n(45614),a=n(40327),s=n(69243),u=n(32687),c=n(79849),l=n(18410),d=n(52868);function p(e){return"null"===e||"undefined"===e||null==e}function h(e){if(null===e||"null"===e||"boolean"==typeof e)return null;var t=Number(e);return Number.isNaN(t)?null:t}function f(e){return p(e)?null:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}function g(e){try{return JSON.parse(decodeURIComponent(e))}catch(e){return null}}function m(e){try{return new Set(g(e))}catch(e){return null}}function y(e){try{return Object.entries(g(e)).reduce((function(e,t){var n=t[0],r=t[1];return e.set(n,r),e}),new Map)}catch(e){return null}}t.emptyValue=p;var v,b=function(){function e(e){this._value=e}return e.prototype.getStr=function(){return p(this._value)?null:String(this._value)},e.prototype.getNum=function(){return h(this._value)},e.prototype.getBool=function(){return f(this._value)},e.prototype.getBoolOrDefault=function(e){return function(e,t){return p(e)?t:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}(this._value,e)},e.prototype.getObject=function(){return g(this._value)},e.prototype.getArray=function(){return g(this._value)},e.prototype.getSet=function(){return m(this._value)},e.prototype.getMap=function(){return y(this._value)},e.prototype.getObjProp=function(e){return Boolean(this._value.hasOwnProperty(e))?this._value[e]:null},e}();t.PropertyImpl=b,function(e){function t(e){return"object"==typeof e?(0,a.pipe)(JSON.stringify(e,(function(e,t){return t instanceof Set?Array.from(t):t instanceof Map?c.ObjectUtils.fromEntries(t):t})),encodeURI):e}e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new b(r&&r[e])},e.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new w,o=0,i=e;o<i.length;o++){var a=i[o];for(var s in a){var u=a[s];r[s]=t(u)}}return r},e.is=function(e){return e instanceof w}}(v=t.Properties||(t.Properties={}));var _,w=function(){function e(){}return e.prototype.getStr=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.getNum=function(e){return this.hasOwnProperty(e)?h(this[e]):null},e.prototype.getBool=function(e){return this.hasOwnProperty(e)?f(this[e]):null},e.prototype.getObject=function(e){return this.hasOwnProperty(e)?g(this[e]):null},e.prototype.getSet=function(e){return this.hasOwnProperty(e)?m(this[e]):null},e.prototype.getMap=function(e){return this.hasOwnProperty(e)?y(this[e]):null},e.prototype.has=function(e){return this.hasOwnProperty(e)},e.prototype.ifPresent=function(e,t){Boolean(this[e])&&t(this[e])},e.prototype.entries=function(){var e=this;return Object.keys(this).map((function(t){return[t,new b(e[t])]}))},e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new b(r&&r[e])},e}(),S=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="DapiPropertiesSerializationError",r}return(0,r.__extends)(t,e),t.prototype.toString=function(){return"DAPI properties serialization error\n      Message ".concat(this.message,"\n      Details ").concat(u.failure(this.details))},t}(c.CustomError);function I(e){return _.fromProperties(e).decode(e)}function x(e){return new S("Serialization failed",e)}t.DapiPropertiesSerializationError=S,function(e){var t=["{","}",";","="];e.property=new s.Type("property",(function(e){return!0}),(function(e,n){var r=n[1].key,o=String(e);return o.length>1024?s.failure(e,n,"Property ".concat(r," is too long (max length is ").concat(1024,")")):t.some((function(e){return o.indexOf(e)>=0}))?s.failure(e,n,"Property ".concat(r," has forbidden characters (").concat(t.join(", "),")")):s.success(e)}),s.identity),e.fromProperties=function(t){return s.type((0,a.pipe)(t,i.filter((function(e){return"function"!=typeof e})),i.map((function(t){return e.property}))))}}(_||(_={}));var E=function(){function e(e,t,n){this._fingerprints=n,this._endpoints={props:"props/v2",mimic:"mimic"},this._url=l.RequestBuilder.join(e,"api"),this._ajax=t({requestExtender:d.Fingerprints.toHeaderAppender(this._fingerprints)})}return e.prototype.load=function(){return(0,a.pipe)(this._ajax.json(l.RequestBuilder.get(this._url,this._endpoints.props)),this._ajax.map(v.of))},e.prototype.get=function(e){return(0,a.pipe)(this._ajax.text(l.RequestBuilder.get(this._url,this._endpoints.props,e)),this._ajax.map((function(t){var n;return v.of(((n={})[e]=t||null,n))})))},e.prototype.save=function(e,t){var n=this;return(0,a.pipe)(e,I,o.mapLeft(x),o.fold(this._ajax.throwError,this._ajax.of),this._ajax.map((function(e){return(0,a.pipe)(l.RequestBuilder.post(n._url,n._endpoints.props).json(e),Boolean(null==t?void 0:t.keepalive)?function(e){return e.keepalive()}:s.identity)})),this._ajax.chain(this._ajax.empty))},e.prototype.getMimic=function(e){return this._ajax.json(l.RequestBuilder.get(this._url,this._endpoints.mimic).cookie("gnar_containerId",e))},e.prototype.getMimicWithProps=function(e){return(0,a.pipe)(this._ajax.json(l.RequestBuilder.get(this._url,this._endpoints.mimic,"withProps").cookie("gnar_containerId",e)),this._ajax.map((function(e){var t=e.groups,n=e.properties;return{experiments:new Set(t),properties:v.of(n)}})))},e.targetTag="dapi",e}();t.Dapi=E},52269:(e,t,n)=>{t.Ab=void 0;var r=n(59312),o=n(69243),i=n(18410),a=n(91364),s=n(52868),u=n(34930),c=u.Type.literalUnion("company_dialect",(0,u.literalArray)(["american","british","canadian","australian","indian"])),l=o.union([c,o.nullType]),d=o.interface({dialect:o.union([l,o.undefined])}),p=o.interface({dialect:o.union([l,o.undefined]),dialectLockedByInstitution:o.boolean}),h=function(e){function t(t,n,r){var o=e.call(this)||this;return o._url=t,o._ajaxFactory=n,o._fingerprints=r,o._ajax=o._ajaxFactory({requestExtender:s.Fingerprints.toHeaderAppender(o._fingerprints)}),o}return(0,r.__extends)(t,e),t.getDefaultUrl=function(e){return"https://capi".concat(e,"/api/configuration/language/v1/settings")},t.prototype.getDialectSettings=function(){var e=i.RequestBuilder.post(this._url,"/get");return this._ajax.json(e,p)},t}(a.Client.Base);t.Ab=h,function(e){function t(t,n,r){var o=e.call(this)||this;return o._url=t,o._ajaxFactory=n,o._fingerprints=r,o._ajax=o._ajaxFactory({requestExtender:s.Fingerprints.toHeaderAppender(o._fingerprints)}),o}(0,r.__extends)(t,e),t.getDefaultUrl=function(e){return"https://goldengate".concat(e,"/configuration/company-language/v1/institution")},t.prototype.getInstitutionDialectSettings=function(){var e=i.RequestBuilder.get(this._url,"/settings");return this._ajax.json(e,d)},t.prototype.setInstitutionDialect=function(e){var t=i.RequestBuilder.patch(this._url,"/settings/dialect").json(e);return this._ajax.empty(t)}}(a.Client.Base)},52868:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createCookiesAppender=t.createHeadersAppender=t.Fingerprints=void 0;var r=n(59312);function o(e){var t=this;function n(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return Array.isArray(e)?(t=e[0],n=e[1],o=[t],[4,"function"==typeof n?n():n]):[3,2];case 1:return[2,o.concat([r.sent()]).join(" ")];case 2:return[4,"function"==typeof e?e():e];case 3:return[2,r.sent()]}}))}))}return function(o){return function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,i,a,s,u,c,l,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:for(i in t=[],e)t.push(i);a=0,r.label=1;case 1:return a<t.length?(s=t[a],u=e[s],l=(c=o).header,d=[s],[4,n(u)]):[3,4];case 2:l.apply(c,d.concat([r.sent()])),r.label=3;case 3:return a++,[3,1];case 4:return[2,o]}}))}))}}}!function(e){e.toHeaderAppender=function(e){return o((0,r.__assign)({"X-Client-Version":e.clientVersion.toString(),"X-Client-Type":function(){return e.clientName},"X-Container-Id":e.containerId,"X-CSRF-Token":e.csrfToken},void 0!==e.accessToken&&{Authorization:["Bearer",e.accessToken]}))}}(t.Fingerprints||(t.Fingerprints={})),t.createHeadersAppender=o,t.createCookiesAppender=function(e){var t=this;return function(n){return function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,o,i,a,s,u,c,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:for(o in t=[],e)t.push(o);i=0,r.label=1;case 1:return i<t.length?(a=t[i],s=e[a],c=(u=n).cookie,l=[a],[4,"function"==typeof s?s():s]):[3,4];case 2:c.apply(u,l.concat([r.sent()])),r.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))}}}},34930:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Type=t.literalArray=void 0;var r=n(59312),o=n(40327),i=n(69243),a=n(79849),s=n(32769);function u(e){return e}t.literalArray=u,function(e){function t(e){return function(t){return a.O.is(t)&&(0,o.pipe)(t,a.O.fold((function(){return!0}),e.is))}}function n(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every(e.is)}}e.set=function(e){return new i.Type("Set<".concat(e.name,">"),(function(e){return e instanceof Set}),(function(t,n){return a.E.either.map(i.array(e).validate(t,n),(function(e){return new Set(e)}))}),(function(e){return Array.from(e)}))},e.getIsOption=t,e.option=function(e){return new i.Type("option:".concat(e.name),t(e),(function(t,n){return null==t?a.E.right(a.O.none):a.E.either.map(e.validate(t,n),a.O.some)}),a.O.fold((function(){}),e.encode))},e.opaque=function(e){return new i.Type("Opaque",(function(e){return"string"==typeof e}),(function(t,n){return a.E.either.chain(e.validate(t,n),(function(e){return i.success(e)}))}),(function(e){return e}))},e.getIsNEA=n,e.nonEmptyArray=function(e){return new i.Type("NEA",n(e),(function(t,n){return a.E.either.chain(i.array(e).validate(t,n),(function(e){return e.length>0?i.success(e):i.failure(e,n,"Array is empty")}))}),(function(e){return a.O.unsafeGet(a.NEA.fromArray(e))}))},e.literalUnion=function(e,t){return i.union(t.map((function(e){return i.literal(e)})),"".concat(e,":string"))},e.date=function(){return new i.Type("Date",(function(e){return e instanceof Date}),(function(e,t){var n=Date.parse(null==e?void 0:e.toString()),r=isNaN(n)?e:n;return a.E.either.map(i.number.validate(r,t),(function(e){return new Date(e)}))}),(function(e){return e.getTime()}))};var u=function(e){return i.string.is(e)&&!Number.isNaN(Number(e))};e.stringFromNumber=new i.Type("stringFromNumber",u,(function(e,t){return u(e)?i.success(e):"number"!=typeof e||Number.isNaN(e)?i.failure(e,t):i.success(e.toString())}),(function(e){return Number(e)})),e.withDefault=function(e,t){return new i.Type("withDefault(".concat(JSON.stringify(t),"):").concat(e.name),e.is,(function(n,r){return e.validate((0,s.emptyValue)(n)?t:n,r)}),e.encode)},e.fallback=function(e,t){return new i.Type("fallback(".concat(JSON.stringify(t),"):").concat(e.name),e.is,(function(n,r){var o=e.validate(n,r);return a.E.isLeft(o)?a.E.right(t):o}),e.encode)};var c=function(e,t){Array.prototype.push.apply(e,t)},l=["boolean","string","Date","number","Array","Set","object","Dictionary","StringEnum","Partial"];function d(e,t){var n=function(e){var t=e.replace(/\w+\(.*?\):/,"");if("{"===t[0]&&"}"===t[t.length-1])return"object";var n=t.split(":").pop();return 0===n.indexOf("Date")?"Date":0===n.indexOf("Array<")?"Array":0===n.indexOf("Set<")?"Set":0===n.indexOf("StringEnum<")?"StringEnum":0===t.indexOf("Partial<")?"Partial":0===t.indexOf("UpstreamOnboarding")?"object":((0,a.invariant)(l.indexOf(n)>-1,"unsupported prop type ".concat(e)),n)}(e);switch(n){case"boolean":return t.getBool();case"string":case"StringEnum":return t.getStr();case"Date":return null===t.getNum()?t.getStr():t.getNum();case"number":return t.getNum();case"Array":case"Set":return t.getArray();case"object":case"Partial":case"Dictionary":return t.getObject();default:return(0,a.assertNever)(n)}}e.properties=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=function(e){return"{ ".concat(Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")," }")}(e)),new i.InterfaceType(n,(function(t){if(!s.Properties.is(t))return!1;for(var n in e)if(!e[n].is(t[n]))return!1;return!0}),(function(n,u){if(!Array.isArray(n)||n.some((function(e){return!s.Properties.is(e)})))return i.failure(n,u);var l={},p=[],h=function(h){var f=""!==t?"".concat(t,":").concat(h):h,g=s.Properties.find.apply(s.Properties,(0,r.__spreadArray)([f],n,!1)),m=e[h],y=d(m.name,g),v=m.validate(y,i.appendContext(u,h,m));(0,o.pipe)(v,a.E.fold((function(e){return c(p,e)}),(function(e){l[h]=e})))};for(var f in e)h(f);return p.length?i.failures(p):i.success(l)}),(function(n){var r={};for(var o in e){var i=""!==t?"".concat(t,":").concat(o):o,a=e[o],u=n[o];a.is(u)&&(r[i]=e[o].encode(u))}return s.Properties.of(r)}),e)},e.combineProperties=function(e,t){void 0===t&&(t="(".concat(e.map((function(e){return e.name})).join(" & "),")"));var n=e.length;return new i.IntersectionType(t,(function(t){return e.every((function(e){return e.is(t)}))}),(function(t,r){for(var s={},u=[],l=0;l<n;l++){var d=e[l].validate(t,r);(0,o.pipe)(d,a.E.fold((function(e){return c(u,e)}),(function(e){return Object.assign(s,e)})))}return u.length?i.failures(u):i.success(s)}),(function(t){return s.Properties.of.apply(s.Properties,e.map((function(e){return e.encode(t)})))}),e)},e.createStringEnum=function(e,t){return i.keyof(Object.values(e).reduce((function(e,t){return e[t]=null,e}),{}),"StringEnum<".concat(t,">"))},e.createNonStrictStringUnion=function(e){return new i.Type(e,(function(e){return"string"==typeof e}),(function(e,t){return"string"==typeof e?i.success(e):i.failure(e,t,"Unexpected type: ".concat(e))}),i.identity)}}(t.Type||(t.Type={}))},99596:(e,t,n)=>{n.d(t,{Bb:()=>h,Lu:()=>p,cl:()=>g,tk:()=>r});var r,o=n(59312),i=n(99950),a=n(32687),s=n(99129),u=n(19429),c=n(22232),l=n(5114),d=n(83078);!function(e){e.extend=function(e){return u.I_((function(t){return(0,o.__assign)((0,o.__assign)({},t),{requestExtender:t.requestExtender?g.Extender.compose(e,t.requestExtender):e})}))};var t=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="ParseError",r}return(0,o.__extends)(t,e),t.prototype.toString=function(){return"Ajax response parsing error\n        Message ".concat(this.message,"\n        Details ").concat(a.failure(this.details).join("\n"))},t}(c.sH);e.ParseError=t,function(e){e.json="application/json",e.form="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.pdf="application/pdf",e.txt="text/plain",e.stream="application/octet-stream",e.vnd="application/vnd",e.zip="application/zip",e.any="*/*"}(e.MimeType||(e.MimeType={})),e.mapToHTTPErrorWithoutBody=function(t,n,r){return r.removeBody(),e.mapToHTTPError(t,n,r)},e.mapToHTTPError=function(e,t,n){return new h({request:n,code:t.status,status:t.statusText,url:t.url,body:e})}}(r||(r={}));var p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="RequestError",r}return(0,o.__extends)(t,e),t.prototype.toString=function(){return"Request error\n      Message: ".concat(this.message,"\n      details: ").concat(this.details)},t.fromError=function(e,n){var r=new t(e,n.message);return r.stack=n.stack,r},t}(c.sH),h=function(e){function t(t){var n=t.code,r=t.status,o=t.url,i=t.message,a=t.body,s=t.request,u=e.call(this,Boolean(i)?i:Boolean(r||a)?r||a:"HTTPError")||this;return u.name="HTTPError",u.url=o,u.code=n,u.body=a,u.status=r,u.request=s,u}return(0,o.__extends)(t,e),t.prototype.toString=function(){return"Response\n      Message: ".concat(this.message,"\n      Status: ").concat(this.status,"\n      Code: ").concat(this.code,"\n      Body: ").concat(this.body,"\n      ").concat(void 0!==this.request?"\n"+this.request.toString():"Url: ".concat(this.url))},t}(c.sH),f=function(){function e(e,t,n,r,o,i){this._url=e,this._method=t,this._headers=n,this._mime=r,this._body=o,this._keepalive=i}return e.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.get.apply(g,e).build()},e.post=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.post.apply(g,e).build()},e.put=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.put.apply(g,e).build()},e.del=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.del.apply(g,e).build()},e.head=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.head.apply(g,e).build()},Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this._method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mime",{get:function(){return this._mime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepalive",{get:function(){var e;return null!==(e=this._keepalive)&&void 0!==e&&e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return l.fromNullable(this._body)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"Request\n    Method: ".concat(this.method.toUpperCase(),"\n    Url: ").concat(this.url,"\n    Mime: ").concat(this.mime,"\n    Headers: ").concat(JSON.stringify(this.headers,void 0,2),"\n    Body:").concat(d.mapOrDefault((function(e){return t=JSON.stringify(e instanceof URLSearchParams?(r={},e.forEach((function(e,t){return r[t]=e})),r):e,void 0,2),n=200,t.length<=n?t:t.slice(0,n)+"....";var t,n,r}),"empty")(this.body),"\n    ")},e.prototype.removeBody=function(){this._body=void 0},e}();!function(e){!function(e){e.GET="GET",e.POST="POST",e.PATCH="PATCH",e.PUT="PUT",e.OPTIONS="OPTIONS",e.HEAD="HEAD",e.TRACE="TRACE",e.DELETE="DELETE",e.CONNECT="CONNECT"}(e.Method||(e.Method={}))}(f||(f={}));var g=function(){function e(e,t,n,r,o,i,a,s,u){void 0===e&&(e=""),void 0===t&&(t=new URLSearchParams),void 0===n&&(n=[]),void 0===r&&(r={}),void 0===s&&(s=!1),void 0===u&&(u=!1),this._url=e,this._queryParams=t,this._cookies=n,this._headers=r,this._method=o,this._mime=i,this._body=a,this._preserveUrl=s,this._keepalive=u}return e.join=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=[].slice.call(t.filter((function(e){return e.length>0})),0).join("/");return e._normalize(r)},e._normalize=function(e){return e=(e=(e=e.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|#)/g,"$1")},e.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(f.Method.GET)},e.post=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(f.Method.POST)},e.put=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(f.Method.PUT)},e.patch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(f.Method.PATCH)},e.del=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(f.Method.DELETE)},e.head=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(f.Method.HEAD)},e.url=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(e.join.apply(e,t))},e.prototype.url=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(""!==this._url)throw new Error("URL already set to "+this._url+", use join(string) to add additional parts to it");return this.join(e.join.apply(e,t))},e.create=function(){return new e},e.prototype.method=function(e){if(Boolean(this._method)&&this._method!==e)throw new Error("Method already set to "+this._method+", but was overwritten by "+e);return this._method=e,this},e.prototype.join=function(t){return this._url=e.join(this._url,t),this},e.prototype.pathParam=function(t){return this._url=e.join(this._url,encodeURIComponent(t)),this},e.prototype.body=function(e){if(Boolean(this._body))throw new Error("Body already set to "+this._body+", but was overwritten by "+e);return this._body=e,this},e.prototype.formParam=function(e,t){return(this._body=this._body instanceof URLSearchParams?this._body:new URLSearchParams).append(e,t),this},e.prototype.multipartFormData=function(e,t,n){var r=this._body instanceof s?this._body:new s;return r.append(e,t,n),this._body=r,this},e.prototype.header=function(e,t){return this._headers[e]=t,this},e.prototype.queryParam=function(e,t){return this._queryParams.append(e,t),this},e.prototype.queryParams=function(e){var t=this;return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];return t._queryParams.append(n,r)})),this},e.prototype.cookie=function(e,t){return this._cookies.push(e+"="+t),this},e.prototype.mime=function(e){if(Boolean(this._mime)&&this._mime!==e)throw new Error("MIME already set to "+this._mime+", but was overwritten by "+e);return this._mime=e,this},e.prototype.keepalive=function(){return this._keepalive=!0,this},e.prototype.json=function(e){return Boolean(e)?this.body(e).mime(r.MimeType.json):this.mime(r.MimeType.json)},e.prototype.preserveUrl=function(){return this._preserveUrl=!0,this},e.prototype.build=function(){var e;if(!this._url||0===this._url.length)throw new Error("URL cannot be empty");if(this._preserveUrl||(this._url=this._url.replace(/\/$/,"")),"".concat(this._queryParams).length>0&&(this._url+="?"+this._queryParams),this._body instanceof URLSearchParams){if(Boolean(this._mime)&&this._mime!==r.MimeType.form)throw new Error("Only application/x-www-form-urlencoded can be used for form requests, don't specify it mandatory in mime() method");this._mime=r.MimeType.form}else if(this._body instanceof s&&Boolean(this._mime)&&this._mime!==r.MimeType.multipart)throw new Error("Only multipart/form-data can be used for multipart form data requests, don't specify it mandatory in mime() method");if(this._mime===r.MimeType.json&&Boolean(this._body)&&(this._body=JSON.stringify(this._body)),!Boolean(this._method))throw new Error("HTTP method was not set");if(this._method=this._method,this._method===f.Method.GET&&Boolean(this._body))throw new Error("Body is not supported for GET");if(Boolean(this._mime)&&(this._headers["Content-Type"]=this._mime),this._cookies.length>0){this._headers.Cookie=this._cookies.join("; ")}return new f(this._url,this._method,this._headers,Boolean(this._mime)?this._mime:null,this._body,null!==(e=this._keepalive)&&void 0!==e&&e)},e}();!function(e){!function(e){e.identity=function(e){return i.task.of(e)},e.compose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return t.reduce(i.task.chain,e.identity(n))}}}(e.Extender||(e.Extender={}))}(g||(g={}))},67394:(e,t,n)=>{n.d(t,{JU:()=>r,r3:()=>i});var r,o,i,a=n(59312),s=n(71249),u=n(45614),c=n(57050),l=n(40327),d=n(8709),p=n(73975),h=n(5114),f=n(22232),g=n(83078),m=n(95195),y=n(89943),v=n(26328),b=n(95574),_=n(81670),w=n(81531),S=n(36991),I=n(52226);!function(e){var t,n;!function(e){e.Important="important",e.Main="main",e.Optional="optional"}(t=e.Type||(e.Type={})),function(e){e.OptionalContext="optional_context"}(n=e.TypeExt||(e.TypeExt={}));var r=function(e){return"object"==typeof e&&null!==e};e.eqAttributes=u.getEq(p.f7((function(t,n){return r(t)&&r(n)?e.eqAttributes.equals(t,n):p.w4.equals(t,n)}))),e.eq=p.MW({type:p.w4,group:h.getEq(p.yv),insert:p.yv,delete:p.lr,retain:p.lr,attributes:e.eqAttributes}),e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&o(t.insert)},e.isInsertGap=function(t){return e.isInsert(t)&&i(t.insert)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.isOptionalContextRetain=function(t){return"retain"in t&&e.isOptionalContextType(t.type)};var o=function(e){return"string"==typeof e},i=function(e){return"object"==typeof e&&null!==e&&"gap"in e};e.isMain=function(t){return t.type===e.Type.Main},e.isOptionalType=function(t){return t===e.Type.Optional},e.isOptionalContextType=function(t){return t===e.TypeExt.OptionalContext},e.isSignificant=function(e){switch(e.type){case t.Main:case t.Important:return!0;case t.Optional:return!1;default:return(0,f.vE)(e.type)}},e.fromRawAbsAlternative=function(e){if(s=e.ops,u=s[0],Boolean(u)&&"retain"in u&&Boolean(u.attributes)&&"optional_context"===u.attributes.type){var t=e.ops,r=t[0],o=t.slice(1),i={retain:r.retain,type:n.OptionalContext,group:h.none};return(0,a.__spreadArray)([i],o.map(m),!0)}return e.ops.map(m);var s,u},e.length=d.i.Op.length,e.anonymize=function(t){return e.isInsert(t)?(0,a.__assign)((0,a.__assign)({},t),{insert:"string"==typeof t.insert?"<".concat(e.length(t),">"):"<embed>"}):t};var s=function(){function n(e){this.ops=e,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(n){Boolean(n)||(n=1/0);var r=this.ops[this.index];if(Boolean(r)){var o=r.type,i=this.offset,a=e.length(r);return n>=a-i?(n=a-i,this.index+=1,this.offset=0):this.offset+=n,e.isDelete(r)?{delete:n,type:o,group:r.group}:e.isRetain(r)?{retain:n,type:o,group:r.group,attributes:!e.isOptionalContextType(o)&&r.attributes}:e.isInsertString(r)?{insert:r.insert.substr(i,n),type:o,group:r.group,attributes:r.attributes}:r}return{retain:1/0,type:t.Optional,group:h.none,attributes:{}}},n.prototype.peekLength=function(){return Boolean(this.ops[this.index])?e.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return Boolean(this.ops[this.index])?e.isDelete(this.ops[this.index])?"delete":e.isRetain(this.ops[this.index])?"retain":"insert":"retain"},n}();e.Iterator=s;var g=(0,c.ls)(h.fromNullable,h.map(u.deleteAt("type")),h.map(u.deleteAt("group")),h.getOrElse((function(){return{}}))),m=function(e){var n,r=function(e){if(null!=(null==e?void 0:e.type))switch(e.type){case"main":return t.Main;case"important":return t.Important;default:return(0,f.vE)(e.type)}return t.Optional}(e.attributes),o=(n=e.attributes,(0,l.pipe)(h.fromNullable(n),h.chain((function(e){return h.fromNullable(e.group)}))));return"insert"in e?{insert:e.insert,type:r,group:o,attributes:g(e.attributes)}:"delete"in e?{delete:e.delete,type:r,group:o}:{retain:e.retain,type:r,group:o,attributes:g(e.attributes)}}}(r||(r={})),function(e){e.fromAlternative=function(e){var t=e.alternative,n=e.fullText;return(0,l.pipe)(t.delta.invert(n),i.fromRawDelta)},e.fromAlternativeBoldified=function(t){var n=t.alternative,r=t.fullText,o=(0,l.pipe)(n.delta.map(S.s.match((function(e){return(0,l.pipe)(e,h.fromPredicate(S.s.isInsertString),h.chain((function(e){return(0,l.pipe)(h.fromNullable(e.attributes),h.map((function(t){return{attributes:t,retain:e.insert.length}})))})),h.filter((function(e){var t=e.attributes;return Boolean(t.bold)})),h.map((function(e){return{retain:e.retain,attributes:{bold:!1}}})))}),(function(e){return h.none}),(function(e){return h.some({retain:e.retain})}))),s.oA,(function(e){return new d.i(e)}),(function(e){return r.compose(e)}));return e.fromAlternative({alternative:n,fullText:o})},e.fromAlternativeListified=function(t){var n=t.alternative,r=t.fullText;return(0,l.pipe)(e.fromAlternative({alternative:n,fullText:r}),(function(e){return(0,l.pipe)(e.delta.ops,s.qr((function(e){return S.s.isInsertString(e)&&"\n"===e.insert&&Boolean(!e.attributes||!Boolean(e.attributes.list))})),h.map((function(t){var n=e.delta.ops,r=n[t];return new d.i((0,a.__spreadArray)((0,a.__spreadArray)((0,a.__spreadArray)([],n.slice(0,t),!0),[(0,a.__assign)((0,a.__assign)({},r),{attributes:(0,a.__assign)((0,a.__assign)({},r.attributes),{list:!1})})],!1),n.slice(t+1),!0))})),h.getOrElse((function(){return e.delta})))}),i.fromRawDelta)}}(o||(o={})),function(e){var t;function n(e){return function(t){return r.isInsertGap(t)?(0,a.__assign)((0,a.__assign)({},t),{insert:e}):t}}function o(e){return new i(e)}e.hasOptionalContext=function(e){return Boolean(e[0])&&r.isOptionalContextRetain(e[0])},function(e){e.Insert="insert",e.Remove="remove",e.Substitution="substitution"}(t=e.Type||(e.Type={})),function(e){function t(t){return t.type===r.Type.Main?h.some(r.isInsert(t)?e.Insert:e.Remove):h.none}e.eq=p.yv,e.fromOperation=t,e.semigroup={concat:function(t,n){switch(t){case e.Insert:return n===e.Remove?e.Substitution:n;case e.Remove:return n===e.Insert?e.Substitution:n;case e.Substitution:return e.Substitution;default:return(0,f.vE)(t)}}},e.monoid=h.getMonoid(e.semigroup),e.parse=(0,s.Lx)(e.monoid)(t)}(t=e.Type||(e.Type={})),e.eq=p.MW({lengthAffected:p.lr,type:h.getEq(t.eq),ops:(0,s.Eh)(r.eq)}),e.fromRawDelta=(0,c.ls)(I.e.AbsAlternative.unsafeFromDelta,r.fromRawAbsAlternative,o),e.fillGaps=function(t,r){return e.hasOptionalContext(t.ops)?o((0,a.__spreadArray)([t.ops[0]],t.ops.slice(1).map(n(r)),!0)):o(t.ops.map(n(r)))},e.dismissTransformGroups=function(t,n){var i=s.DZ((function(e){return(0,l.pipe)(e.group,h.filter((function(e){return n.has(e)})),h.fold((function(){return h.some(e)}),(function(){return function(e){return r.isDelete(e)?h.some({type:e.type,group:e.group,retain:e.delete,attributes:{}}):r.isInsert(e)?h.none:h.some(e)}(e)})))}));if(e.hasOptionalContext(t.ops)){var u=t.ops,c=u[0],d=u.slice(1);return o((0,a.__spreadArray)([c],(0,l.pipe)(d,i),!0))}return o((0,l.pipe)(t.ops,i))},e.getTransformGroups=function(e){var t=new Set;return e.ops.forEach((function(e){return(0,l.pipe)(e.group,g.tap((function(e){return t.add(e)})))})),t},e.getDeleteOpsGroupsList=function(e){return(0,l.pipe)(e.ops.filter(r.isDelete),s.UI((function(e){return e.group})),s.oA)},e.create=o,e.validate=(0,c.ls)((function(e){return e.ops}),m.fromPredicate(y.existsOnEdgesOnly(r.isOptionalContextRetain),(function(e){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),function(t){t.fromSerialized=function(t){return{context:t.context,alternatives:(0,l.pipe)(t.alternatives,v.UI((function(e){return e.ops})),v.UI(e.create))}},t.fromSubalerts=function(e,t){return{context:e,alternatives:v.UI((0,c.ls)(r.fromRawAbsAlternative,o))(t)}},t.fromRawTransform=function(e){return{context:v.of(e.context),alternatives:v.UI((0,c.ls)(r.fromRawAbsAlternative,o))(e.alternatives)}},t.rebase=function(e){return function(t){return{context:(0,l.pipe)(t.context,v.UI((function(t){return{s:e.transformPosition(t.s,!0),e:e.transformPosition(t.e,!0)}}))),alternatives:(0,l.pipe)(t.alternatives,v.UI((function(t){return(0,l.pipe)(t.rebase(e),h.fold((function(){return t}),c.yR))})))}}},t.copy=function(e){return{context:v.JG(e.context),alternatives:v.JG(e.alternatives)}}}(e.Group||(e.Group={}));var i=function(){function n(e){this.ops=e,this.type=t.parse(this.ops),this.lengthAffected=S.s.calcAffectedLength(this)}return n.prototype.rebase=function(e){var t=e.ops[0];if(!Boolean(t)||S.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&d.i.Op.length(t)>this.lengthAffected)return h.some(this);var n=this.ops.length>=2&&S.s.isDelete(this.ops[this.ops.length-2])&&S.s.isInsert(this.ops[this.ops.length-1]);return!Boolean(t)||n&&S.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&d.i.Op.length(t)===this.lengthAffected?h.some(this):this._internalRebase(e)},n.prototype._internalRebase=function(t){for(var o=this,i=d.i.Op.iterator(t.ops),a=new r.Iterator(this.ops),s=h.some(new n([])),u=!1;a.hasNext();)if("insert"===i.peekType()){if(u&&(0,l.pipe)(s,g.forAll((function(e){return e.ops[e.ops.length-1].type===r.Type.Main}))))return h.none;var c=d.i.Op.length(i.next()),p=(0,l.pipe)(s,h.map((function(e){return e.ops[e.ops.length-1]})),g.unsafeGet);if(u&&g.forAll((function(e){return e.lengthAffected>0}))(s)){var f={retain:c,type:p.type,group:p.group,attributes:"attributes"in p&&!r.isOptionalContextType(p.type)?p.attributes:{}};s=n._pushOp(s,f)}else s=n._pushOp(s,{retain:c,type:r.Type.Optional,group:h.none,attributes:{}})}else if("insert"===a.peekType()){var m=a.next();if(m.type===r.Type.Main&&"delete"===i.peekType()&&i.offset>0)return h.none;s=n._pushOp(s,m)}else{var y=Math.min(i.peekLength(),a.peekLength()),v=i.next(y),b=a.next(y);S.s.isDelete(v)||(u=a.offset>0,s=n._pushOp(s,r.isDelete(b)?b:r.isOptionalContextType(b.type)?{retain:y,type:r.TypeExt.OptionalContext,group:h.none}:{retain:y,type:b.type,group:b.group,attributes:b.attributes}))}return(0,l.pipe)(s,h.map((function(t){return t.type=e.Type.parse(o.ops),t})))},n._pushOp=function(e,t){return(0,l.pipe)(e,h.chain((function(e){return(0,l.pipe)(b.tryCatchError((function(){return e._push(t)})),m.mapLeft((function(e){return w.C8.Logging.getLogger("Alternative").error("Alternative push error",e),e})),h.fromEither)})))},n.prototype._push=function(e){var t=this.ops.length,n=this.ops[t-1];if(Boolean(n)){if(r.isOptionalContextRetain(e))return r.isOptionalContextRetain(n)?n.retain+=e.retain:r.isRetain(n)&&t<=2?2===t?((0,f.kG)(r.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.ops[0].retain+=e.retain):(this.ops[t]=n,this.ops[t-1]=e):(0,f.kG)(r.isOptionalContextRetain(n)||r.isRetain(n)&&1===t,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.lengthAffected+=e.retain,this;if(r.isDelete(e)&&r.isDelete(n))return e.type===n.type?n.delete+=e.delete:this.ops.push(e),this.lengthAffected+=e.delete,this;if(r.isInsert(e)&&r.isInsert(n))return e.type===n.type&&"string"==typeof e.insert&&"string"==typeof n.insert&&r.eqAttributes.equals(e.attributes,n.attributes)?n.insert+=e.insert:this.ops.push(e),this;if(r.isRetain(e)&&r.isRetain(n))return e.type===n.type?n.retain+=e.retain:this.ops.push(e),this.lengthAffected+=e.retain,this;this.ops.push(e)}else this.ops=[e];return r.isInsert(e)||(this.lengthAffected+=r.length(e)),this},Object.defineProperty(n.prototype,"delta",{get:function(){return S.s.normalizeDelta(new d.i(this))},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return{ops:this.ops}},n}();e.compose=function(e,t){var n={composedDelta:new d.i,currentFullText:t,reversedAlternatives:[]},r=e.reduce((function(e,t,n){var r=t[0],o=t[1];return(0,l.pipe)(r.rebase(e.composedDelta),h.fold((function(){e.reversedAlternatives.push(m.left({error:new Error("Could not rebase alternative to composed delta"),delta:r.delta,alternativeIndex:n}))}),(function(t){var r=o({alternative:t,fullText:e.currentFullText});e.composedDelta=e.composedDelta.compose(t.delta),e.currentFullText=e.currentFullText.compose(t.delta),function(e,t){e.forEach((function(n,r){return(0,l.pipe)(n,m.fold(c.Q1,(function(n){e[r]=(0,l.pipe)(n.reversedAlternative.rebase(t.delta),m.fromOption((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),m.map((function(e){return(0,a.__assign)((0,a.__assign)({},n),{reversedAlternative:e})})))})))}))}(e.reversedAlternatives,t),e.reversedAlternatives.push(m.right({reversedAlternative:r,alternativeIndex:n}))}))),e}),n),o=(0,l.pipe)(r.reversedAlternatives,s.oh,_.T.fromSeparatedArray);return(0,a.__assign)((0,a.__assign)({},r),{reversedAlternatives:o})},e.withoutOptionalOps=function(t){return e.create(t.filter((function(e){return!r.isOptionalType(e.type)})))}}(i||(i={}))},63513:(e,t,n)=>{n.d(t,{lB:()=>_,PZ:()=>x,DI:()=>k,_l:()=>L,Q1:()=>M,_Y:()=>D,VD:()=>N,hD:()=>ue,rP:()=>G,JG:()=>y,vv:()=>ae,H5:()=>h,P2:()=>E,y_:()=>A,fA:()=>C,jK:()=>S,e3:()=>B,KX:()=>T,JW:()=>g,Mw:()=>R,wQ:()=>w,Vm:()=>b,t_:()=>se,A1:()=>v,JE:()=>j,at:()=>P,KI:()=>O});var r={};n.r(r),n.d(r,{ErrorKind:()=>o,MessageStartSessionEntryPoint:()=>i});var o,i,a=n(59312),s=n(71249),u=n(57050),c=n(40327),l=n(69243);!function(e){e.Generic="generic",e.Overflow="overflow",e.PromptsLimitExceeded="promptsLimitExceeded",e.SensitiveContent="sensitiveContent",e.ServerOverloaded="serverOverloaded",e.UnsupportedLanguage="unsupportedLanguage"}(o||(o={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(i||(i={}));var d,p,h,f,g,m,y,v,b,_,w,S,I,x,E,k,T,A,C,O,P,R,N,D,M,j,L,U,F,B,G,z,W=n(5114),q=n(26328),V=n(55415),H=n(89943),$=n(8125),K=n(95574),Y=n(95195),J=n(3893),X=n(83078),Q=n(22232),Z=n(81531),ee=n(36991),te=n(8709),ne=n(67394),re=n(80800),oe=n(52226);d||(d={}),function(e){e.RelatedMaterial=l.type({iconUrl:l.readonly(l.string),title:l.readonly(l.string),link:l.readonly(l.string)}),e.RelatedMaterials=l.readonlyArray(e.RelatedMaterial),e.CommunicationMethod=l.type({iconUrl:l.readonly(l.string),title:l.readonly(l.string),link:l.readonly(l.string)}),e.PointPerson=l.type({firstName:l.readonly(l.string),lastName:l.readonly(l.string),displayName:l.readonly(l.string),jobTitle:l.readonly(l.union([l.string,l.undefined])),avatarUrl:l.readonly(l.string),communicationMethods:l.readonlyArray(e.CommunicationMethod)}),e.PointPeople=l.readonlyArray(e.PointPerson),e.Aliases=l.readonlyArray(l.type({name:l.readonly(l.string)}))}(p||(p={})),function(e){e.empty=[],e.isLeaf=function(e){return 0===e.length},e.Tree=l.recursion("Tree",(function(){return l.array(l.tuple([l.number,e.Tree]))}))}(h||(h={})),function(e){!function(e){e.sales_crm="sales_crm",e.sales_engagement="sales_engagement",e.sales_enablement="sales_enablement",e.marketing_email_automation="marketing_email_automation",e.marketing_content="marketing_content",e.customer_service="customer_service",e.customer_surveys_surveys="customer_surveys_surveys",e.recruiting="recruiting",e.training_learning="training_learning",e.project_management="project_management",e.legal="legal",e.contractors="contractors",e.human_resources="human_resources",e.email="email",e.business_chat="business_chat"}(e.DomainCategory||(e.DomainCategory={}))}(f||(f={})),function(e){!function(e){e.InQuotes="InQuotes"}(e.SpecialCategory||(e.SpecialCategory={})),function(e){e.GLOBAL="GLOBAL",e.SESSION="SESSION",e.DOCUMENT="DOCUMENT"}(e.ScopeType||(e.ScopeType={})),function(e){e.MUTED_BY_USER="MUTED_BY_USER",e.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",e.NOT_MUTED="NOT_MUTED"}(e.MutedByType||(e.MutedByType={}))}(g||(g={})),function(e){!function(e){e.NOT_RELEVANT="NOT_RELEVANT",e.WRONG_TONE="WRONG_TONE",e.INCORRECT="INCORRECT",e.WRONG_GRAMMAR="WRONG_GRAMMAR",e.OFFENSIVE="OFFENSIVE",e.OTHER="OTHER"}(e.SuggestionRejectionReason||(e.SuggestionRejectionReason={}))}(m||(m={})),function(e){e.mock={bundle:"Test bundle",bundleRank:10,group:"Test Group",rank:1,outcome:"Correctness"}}(y||(y={})),function(e){function t(e){return function(t){return{s:e.s+t.s,e:e.s+t.e,type:t.type}}}function n(e,t){return void 0===t&&(t=!1),0===e.s?u.MZ:function(n){return(0,u.MZ)({ops:(0,a.__spreadArray)([{retain:e.s,attributes:t?void 0:{type:oe.e.Edit.TypeExt.OPTIONAL_CONTEXT}}],n.ops,!0)})}}e.prependContextToHighlight=t,e.prependContext=n,e.toAbs=function(e){return _.create({highlights:e.highlights.map(t(e.context)),alternatives:(0,c.pipe)(e,W.fromPredicate((function(e){return void 0!==e.alternatives&&e.alternatives.length>0})),W.map((function(e){return(0,a.__assign)((0,a.__assign)({},e),{alternatives:q.UI(n(e.context))(e.alternatives)})})),W.map(ne.r3.Group.fromRawTransform))})}}(v||(v={})),function(e){var t,n;!function(e){e.create=function(e){return e.toString()}}(t=e.Id||(e.Id={})),function(e){e.rebase=function(e,t){var n=t.transformPosition(e.begin,!0),r=t.transformPosition(e.end,!0),o=(new te.i).insert(e.text).compose(t.slice(e.begin)).reduce((function(e,t){return ee.s.isInsert(t)?"".concat(e).concat(t.insert):e}),"").slice(0,r-n);return(0,a.__assign)((0,a.__assign)({},e),{begin:n,end:r,text:o})},e.isSquashed=function(e){return e.begin>=e.end},e.fromAttentionHeatmapMessage=function(e){return(0,a.__assign)((0,a.__assign)({},e),{id:t.create(e.id)})}}(n=e.Range||(e.Range={})),e.fromAttentionHeatmapMessage=function(e){return(0,a.__assign)((0,a.__assign)({},e),{add:e.add.map(n.fromAttentionHeatmapMessage),update:e.update.map(n.fromAttentionHeatmapMessage),remove:e.remove.map(t.create),attentionScore:(0,c.pipe)(e,W.fromPredicate(re.v0.AttentionHeatmap.hasAttentionInfo),W.map(V.pick("attentionScore"))),showAttentionCard:(0,c.pipe)(e,W.fromPredicate(re.v0.AttentionHeatmap.hasAttentionInfo),W.map(V.pick("showAttentionCard")))})}}(b||(b={})),function(e){e.create=function(e){return e},e.isSquashed=function(e){return e.highlights.some(oe.e.Range.isEmpty)},e.isValidAfterTransform=function(e,n){var r=t(e),o=t(n);return Boolean(H.compareInPairs(r.highlights,o.highlights,(function(e,t){return e.e-e.s==t.e-t.s})))&&H.compareInPairs(r.alternatives,o.alternatives,(function(e,t){return H.compareInPairs(e.ops.filter((0,$.ff)(ee.s.isRetain)),t.ops.filter((0,$.ff)(ee.s.isRetain)),ee.s.isEqual((function(){return!0})))}))},e.rebase=function(t,n){return e.create({highlights:t.highlights.map((function(e){return{s:n.transformPosition(e.s,!0),e:n.transformPosition(e.e,!0),type:e.type}})),alternatives:(0,c.pipe)(t.alternatives,W.map(ne.r3.Group.rebase(n)))})};var t=function(e){return{highlights:e.highlights,alternatives:(0,c.pipe)(e.alternatives,W.fold((function(){return[]}),(function(e){return e.alternatives.map((function(e){return e.delta}))})))}}}(_||(_={})),function(e){var t,n,r;function o(e){return void 0===e.drilldownTree&&void 0===e.knowledgeHubSuggestCorrectionUrl&&void 0===e.knowledgeHubRelatedMaterials&&void 0===e.knowledgeHubPointPeople&&void 0===e.knowledgeHubAliases?e:(0,a.__assign)((0,a.__assign)({},e),{drilldownTree:void 0===e.drilldownTree?void 0:(0,c.pipe)(e.drilldownTree,(function(e){return"object"==typeof e?e:JSON.parse(e)}),h.Tree.decode,K.unsafeGet),knowledgeHubRelatedMaterials:(0,c.pipe)(e.knowledgeHubRelatedMaterials,W.fromNullable,W.chain((function(e){return(0,c.pipe)(Y.parseJSON(e,Y.toError),Y.chain((0,u.ls)(p.RelatedMaterials.decode,Y.mapLeft(Y.toError))),Y.fold((function(e){return Z.C8.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubRelatedMaterials",e),W.none}),W.some))})),W.toUndefined),knowledgeHubPointPeople:(0,c.pipe)(e.knowledgeHubPointPeople,W.fromNullable,W.chain((function(e){return(0,c.pipe)(Y.parseJSON(e,Y.toError),Y.chain((0,u.ls)(p.PointPeople.decode,Y.mapLeft(Y.toError))),Y.fold((function(e){return Z.C8.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubPointPeople",e),W.none}),W.some))})),W.toUndefined),knowledgeHubAliases:(0,c.pipe)(e.knowledgeHubAliases,W.fromNullable,W.chain((function(e){return(0,c.pipe)(Y.parseJSON(e,Y.toError),Y.chain((0,u.ls)(p.Aliases.decode,Y.mapLeft(Y.toError))),Y.fold((function(e){return Z.C8.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubAliases",e),W.none}),W.some))})),W.toUndefined)})}function i(e,t){(0,c.pipe)(e.ops,s.Ew((function(e){return ee.s.isInsert(e)&&(0,c.pipe)(ee.s.getAttr(e,"type"),W.exists((function(e){return e===oe.e.Edit.Type.MAIN})))&&"string"==typeof e.insert})),W.map((function(e){var n=e.insert;return t(n)})))}function l(e){return function(t){return t===g.SpecialCategory.InQuotes&&"true"===e.extra_properties.in_quotes}}function d(e){return!m(e)&&!y(e)}function f(e){return void 0!==e.begin&&void 0!==e.end&&void 0!==e.highlightBegin&&void 0!==e.highlightEnd}function m(e){return void 0!==e.cardLayout&&void 0!==e.transformJson}function y(e){return"labels"in e&&"subalerts"in e}function b(e,t,n,r){return d(e)?t(e):m(e)?n(e):r(e)}!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={})),function(e){e.Critical="critical",e.Advanced="advanced"}(t=e.Impact||(e.Impact={})),function(e){e.all="all",e.priority="priority"}(n=e.View||(e.View={})),function(e){e.inline="inline",e.not_inline="not_inline"}(r=e.Inline||(e.Inline={})),e.parseExtraProperties=o,e.fromAlertMessage=function(t){return Object.assign({},t,(0,a.__assign)({id:e.Id.create(t.id),cost:Boolean(t.cost)?t.cost:1,extra_properties:o(t.extra_properties)},t.transformJson?{transformJson:v.toAbs(t.transformJson),highlightText:[t.highlightText]}:(0,c.pipe)(J.fromNullableArray(t.subalerts),W.fold((function(){return{highlightText:[t.highlightText]}}),(function(e){return(0,c.pipe)(function(e,t){return(0,c.pipe)(t,W.fold((function(){return Y.left(new Error("Got corrupted superalert  the labels are missing"))}),(function(t){return function(e,t){if(e.length<2)return Y.left(new Error("There should be more than one subalert, got "+e.length));var n=t.map((function(e){return{matches:0,replacements:new Set,label:e}})),r=n.reduce((function(e,t){return e[t.label]=t,e}),{}),o=J.fromNullableArray(e[0].transformJson.alternatives);if(n.length>0&&Boolean(W.isNone(o))||!Boolean((0,c.pipe)(o,X.forAll((function(e){return n.length===e.length})))))return Y.left(new Error("Alternatives array length must match labels array length"));for(var s=(0,c.pipe)(o,W.map(q.Su((function(t,r){return i(r,(function(e){return n[t].replacements.add(e)})),v.prependContext(e[0].transformJson.context)(r)}))),W.map((function(t){return r[e[0].label].matches+=1,[q.of(e[0].transformJson.context),t]}))),u=e[0].transformJson.highlights.map(v.prependContextToHighlight(e[0].transformJson.context)),l=[e[0].highlightText],d=function(t){var o=e[t];if(n.length>0){if(void 0===o.transformJson.alternatives)return{value:Y.left(new Error("The alternatives are missing from subalert, expected length: ".concat(n.length)))};if(o.transformJson.alternatives.length!==n.length)return{value:Y.left(new Error("Subalert has incorrect alternatives length: expected ".concat(n.length,", got ").concat(o.transformJson.alternatives.length)))}}s=(0,c.pipe)(s,W.map((function(e){var t=e[0],a=e[1];r[o.label].matches+=1,t.push(o.transformJson.context);for(var s=function(e){var t=o.transformJson.alternatives[e];i(t,(function(t){return n[e].replacements.add(t)})),a[e]=(0,c.pipe)(new te.i(a[e]),(function(e){return e.compose(e.transform(new te.i(v.prependContext(o.transformJson.context,!0)(t)),!0))}),oe.e.AbsAlternative.unsafeFromDelta)},u=0;u<a.length;u++)s(u);return[t,a]}))),u.push.apply(u,o.transformJson.highlights.map(v.prependContextToHighlight(o.transformJson.context))),l.push(o.highlightText)},p=1;p<e.length;p++){var h=d(p);if("object"==typeof h)return h.value}return Y.right({subalerts:_.create({alternatives:(0,c.pipe)(s,W.map((function(e){var t=e[0],n=e[1];return ne.r3.Group.fromSubalerts(t,n)}))),highlights:u}),labels:n.map((function(e){var t=e.replacements,n=(0,a.__rest)(e,["replacements"]);return(0,a.__assign)((0,a.__assign)({},n),{replacementTexts:Array.from(t)})})),highlightText:l})}(e,t)})))}(e,W.fromNullable(t.labels)),Y.getOrElse((function(e){return Z.C8.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",e),{highlightText:[]}})))})))))},e.isFullSentence=function(e){return"true"===e.full_sentence_rewrite||"true"===e.full_sentence_fluency_rewrite},e.belongsToAnySpecialCategory=function(e){var t=l(e);return-1!==Object.values(g.SpecialCategory).findIndex(t)},e.belongsToSpecialCategory=l,e.withPosition=d,e.hasPosition=f,e.withTransformJson=m,e.withAlternatives=function(e){return m(e)&&W.isSome(e.transformJson.alternatives)},e.withSubalerts=y,e.match=b,e.matchBy=function(e,t,n){return function(r){return b(r,e,t,n)}},function(e){function t(e){return e.end-e.begin}function n(e){return e.highlightEnd-e.highlightBegin}e.shift=function(e,t){return{begin:e.begin+t,end:e.end+t,highlightBegin:e.highlightBegin+t,highlightEnd:e.highlightEnd+t}},e.rebase=function(e,t){return{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0),highlightBegin:t.transformPosition(e.highlightBegin,!0),highlightEnd:t.transformPosition(e.highlightEnd,!0)}},e.getReplacementLength=t,e.getHighlightLength=n,e.isSquashed=function(e){return 0===t(e)||0===n(e)},e.hasEqualLength=function(e,r){return t(e)===t(r)&&n(e)===n(r)}}(e.Position||(e.Position={})),e.isPlagiarism=function(e){return void 0!==e.cardLayout&&"Originality"===e.cardLayout.outcome},e.isOneGap=function(e){return void 0!==e.extra_properties&&"gap_transform"in e.extra_properties},e.isTakeaway=function(e){return void 0!==e.extra_properties&&"takeawayScore"in e.extra_properties},e.hasDrilldownTree=function(e){return void 0!==e.extra_properties&&"drilldownTree"in e.extra_properties},e.isShortenIt=function(e){return void 0!==e.extra_properties&&"shorten_it"in e.extra_properties},e.isToneAI=function(e){return void 0!==e.extra_properties&&"tone_slider"in e.extra_properties},e.isEthicalAI=function(e){return void 0!==e.extra_properties&&"ethical_ai_external_link"in e.extra_properties},e.isCitationDetection=function(e){return void 0!==e.extra_properties&&"citation_detection"in e.extra_properties},e.isSuggestedSnippet=function(e){return void 0!==e.extra_properties&&"suggested_snippet_text"in e.extra_properties&&"suggested_snippet_lib_link"in e.extra_properties},e.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.pname},e.isHidden=function(e){return!0===e.hidden},e.isRawAlert=function(e){if(!Boolean(e))return!1;var t=e;return Number.isInteger(t.rev)&&b(t,(function(e){return Number.isInteger(e.begin)&&Number.isInteger(e.end)&&Number.isInteger(e.highlightBegin)&&Number.isInteger(e.highlightEnd)}),(function(e){return e.transformJson.highlights.length>0}),(function(e){return e.labels.length>0}))},e.mock={id:e.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span><span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:e.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",rank:10,outcome:"Correctness"},transformJson:_.create({highlights:[{s:5092,e:5102}],alternatives:W.none}),view:n.all,inline:r.inline},e.mockPlagiarism={id:e.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:e.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:_.create({highlights:[{s:1,e:40}],alternatives:W.none}),view:n.all,inline:r.not_inline},e.mockWithSubalerts={id:e.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, its best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but its best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:_.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:W.some(ne.r3.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[oe.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:oe.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:oe.e.Edit.Type.MAIN}},{insert:"Country",attributes:{type:oe.e.Edit.Type.MAIN}}]}),oe.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:oe.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:oe.e.Edit.Type.MAIN}},{insert:"country",attributes:{type:oe.e.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:t.Advanced,extra_properties:{priority:"4"},cardLayout:{bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:n.all,inline:r.not_inline},e.clearUserTextFields=function(e){var t=e;return t.text,t.replacements,t.highlightText,t.transformJson,t.transforms,t.details,t.explanation,t.examples,(0,a.__rest)(t,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},e.unsafeGetPosition=function(e){return(0,Q.kG)(f(e),"raw alert should have a position"),e},e.unsafeGetTransformJson=function(e){return(0,Q.kG)(m(e),"raw alert should have transformJson"),e}}(w||(w={})),function(e){e.NOT_AUTHORIZED="not_authorized",e.SESSION_NOT_INITIALIZED="session_not_initialized",e.BAD_REQUEST="bad_request",e.BACKEND_ERROR="backend_error",e.AUTH_ERROR="auth_error",e.RUNTIME_ERROR="runtime_error",e.ILLEGAL_DICT_WORD="illegal_dict_word",e.TIMEOUT="timeout",e.CANNOT_FIND_SYNONYM="cannot_find_synonym",e.CANNOT_GET_TEXT_STATS="cannot_get_text_stats",e.GB_RULE_ERROR="gb_rule_error"}(S||(S={})),function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR"}(I||(I={})),function(e){e.IGNORE="IGNORE",e.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",e.LOOKED="LOOKED",e.ACCEPTED="ACCEPTED",e.CLOSED="CLOSED",e.ACKNOWLEDGED="ACKNOWLEDGED",e.HIDE="HIDE",e.LIKE="LIKE",e.DISLIKE="DISLIKE",e.WRONG_SUGGESTION="WRONG_SUGGESTION",e.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",e.EXPANDED="EXPANDED",e.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED"}(x||(x={})),function(e){e.DRILLDOWN="DRILLDOWN"}(E||(E={})),function(e){e.BULK_ACCEPTED="BULK_ACCEPTED"}(k||(k={})),function(e){e.LENS_CLOSE="LENS_CLOSE",e.LENS_OPEN="LENS_OPEN",e.DISMISS_BY_LENS="DISMISS_BY_LENS"}(T||(T={})),function(e){e.EMOTION_LIKE="EMOTION_LIKE",e.EMOTION_DISLIKE="EMOTION_DISLIKE",e.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(A||(A={})),function(e){e.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",e.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(C||(C={})),function(e){e.RECHECK_SHOWN="RECHECK_SHOWN"}(O||(O={})),function(e){e.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",e.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(P||(P={})),function(e){e.MUTE="MUTE",e.UNMUTE="UNMUTE"}(R||(R={})),function(e){e.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",e.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",e.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(N||(N={})),function(e){e.COMPLETION_SHOWN="COMPLETION_SHOWN",e.COMPLETION_IGNORED="COMPLETION_IGNORED",e.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",e.COMPLETION_REJECTED="COMPLETION_REJECTED"}(D||(D={})),function(e){e.AUTOAPPLY_TRIGGERED="AUTOAPPLY_TRIGGERED",e.AUTOAPPLY_LOOKED="AUTOAPPLY_LOOKED",e.AUTOAPPLY_REVERTED="AUTOAPPLY_REVERTED"}(M||(M={})),function(e){e.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(j||(j={})),function(e){e.ASSISTANT_OPENED="ASSISTANT_OPENED"}(L||(L={})),function(e){e.ACCEPTED="ACCEPTED",e.DISMISSED="DISMISSED"}(U||(U={})),function(e){e.willRemoveAlert=function(e){return e===x.IGNORE||e===x.OFFENSIVE_CONTENT||e===x.WRONG_SUGGESTION||e===x.ADD_TO_DICTIONARY||e===x.LIKE||e===x.DISLIKE||e===x.ACKNOWLEDGED||e===x.HIDE}}(F||(F={})),function(e){e.Inline="inline",e.Hover="hover",e.Click="click",e.SidebarPriority="sidebar-priority",e.Sidebar="sidebar"}(B||(B={})),function(e){e.Context="context",e.GnarContainerId="gnar_containerId"}(G||(G={})),function(e){e.likelyToBeReadTakeaway="LikelyToRead",e.unlikelyToBeReadTakeaway="NotLikelyToRead"}(z||(z={}));var ie,ae,se,ue=300;!function(e){e.generatePoints=function(e,t,n){var r=function(e,t){return Math.max(Math.trunc(e/t),(0,$.TN)(e))};return H.mapNTimes(r(e,2),(function(e){return H.mapNTimes(r(t,3),(function(t){return{value:Math.random()*n,alertIds:[],footprint:"".concat(100*e+t)}}))}))}}(ie||(ie={})),function(e){e.AllowedFeature="CHEETAH",e.version="11.4.0",e.Schema=r}(ae||(ae={})),function(e){!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={}))}(se||(se={}))},80800:(e,t,n)=>{n.d(t,{Wz:()=>o,d1:()=>s,v0:()=>i,zV:()=>r});var r,o,i,a=n(59312),s=Math.pow(2,32)/2;!function(e){e.alertsUpdate="alerts_update",e.textInfo="text_info",e.freeAdvancedChecks="free_inline_advanced_alerts",e.readability="readability_check",e.sentenceVariety="sentence_variety_check",e.fillerWords="filler_words_check",e.alertsChanges="alerts_changes",e.freeClarityChecks="free_clarity_alerts",e.superAlerts="super_alerts",e.consistency="consistency_check",e.setGoalsLink="set_goals_link",e.emogenieCheck="emogenie_check",e.toneCards="tone_cards",e.alternativeDeletesCard="alternative_deletes_card",e.voxCheck="vox_check",e.plagiarismAlertsUpdate="plagiarism_alerts_update",e.fullSentenceRewrite="full_sentence_rewrite_card",e.listCard="turn_to_list_card",e.userMutes="user_mutes",e.completions="completions",e.muteQuotedAlerts="mute_quoted_alerts",e.keyTakeaways="key_takeaways_v4",e.supportsFormatting="formatting",e.supportsButtonTransformCards="transform_with_button_card",e.priorityAlertsView="priority_alerts_view",e.proofit="realtime_proofit",e.freeOccasionalPremiumAlerts="free_occasional_premium_alerts",e.gapTransformCard="gap_transform_card",e.toneAI="tone_slider_card",e.ethicalAI="ethical_ai_card",e.enclosingHighlight="enclosing_highlight",e.mainStartHighlight="main_start_highlight",e.drilldownCard="drilldown_card",e.shortenIt="shorten_it",e.ideasGalleryLink="ideas_gallery_link",e.citations="citations",e.citation_detection_card="citation_detection_card",e.citation_gap="citation_gap",e.reconnect="reconnect",e.suggestedSnippets="suggested_snippets",e.knowledgeHubSuggestedTerms="knowledge_hub_suggested_terms",e.knowledgeHub="knowledge_hub",e.autoapply="autoapply",e.cheetah="cheetah",e.gbContext="gb_context"}(r||(r={})),function(e){e.v2="2"}(o||(o={})),function(e){!function(e){e.READ_ONLY="READ_ONLY"}(e.SessionMode||(e.SessionMode={})),function(e){e.OK="OK",e.TOO_SMALL="TOO_SMALL",e.SENSITIVE="SENSITIVE",e.ERROR="ERROR"}(e.ScoresStatus||(e.ScoresStatus={})),function(e){var t={Clarity:0,Correctness:0,Engagement:0,Tone:0,"Style guide":0,GeneralScore:0};e.normalize=function(e){return(0,a.__assign)((0,a.__assign)({},t),e)}}(e.OutcomeScores||(e.OutcomeScores={})),function(e){e.hasAttentionInfo=function(e){return"attentionScore"in e&&"showAttentionCard"in e}}(e.AttentionHeatmap||(e.AttentionHeatmap={})),function(e){!function(e){!function(e){!function(e){e.gmail="gmail"}(e.Placement||(e.Placement={}))}(e.BaseSurvey||(e.BaseSurvey={})),function(e){e.type="score",function(e){e.declined="declined"}(e.Score||(e.Score={}))}(e.ScoreSurvey||(e.ScoreSurvey={}))}(e.Data||(e.Data={}))}(e.Survey||(e.Survey={})),function(e){!function(e){e.is=function(e){return"cheetah:chunk"===e.action||"cheetah:result"===e.action||"cheetah:setContext"===e.action||"cheetah:error"===e.action}}(e.Responses||(e.Responses={}))}(e.Cheetah||(e.Cheetah={}))}(i||(i={}))},52226:(e,t,n)=>{n.d(t,{e:()=>r});var r,o=n(59312),i=n(57050),a=n(95195),s=n(5114),u=n(36991);!function(e){var t;!function(e){e.isEmpty=function(e){return e.e-e.s==0}}(e.Range||(e.Range={})),function(e){!function(e){e.MAIN="main",e.IMPORTANT="important"}(e.Type||(e.Type={})),function(e){e.OPTIONAL_CONTEXT="optional_context"}(e.TypeExt||(e.TypeExt={}))}(t=e.Edit||(e.Edit={})),function(e){function n(e){return(0,i.zG)(e.ops,s.fromPredicate((function(e){return-1===e.findIndex(n)})),s.fold((function(){return a.left({ops:(t=e.ops,t.reduce((function(e,t,r){if(n(t,r)){var i=t.attributes,a=(i.type,(0,o.__rest)(i,["type"]));e.push((0,o.__assign)((0,o.__assign)({},t),{attributes:a}))}else e.push(t);return e}),[]))});var t}),(function(e){return a.right({ops:e})})));function n(e,n){return n>0&&u.s.isRetain(e)&&void 0!==e.attributes&&e.attributes.type===t.TypeExt.OPTIONAL_CONTEXT}}e.unsafeFromDelta=function(e){return(0,i.zG)(e,n,a.fold(i.yR,i.yR))},e.fromDelta=n}(e.AbsAlternative||(e.AbsAlternative={}))}(r||(r={}))},36925:(e,t,n)=>{n.d(t,{E:()=>b,Lj:()=>k,uY:()=>h});var r=n(59312),o=n(95195),i=n(45614),a=n(40327),s=n(69243),u=n(32687),c=n(55415),l=n(22232),d=n(99596),p=n(24153);function h(e){return"null"===e||"undefined"===e||null==e}function f(e){if(null===e||"null"===e||"boolean"==typeof e)return null;var t=Number(e);return Number.isNaN(t)?null:t}function g(e){return h(e)?null:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}function m(e){try{return JSON.parse(decodeURIComponent(e))}catch(e){return null}}function y(e){try{return new Set(m(e))}catch(e){return null}}function v(e){try{return Object.entries(m(e)).reduce((function(e,t){var n=t[0],r=t[1];return e.set(n,r),e}),new Map)}catch(e){return null}}var b,_=function(){function e(e){this._value=e}return e.prototype.getStr=function(){return h(this._value)?null:String(this._value)},e.prototype.getNum=function(){return f(this._value)},e.prototype.getBool=function(){return g(this._value)},e.prototype.getBoolOrDefault=function(e){return function(e,t){return h(e)?t:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}(this._value,e)},e.prototype.getObject=function(){return m(this._value)},e.prototype.getArray=function(){return m(this._value)},e.prototype.getSet=function(){return y(this._value)},e.prototype.getMap=function(){return v(this._value)},e.prototype.getObjProp=function(e){return Boolean(this._value.hasOwnProperty(e))?this._value[e]:null},e}();!function(e){function t(e){return"object"==typeof e?(0,a.pipe)(JSON.stringify(e,(function(e,t){return t instanceof Set?Array.from(t):t instanceof Map?c.fromEntries(t):t})),encodeURI):e}e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new _(r&&r[e])},e.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new S,o=0,i=e;o<i.length;o++){var a=i[o];for(var s in a){var u=a[s];r[s]=t(u)}}return r},e.is=function(e){return e instanceof S}}(b||(b={}));var w,S=function(){function e(){}return e.prototype.getStr=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.getNum=function(e){return this.hasOwnProperty(e)?f(this[e]):null},e.prototype.getBool=function(e){return this.hasOwnProperty(e)?g(this[e]):null},e.prototype.getObject=function(e){return this.hasOwnProperty(e)?m(this[e]):null},e.prototype.getSet=function(e){return this.hasOwnProperty(e)?y(this[e]):null},e.prototype.getMap=function(e){return this.hasOwnProperty(e)?v(this[e]):null},e.prototype.has=function(e){return this.hasOwnProperty(e)},e.prototype.ifPresent=function(e,t){Boolean(this[e])&&t(this[e])},e.prototype.entries=function(){var e=this;return Object.keys(this).map((function(t){return[t,new _(e[t])]}))},e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new _(r&&r[e])},e}(),I=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="DapiPropertiesSerializationError",r}return(0,r.__extends)(t,e),t.prototype.toString=function(){return"DAPI properties serialization error\n      Message ".concat(this.message,"\n      Details ").concat(u.failure(this.details))},t}(l.sH);function x(e){return w.fromProperties(e).decode(e)}function E(e){return new I("Serialization failed",e)}!function(e){var t=["{","}",";","="];e.property=new s.Type("property",(function(e){return!0}),(function(e,n){var r=n[1].key,o=String(e);return o.length>1024?s.failure(e,n,"Property ".concat(r," is too long (max length is ").concat(1024,")")):t.some((function(e){return o.indexOf(e)>=0}))?s.failure(e,n,"Property ".concat(r," has forbidden characters (").concat(t.join(", "),")")):s.success(e)}),s.identity),e.fromProperties=function(t){return s.type((0,a.pipe)(t,i.filter((function(e){return"function"!=typeof e})),i.map((function(t){return e.property}))))}}(w||(w={}));var k=function(){function e(e,t,n){this._fingerprints=n,this._endpoints={props:"props/v2",mimic:"mimic"},this._url=d.cl.join(e,"api"),this._ajax=t({requestExtender:p.d3.toHeaderAppender(this._fingerprints)})}return e.prototype.load=function(){return(0,a.pipe)(this._ajax.json(d.cl.get(this._url,this._endpoints.props)),this._ajax.map(b.of))},e.prototype.get=function(e){return(0,a.pipe)(this._ajax.text(d.cl.get(this._url,this._endpoints.props,e)),this._ajax.map((function(t){var n;return b.of(((n={})[e]=t||null,n))})))},e.prototype.save=function(e,t){var n=this;return(0,a.pipe)(e,x,o.mapLeft(E),o.fold(this._ajax.throwError,this._ajax.of),this._ajax.map((function(e){return(0,a.pipe)(d.cl.post(n._url,n._endpoints.props).json(e),Boolean(null==t?void 0:t.keepalive)?function(e){return e.keepalive()}:s.identity)})),this._ajax.chain(this._ajax.empty))},e.prototype.getMimic=function(e){return this._ajax.json(d.cl.get(this._url,this._endpoints.mimic).cookie("gnar_containerId",e))},e.prototype.getMimicWithProps=function(e){return(0,a.pipe)(this._ajax.json(d.cl.get(this._url,this._endpoints.mimic,"withProps").cookie("gnar_containerId",e)),this._ajax.map((function(e){var t=e.groups,n=e.properties;return{experiments:new Set(t),properties:b.of(n)}})))},e.targetTag="dapi",e}()},36991:(e,t,n)=>{n.d(t,{s:()=>r});var r,o=n(57050),i=n(40327),a=n(8709),s=n(5114),u=n(8125),c=n(73975),l=n(89943),d=n(55415),p=n(26328);!function(e){e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&"string"==typeof t.insert},e.isInsertEmbed=function(t){return e.isInsert(t)&&!e.isInsertString(t)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.containsInsertsOnly=function(t){return t.ops.every(e.isInsert)},e.getInsertLength=a.i.Op.length,e.getTrimmedInsertLength=function(t){return e.isInsertString(t)?t.insert.trim().length:1},e.match=function(t,n,r){return function(o){return e.isInsert(o)?t(o):e.isDelete(o)?n(o):r(o)}},e.getAttr=function(t,n){return e.isDelete(t)||!t.attributes?s.none:"function"==typeof n?(0,i.pipe)(s.fromNullable(Object.keys(t.attributes).find(n)),s.map((function(e){return t.attributes[e]}))):s.fromNullable(t.attributes[n])},e.operationLength=a.i.Op.length;var t=function(e){return-e.delete};e.getOperationOffset=e.match(a.i.Op.length,t,a.i.Op.length);var n=function(e){return function(t){return t.ops.map(e).reduce(u.Sm,0)}},r=function(){return 0};e.calcDiffLength=n(e.match(a.i.Op.length,t,r)),e.calcAmountLength=n(e.match(a.i.Op.length,a.i.Op.length,r)),e.calcAffectedLength=n(e.match(r,a.i.Op.length,a.i.Op.length)),e.rangeOfTheChange=function(t){var n=e.match(o.W8,o.W8,(function(e){return Boolean(e.attributes)}));return t.ops.reduce((function(t,r){var o=t[0],a=t[1],u=e.operationLength(r),c=a+u;return[(0,i.pipe)(o,s.fold((function(){return n(r)?s.some([a,c]):s.none}),(function(e){return n(r)?s.some([e[0],c]):s.some(e)}))),c]}),[s.none,0])[0]},e.isEqual=function(t){return function(n,r){return e.match((function(n){return e.isInsert(r)&&n.insert===r.insert&&t(n.attributes,r.attributes)}),(function(t){return e.isDelete(r)&&t.delete===r.delete}),(function(n){return e.isRetain(r)&&n.retain===r.retain&&t(n.attributes,r.attributes)}))(n)}},e.deltaEq=c.f7((function(t,n){return t.ops.length===n.ops.length&&l.compareInPairs(t.ops,n.ops,e.isEqual(d.deepEqual))})),e.normalizeDelta=function(e){return(new a.i).compose(e)};var h=function(e){return e&&Object.keys(e).reduce((function(t,n){return t[n]="string"==typeof e[n]?"<".concat(e[n].length,">"):e[n],t}),{})};e.anonymizeTextAndStringAttrs=function(t){return t.ops.reduce((function(t,n){return e.match((function(n){return t.insert("string"==typeof n.insert?"<".concat(e.getInsertLength(n),">"):"<embed>",h(n.attributes))}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain,h(e.attributes))}))(n)}),new a.i)},e.squash=function(e){return e.reduce((function(e,t){return e.compose(new a.i(t))}),new a.i)},e.cleanAllAttrs=function(t){return t.reduce((function(t,n){return e.match((function(e){return t.insert(e.insert)}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain)}))(n)}),new a.i)};var f=function(e){return s.fromNullable(e.attributes)};e.getAttrs=e.match(f,(function(){return s.none}),f),e.skipAny=o.jv;e.cleanDelta=function(t,n){return function(r){var o=function(e){return e&&Object.keys(e).filter((function(e,t,r){return n(e,r.slice(0))})).reduce((function(t,n){return t[n]=e[n],t}),{})};return r.reduce((function(n,r){return e.match((function(e){return n.insert("string"==typeof e.insert||t(e.insert)?e.insert:" ",o(e.attributes))}),(function(e){return n.delete(e.delete)}),(function(e){return n.retain(e.retain,o(e.attributes))}))(r)}),new a.i)}},e.splitToDeleteThenInsert=function(t){return t.reduce((function(t,n){var r=t[0],o=t[1];return e.match((function(e){return[r,o.push(e)]}),(function(e){return[r.push(e),o]}),(function(e){return[r.push({retain:e.retain}),o.push(e)]}))(n)}),[new a.i,new a.i]).map((function(e){return e.chop()}))},e.nonEmpty=function(e){return e.ops.length>0},e.findInDelta=function(e,t){return void 0===t&&(t=r),function(n){for(var r=0,o=0;r<n.ops.length;){var i=n.ops[r];if(e(i))return o+=t(i),s.some(o);o+=a.i.Op.length(i),r+=1}return s.none}},e.getOps=(0,o.ls)(d.pick("ops"),s.fromNullable,s.chain(p.nI))}(r||(r={}))},73353:(e,t,n)=>{n.d(t,{R$:()=>r});var r,o=n(59312),i=n(73975),a=n(57050),s=n(40327),u=n(69243),c=n(32687),l=n(5114),d=n(8125),p=n(95195),h=n(81531),f=n(55485),g=l.getEq({equals:function(e,t){return e===t}}),m=i.f7(d.As);!function(e){var t;!function(e){e.eq=i.MW({type:i.yv,citation:i.yv}),e.defaultAcademic={citation:"apa",type:"essay"},e.withCitationStyle=function(t){return function(n){return(0,o.__assign)((0,o.__assign)({},n),{domain:l.some("academic"),outcomeContext:l.some((0,o.__assign)((0,o.__assign)({},e.defaultAcademic),{citation:t}))})}}}(t=e.OutcomeContext||(e.OutcomeContext={})),e.eq=i.MW({domain:l.getEq(i.w4),goals:l.getEq(m),audience:g,style:g,outcomeContext:l.getEq(t.eq)}),function(e){e.eq=i.MW({domain:i.w4,goals:m,audience:i.yv,style:i.yv})}(e.Default||(e.Default={})),e.goals=f.U(["inform","describe","convince","tellStory","sell"]),e.goalsLabels=["Inform","Describe","Convince","Tell A Story"],e.audiences=f.U(["general","knowledgeable","expert"]),e.formalityLevels=f.U(["informal","neutral","formal"]),e.tone=f.U(["neutral","confident","joyful","optimistic","friendly","urgent","analytical","respectful"]),e.domains=f.U(["academic","business","general","mail","casual","creative"]),e.dialects=f.U(["american","british","canadian","australian","indian"]),e.academicTypes=f.U(["essay","report","other"]),e.citation=f.U(["apa","mla","chicago","other"]),e.fromDomain=function(t){return(0,o.__assign)((0,o.__assign)({},e.unset),{domain:l.some(t)})},e.fromGoals=function(t){return(0,o.__assign)((0,o.__assign)({},e.unset),{goals:l.some(new Set(t))})},e.unset={goals:l.none,domain:l.none,audience:l.none,style:l.none,dialect:l.none,outcomeContext:l.none},e.defaultContextFallback={goals:new Set,domain:"general",audience:"knowledgeable",style:"neutral",dialect:l.none},e.isStyleValidWithDomain=function(e,t){return"neutral"===t||("formal"===t?"creative"!==e&&"casual"!==e:"academic"!==e)};var n=f.D.literalUnion("goal",e.goals),r=f.D.set(n),d=f.D.literalUnion("audience",e.audiences),y=f.D.literalUnion("formality",e.formalityLevels),v=(f.D.literalUnion("tone",e.tone),f.D.literalUnion("domain",e.domains)),b=f.D.literalUnion("dialect",e.dialects),_=f.D.literalUnion("academicType",e.academicTypes);e.citationType=f.D.literalUnion("citation",e.citation);var w=u.interface({type:_,citation:e.citationType});e.IOType=u.interface({goals:f.D.option(r),domain:f.D.option(v),audience:f.D.option(d),style:f.D.option(y),dialect:f.D.option(b),outcomeContext:f.D.option(w)}),e.IOTypeDefault=u.interface({goals:r,domain:v,audience:d,style:y,dialect:f.D.option(b)}),e.tryParse=function(e){return function(t){return(0,s.pipe)(e(t),p.mapLeft(c.failure),p.mapLeft((function(e){return h.C8.Logging.getLogger("coreclients.dox.context").warn("failed to parse document context",e),e})))}},e.parse=(0,a.ls)(l.fromNullable,l.chain((function(t){return(0,s.pipe)(t,e.tryParse(e.IOType.decode),l.fromEither)}))),e.parseDefault=(0,a.ls)(l.fromNullable,l.chain((0,a.ls)(e.tryParse((function(t){return e.IOTypeDefault.decode(t)})),l.fromEither))),e.serialize=function(t){return e.IOType.encode(t)},e.serializeDefault=function(t){return e.IOTypeDefault.encode(t)}}(r||(r={}))},24153:(e,t,n)=>{n.d(t,{d3:()=>r});var r,o=n(59312);!function(e){e.toHeaderAppender=function(e){return function(e){var t=this;function n(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return Array.isArray(e)?(t=e[0],n=e[1],r=[t],[4,"function"==typeof n?n():n]):[3,2];case 1:return[2,r.concat([o.sent()]).join(" ")];case 2:return[4,"function"==typeof e?e():e];case 3:return[2,o.sent()]}}))}))}return function(r){return function(){return(0,o.__awaiter)(t,void 0,void 0,(function(){var t,i,a,s,u,c,l,d;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:for(i in t=[],e)t.push(i);a=0,o.label=1;case 1:return a<t.length?(s=t[a],u=e[s],l=(c=r).header,d=[s],[4,n(u)]):[3,4];case 2:l.apply(c,d.concat([o.sent()])),o.label=3;case 3:return a++,[3,1];case 4:return[2,r]}}))}))}}}((0,o.__assign)({"X-Client-Version":e.clientVersion.toString(),"X-Client-Type":function(){return e.clientName},"X-Container-Id":e.containerId,"X-CSRF-Token":e.csrfToken},void 0!==e.accessToken&&{Authorization:["Bearer",e.accessToken]}))}}(r||(r={}))},55485:(e,t,n)=>{n.d(t,{D:()=>r,U:()=>h});var r,o=n(59312),i=n(40327),a=n(69243),s=n(95195),u=n(83078),c=n(5114),l=n(26328),d=n(22232),p=n(36925);function h(e){return e}!function(e){function t(e){return function(t){return u.is(t)&&(0,i.pipe)(t,c.fold((function(){return!0}),e.is))}}function n(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every(e.is)}}e.set=function(e){return new a.Type("Set<".concat(e.name,">"),(function(e){return e instanceof Set}),(function(t,n){return s.either.map(a.array(e).validate(t,n),(function(e){return new Set(e)}))}),(function(e){return Array.from(e)}))},e.getIsOption=t,e.option=function(e){return new a.Type("option:".concat(e.name),t(e),(function(t,n){return null==t?s.right(c.none):s.either.map(e.validate(t,n),c.some)}),c.fold((function(){}),e.encode))},e.opaque=function(e){return new a.Type("Opaque",(function(e){return"string"==typeof e}),(function(t,n){return s.either.chain(e.validate(t,n),(function(e){return a.success(e)}))}),(function(e){return e}))},e.getIsNEA=n,e.nonEmptyArray=function(e){return new a.Type("NEA",n(e),(function(t,n){return s.either.chain(a.array(e).validate(t,n),(function(e){return e.length>0?a.success(e):a.failure(e,n,"Array is empty")}))}),(function(e){return u.unsafeGet(l.nI(e))}))},e.literalUnion=function(e,t){return a.union(t.map((function(e){return a.literal(e)})),"".concat(e,":string"))},e.date=function(){return new a.Type("Date",(function(e){return e instanceof Date}),(function(e,t){var n=Date.parse(null==e?void 0:e.toString()),r=isNaN(n)?e:n;return s.either.map(a.number.validate(r,t),(function(e){return new Date(e)}))}),(function(e){return e.getTime()}))};var r=function(e){return a.string.is(e)&&!Number.isNaN(Number(e))};e.stringFromNumber=new a.Type("stringFromNumber",r,(function(e,t){return r(e)?a.success(e):"number"!=typeof e||Number.isNaN(e)?a.failure(e,t):a.success(e.toString())}),(function(e){return Number(e)})),e.withDefault=function(e,t){return new a.Type("withDefault(".concat(JSON.stringify(t),"):").concat(e.name),e.is,(function(n,r){return e.validate((0,p.uY)(n)?t:n,r)}),e.encode)},e.fallback=function(e,t){return new a.Type("fallback(".concat(JSON.stringify(t),"):").concat(e.name),e.is,(function(n,r){var o=e.validate(n,r);return s.isLeft(o)?s.right(t):o}),e.encode)};var h=function(e,t){Array.prototype.push.apply(e,t)},f=["boolean","string","Date","number","Array","Set","object","Dictionary","StringEnum","Partial"];function g(e,t){var n=function(e){var t=e.replace(/\w+\(.*?\):/,"");if("{"===t[0]&&"}"===t[t.length-1])return"object";var n=t.split(":").pop();return 0===n.indexOf("Date")?"Date":0===n.indexOf("Array<")?"Array":0===n.indexOf("Set<")?"Set":0===n.indexOf("StringEnum<")?"StringEnum":0===t.indexOf("Partial<")?"Partial":0===t.indexOf("UpstreamOnboarding")?"object":((0,d.kG)(f.indexOf(n)>-1,"unsupported prop type ".concat(e)),n)}(e);switch(n){case"boolean":return t.getBool();case"string":case"StringEnum":return t.getStr();case"Date":return null===t.getNum()?t.getStr():t.getNum();case"number":return t.getNum();case"Array":case"Set":return t.getArray();case"object":case"Partial":case"Dictionary":return t.getObject();default:return(0,d.vE)(n)}}e.properties=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=function(e){return"{ ".concat(Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")," }")}(e)),new a.InterfaceType(n,(function(t){if(!p.E.is(t))return!1;for(var n in e)if(!e[n].is(t[n]))return!1;return!0}),(function(n,r){if(!Array.isArray(n)||n.some((function(e){return!p.E.is(e)})))return a.failure(n,r);var u={},c=[],l=function(l){var d=""!==t?"".concat(t,":").concat(l):l,f=p.E.find.apply(p.E,(0,o.__spreadArray)([d],n,!1)),m=e[l],y=g(m.name,f),v=m.validate(y,a.appendContext(r,l,m));(0,i.pipe)(v,s.fold((function(e){return h(c,e)}),(function(e){u[l]=e})))};for(var d in e)l(d);return c.length?a.failures(c):a.success(u)}),(function(n){var r={};for(var o in e){var i=""!==t?"".concat(t,":").concat(o):o,a=e[o],s=n[o];a.is(s)&&(r[i]=e[o].encode(s))}return p.E.of(r)}),e)},e.combineProperties=function(e,t){void 0===t&&(t="(".concat(e.map((function(e){return e.name})).join(" & "),")"));var n=e.length;return new a.IntersectionType(t,(function(t){return e.every((function(e){return e.is(t)}))}),(function(t,r){for(var o={},u=[],c=0;c<n;c++){var l=e[c].validate(t,r);(0,i.pipe)(l,s.fold((function(e){return h(u,e)}),(function(e){return Object.assign(o,e)})))}return u.length?a.failures(u):a.success(o)}),(function(t){return p.E.of.apply(p.E,e.map((function(e){return e.encode(t)})))}),e)},e.createStringEnum=function(e,t){return a.keyof(Object.values(e).reduce((function(e,t){return e[t]=null,e}),{}),"StringEnum<".concat(t,">"))},e.createNonStrictStringUnion=function(e){return new a.Type(e,(function(e){return"string"==typeof e}),(function(e,t){return"string"==typeof e?a.success(e):a.failure(e,t,"Unexpected type: ".concat(e))}),a.identity)}}(r||(r={}))},35387:(e,t,n)=>{n.d(t,{x:()=>r});var r,o=n(55415);!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o.structuredClone(t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return o.isEqual(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=null!=e?e:{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(r||(r={}))},8709:(e,t,n)=>{n.d(t,{i:()=>p});var r=n(19744),o=n.n(r),i=n(55415),a=n(35387);const s=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){Boolean(e)||(e=1/0);var t=this.ops[this.index];if(null==t)return{retain:1/0};var n=this.offset,r=u(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return null!=this.ops[this.index]?u(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return null==this.ops[this.index]?"retain":"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();function u(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}var c;!function(e){e.iterator=function(e){return new s(e)},e.length=u}(c||(c={}));const l=c;var d=String.fromCharCode(0);var p=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i.structuredClone(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(i.isEqual(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return null!=(null==e?void 0:e.retain)&&null==e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return null!=t.insert?e+l.length(t):null!=t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+l.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],o=l.iterator(this.ops),i=0;i<n&&o.hasNext();){var a=void 0;i<t?a=o.next(t-i):(a=o.next(n-i),r.push(a)),i+=l.length(a)}return new e(r)},e.prototype.compose=function(t){var n=l.iterator(this.ops),r=l.iterator(t.ops),o=[],s=r.peek();if(null!=s&&"number"==typeof s.retain&&null==s.attributes){for(var u=s.retain;"insert"===n.peekType()&&n.peekLength()<=u;)u-=n.peekLength(),o.push(n.next());s.retain-u>0&&r.next(s.retain-u)}for(var c=new e(o);n.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===n.peekType())c.push(n.next());else{var d=Math.min(n.peekLength(),r.peekLength()),p=n.next(d),h=r.next(d);if("number"==typeof h.retain){var f={};"number"==typeof p.retain?f.retain=d:f.insert=p.insert;var g=a.x.compose(p.attributes,h.attributes,"number"==typeof p.retain);if(g&&(f.attributes=g),c.push(f),!r.hasNext()&&i.isEqual(c.ops[c.ops.length-1],f)){var m=new e(n.rest());return c.concat(m).chop()}}else"number"==typeof h.delete&&"number"==typeof p.retain&&c.push(h)}return c.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:d;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),s=new e,u=o()(r[0],r[1],n),c=l.iterator(this.ops),p=l.iterator(t.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case o().INSERT:n=Math.min(p.peekLength(),t),s.push(p.next(n));break;case o().DELETE:n=Math.min(t,c.peekLength()),c.next(n),s.delete(n);break;case o().EQUAL:n=Math.min(c.peekLength(),p.peekLength(),t);var r=c.next(n),u=p.next(n);i.isEqual(r.insert,u.insert)?s.retain(n,a.x.diff(r.attributes,u.attributes)):s.push(u).delete(n)}t-=n}})),s.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=l.iterator(this.ops),o=new e,i=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=l.length(a)-r.peekLength(),u="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(u<0)o.push(r.next());else if(u>0)o.push(r.next(u));else{if(!1===t(o,r.next(1).attributes||{},i))return;i+=1,o=new e}}o.length()>0&&t(o,{},i)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,r){if(Boolean(r.insert))n.delete(l.length(r));else{if(Boolean(r.retain)&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(Boolean(r.delete)||Boolean(r.retain)&&null!=r.attributes){var o=r.delete||r.retain;return t.slice(e,e+o).forEach((function(e){Boolean(r.delete)?n.push(e):Boolean(r.retain)&&null!=r.attributes&&n.retain(l.length(e),a.x.invert(r.attributes,e.attributes))})),e+o}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,o=l.iterator(this.ops),i=l.iterator(r.ops),s=new e;o.hasNext()||i.hasNext();)if("insert"!==o.peekType()||!n&&"insert"===i.peekType())if("insert"===i.peekType())s.push(i.next());else{var u=Math.min(o.peekLength(),i.peekLength()),c=o.next(u),d=i.next(u);if(null!=c.delete)continue;null!=d.delete?s.push(d):s.retain(u,a.x.transform(c.attributes,d.attributes,n))}else s.retain(l.length(o.next()));return s.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=l.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.Op=l,e.AttributeMap=a.x,e}()},49435:(e,t,n)=>{n.d(t,{T:()=>r});var r,o,i=n(35214),a=n(64681),s=n(45701),u=n(68983),c=n(4807),l=n(48837),d=n(95195),p=n(95574),h=n(22232);!function(e){var t=a.k4();e.ord=a.pR(s.ordNumber);e.MIN=t.wrap(0),e.MAX=t.wrap(1);var n=t.wrap(.01),r=t.wrap(.99);e.is=function(n){return"number"==typeof n&&!Number.isNaN(n)&&s.between(e.ord)(e.MIN,e.MAX)(t.wrap(n))},e.prism=a.MS(e.is),e.isMin=(0,u.W)(e.ord.equals)(e.MIN),e.isMax=(0,u.W)(e.ord.equals)(e.MAX),e.closeToMin=c.betweenExclusive(e.ord)(e.MIN,n),e.closeToMax=c.betweenExclusive(e.ord)(r,e.MAX),e.groupSum=l.getNewtypeGroup(l.groupSum),e.monoidProduct=a.uZ(i.monoidProduct),e.monoidMax=a.uZ({concat:Math.max,empty:0}),e.monoidMin=a.uZ({concat:Math.min,empty:1}),e.fromNumber=function(n){return e.is(n)?d.right(t.wrap(n)):"number"!=typeof n||Number.isNaN(n)?d.left("can not create Ratio from not a number: "+JSON.stringify(n)):n<0||n>1?d.left("can not convert number: ".concat(n," to ratio")):d.left("unknown parse error")},e.unsafeFromNumber=function(t){return p.unsafeGet(e.fromNumber(t))},e.unwrap=function(e){return t.unwrap(e)},e.create=function(t,n){return e.prism.getOption(n/t)}}(r||(r={})),function(e){e.iso=a.k4(),e.ord=a.pR(s.ordNumber),e.MIN=e.iso.wrap(0),e.MAX=e.iso.wrap(100),e.is=function(t){return Number.isInteger(t)&&s.between(e.ord)(e.MIN,e.MAX)(e.iso.wrap(t))},e.prism=a.MS(e.is),e.isMin=(0,u.W)(e.ord.equals)(e.MIN),e.isMax=(0,u.W)(e.ord.equals)(e.MAX),e.groupSum=l.getNewtypeGroup(l.groupSum),e.fromNumber=function(t){return(0,h.kG)(e.is(t),"can not create percent from: ".concat(t)),e.iso.wrap(t)},e.fromRatio=function(t){var n=r.prism.reverseGet(t),o=r.closeToMin(t)?1:r.closeToMax(t)?99:Math.round(100*n);return(0,h.kG)(e.is(o),"incorrect percent value: ".concat(o," was derived from ratio: ").concat(t)),e.iso.wrap(o)}}(o||(o={}))},87969:(e,t,n)=>{n.d(t,{SV:()=>r,bv:()=>o});var r,o,i,a,s,u=n(59312),c=n(45701),l={equals:c.ordNumber.equals,compare:c.ordNumber.compare,top:1/0,bottom:-1/0},d=n(35214),p=n(57050),h=n(40327),f=n(95195),g=n(55415),m=n(83078),y=n(5114);!function(e){e.monoid=d.getStructMonoid({start:d.getMeetMonoid(l),end:d.getJoinMonoid(l),meta:d.getStructMonoid({})}),e.create=function(e,t,n){return void 0===n&&(n={}),{start:e,end:t,meta:n}},e.empty=e.create(0,0),e.map=function(e,t){return(0,u.__assign)((0,u.__assign)({},e),{meta:t(e.meta)})},e.extend=function(e,t){return(0,u.__assign)((0,u.__assign)({},e),{meta:t(e)})},e.copy=function(t){return e.map(t,p.yR)},e.compose=function(t){return function(n){return e.map(n,(function(e){return(0,u.__assign)((0,u.__assign)({},e),t)}))}},e.alterLeft=function(t,n){return(0,h.pipe)(t,f.fromPredicate((function(e){return e.start-n<=t.end}),JSON.stringify),f.map((function(t){var r=e.map(t,g.immutableUpdateC("increasedLeft")(m.mapOrDefault((function(e){return e+n}),n)));return r.start-=n,r})))},e.alterRight=function(t,n){return(0,h.pipe)(t,f.fromPredicate((function(e){return e.start<=t.end+n}),JSON.stringify),f.map((function(t){var r=e.map(t,g.immutableUpdateC("increasedRight")(m.mapOrDefault((function(e){return e+n}),n)));return r.end+=n,r})))},e.size=function(e){return e.end-e.start},e.isEmpty=function(t){return 0===e.size(t)},e.isValid=function(e){return function(t){return t.start>=0&&t.start<=t.end&&t.end<=e}},e.isOverlap=function(e,t){return e.start<=t.end&&t.start<=e.end},e.contains=function(e,t){return e.start>=t.start&&e.end<=t.end},e.distanceFrom=function(t,n){return e.isOverlap(t,n)?0:t.start<n.start?n.start-t.end:t.start-n.end},e.join=function(t,n){return e.create(Math.min(t.start,n.start),Math.max(t.end,n.end))},e.intersection=function(t,n){return e.isOverlap(t,n)?y.some(e.create(Math.max(t.start,n.start),Math.min(t.end,n.end))):y.none},e.ordStart=(0,c.contramap)((function(e){return e.start}))(c.ordNumber),e.ordEnd=(0,c.contramap)((function(e){return e.end}))(c.ordNumber),e.ord=(0,c.getSemigroup)().concat(e.ordEnd,e.ordStart)}(r||(r={})),function(e){e.is=function(e){var t=e.meta;return"number"==typeof t.increasedLeft||"number"==typeof t.increasedRight},e.restore=function(t){return e.is(t)?(0,h.pipe)(t,(function(e){return e.meta.increasedLeft?r.alterLeft(e,-e.meta.increasedLeft):f.right(e)}),f.chain((function(e){return e.meta.increasedRight?r.alterRight(e,-e.meta.increasedRight):f.right(e)}))):f.right(t)}}(o||(o={})),function(e){e.is=function(e){return r.isEmpty(e)}}(i||(i={})),function(e){e.create=function(e){return r.compose({value:e})},e.ordWord=(0,c.contramap)((function(e){return e.meta.value}))(c.ordString),e.ord=(0,c.getSemigroup)().concat(e.ordWord,r.ord)}(a||(a={})),function(e){e.create=function(e){return r.compose({clicks:e})},e.ordClicks=(0,c.contramap)((function(e){return e.meta.clicks}))(c.ordNumber),e.ord=(0,c.getSemigroup)().concat(e.ordClicks,a.ord)}(s||(s={}))},51653:(e,t,n)=>{var r;n.d(t,{R:()=>r}),function(e){e.empty={cost:0,critical:0,advanced:0,free:0,freePremium:0,paid:0,unread:0,textLength:0,muted:0,priority:0,criticalPriority:0,advancedPriority:0,freePriority:0,paidPriority:0},e.toUnmutedOnly=function(t){return 0===t.muted?t:Object.assign(Object.assign({},e.empty),{muted:t.muted})}}(r||(r={}))},51374:(e,t,n)=>{n.d(t,{P:()=>r,x:()=>o});var r,o,i=n(87969);!function(e){e.is=e=>"string"==typeof e.meta.alertId,e.create=e=>i.SV.compose({alertId:e});e.getRangeId=(e,t,n)=>`${e}|${t.btype}%${n}`,e.fromRangeIdToAlertId=function(e){const t=e.indexOf("|");return t<0?e:e.substring(0,t)}}(r||(r={})),function(e){let t;!function(e){let t,n;!function(e){e.REPLACE="r",e.HIGHLIGHT="h",e.HIGHLIGHT_UPDATABLE="hu",e.APPLIED="a",e.CONTEXT="ctx"}(t=e.Behavior||(e.Behavior={})),function(e){e.MAIN="m",e.FOCUS="f",e.ENCLOSING="e",e.MAIN_START="ms"}(n=e.View||(e.View={}))}(t=e.Meta||(e.Meta={})),e.isAbstract=e=>{const n=e.meta.btype;return n===t.Behavior.REPLACE||n===t.Behavior.CONTEXT},e.isApplied=e=>e.meta.btype===t.Behavior.APPLIED,e.isVisible=t=>{const n=t;return"string"==typeof n.meta.btype&&!e.isAbstract(n)&&"string"==typeof n.meta.vtype},e.create=(e,t)=>i.SV.compose({btype:e,vtype:t}),e.hasBehavior=function(e){return t=>t.meta.btype===e};const n=t=>n=>e.isVisible(n)&&n.meta.vtype===t;e.isMainView=n(t.View.MAIN),e.isFocusView=n(t.View.FOCUS),e.isEnclosingView=n(t.View.ENCLOSING),e.isMainStartView=n(t.View.MAIN_START)}(o||(o={}))},74660:(e,t,n)=>{n.d(t,{bZ:()=>ge,h$:()=>$,eT:()=>G,Np:()=>le,UC:()=>ce,QF:()=>de});var r=n(17771),o=n(71249),i=n(11064),a=n(23330),s=n(45701),u=n(22690),c=n(99950),l=n(57050),d=n(40327),p=n(69243),h=n(63513),f=n(73353),g=n(67394),m=n(36991),y=n(52226),v=n(87969),b=n(5114),_=n(8125),w=n(95195),S=n(22232),I=n(26328),x=n(95574),E=n(83078),k=n(89943),T=n(55415),A=n(80153),C=n(3893),O=n(46680),P=n(81531),R=n(70996),N=n(49435),D=n(36156);class M{constructor(e,t,n,r){this._alternativesManager=e,this._alertId=t,this.rev=n,this._alternativesMap=new Map,this._disposed=!1,this.registerAlternatives(r)}static register(e,t,n,r){return new M(e,t,n,r)}registerAlternatives(e){(0,S.kG)(!this._disposed,"Cannot call registerAlternatives method on disposed AlertAlternativeManager"),this.alternatives=(0,d.pipe)(e,I.UI((e=>{const t=this._alternativesManager.registerAlternative(e,this._alertId);return this._alternativesMap.set(t.alternativeId,t),t})))}deregisterAlternatives(){return(0,S.kG)(!this._disposed,"Cannot call deregisterAlternatives method on disposed AlertAlternativeManager"),this._alternativesMap.forEach((e=>{this._alternativesMap.delete(e.alternativeId)&&this._alternativesManager.deregisterAlternative(e.alternativeId)})),this}registerReversedAlternative(e){return(0,d.pipe)(this._disposed,w.fromPredicate((e=>!e),(()=>new Error("Cannot call registerReversedAlternative method on disposed AlertAlternativeManager"))),w.map((()=>{const t=this._alternativesManager.registerAlternative(e,this._alertId);return()=>(0,d.pipe)(t.alternativeId,this._alternativesManager.getAlternative,w.map((e=>e.alternative)))})))}dispose(){(0,S.kG)(!this._disposed,"Cannot dispose already disposed AlertAlternativeManager"),this.deregisterAlternatives(),this._disposed=!0}}var j=n(51653),L=n(51374),U=n(35214);class F{constructor(e,t,n,r,o){this._positionManager=e,this._alertId=t,this._log=P.C8.Logging.getLogger("AlertRangeManager",O.i.DEBUG),this._normalizeIfApplicable=e=>L.x.isFocusView(e)?e:this._normalize(e),this._rangeCreator=L.P.create(this._alertId),this._rangesMap=new Map,this._ranges={highlight:new Set,replace:new Set,applied:new Set,context:new Set},this._pendingRanges=[],this._deregisterByRangeId=e=>!this._ranges.highlight.has(e)&&this._deregisterRange(e),this._rangesIndex=0,this._log.trace("register ranges for alert",t);const i=new Map;this._registerRanges(r.map(this._normalizeIfApplicable),(e=>this._ranges.highlight.add(e)),i,this._alertId),this._registerRanges(o,(e=>this._ranges.context.add(e)),i,this._alertId),this._registerRanges(n,(e=>this._ranges.replace.add(e)),i),this.highlightRanges=this._getRanges("highlight"),this.replaceRange=this._getFirstRange("replace"),this.contextRanges=this._getRanges("context")}static register(e,t,n,r,o){return new F(e,t,n,r,o)}_normalize(e){return 1===v.SV.size(e)?this._positionManager.widen(e):e}_getFirstRange(e){return this._rangesMap.get(this._ranges[e].values().next().value)}_getRanges(e){return Array.from(this._ranges[e]).map((e=>{const t=this._rangesMap.get(e);return Boolean(t)||this._log.warn("Got undefined range",{markId:e}),t})).filter(Boolean)}enqueueRanges(e,t,n){this._cleanupPendingRanges();const r=new Map;this._registerRanges(t.map(this._normalizeIfApplicable),(e=>this._pendingRanges.push(["highlight",e])),r,this._alertId),this._registerRanges(e,(e=>this._pendingRanges.push(["replace",e])),r),this._registerRanges(n,(e=>this._pendingRanges.push(["context",e])),r,this._alertId)}get pending(){return this._pendingRanges.length>0}_getPendingRanges(e){return this._pendingRanges.filter((([t])=>t===e)).map((([,e])=>this._rangesMap.get(e)))}hasMatchingPendingRanges(e,t,n){return this._getPendingRanges(t).some((t=>e.some((e=>n(e,t)))))}_deregisterRange(e){this._rangesMap.delete(e)&&this._positionManager.deregisterRange(e)}_cleanupPendingRanges(){this._pendingRanges.forEach((([e,t])=>this._deregisterRange(t))),this._pendingRanges=[]}applyPendingRangesUpdate(){if(!this.pending)return b.none;const e=this._getRanges("highlight");this._ranges.replace.forEach(this._deregisterByRangeId),this._ranges.context.forEach(this._deregisterByRangeId),this._ranges.replace.clear(),this._ranges.context.clear(),this._ranges.highlight.clear();const t=this._getPendingRanges("highlight");return this._pendingRanges.forEach((([e,t])=>this._ranges[e].add(t))),this._pendingRanges=[],this.highlightRanges=this._getRanges("highlight"),this.contextRanges=this._getRanges("context"),this.replaceRange=this._getFirstRange("replace"),b.some({addedHighlightedRanges:t,removedHighlightedRanges:[e,()=>{e.forEach((e=>this._deregisterRange(e.meta.id)))}]})}_registerRanges(e,t,n,r){e.forEach((e=>{let o;const i=`${e.start},${e.end}`;n&&n.has(i)?o=n.get(i):(o=L.P.getRangeId(this._alertId,e.meta,this._rangesIndex++),this._rangesMap.set(o,this._positionManager.registerRange(o,r?this._rangeCreator(e):e)),n&&n.set(i,o)),t(o)}))}registerJoinedAppliedRanges(){(0,d.pipe)(I.nI([...Array.from(this._ranges.highlight),...Array.from(this._ranges.replace)]),b.map(I.UI((e=>this._rangesMap.get(e)))),b.map(U.fold(v.SV.monoid)),b.map((e=>this._registerRanges((0,d.pipe)(e,L.x.create(L.x.Meta.Behavior.APPLIED,L.x.Meta.View.MAIN),this._positionManager.widen,o.of),(e=>this._ranges.applied.add(e))))))}registerHighlightRangesAsApplied(){const e=Array.from(this._ranges.highlight).map((e=>this._rangesMap.get(e))).map(L.x.create(L.x.Meta.Behavior.APPLIED,L.x.Meta.View.MAIN)).map(this._positionManager.widen);this._registerRanges(e,(e=>this._ranges.applied.add(e)))}get appliedRanges(){return(0,d.pipe)(this._getRanges("applied"),o.UI((e=>()=>(0,d.pipe)(this._positionManager.narrow(e),b.getOrElse((()=>v.SV.create(e.start,e.start,e.meta)))))))}dispose(){this._rangesMap.forEach(((e,t)=>this._positionManager.deregisterRange(t))),this._rangesMap.clear()}}var B,G,z,W,q,V,H,$,K,Y,J,X=n(14532),Q=n(66896),Z=n(96021);!function(e){e.api="api",e.sidebar="sidebar",e.text="text"}(B||(B={})),function(e){e.FullSentence="FullSentence",e.Simple="Simple",e.Regular="Regular",e.OneGap="OneGap",e.Takeaway="Takeaway",e.Synfony="Synfony",e.ShortenIt="shortenIt",e.ToneAI="ToneAI",e.EthicalAI="EthicalAI",e.SuggestedSnippet="SuggestedSnippet",e.Citation="Citation",e.CitationDetection="CitationDetection"}(G||(G={})),function(e){e.correctlyDetected="correctlyDetected",e.incorrectlyDetected="incorrectlyDetected"}(z||(z={})),function(e){e.parse=function(t){return h.wQ.isFullSentence(t)?e.FullSentence:"true"===t.citation?e.Citation:void 0!==t.citation_detection?e.CitationDetection:"true"===t.transform_with_button?e.Simple:"true"===t.gap_transform?e.OneGap:void 0!==t.takeawayScore?e.Takeaway:void 0!==t.drilldownTree?e.Synfony:"true"===t.shorten_it?e.ShortenIt:void 0!==t.tone_slider?e.ToneAI:void 0!==t.ethical_ai_external_link?e.EthicalAI:void 0!==t.suggested_snippet_text&&void 0!==t.suggested_snippet_lib_link?e.SuggestedSnippet:e.Regular},e.isFullSentence=function(t){return t===e.FullSentence},e.isSimple=function(t){return t===e.Simple},e.isOneGap=function(t){return t===e.OneGap},e.isSynfony=function(t){return t===e.Synfony},e.isShortenIt=function(t){return t===e.ShortenIt},e.isToneAI=function(t){return t===e.ToneAI},e.isEthicalAI=function(t){return t===e.EthicalAI},e.isCitation=function(t){return t===e.Citation},e.isCitationDetection=function(t){return t===e.CitationDetection},e.isSuggestedSnippet=function(t){return t===e.SuggestedSnippet}}(G||(G={})),function(e){const t=(0,l.ls)(o.DY(s.contramap((e=>e.order))(s.ordNumber)),o.UI((e=>({key:e.key,text:e.reason}))));e.parse=(0,l.ls)(b.fromNullable,b.map((e=>({question:e.question,options:t(e.options)}))))}(W||(W={})),function(e){e.parse=b.fromNullable,e.isVox=e=>"Vox"===e.categoryTitle}(q||(q={})),function(e){e.fromCapiExtraProperties=function(e){return{hasAddToDictionary:"true"===e.add_to_dict,didYouMean:"true"===e.did_you_mean,showTitle:"true"===e.show_title,isEnhancement:"true"===e.enhancement,isBeta:"true"===e.beta,priority:parseInt(Boolean(e.priority)?e.priority:"0",10),tone:r.Y(b.option)({emojiId:b.fromNullable(e.emoji_id),name:b.fromNullable(e.tone)}),vox:(0,d.pipe)(b.fromNullable(e.voxCompanyName),b.map((t=>({companyName:t,logoUrl:b.fromNullable(e.voxLogoUrl)})))),fluencyMessage:b.fromNullable(e.fluency_message),cardType:G.parse(e),isInQuotes:"true"===e.in_quotes,bulkAcceptable:"true"===e.bulk_acceptable,takeaway:b.fromEither(ce.parseExtraProps(e)),takeawayBundleId:(0,d.pipe)(b.fromNullable(e.takeaway_bundle_id),b.filter(_.Dw)),shortenIt:(0,d.pipe)(b.fromEither(le.parseExtraProps(e)),b.map((t=>Object.assign(Object.assign({},t),{alertState:e.shorten_it_alert_state?{summaryState:K.SummaryState.fromString(e.shorten_it_alert_state.summaryState)}:void 0})))),toneAI:de.parseExtraProps(e),ethicalAI:pe.parseExtraProps(e),freePremium:b.fromNullable(e.free_premium),premiumYellowFooterVariant:b.fromNullable(e.premium_yellow_footer_variant),occasionalPromotion:b.fromNullable(e.occasional_promotion),drilldownTree:b.fromNullable(e.drilldownTree),suggestedSnippet:(0,d.pipe)(r.Y(b.option)({snippetText:b.fromNullable(e.suggested_snippet_text),libLink:b.fromNullable(e.suggested_snippet_lib_link)}),b.map((t=>Object.assign(Object.assign({},t),{snippetsTrigger:b.fromNullable(e.snippet_trigger)})))),citationDetection:(0,d.pipe)(e.citation_detection,f.R$.citationType.decode,b.fromEither),citationGap:(0,d.pipe)(e.citation_gap,b.fromNullable,b.map((e=>"true"===e))),citationItalicization:(0,d.pipe)(e.citation_italicization,b.fromNullable,b.map((e=>"true"===e))),autoapply:(0,d.pipe)(b.fromNullable(e.autoapply),b.map((e=>"true"===e))),knowledgeHubTermCreationUrl:b.fromNullable(e.knowledgeHubTermCreationUrl)}}}(V||(V={})),function(e){e.isWithAlternative=function(e){return void 0!==e.reversedAlternative},e.mock={action:h.PZ.LOOKED,commit:l.Q1,undo:l.Q1}}(H||(H={})),function(e){e.ordId=s.contramap((e=>e.id))(s.ordString),e.ordHRange=s.contramap((e=>e.getHighlightRanges()[0]))(v.SV.ord),e.ord=s.getSemigroup().concat(e.ordHRange,e.ordId)}($||($={})),function(e){let t;!function(e){e.notRequested="notRequested",e.requestSent="requestSent",e.received="received",e.invalidated="invalidated",e.notFound="notFound"}(t=e.SummaryState||(e.SummaryState={})),function(e){e.fromString=function(t){switch(t){case e.notRequested:return e.notRequested;case e.requestSent:return e.requestSent;case e.received:return e.received;case e.notFound:return e.notFound;case e.invalidated:return e.invalidated;default:return}}}(t=e.SummaryState||(e.SummaryState={}))}(K||(K={})),function(e){e.ToneSlider=p.array(p.type({emoji_id:p.string,name:p.string}))}(Y||(Y={})),function(e){const t=(0,l.a9)(a.F2(void 0));e.mock={_applyAlert:t,_applyTransformJson:t,_alertFeedback:t,_alertBatchFeedback:(0,l.a9)(l.Q1),_dismissBatch:t,_releaseRef:t,_notifyAlertUpdated:t,_changeMuteState:(0,l.a9)(a.F2(w.right([]))),_changeGapValue:t,_confirmApplied:t,_changeTakeawayFeedback:e=>ge.isTakeaway(e)?a.F2(e):a.t$(new Error("Not a Takeaway alert")),_shortenItSummaryNotFound:e=>ge.isShortenIt(e)?a.F2(e):a.t$(new Error("Not a ShortenIt alert")),_commitShortenItSummaryRequest:e=>ge.isShortenIt(e)?a.F2(e):a.t$(new Error("Not a ShortenIt alert")),_dismissShortenItTransformGroup:(e,t)=>ge.isShortenIt(e)?a.F2(e):a.t$(new Error("Not a ShortenIt alert")),_changeToneAIToneAlternative:e=>ge.isToneAI(e)?a.F2(e):a.t$(new Error("Not a ToneAI alert"))}}(J||(J={}));const ee=(0,l.ls)(Number,N.T.prism.getOption,b.getOrElse((()=>N.T.MIN)));class te{constructor(e,t,n,o,i=we(e),a=ve(e),s=_e(e),u=!0===e.isRead,c=0,l=!0){var p,f,g;this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=o,this._replaceEither=i,this._isRead=u,this._version=c,this._log=Ie("BaseAlert.impl",O.i.DEBUG),this._disposed=!1,this.id=te._createId((0,d.pipe)(this.rawId,b.getOrElse((()=>"local")))),this.priority=0,this.progress=ee(this._raw.extra_properties.progress),this.extraProperties=V.fromCapiExtraProperties(this._raw.extra_properties),this.dismissSurvey=W.parse((null===(p=this._raw.userReasonSurveys)||void 0===p?void 0:p.find((e=>"dismiss"===e.action)))||this._raw.userReasons),this.acceptSurvey=W.parse(null===(f=this._raw.userReasonSurveys)||void 0===f?void 0:f.find((e=>"accept"===e.action))),this.gbPrompt=q.parse(this._raw.gbPrompt),this._state=ge.State.init,this.belongsToAllAlerts=!1,this.lensType=Q.R.Type.fromRawAlert(this._raw),this.lensName=this._raw.cardLayout.group,this.isFree=this._raw.free,this.lensPriority=Boolean(this._raw.cardLayout)&&this._raw.cardLayout.rank||0,this.from=b.none,this.highlightTexts=this._raw.highlightText,this.replaceText=this._raw.text,this.bundleInfo=(0,d.pipe)(b.fromNullable(this._raw.cardLayout.bundle),b.map((e=>({title:e,rank:Boolean(this._raw.cardLayout.bundleRank)?this._raw.cardLayout.bundleRank:Number.MAX_SAFE_INTEGER})))),this.prediction=b.fromNullable(this._raw.cardLayout.prediction),this.allowUpdate=!0===this._raw.updatable,this._mute=ge.MuteStateType.fromMutedByType(this._raw.muted),this.muteCategory=r.Y(b.option)({id:(0,d.pipe)(b.fromNullable(this._raw.cardLayout.userMuteCategory),b.map((e=>e))),description:b.fromNullable(this._raw.cardLayout.userMuteCategoryDescription)}),this._isValid=!1,this._sanityCheck=(g=this._raw,h.wQ.match(g,(()=>e=>{(0,S.kG)(h.wQ.withPosition(e),"raw alert should be withPosition"),void 0!==e.transforms&&(0,S.kG)(e.transforms.length===e.replacements.length,`Every transform should have replacement, bro, tr: ${e.transforms}, rep: ${e.replacements}. AlertId: ${e.id}`)}),(()=>e=>(0,S.kG)(h.wQ.withTransformJson(e),"raw alert should be withTransform")),(()=>e=>{(0,S.kG)(h.wQ.withSubalerts(e),"raw alert should be withSubalerts"),(0,S.kG)((0,d.pipe)(e.subalerts.alternatives,E.forAll((t=>t.alternatives.length===e.labels.length))),"SuperAlert doesnt have any labels OR transformJson alternatives length is not equal to the number of labels",(()=>e.toString()))}))),this._alertAlternativeManager=b.none,this._pendingAlertAlternativeManager=b.none,this.view=Boolean(this._raw.view)?this._raw.view:h.wQ.View.all,this.getHighlightRanges=()=>this._alertRangeManager.highlightRanges,this.getNotEnclosingHighlightRanges=()=>this._alertRangeManager.highlightRanges.filter((0,_.ff)(L.x.isEnclosingView)),this.getContextRanges=()=>this._alertRangeManager.contextRanges,this.getReplaceEither=()=>(0,d.pipe)(this._replaceEither,w.bimap((()=>this._alertRangeManager.replaceRange),(()=>(0,d.pipe)(this._alertAlternativeManager,b.map((e=>e.alternatives)))))),this.getAppliedRanges=()=>this._alertRangeManager.appliedRanges,this._registerAlternatives=(e,t)=>{this._deregisterAllAlternatives(),this._alertAlternativeManager=b.some(M.register(this._alternativeManager,this.id,e,t))},this._refNames=[],this._sanityCheck(e),this._registerAll(e.rev,(0,d.pipe)(i,w.map(b.map((e=>e.alternatives)))),a,s,l)}static _createId(e){return`${e}_${(this.idCounter++).toString()}`}get rawId(){return Z.I.isKnown(this._raw)?b.some(this._raw.id):b.none}get state(){return this._state}get patternName(){return this._raw.pname}get patternNameQualifier(){return this._raw.pnameQualifier}get inline(){return this._raw.inline}get freePremium(){return this.extraProperties.freePremium}get disposed(){return this._disposed}get isRead(){return this._isRead}set isRead(e){this._log.trace("isRead#"+this.version,String(e)),this.bumpVersion(),this._isRead=e}get version(){return this._version}get mute(){return this._mute}set mute(e){this._log.trace("mute#"+this.version,String(e)),this.bumpVersion(),this._mute=e}get todoAction(){return this._raw.todo}get miniCardTitle(){return this._raw.minicardTitle}_registerAll(e,t,n,r,o=!0){(0,d.pipe)(t,w.fold((e=>this._registerRanges(b.some(e),n,r)),(t=>{this._registerRanges(b.none,n,r),o&&(0,d.pipe)(t,b.fold(l.Q1,(t=>this._registerAlternatives(e,t))))})))}_deregisterAllAlternatives(){this._alertAlternativeManager=(0,d.pipe)(this._alertAlternativeManager,te._disposeAltManager),this._pendingAlertAlternativeManager=(0,d.pipe)(this._pendingAlertAlternativeManager,te._disposeAltManager)}_deregisterRanges(){this._alertRangeManager.dispose()}bumpVersion(){this._version++}copy(e=!0){(0,S.kG)(ge.isNotDisposed(this),"Cannot copy disposed alert!",(()=>this.toString()));const t=new this.constructor(this._raw,this._ops,this._positionManager,this._alternativeManager,(0,d.pipe)(this._replaceEither,w.bimap(v.SV.copy,b.map(g.r3.Group.copy))),this.getHighlightRanges().map(v.SV.copy),(0,d.pipe)(this.getContextRanges(),I.nI,b.map(I.UI(v.SV.copy))),this.isRead,this.version+1,e);return this.isValid||t.invalidate(),t.from=b.some(this.id),t}get isValid(){return this._isValid}validate(){(0,S.kG)(b.isSome(this.rawId),"Cannot validate local alert",(()=>this.toString())),this._isValid=!0}invalidate(){return this._isValid=!1,this}clearCapiId(){Z.I.isKnown(this._raw)&&(this._raw=this.toLocalRawAlert())}silentPatchWithRawAlert(e){this._raw=e,this._mute=ge.MuteStateType.fromMutedByType(this._raw.muted),this.progress=ee(e.extra_properties.progress),this.extraProperties=V.fromCapiExtraProperties(e.extra_properties)}patchWithRawAlert(e){this._log.trace("patchWithRawAlert#"+this.version,e),this.bumpVersion(),this.silentPatchWithRawAlert(e)}updateAlertWithManagedData(e){(0,S.kG)(0===this.references,"Cannot update referenced alert, use enqueueRawAlertForUpdate instead"),this._deregisterRanges(),this._deregisterAllAlternatives(),this._registerAll(e.rev,(0,d.pipe)(we(e),w.map(b.map((e=>e.alternatives)))),ve(e),_e(e)),this.patchWithRawAlert(e)}registerReversedAlternative(e){return(0,d.pipe)(this._alertAlternativeManager,b.chain((0,l.ls)((t=>t.registerReversedAlternative(e)),w.mapLeft((t=>(this._log.error("Could not register reversed alternative",{error:t,reversedAlternative:e}),t))),b.fromEither)))}_registerAppliedRanges(){(0,d.pipe)(this._replaceEither,w.fold((()=>{this._alertRangeManager.registerJoinedAppliedRanges()}),(()=>{this._alertRangeManager.registerHighlightRangesAsApplied(),(0,d.pipe)(this._alertAlternativeManager,b.map((e=>e.deregisterAlternatives())))})))}switchToBeingAppliedState(e,t){(0,S.kG)(!ge.isApplied(this)&&!ge.isBeingApplied(this),"can not apply already applied or being applied alert",(()=>JSON.stringify({alert:this,source:e,method:t}))),ge.isRemoved(this)&&this._log.warn("Trying to switch removed to applied state",{alert:this,source:e,method:t}),this._registerAppliedRanges();const n=this.changeState(ge.State.Applied.createBeingApplied(e,t,R.h.create(this))),r=this.getHighlightRanges().map(v.SV.copy),o=(0,d.pipe)(this.getContextRanges(),I.nI,b.map(I.UI(v.SV.copy)));return{beingAppliedAlert:n,undo:()=>{ge.isRemoved(this)||ge.isBulkApplied(this)||this._registerAll(this._raw.rev,(0,d.pipe)(this.getReplaceEither(),w.map(b.map(I.UI((e=>e.alternative))))),r,o)}}}apply(e){const{alternativeIndex:t,feedbackSubtype:n,source:r,reason:o,gbPrompt:i}=e;(0,S.kG)(ge.isNotDisposed(this),"Cannot apply already disposed alert",(()=>this.toString())),(0,d.pipe)(this._replaceEither,w.fold((()=>this._ops._applyAlert({alert:this,replacementText:(0,d.pipe)(ge.getReplacementText(this,t)(),x.unsafeGet),source:r,method:ge.State.Applied.Method.ByCard,feedbackSubtype:n,reason:o,gbPrompt:i})),(()=>this._ops._applyTransformJson({alerts:[{alert:this,alternative:ge.getApplicableAlternative(this,t)}],source:r,method:ge.State.Applied.Method.ByCard,feedbackSubtype:n,drilldownSuggestionIds:e.drilldownSuggestionIds,reason:o,gbPrompt:i}))),a.fS((e=>()=>{throw e})))()}equals(e){return $.ordId.equals(this,e)}hashCode(){return(0,D.AC)(this.id)}isSameType(e){return this.patternName===e.patternName&&this.patternNameQualifier===e.patternNameQualifier&&this.title===e.title&&this.lensType===e.lensType&&this._raw.free===e._raw.free&&this.lensId===e.lensId}enqueueRawAlertForUpdate(e){(0,S.kG)((0,d.pipe)(this.rawId,E.forAll((t=>t===e.id))),`Cannot update alert with different id, this: ${(0,d.pipe)(this.rawId,b.toNullable)}, that: ${e.id}`);const t=we(e);(0,S.kG)(w.isLeft(t)&&w.isLeft(this._replaceEither)||w.isRight(t)&&w.isRight(this._replaceEither),"Cannot change replace type on the go"),this._sanityCheck(e),this.patchWithRawAlert(e),this.highlightTexts=e.highlightText,(0,d.pipe)(t,w.fold((t=>{this._alertRangeManager.enqueueRanges([t],ve(e),[])}),(t=>{this._alertRangeManager.enqueueRanges([],ve(e),(0,d.pipe)(e,_e,b.getOrElse((()=>[])))),(0,d.pipe)(this._pendingAlertAlternativeManager,b.map((e=>e.dispose()))),this._pendingAlertAlternativeManager=(0,d.pipe)(t,b.map((t=>M.register(this._alternativeManager,this.id,e.rev,t.alternatives))))})))}get hasNewRangesForUpdate(){return this._alertRangeManager.pending}applyPendingRangesUpdate(){const e=R.h.create(this);this._log.trace("applyPendingRangesUpdate#"+this.version),this.bumpVersion(),(0,d.pipe)(this._pendingAlertAlternativeManager,E.tap((()=>{(0,d.pipe)(this._alertAlternativeManager,b.map((e=>e.dispose()))),this._alertAlternativeManager=this._pendingAlertAlternativeManager,this._pendingAlertAlternativeManager=b.none})));const t=this._alertRangeManager.applyPendingRangesUpdate(),n=R.h.create(this);return(0,d.pipe)(this._ops._notifyAlertUpdated(Se.create(e,n))(),w.mapLeft(this._log.handler("Could not update alert when applying pending ranges update").error)),t}hasMatchingHighlightsWith(e,t){return this.hasNewRangesForUpdate?this._alertRangeManager.hasMatchingPendingRanges(e.getHighlightRanges(),"highlight",t):this.getHighlightRanges().some((n=>e.getHighlightRanges().some((e=>t(n,e)))))}canBeMergedWith(e){return ge.isRemoved(this)?this.allowUpdate&&this.isSameType(e)&&this.hasMatchingHighlightsWith(e,v.SV.isOverlap)&&this.state.reason===ge.State.Removed.Reason.capiDone:this.hasMatchingHighlightsWith(e,v.SV.ord.equals)&&k.compareInPairs(this.highlightTexts,e.highlightTexts,((e,t)=>e===t))&&this.isSameType(e)}changeState(e){return this._log.trace("changeState#"+this.version,e),this.bumpVersion(),this._state=e,this}enqueueRangesRemove(e){const t=t=>!e.has(t);return this._alertRangeManager.enqueueRanges((0,d.pipe)(this.getReplaceEither(),w.fold((e=>[e]),(()=>[]))),this.getHighlightRanges().filter(t),this.getContextRanges().filter(t)),this}toString(){return"Alert: "+JSON.stringify(this.toJSON(),void 0,0)}toLiteString(){return`aid:${this.id} rid:${b.toNullable(this.rawId)}`}toJSON(){return Object.assign(Object.assign({id:this.id,rawId:(0,d.pipe)(this.rawId,b.getOrElse((()=>"unknown"))),hranges:this.getHighlightRanges()},(0,d.pipe)(this.getReplaceEither(),w.fold((e=>({rrange:e})),(e=>({alts:(0,d.pipe)(e,b.map(o.UI((e=>e.alternative.ops.map(g.JU.anonymize)))),b.toUndefined)}))))),{arange:(0,d.pipe)(this.getAppliedRanges(),b.fromPredicate(_.Dw),b.toNullable),lensId:this.lensId,lensType:this.lensType,category:this._raw.category,patternName:this._raw.pname,patternNameQualifier:this._raw.pnameQualifier,impact:this._raw.impact,isValid:this._isValid,state:this.state.type,references:this._refNames,disposed:this._disposed,view:this._raw.view})}toLocalRawAlert(){return Z.I.toLocal(this.toRawAlert())}toRawAlert(){const e=this.getHighlightRanges().map((e=>w.getOrElse((t=>(this._log.info("Alert cannot be restored",t),v.SV.copy(e))))(v.bv.restore(e)))),t=T.update(this._raw,Object.assign({isRead:this.isRead,muted:this._mute===ge.MuteStateType.Muted?h.JW.MutedByType.MUTED_BY_USER:void 0},(0,d.pipe)(this.getReplaceEither(),w.fold((e=>({begin:e.start,end:e.end})),(()=>({}))))));return T.update(t,h.wQ.match(this._raw,(()=>({highlightBegin:e[0].start,highlightEnd:e[0].end})),(t=>({transformJson:h.lB.create({alternatives:(0,d.pipe)(t.transformJson.alternatives,b.chain((()=>(0,d.pipe)(I.nI(this.getContextRanges())))),b.map(I.UI((e=>({s:e.start,e:e.end})))),b.chain((e=>(0,d.pipe)(this.getReplaceEither(),x.unsafeGet,b.map((t=>({context:e,alternatives:(0,d.pipe)(t,I.UI((e=>e.alternative)))}))))))),highlights:e.map((e=>({s:e.start,e:e.end,type:e.meta.vtype===L.x.Meta.View.FOCUS?"focus":e.meta.vtype===L.x.Meta.View.ENCLOSING?"enclosing":e.meta.vtype===L.x.Meta.View.MAIN_START?"main_start":"main"})))})})),(()=>({}))))}toLiteAlert(){return{group:this._raw.group,category:this._raw.category,categoryHuman:this._raw.categoryHuman,bundleInfo:(0,d.pipe)(this.bundleInfo,b.map((e=>e.title))),lensName:this.lensName,cost:1}}toLensAlert(){return{lensName:this._raw.cardLayout.group,isFree:this._raw.free,cost:1}}takeReference(e){return this._disposed?w.left(new S.ej("Can not take reference for already disposed",this.id)):-1!==this._refNames.indexOf(e)?w.left(new S.ej("can not take ref for same from twice",e)):(this._refNames.push(e),w.right({dispose:(0,d.pipe)((()=>k.omitMutable(e,this._refNames)),i.a1(this._ops._releaseRef(e,this)),a.g_((e=>()=>this._log.error("Could not release ref",e)),l.a9),c.fromIO,c.delay(0))}))}dispose(){return this._log.isEnabled(O.i.TRACE)&&this._log.trace("dispose alert call",new Error(`Alert(${this.toLiteString()})`).stack),(0,S.kG)(ge.isNotDisposed(this),"Cannot dispose already disposed",this.id),(0,S.kG)(0===this.references,"Cannot dispose alert in use",this.id),this._disposed=!0,this._deregisterAllAlternatives(),this._deregisterRanges(),this}switchToApplied(e){return(0,S.kG)(ge.State.Type.BEING_APPLIED===this.state.type,"Only being applied alert can be transitioned to applied"),this.changeState(ge.State.Applied.fromBeingApplied(this.state,e))}onRangeChange(e){(0,S.kG)(ge.isNotDisposed(this),"Cannot change range on disposed alert!",(()=>this.toString()));return ge.isApplied(this)&&e.some(L.x.hasBehavior(L.x.Meta.Behavior.APPLIED))||(()=>(e.some(L.x.hasBehavior(L.x.Meta.Behavior.HIGHLIGHT))||e.some(L.x.hasBehavior(L.x.Meta.Behavior.HIGHLIGHT_UPDATABLE))&&ge.highlightsCollapsed(this))&&!ge.isBulkApplied(this))()?b.some({state:ge.Transition.State.Dispose}):ge.isRegistered(this)&&e.some(L.x.hasBehavior(L.x.Meta.Behavior.CONTEXT))?b.some({state:ge.Transition.State.Pending,removedRanges:new Set}):b.none}_registerRanges(e,t,n){Boolean(this._alertRangeManager)&&this._alertRangeManager.dispose(),this._alertRangeManager=F.register(this._positionManager,this.id,(0,d.pipe)(e,b.fold((()=>[]),(e=>[e]))),t,(0,d.pipe)(n,b.getOrElse((()=>[]))))}get references(){return this._refNames.length}static castApplied(e){return(0,S.kG)(ge.isApplied(e),"can not cast not applied alert",(()=>e.toString())),e}}te.idCounter=0,te._disposeAltManager=b.chain((e=>(e.dispose(),b.none)));class ne extends te{constructor(){super(...arguments),this.title="",this.lensId=Q.R.SpecialId.Premium,this.alertType=ge.Type.Premium,this.group=this._raw.group,this.category=this._raw.category,this.isFree=this._raw.free,this.categoryHuman=this._raw.categoryHuman,this.allowDuplicates=!0,this.hasNestedHighlights=!1,this._isRead=!0,this.labels=[],this.transform=b.none}get counters(){return{cost:1,critical:0,advanced:1,priority:0,free:0,freePremium:0,paid:1,criticalPriority:0,advancedPriority:0,freePriority:0,paidPriority:0,unread:0,muted:0,textLength:0}}}class re extends te{constructor(){var e;super(...arguments),this.lensType=Q.R.Type.Plagiarism,this.lensId=Q.R.SpecialId.Plagiarism,this.allowDuplicates=!0,this.hasNestedHighlights=!1,this.counters={cost:1,priority:0,criticalPriority:0,advancedPriority:0,freePriority:0,paidPriority:0,critical:0,advanced:0,free:0,freePremium:0,paid:0,unread:0,muted:ge.isMuted(this)?1:0,textLength:this._raw.highlightText.map((e=>e.length)).reduce(_.Sm,0)},this.plagiarismType=this._parsePlagiarismExtraProps(this._raw.extra_properties),this.title=null!==(e=this._raw.extra_properties.title)&&void 0!==e?e:"",this.labels=[],this.cardId=JSON.stringify({title:this.title,source:this.plagiarismType.source}),this._isRead=!0,this.transform=b.none}_parsePlagiarismExtraProps(e){var t,n,r;return"PUBLICATION"===e.source?{source:"publication",authors:b.fromNullable(e.authors),citationStyle:{apa:null!==(t=e.reference_apa)&&void 0!==t?t:"",chicago:null!==(n=e.reference_chicago)&&void 0!==n?n:"",mla:null!==(r=e.reference_mla)&&void 0!==r?r:""}}:{source:"web",url:b.fromNullable(e.url)}}}class oe extends te{constructor(){super(...arguments),this.lensId=x.unsafeGet(Q.R.OutcomeId.toOutcomeId(this._raw.cardLayout.outcome)),this.allowDuplicates=!1,this.hasNestedHighlights=ge.hasNestedHighlights(this),this.isFree=this._raw.free,this.explanation=this._raw.explanation,this.examples=X.J.parse(this._raw.examples,this._raw.point.includes("Italicization")),this.priority=this.extraProperties.priority,this.belongsToAllAlerts=!0,this.labels=this._raw.replacements.map((e=>({label:e,replacementTexts:[e],matches:1})))}get title(){return this._raw.title}get details(){return A.G.string(this._raw.details)}get counters(){if(ge.isBulkApplied(this))return j.R.empty;const e=this._raw.impact===h.wQ.Impact.Critical?1:0,t=this._raw.impact===h.wQ.Impact.Advanced?1:0,n=this._raw.free?1:0,r="unlocked"===this._raw.extra_properties.free_premium?1:0,o=this._raw.free?0:1,i=ge.isPriority(this)?e:0,a=ge.isPriority(this)?t:0,s=ge.isPriority(this)?n:0,u=ge.isPriority(this)?o:0;return{cost:1,priority:ge.isPriority(this)?1:0,critical:e,advanced:t,free:n,freePremium:r,paid:o,criticalPriority:i,advancedPriority:a,freePriority:s,paidPriority:u,unread:Number(!this.isRead),textLength:0,muted:ge.isMuted(this)?1:0}}get transform(){return(0,d.pipe)(this.getReplaceEither(),w.fold((()=>(0,d.pipe)(this._raw.replacements,C.fromNullableArray,b.map((e=>(0,d.pipe)(this._raw.transforms,C.fromNullableArray,b.fold((()=>({kind:"replacement",content:e})),(e=>({kind:"transform",content:e}))),w.left))))),(0,l.ls)(b.map(I.UI((e=>e.alternative))),b.map((e=>w.right({cardType:this.extraProperties.cardType,drilldown:this.extraProperties.drilldownTree,alternatives:e}))))),b.map((e=>({id:this.id,revision:(0,d.pipe)(this._alertAlternativeManager,b.fold((()=>this._raw.rev),(e=>e.rev))),todo:this._raw.todo,content:e}))))}onRangeChange(e){(0,S.kG)(ge.isNotDisposed(this),"Cannot change range on disposed alert!",(()=>this.toString()));const t=e.filter(L.x.hasBehavior(L.x.Meta.Behavior.HIGHLIGHT_UPDATABLE));return t.length>0&&!ge.highlightsCollapsed(this)?b.some({state:ge.Transition.State.Pending,removedRanges:new Set(t.filter(L.x.isFocusView))}):super.onRangeChange(e)}enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this.explanation=e.explanation}copy(e=!0){const t=super.copy(e);return t.explanation=this.explanation,t}}class ie extends oe{constructor(){super(...arguments),this.alertType=ge.Type.Default}}class ae extends oe{constructor(){super(...arguments),this.alertType=ge.Type.Synfony}}class se extends oe{constructor(){super(...arguments),this.labels=this._raw.labels,this.alertType=ge.Type.Super}enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this.labels=e.labels}updateAlertWithManagedData(e){super.updateAlertWithManagedData(e),this.labels=e.labels}}class ue extends ie{constructor(){super(...arguments),this._gapValue=""}get gapValue(){return this._gapValue}changeGapValue(e){return this.bumpVersion(),this._gapValue=e,this}copy(e=!0){const t=super.copy(e);return t._gapValue=this._gapValue,t}}class ce extends oe{constructor(e,t,n,r){super(e,t,n,r),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=r,this.alertType=ge.Type.Takeaway,this._takeawayScore=0,this._takeawayIsLikelyToBeRead=!1,this._takeawayFeedback=b.none,this._miniCardTitle="",this._title="",this._details=b.none,(0,d.pipe)(this.extraProperties.takeaway,E.tap((e=>{this._takeawayScore=e.score,this._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,this._takeawayFeedback=e.feedbackState}))),this._miniCardTitle=e.minicardTitle,this._title=e.title,this._details=A.G.string(e.details)}setFeedback(e){return this.bumpVersion(),this._takeawayFeedback=b.some(e),this}get takeawayScore(){return this._takeawayScore}get takeawayIsLikelyToBeRead(){return this._takeawayIsLikelyToBeRead}get takeawayFeedback(){return this._takeawayFeedback}get miniCardTitle(){return this._miniCardTitle}get title(){return this._title}get details(){return this._details}enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this._miniCardTitle=e.minicardTitle,this._title=e.title,this._details=A.G.string(e.details),(0,d.pipe)(ce.parseExtraProps(e.extra_properties),w.fold((e=>{throw new Error(`Cannot update Takeaway alert: ${e}`)}),(e=>{this._takeawayScore=e.score,this._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,this._takeawayFeedback=e.feedbackState})))}copy(e=!0){const t=super.copy(e);return t._takeawayScore=this._takeawayScore,t._takeawayIsLikelyToBeRead=this._takeawayIsLikelyToBeRead,t._takeawayFeedback=this._takeawayFeedback,t._miniCardTitle=this._miniCardTitle,t._title=this._title,t._details=this._details,t}static parseExtraProps(e){return(0,d.pipe)(w.fromNullable("takeawayScore is missing")(e.takeawayScore),w.map((t=>({score:parseFloat(t),isLikelyToBeRead:(0,d.pipe)(b.fromNullable(e.isLikelyToReadTakeaway),b.fold(l.jv,(e=>"true"===e))),feedbackState:(0,d.pipe)(b.fromNullable(e.takeawayFeedback),b.chain((e=>e===z.correctlyDetected?b.some(z.correctlyDetected):e===z.incorrectlyDetected?b.some(z.incorrectlyDetected):(0,S.vE)(e))))}))))}static calculateHashCode(e){return(0,D.AC)(`${e.id}-${b.getShow(u._3).show(e.takeawayFeedback)}-${e.takeawayIsLikelyToBeRead}-${e.title}-${e.miniCardTitle}-${e.explanation}-${e.details}`)}}class le extends oe{constructor(e,t,n,r){super(e,t,n,r),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=r,this.alertType=ge.Type.ShortenIt,this._todoAction="",this._sentenceCount=0,this._wordCount=0,this._compressionRatio=N.T.unsafeFromNumber(0),this._summaryState=K.SummaryState.notRequested,this._dismissedTransformGroups=new Set,this._deleteRangesGroups=[],(0,d.pipe)(this.extraProperties.shortenIt,E.tap((t=>{var n,r;this._sentenceCount=t.sentenceCount,this._wordCount=t.wordCount,this._compressionRatio=t.compressionRatio,this._summaryState=null!==(r=null===(n=t.alertState)||void 0===n?void 0:n.summaryState)&&void 0!==r?r:h.wQ.withAlternatives(e)?K.SummaryState.received:K.SummaryState.notRequested}))),this._todoAction=e.todo,this._deleteRangesGroups=(0,d.pipe)(this._replaceEither,w.fold((()=>[]),b.fold((()=>[]),(e=>g.r3.getDeleteOpsGroupsList(e.alternatives[0])))))}get todoAction(){return this._todoAction}get sentenceCount(){return this._sentenceCount}get wordCount(){return this._wordCount}get compressionRatio(){return this._compressionRatio}get summaryState(){return this._summaryState}get dismissedTransformGroups(){return this._dismissedTransformGroups}get transformGroups(){return(0,d.pipe)(this.transform,b.chain((e=>b.fromEither(e.content))),b.map((e=>(0,d.pipe)(e.alternatives,I.YM))),b.map((e=>g.r3.getTransformGroups(e))),b.getOrElse((()=>new Set)))}changeSummaryState(e){const t=(0,d.pipe)(e,(e=>{switch(e){case"requestSent":return K.SummaryState.requestSent;case"notFound":return K.SummaryState.notFound;default:(0,S.vE)(e)}}));return this.bumpVersion(),this._summaryState=t,this}dismissTransformGroup(e){if(!this._dismissedTransformGroups.has(e)){this._dismissedTransformGroups.add(e);const t=this._deleteRangesGroups.findIndex((t=>t===e));if(t>=0){this._deleteRangesGroups.splice(t,1);const e=t+1,n=this.getHighlightRanges();(0,S.kG)(e<n.length,"range to remove is out of bounds"),this.enqueueRangesRemove(new Set([n[e]]))}this.bumpVersion()}return this}_enqueueRawAlertTransformForUpdate(e){const t=we(e);(0,S.kG)(w.isRight(t)&&w.isRight(this._replaceEither),"Cannot change replace type on the go"),this._replaceEither=t,this.highlightTexts=e.highlightText,this._deleteRangesGroups=(0,d.pipe)(this._replaceEither,w.fold((()=>[]),b.fold((()=>[]),(e=>g.r3.getDeleteOpsGroupsList(e.alternatives[0]))))),(0,d.pipe)(this._replaceEither,w.map((t=>{this._alertRangeManager.enqueueRanges([],ve(e),(0,d.pipe)(e,_e,b.getOrElse((()=>[])))),(0,d.pipe)(this._pendingAlertAlternativeManager,b.map((e=>e.dispose()))),this._pendingAlertAlternativeManager=(0,d.pipe)(t,b.map((t=>M.register(this._alternativeManager,this.id,e.rev,t.alternatives))))})))}enqueueRawAlertForUpdate(e){(0,S.kG)((0,d.pipe)(this.rawId,E.forAll((t=>t===e.id))),`Cannot update alert with different id, this: ${(0,d.pipe)(this.rawId,b.toNullable)}, that: ${e.id}`),this._sanityCheck(e),this.patchWithRawAlert(e),(0,d.pipe)(this.extraProperties.shortenIt,E.tap((e=>{this._sentenceCount=e.sentenceCount,this._wordCount=e.wordCount,this._compressionRatio=e.compressionRatio})));let t=!1;switch(this._summaryState){case K.SummaryState.notRequested:break;case K.SummaryState.requestSent:h.wQ.withAlternatives(e)?(this._summaryState=K.SummaryState.received,this._dismissedTransformGroups=new Set):t=!0;break;case K.SummaryState.received:h.wQ.withAlternatives(e)||(this._summaryState=K.SummaryState.invalidated,t=!0);break;case K.SummaryState.invalidated:t=!0;break;case K.SummaryState.notFound:break;default:(0,S.vE)(this._summaryState)}t||(this.explanation=e.explanation,this._todoAction=e.todo,this._enqueueRawAlertTransformForUpdate(e))}copy(e=!0){const t=super.copy(e);return t._sentenceCount=this._sentenceCount,t._wordCount=this._wordCount,t._compressionRatio=this._compressionRatio,t._todoAction=this._todoAction,t._summaryState=this._summaryState,t._dismissedTransformGroups=new Set(this._dismissedTransformGroups),t._deleteRangesGroups=this._deleteRangesGroups,t}static parseExtraProps(e){return(0,d.pipe)(e.shorten_it,w.fromPredicate((e=>"true"===e),(0,l.a9)("not a ShortenIt alert")),w.chain((()=>{var t,n;return r.Y(w.either)({sentenceCount:(0,d.pipe)(x.parseFiniteInt(null!==(t=e.sentence_count)&&void 0!==t?t:""),w.mapLeft((0,l.a9)(`invalid sentence_count: got ${e.sentence_count}`))),wordCount:(0,d.pipe)(x.parseFiniteInt(null!==(n=e.word_count)&&void 0!==n?n:""),w.mapLeft((0,l.a9)(`invalid word_count: got ${e.word_count}`))),compressionRatio:void 0===e.shorten_it_compression_ratio?w.right(N.T.unsafeFromNumber(0)):(0,d.pipe)(x.parseFloat(e.shorten_it_compression_ratio),w.mapLeft((0,l.a9)(`invalid shorten_it_compression_ratio: got ${e.shorten_it_compression_ratio}`)),w.chain(N.T.fromNumber))})})))}static calculateHashCode(e){return(0,D.NO)({dismissedTransformGroups:Array.from(e.dismissedTransformGroups.values()).sort().join("|"),id:e.id,patternName:e.patternName,sentenceCount:e.sentenceCount,wordCount:e.wordCount,compressionRatio:N.T.unwrap(e.compressionRatio),summaryState:e.summaryState})}}class de extends oe{constructor(e,t,n,r){super(e,t,n,r),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=r,this.alertType=ge.Type.ToneAI,(0,d.pipe)(this.extraProperties.toneAI,E.tap((e=>{this._toneAlternatives=e.toneAlternatives,this._selectedToneAlternativeIdx=1})))}get toneAlternatives(){return this._toneAlternatives}get selectedToneAlternativeIdx(){return this._selectedToneAlternativeIdx}setSelectedToneAlternativeIdx(e){return this.bumpVersion(),this._selectedToneAlternativeIdx=e,this}copy(e=!0){const t=super.copy(e);return t._toneAlternatives=this._toneAlternatives,t._selectedToneAlternativeIdx=this._selectedToneAlternativeIdx,t}static parseExtraProps(e){const t=Ie("ToneAIAlertImpl.parseExtraProps",O.i.DEBUG);return(0,d.pipe)(b.fromNullable(e.tone_slider),b.chain((e=>(0,d.pipe)(w.tryCatch((()=>JSON.parse(e)),(()=>"invalid extra_properties.tone_slider JSON")),w.chain((e=>(0,d.pipe)(Y.ToneSlider.decode(e),w.mapLeft((e=>`cannot decode extra_properties.tone_slider ${JSON.stringify(e)}`))))),w.map((e=>e.map((e=>({emojiID:e.emoji_id,name:e.name}))))),w.filterOrElse((e=>e.length>1),(e=>`expected extra_properties.tone_slider length to be greater than 1, but found ${e.length}`)),w.bimap((e=>t.error(`Cannot parse extra_properties for ToneAI alert: ${e}`)),(e=>({toneAlternatives:e}))),b.fromEither))))}static calculateHashCode(e){return(0,D.NO)({id:e.id,selectedToneAlternativeIdx:e.selectedToneAlternativeIdx})}}class pe extends oe{constructor(e,t,n,r){super(e,t,n,r),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=r,this.alertType=ge.Type.EthicalAI,(0,d.pipe)(this.extraProperties.ethicalAI,E.tap((e=>{this._externalLink=e.externalLink,this._emojiID=e.emojiID,this._bannerColors=e.bannerColors,this._isFlaggable=e.isFlaggable,this._shouldDismissAfterOpeningLink=e.shouldDismissAfterOpeningLink,this._highlightBackgroundColor=e.highlightBackgroundColor,this._highlightUnderlineColor=e.highlightUnderlineColor})))}get externalLink(){return this._externalLink}get emojiID(){return this._emojiID}get bannerColors(){return this._bannerColors}get isFlaggable(){return this._isFlaggable}get shouldDismissAfterOpeningLink(){return this._shouldDismissAfterOpeningLink}get highlightBackgroundColor(){return this._highlightBackgroundColor}get highlightUnderlineColor(){return this._highlightUnderlineColor}copy(e=!0){const t=super.copy(e);return t._externalLink=this._externalLink,t._emojiID=this._emojiID,t._bannerColors=this._bannerColors,t._isFlaggable=this._isFlaggable,t}static parseExtraProps(e){return(0,d.pipe)(e,b.fromPredicate((e=>Boolean(e.ethical_ai_external_link))),b.map((e=>{let t,n;if(void 0!==e.ethical_ai_is_flaggable)try{t=JSON.parse(e.ethical_ai_is_flaggable)}catch(e){t=!0}else t=!0;if(void 0!==e.ethical_ai_should_dismiss_after_opening_link)try{n=JSON.parse(e.ethical_ai_should_dismiss_after_opening_link)}catch(e){n=!1}else n=!1;return{externalLink:e.ethical_ai_external_link,emojiID:e.ethical_ai_emoji_id,bannerColors:void 0!==e.ethical_ai_banner_colors&&""!==e.ethical_ai_banner_colors.trim()?e.ethical_ai_banner_colors.split(","):void 0,isFlaggable:t,shouldDismissAfterOpeningLink:n,highlightBackgroundColor:e.ethical_ai_highlight_background_color,highlightUnderlineColor:e.ethical_ai_highlight_underline_color}})))}}class he extends oe{constructor(e,t,n,r){super(e,t,n,r),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=r,this.alertType=ge.Type.SuggestedSnippet,(0,S.kG)(b.isSome(this.extraProperties.suggestedSnippet),"Tried to create SuggestedSnippetAlert without providing a snippet text."),this._snippetText=this.extraProperties.suggestedSnippet.value.snippetText,this._libLink=this.extraProperties.suggestedSnippet.value.libLink,this._snippetsTrigger=this.extraProperties.suggestedSnippet.value.snippetsTrigger}get snippetText(){return this._snippetText}get libLink(){return this._libLink}get snippetsTrigger(){return this._snippetsTrigger}copy(e=!0){const t=super.copy(e);return t._snippetText=this._snippetText,t._snippetText=this._libLink,t}static calculateHashCode(e){return(0,D.AC)(e)}hashCode(){return 31*super.hashCode()+he.calculateHashCode(this._snippetText)}}class fe extends oe{constructor(e,t,n,r){super(e,t,n,r),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=r,this.alertType=ge.Type.KnowledgeHubSuggestedTerm,(0,S.kG)(b.isSome(this.extraProperties.knowledgeHubTermCreationUrl),"Tried to create KnowledgeHubSuggestedTermAlert without providing a term creation url."),this._knowledgeHubTermCreationUrl=this.extraProperties.knowledgeHubTermCreationUrl.value}get knowledgeHubTermCreationUrl(){return this._knowledgeHubTermCreationUrl}}var ge;!function(e){let t;!function(e){e.Default="default",e.Plagiarism="plagiarism",e.Super="super",e.Premium="premium",e.Takeaway="takeaway",e.Synfony="synfony",e.ShortenIt="shortenIt",e.ToneAI="toneAI",e.EthicalAI="ethicalAI",e.SuggestedSnippet="suggestedSnippet",e.KnowledgeHubSuggestedTerm="knowledgeHubSuggestedTerm"}(t=e.Type||(e.Type={})),e.fromAlertModel=function(e){return e.alert},e.getReplacementText=(e,t)=>()=>x.tryCatchError((()=>{const n=e._raw.replacements[t];return(0,S.kG)(void 0!==n,"Unknown alternativeIndex",(()=>`alternativeIndex(${t}) `+e.toString())),n})),e.getApplicableAlternative=(e,t)=>()=>x.tryCatchError((()=>{(0,S.kG)((0,d.pipe)(e.getReplaceEither(),w.exists(b.isSome)),"Alert doesn't have any deltas to be applied",e.toString());const{alternative:r}=(0,d.pipe)(e.getReplaceEither(),x.unsafeGet,E.unsafeGet)[t];return(0,S.kG)(void 0!==r,"Unknown alternativeIndex",(()=>`alternativeIndex(${t}) `+e.toString())),{alternative:n(e,r),alternativeIndex:t}}));const n=(e,t)=>A(e)?g.r3.fillGaps(t,e.gapValue):T(e)?g.r3.dismissTransformGroups(t,e.dismissedTransformGroups):t;let r,i,a,u,c;function p(t){return e.State.isBulkApplied(t.state)}function f(t){return t.state.type===e.State.Type.REGISTERED}function _(t){return t.state.type===e.State.Type.REMOVED}function k(t){return _(t)&&t.state.reason===e.State.Removed.Reason.duplicated}function T(t){return t.alertType===e.Type.ShortenIt}function A(e){return G.isOneGap(e.extraProperties.cardType)}function C(e){return e.lensId===Q.R.SpecialId.Premium}function O(t){return t.alertType===e.Type.Default||t.alertType===e.Type.Super||t.alertType===e.Type.Takeaway||t.alertType===e.Type.Synfony||t.alertType===e.Type.ShortenIt||t.alertType===e.Type.ToneAI||t.alertType===e.Type.EthicalAI||t.alertType===e.Type.SuggestedSnippet||t.alertType===e.Type.KnowledgeHubSuggestedTerm}!function(e){let t;!function(e){e[e.Pending=0]="Pending",e[e.Dispose=1]="Dispose"}(t=e.State||(e.State={}))}(r=e.Transition||(e.Transition={})),function(e){e.IDLE="idle",e.CHECKING="checking"}(i=e.CheckingState||(e.CheckingState={})),function(t){let n,r,o,a;function s(t){return e.State.Type.REGISTERED===t.type}!function(e){e.REGISTERED="REGISTERED",e.BEING_APPLIED="BEING_APPLIED",e.APPLIED="APPLIED",e.REMOVED="REMOVED"}(n=t.Type||(t.Type={})),t.isIdle=function(t){return t.type===e.State.Type.REGISTERED&&t.checkingState===i.IDLE},function(e){e.create=e=>({type:n.REGISTERED,checkingState:e})}(r=t.Registered||(t.Registered={})),function(e){let t;e.create=(e,t,r,o)=>({type:n.APPLIED,from:o,undoable:e,source:t,method:r}),e.fromBeingApplied=(e,t)=>Object.assign(Object.assign({},e),{type:n.APPLIED,undoable:t}),e.createBeingApplied=(e,t,r)=>({type:n.BEING_APPLIED,from:r,source:e,method:t}),function(e){e.ByCard="ByCard",e.Bulk="Bulk"}(t=e.Method||(e.Method={}))}(o=t.Applied||(t.Applied={})),function(e){let t;!function(e){e.textChange="textChange",e.capiDone="capiDone",e.capiDismiss="capiDismiss",e.duplicated="duplicated",e.canceled="canceled",e.bulkAcceptUserResponse="bulkAcceptUserResponse"}(t=e.Reason||(e.Reason={})),e.create=e=>({type:n.REMOVED,reason:e})}(a=t.Removed||(t.Removed={})),t.init=r.create(i.IDLE),t.isBulkApplied=function(t){return e.State.Type.APPLIED===t.type&&t.method===e.State.Applied.Method.Bulk},t.isRegistered=s,t.isRemoved=function(t){return e.State.Type.REMOVED===t.type},t.isBeingApplied=function(t){return e.State.Type.BEING_APPLIED===t.type},t.getCheckingState=function(e){return s(e)?e.checkingState:i.IDLE}}(a=e.State||(e.State={})),function(e){e.Muted="Muted",e.Unmuted="Unmuted"}(u=e.MuteStateType||(e.MuteStateType={})),function(t){t.fromMutedByType=t=>t===h.JW.MutedByType.MUTED_BY_USER?e.MuteStateType.Muted:e.MuteStateType.Unmuted}(u=e.MuteStateType||(e.MuteStateType={})),e.hasNestedHighlights=function(e){const t=e.getHighlightRanges();if(t.length<2)return!1;if(t.some(L.x.isEnclosingView))return!0;const{left:n,right:r}=o.uK(L.x.isMainView)(t);return 0!==n.length&&r.some((e=>n.some((t=>v.SV.contains(t,e)))))},e.hasEnclosingHighlight=function(e){return e.getHighlightRanges().some(L.x.isEnclosingView)},e.isApplied=function(t){return t.state.type===e.State.Type.APPLIED},e.isBeingApplied=function(t){return t.state.type===e.State.Type.BEING_APPLIED},e.isBeingAppliedinBulk=function(t){return t.state.type===e.State.Type.BEING_APPLIED&&t.state.method===e.State.Applied.Method.Bulk},e.isInteractable=function(e){return f(e)||p(e)},e.isBulkApplied=p,e.isAccepted=function(t){return e.isApplied(t)&&t.state.undoable.action===h.PZ.ACCEPTED},e.isRegistered=f,e.isNotRegistered=function(t){return t.state.type!==e.State.Type.REGISTERED},e.isRemoved=_,e.isRemovedByTextChange=function(t){return _(t)&&t.state.reason===e.State.Removed.Reason.textChange},e.isNotRemoved=function(t){return t.state.type!==e.State.Type.REMOVED},e.isCapiDone=function(t){return _(t)&&t.state.reason===e.State.Removed.Reason.capiDone},e.isDuplicated=function(e){return k(e)},e.isInDuplicatedState=k,e.isCritical=function(e){return e.lensType===Q.R.Type.Critical||e.lensType===Q.R.Type.Correctness},e.isCriticalImpact=function(e){return e._raw.impact===h.wQ.Impact.Critical},e.isHidden=function(e){return e._raw.hidden},e.getRawId=function(e){return e.rawId},e.isPlagiarism=function(e){return e.lensId===Q.R.SpecialId.Plagiarism},e.isVox=function(e){return O(e)&&b.isSome(e.extraProperties.vox)},e.isTakeaway=function(t){return t.alertType===e.Type.Takeaway},e.isShortenIt=T,e.isToneAI=function(t){return t.alertType===e.Type.ToneAI},e.isEthicalAI=function(t){return t.alertType===e.Type.EthicalAI},e.isCitationDetection=function(e){return b.isSome(e.extraProperties.citationDetection)},e.isOneGap=A,e.isRated=function(e){return s.gt(N.T.ord)(e.progress,N.T.MIN)},e.isPremium=function(e){return C(e)},e.isFreePremium=function(e){return(0,d.pipe)(e.extraProperties.freePremium,E.contains("unlocked"))},e.isPriority=function(e){return e.view===h.wQ.View.priority},e.isInPremiumLens=C,e.isApplicableAlert=O,e.isRegisteredApplicableAlert=function(e){return f(e)&&O(e)},e.isSuperAlert=function(t){return t.alertType===e.Type.Super},e.isSuggestedSnippet=function(t){return t.alertType===e.Type.SuggestedSnippet},e.isKnowledgeHubSuggestedTerm=function(t){return t.alertType===e.Type.KnowledgeHubSuggestedTerm},e.isCacheable=function(t){return e.isRegistered(t)&&!e.isPlagiarism(t)&&!e.isRated(t)&&!e.isSuperAlert(t)},e.belongsToAllAlerts=function(e){return e.belongsToAllAlerts},e.belongsToPriorityLens=function(t){return e.belongsToAllAlerts(t)&&e.isPriority(t)},e.belongsToPredictionTakeaways=function(t){return e.belongsToAllAlerts(t)&&(0,d.pipe)(b.fromNullable(t.prediction),b.flatten,b.exists((e=>"takeaways"===e)))},e.belongsToPredictionEmogenie=function(t){return e.belongsToAllAlerts(t)&&(0,d.pipe)(b.fromNullable(t.prediction),b.flatten,b.exists((e=>"emogenie"===e)))},e.belongsToAnySpecialCategory=function(e){return h.wQ.belongsToAnySpecialCategory(e._raw)},e.belongsToSpecialCategory=function(e){return h.wQ.belongsToSpecialCategory(e._raw)},e.getCheckingState=function(t){return e.State.getCheckingState(t.state)},e.inUse=function(e){return e.references>0},e.isMuted=function(t){return!e.isPlagiarism(t)&&t.mute===e.MuteStateType.Muted},e.isBulkAcceptable=function(t){return e.isRegistered(t)&&t.extraProperties.bulkAcceptable&&t.alertType===e.Type.Default},e.isInline=function(e){return e.inline===h.wQ.Inline.inline},e.hasDrilldownTree=function(e){return O(e)&&b.isSome(e.extraProperties.drilldownTree)},e.shouldBeRemoved=function(t){return!e.inUse(t)&&e.isNotRegistered(t)},function(e){e.snapshot=e=>({cardType:e.cardType,alternatives:e.alternatives.map((e=>({type:e.type,lengthAffected:e.lengthAffected,delta:m.s.anonymizeTextAndStringAttrs(e.delta)})))})}(c=e.Alternatives||(e.Alternatives={}));let P=1;function R(e){return Math.trunc(Math.random()*e)}let D=0;e.generate=function(e,t,n,r,o){D+=30;const i=n&&"number"==typeof n.start?n.start:D,a=n&&"number"==typeof n.end?n.end:i+1,s=r?r.start:i,u=r?r.end:a,c=function(e,t){const n=h.wQ.Id.create("alert#"+String(P++)),r=t&&t.cardLayout||h.JG.mock,o=e===Q.R.SpecialId.Plagiarism?{outcome:"Originality"}:Q.R.isMainOutcomeId(e)?{outcome:Q.R.OutcomeId.toRawOutcome(e)}:{},i=!!Q.R.isPremiumId(e)||t&&t.hidden;return Object.assign(Object.assign(Object.assign({},h.wQ.mock),{id:n,cardLayout:Object.assign(Object.assign({},r),o),hidden:i}),t)}(e,t),l={begin:s,end:u,highlightBegin:i,highlightEnd:a,transformJson:o?(0,d.pipe)(o,b.toUndefined):h.lB.create({highlights:[{s:i,e:a}],alternatives:b.none})};return Object.assign(c,l),c},e.generateWithSubAlerts=function(e,t){const n=e?h.lB.create({highlights:e.map((e=>({s:e.start,e:e.end}))),alternatives:(0,d.pipe)(I.nI(e),b.map(I.UI((e=>({s:e.start,e:e.end})))),b.map((e=>g.r3.Group.fromSubalerts(e,[y.e.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 1_1",attributes:{type:y.e.Edit.Type.MAIN}}]}),y.e.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 2_1",attributes:{type:y.e.Edit.Type.MAIN}}]})]))))}):h.wQ.mockWithSubalerts.subalerts,r=e?e.map(((e,t)=>"Highlight_"+t)):h.wQ.mockWithSubalerts.highlightText;return Object.assign(Object.assign(Object.assign({},h.wQ.mockWithSubalerts),{labels:h.wQ.mockWithSubalerts.labels,highlightText:r,subalerts:n}),t)};let M=1;e.generatePlagiarism=function(e,t,n){const r=n&&n.start||R(D+=1),o=Object.assign(Object.assign({},h.wQ.mockPlagiarism),t),i=n&&n.end||r+1+R(20),a={id:h.wQ.Id.create("plagiarismAlert#"+String(M++)),begin:r,end:i,highlightBegin:r,highlightEnd:i,highlightText:[e],transformJson:h.lB.create({highlights:[{s:r,e:i}],alternatives:b.none})};return Object.assign(o,a),o},e.isPlagiarismSourceEqual=function(e,t){return e.title===t.title&&function(e,t){return e.source===t.source&&("web"===e.source&&(0,d.pipe)(E.map2(((e,t)=>e===t))(e.url,t.url),b.exists(l.yR))||"publication"===e.source&&(0,d.pipe)(E.map2(((e,t)=>e===t))(e.authors,t.authors),b.exists(l.yR)))}(e.plagiarismType,t.plagiarismType)},e.create=function(e,t,n,r){let o;return o=h.wQ.isHidden(e)?new ne(e,t,n,r):h.wQ.isPlagiarism(e)?new re(e,t,n,r):h.wQ.isOneGap(e)?new ue(e,t,n,r):!h.wQ.withSubalerts(e)||h.wQ.isEthicalAI(e)||h.wQ.isCitationDetection(e)?h.wQ.isTakeaway(e)?new ce(e,t,n,r):h.wQ.hasDrilldownTree(e)?new ae(e,t,n,r):h.wQ.isShortenIt(e)?new le(e,t,n,r):h.wQ.isToneAI(e)?new de(e,t,n,r):h.wQ.isEthicalAI(e)?new pe(e,t,n,r):h.wQ.isSuggestedSnippet(e)?new he(e,t,n,r):h.wQ.isKnowledgeHubSuggestedTerm(e)?new fe(e,t,n,r):new ie(e,t,n,r):new se(e,t,n,r),o},e.CRITICAL_GROUPS=new Set(["Spelling","Grammar","Punctuation","Fluency","Conventions"]),e.isCriticalGroup=function(t){return e.CRITICAL_GROUPS.has(t)},e.highlightsCollapsed=function(e){return e.getHighlightRanges().every(v.SV.isEmpty)},e.isDuplicateCandidate=function(t,n=!1){return(n||t.isValid)&&!t.allowDuplicates&&e.isRegistered(t)},e.isDuplicatedBy=function(e,t){if(!t.hasMatchingHighlightsWith(e,v.SV.ord.equals))return!1;const n=e.toRawAlert(),r=t.toRawAlert();return n.group===r.group&&"Spelling"===n.group||n.category===r.category&&n.point===r.point},e.isNotDisposed=function(e){return!e.disposed}}(ge||(ge={}));const me=h.wQ.matchBy((e=>v.SV.create(e.begin,e.end,{btype:L.x.Meta.Behavior.REPLACE})),(()=>v.SV.empty),(()=>v.SV.empty));function ye(e,t){return t.highlights.map((t=>v.SV.create(t.s,t.e,{vtype:"focus"===t.type?L.x.Meta.View.FOCUS:"enclosing"===t.type?L.x.Meta.View.ENCLOSING:"main_start"===t.type?L.x.Meta.View.MAIN_START:L.x.Meta.View.MAIN,btype:e})))}function ve(e){const t=!0===e.updatable?L.x.Meta.Behavior.HIGHLIGHT_UPDATABLE:L.x.Meta.Behavior.HIGHLIGHT;return h.wQ.match(e,(e=>[v.SV.create(e.highlightBegin,e.highlightEnd,{vtype:L.x.Meta.View.MAIN,btype:t})]),(e=>ye(t,e.transformJson)),(e=>ye(t,e.subalerts)))}const be=b.map((e=>(0,d.pipe)(e.context,I.UI((e=>v.SV.create(e.s,e.e,{btype:L.x.Meta.Behavior.CONTEXT}))))));function _e(e){return h.wQ.match(e,(()=>b.none),(e=>be(e.transformJson.alternatives)),(e=>be(e.subalerts.alternatives)))}const we=h.wQ.matchBy((e=>w.left(me(e))),(e=>w.right(e.transformJson.alternatives)),(e=>w.right(e.subalerts.alternatives)));var Se;!function(e){e.create=function(e,t){return(0,S.kG)(e.id===t.id,"can not create UpdatedAlertWithOldAlert from alerts with different ids",(()=>JSON.stringify({olda:R.h.show.show(e),newa:R.h.show.show(t)}))),(0,S.kG)(e.version<t.version,"old alert should have different revision than new alert",(()=>JSON.stringify({olda:R.h.show.show(e),newa:R.h.show.show(t)}))),(0,S.kG)(ge.isNotDisposed(t.alert),"new alert can not be disposed",(()=>JSON.stringify({olda:e.alert.toString(),newa:t.alert.toString()}))),[e,t]},e.show=(0,u.p_)(R.h.show,R.h.show)}(Se||(Se={}));const Ie=(0,_.HP)(P.C8.Logging.getLogger)},14532:(e,t,n)=>{n.d(t,{J:()=>r});var r,o=n(40327),i=n(5114),a=n(8125),s=n(18208),u=n(80153);!function(e){let t;!function(e){e[e.red=0]="red",e[e.green=1]="green",e[e.yellow=2]="yellow",e[e.grey=3]="grey"}(t=e.Color||(e.Color={}));const n=/<span.*?<\/span><br\/>/g,r=/^<span.*?class="(.+?)".*?>/,c=/^<span.*?>(.+?): /,l=/^<span.*?>(?:.+?: )?(.+?)<\/span><br\/>/;e.parse=(e,d=!1)=>(0,o.pipe)(i.fromNullable(e),i.map((e=>e.replace(/^<p>/,"").split("<p>").map((e=>{const o=e.match(n);return o&&(0,a.Dw)(o)?o.map((e=>{var n;const o=function(e){switch(e){case"red":return t.red;case"green":return t.green;case"yellow":return t.yellow;default:return t.grey}}(s.getFirstWord(null!==(n=s.getFirstMatch(e,r))&&void 0!==n?n:"")),a=i.fromNullable(s.getFirstMatch(e,c)),u=s.getFirstMatch(e,l);return Boolean(u)?{color:o,title:a,text:u,hasItalic:d}:null})).filter(Boolean):[]})).filter(a.Dw))),i.chain(u.G.array)),e.colorMatch=function(e){return n=>{switch(e){case t.red:return n.red;case t.green:return n.green;case t.yellow:return n.yellow;default:return n.fallback}}}}(r||(r={}))},66896:(e,t,n)=>{n.d(t,{R:()=>r});var r,o=n(73975),i=n(45701),a=n(12444),s=n(57050),u=n(95195),c=n(22232),l=n(48837),d=n(55415),p=n(49435),h=n(36156),f=n(51653);!function(e){let t,n,r,g,m,y,v,b,_;function w(t){return t===e.SpecialId.Priority}function S(t){return t===e.SpecialId.PredictionTakeaways}function I(t){return t===e.SpecialId.PredictionEmogenie}function x(t){return e.isOutcomeId(t)||e.isPremiumId(t)||e.isPlagiarismId(t)||e.isAllAlerts(t)||e.isPriority(t)||e.isPredictionTakeaways(t)||e.isPredictionEmogenie(t)||e.isRealtimeProofitId(t)||e.isFreePremiumId(t)}function E(e){return e===r.Correctness||e===r.Clarity||e===r.Engagement||e===r.Delivery||e===r.Vox||e===r.KnowledgeHub}function k(e){return e===r.CorrectnessPriority||e===r.ClarityPriority||e===r.EngagementPriority||e===r.DeliveryPriority||e===r.VoxPriority||e===r.KnowledgeHubPriority}function T(t){return e.SpecialId.AllAlerts===t}!function(e){e.empty=s.W8}(t=e.Filter||(e.Filter={})),function(e){function t(e){return t=>{const n=t;return new O(n.info,e(n.meta),t.filter)}}e.modifyMeta=t,e.setMeta=function(e){return n=>t((()=>e))(n)}}(n=e.WithAlerts||(e.WithAlerts={})),function(e){e.Plagiarism="Originality",e.DraftAI="Draft AI",e.Cheetah="Cheetah",e.Premium="Hidden",e.Closed="Closed",e.AllAlerts="All alerts",e.Priority="Priority",e.PredictionEmogenie="PredictionEmogenie",e.PredictionTakeaways="PredictionTakeaways",e.RealTimeProofit="RealTimeProofit",e.Clarity="ClarityOutcome",e.Correctness="CorrectnessOutcome",e.Engagement="EngagementOutcome",e.Delivery="DeliveryOutcome",e.Vox="Style guide",e.ClarityPriority="ClarityOutcomePriority",e.CorrectnessPriority="CorrectnessOutcomePriority",e.EngagementPriority="EngagementOutcomePriority",e.DeliveryPriority="DeliveryOutcomePriority",e.VoxPriority="Style guide Priority",e.FreePremiumAlerts="FreePremiumAlerts",e.KnowledgeHub="KnowledgeHub",e.KnowledgeHubPriority="KnowledgeHubPriority"}(r=e.SpecialId||(e.SpecialId={})),e.isClosedId=function(e){return e===r.Closed},e.isPremiumId=function(t){return t===e.SpecialId.Premium},e.isPriority=w,e.isPredictionTakeaways=S,e.isPredictionEmogenie=I,e.isPrediction=function(e){return S(e)||I(e)},e.isWithAlertsId=x,e.isWithSuccessId=function(t){return e.isAllAlerts(t)||e.isPriority(t)||e.isPrediction(t)||e.isOutcomeId(t)||e.isRealtimeProofitId(t)||e.isFreePremiumId(t)},function(t){t.toOutcomeId=function(t){switch(t){case"Correctness":return u.right(e.SpecialId.Correctness);case"Clarity":return u.right(e.SpecialId.Clarity);case"Engagement":return u.right(e.SpecialId.Engagement);case"Tone":return u.right(e.SpecialId.Delivery);case"Style guide":return u.right(e.SpecialId.Vox);case"Knowledge Hub":return u.right(e.SpecialId.KnowledgeHub);default:return u.left("Unknown outcome id")}},t.fromOutcomeId=function(t){switch(t){case e.SpecialId.Correctness:case e.SpecialId.Clarity:case e.SpecialId.Engagement:case e.SpecialId.Delivery:return t.slice(0,-"Outcome".length);case e.SpecialId.CorrectnessPriority:case e.SpecialId.ClarityPriority:case e.SpecialId.EngagementPriority:case e.SpecialId.DeliveryPriority:return t.slice(0,-"OutcomePriority".length);case e.SpecialId.VoxPriority:case e.SpecialId.KnowledgeHubPriority:return t.slice(0,-" Priority".length);default:return t}},t.toRawOutcome=function(t){switch(t){case e.SpecialId.Correctness:case e.SpecialId.Clarity:case e.SpecialId.Engagement:return t.slice(0,-"Outcome".length);case e.SpecialId.Delivery:return"Tone";case e.SpecialId.Vox:return"Style guide";case e.SpecialId.KnowledgeHub:return"Knowledge Hub";default:return(0,c.vE)(t)}},t.toPriorityOutcomeId=function(t){switch(t){case e.SpecialId.Correctness:return e.SpecialId.CorrectnessPriority;case e.SpecialId.Clarity:return e.SpecialId.ClarityPriority;case e.SpecialId.Engagement:return e.SpecialId.EngagementPriority;case e.SpecialId.Delivery:return e.SpecialId.DeliveryPriority;case e.SpecialId.Vox:return e.SpecialId.VoxPriority;case e.SpecialId.KnowledgeHub:return e.SpecialId.KnowledgeHubPriority;default:return(0,c.vE)(t)}},t.fromPriorityOutcomeId=function(t){switch(t){case e.SpecialId.CorrectnessPriority:return e.SpecialId.Correctness;case e.SpecialId.ClarityPriority:return e.SpecialId.Clarity;case e.SpecialId.EngagementPriority:return e.SpecialId.Engagement;case e.SpecialId.DeliveryPriority:return e.SpecialId.Delivery;case e.SpecialId.VoxPriority:return e.SpecialId.Vox;case e.SpecialId.KnowledgeHubPriority:return e.SpecialId.KnowledgeHub;default:return(0,c.vE)(t)}}}(g=e.OutcomeId||(e.OutcomeId={})),function(t){t.toCapiId=function(t){return t===e.SpecialId.Plagiarism?u.right(e.SpecialId.Plagiarism):e.OutcomeId.toOutcomeId(t)}}(m=e.CapiId||(e.CapiId={})),function(e){e.ord=i.ordString}(y=e.Id||(e.Id={})),e.isPlagiarismId=function(e){return e===r.Plagiarism},e.isDraftAIId=function(e){return e===r.DraftAI},e.isCheetah=function(e){return e===r.Cheetah},e.isOutcomeId=function(e){return E(e)||k(e)},e.isMainOutcomeId=E,e.isPriorityOutcomeId=k,e.isRealtimeProofitId=function(e){return e===r.RealTimeProofit},e.isAllAlerts=T,e.isFreePremiumId=function(t){return e.SpecialId.FreePremiumAlerts===t},e.isMainLens=function(e){return T(e)||w(e)},e.isCorrectness=function(t){return t===e.SpecialId.Correctness||t===e.SpecialId.CorrectnessPriority},e.isClarity=function(t){return t===e.SpecialId.Clarity||t===e.SpecialId.ClarityPriority},e.isDelivery=function(t){return t===e.SpecialId.Delivery||t===e.SpecialId.DeliveryPriority},e.isEngagement=function(t){return t===e.SpecialId.Engagement||t===e.SpecialId.EngagementPriority},e.isVox=function(t){return t===e.SpecialId.Vox||t===e.SpecialId.VoxPriority},e.isKnowledgeHub=function(t){return t===e.SpecialId.KnowledgeHub||t===e.SpecialId.KnowledgeHubPriority},function(e){e.Critical="critical",e.Advanced="advanced",e.Plagiarism="plagiarism",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.Vox="vox",e.KnowledgeHub="knowledgeHub",e.Other="other"}(v=e.Type||(e.Type={})),function(t){t.fromRawAlert=function(e){switch(e.cardLayout.outcome){case"Correctness":return t.Correctness;case"Clarity":return t.Clarity;case"Engagement":return t.Engagement;case"Tone":return t.Delivery;case"Style guide":return t.Vox;case"Originality":return t.Plagiarism;case"Knowledge Hub":return t.KnowledgeHub;default:return t.Other}},t.fromOutcomeId=function(t){switch(t){case e.SpecialId.Correctness:return e.Type.Correctness;case e.SpecialId.Clarity:return e.Type.Clarity;case e.SpecialId.Engagement:return e.Type.Engagement;case e.SpecialId.Delivery:return e.Type.Delivery;case e.SpecialId.CorrectnessPriority:return e.Type.Correctness;case e.SpecialId.ClarityPriority:return e.Type.Clarity;case e.SpecialId.EngagementPriority:return e.Type.Engagement;case e.SpecialId.DeliveryPriority:return e.Type.Delivery;case e.SpecialId.VoxPriority:return e.Type.Vox;case e.SpecialId.KnowledgeHubPriority:return e.Type.KnowledgeHub;default:return e.Type.Other}}}(v=e.Type||(e.Type={})),function(e){e.Accuracy="Accuracy",e.Clarity="Clarity",e.Effectiveness="Effectiveness",e.Originality="Originality",e.Hidden="Hidden"}(b=e.Category||(e.Category={})),function(e){e.group=l.getStructGroup({count:l.groupSum,mutedCount:l.groupSum,unreadCount:l.groupSum,priorityCount:l.groupSum,percentile:p.T.groupSum}),e.eq=o.MW({count:o.lr,unreadCount:o.lr,percentile:p.T.ord}),e.fromAlertCounters=e=>{const t=f.R.toUnmutedOnly(e);return{count:t.cost,priorityCount:e.priority,mutedCount:e.muted,unreadCount:t.unread,percentile:p.T.MIN}},e.fromPercentile=e=>({count:0,mutedCount:0,unreadCount:0,priorityCount:0,percentile:e}),e.ratioToPercentile=e=>t=>Object.assign(Object.assign({},t),{percentile:e}),e.isEmpty=e=>0===e.count&&0===e.mutedCount}(_=e.Meta||(e.Meta={})),e.outcomeTypeMatch=function(t){return n=>{switch(n){case e.Type.Correctness:return t.correctness;case e.Type.Clarity:return t.clarity;case e.Type.Engagement:return t.engagement;case e.Type.Delivery:return t.delivery;case e.Type.Vox:return t.vox;case e.Type.KnowledgeHub:return t.knowledgeHub;case e.Type.Advanced:return t.premium;case e.Type.Critical:case e.Type.Plagiarism:case e.Type.Other:throw new c.ej(`Don't use this function for ${n} type`);default:return(0,c.vE)(n)}}},e.outcomeFullTypeMatch=function(t){return n=>{switch(t){case e.Type.Correctness:return n.correctness;case e.Type.Clarity:return n.clarity;case e.Type.Engagement:return n.engagement;case e.Type.Delivery:return n.delivery;case e.Type.Plagiarism:return n.plagiarism;case e.Type.Vox:return n.vox;case e.Type.KnowledgeHub:return n.knowledgeHub;case e.Type.Advanced:return n.premium;case e.Type.Critical:case e.Type.Other:throw new c.ej(`Don't use this function for ${t} type`);default:return(0,c.vE)(t)}}};const A={vox:0,critical:10,correctness:10,advanced:20,clarity:20,engagement:30,delivery:40,plagiarism:50,knowledgeHub:60,other:70};e.getSortOrder=e=>A[e],e.ord=i.fromCompare(((e,t)=>(0,a.Xx)(A[e.type]-A[t.type]||t.priority-e.priority)));class C{constructor(e,t,n){this.info=e,this.meta=t,this.filter=n}get title(){return this.info.title}get type(){return this.info.type}get category(){return this.info.category}get description(){return this.info.description}get priority(){return this.info.priority}get count(){return this.meta.count}get mutedCount(){return this.meta.mutedCount}get unreadCount(){return this.meta.unreadCount}get priorityCount(){return this.meta.priorityCount}get percentile(){return this.meta.percentile}get id(){return this.info.id}get exclusiveHighlights(){return this.info.exclusiveHighlights}appendMeta(e){return new C(this.info,_.group.concat(this.meta,e),this.filter)}updateMeta(e){return new C(this.info,e(this.meta),this.filter)}equals(e){return this.id===e.id&&this.count===e.count&&this.unreadCount===e.unreadCount&&this.percentile===e.percentile&&this.priority===e.priority}hashCode(){let e=7;return e=31*e+(0,h.AC)(this.id),e=31*e+this.count,e=31*e+this.unreadCount,e=31*e+p.T.prism.reverseGet(this.percentile),e=31*e+this.priority,e}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{id:this.id,type:this.type,count:this.count,percentile:this.percentile,unreadCount:this.unreadCount,priority:this.priority}}}e.StaticLensImpl=C;class O extends C{get id(){return this.info.id}constructor(e,t,n){super(e,t,n),(0,c.kG)(x(e.id),"can not create WithAlerts lens for static lens id",e.id)}appendMeta(e){return new O(this.info,_.group.concat(this.meta,e),this.filter)}updateMeta(e){return new O(this.info,e(this.meta),this.filter)}}let P;e.LensImpl=O,function(t){function n(e){return d.update(t.base,e)}t.base={id:e.SpecialId.Correctness,type:e.Type.Other,category:e.Category.Hidden,title:"Base Lens",description:"",priority:0,exclusiveHighlights:!1},t.create=n,t.createOutcome=function(t){return n({id:t,title:e.OutcomeId.fromOutcomeId(t),type:e.Type.fromOutcomeId(t),exclusiveHighlights:!0})},t.plagiarism=n({id:e.SpecialId.Plagiarism,type:e.Type.Plagiarism,category:e.Category.Originality,title:"Plagiarism",exclusiveHighlights:!0}),t.draftAI=n({id:e.SpecialId.DraftAI,type:e.Type.Critical,title:"Draft AI"}),t.cheetah=n({id:e.SpecialId.Cheetah,type:e.Type.Critical,title:"Grammarly Ideate"}),t.premium=n({id:e.SpecialId.Premium,type:e.Type.Advanced,title:"Premium"}),t.freePremium=n({id:e.SpecialId.FreePremiumAlerts,title:"Premium"}),t.allAlerts=n({id:e.SpecialId.AllAlerts,type:e.Type.Critical,title:"All suggestions"}),t.priority=n({id:e.SpecialId.Priority,type:e.Type.Critical,title:"Priority"}),t.predictionTakeaways=n({id:e.SpecialId.PredictionTakeaways,type:e.Type.Critical,title:"Reader's attention"}),t.predictionEmogenie=n({id:e.SpecialId.PredictionEmogenie,type:e.Type.Critical,title:"How it sounds"}),t.realTimeProofit=n({id:e.SpecialId.RealTimeProofit,type:e.Type.Critical,title:"Proofreading"})}(P=e.Info||(e.Info={})),e.createStaticLens=function(e,t,n){const r=d.update(P.base,e);return new C(r,t,n)}}(r||(r={}))},96021:(e,t,n)=>{n.d(t,{I:()=>r});var r,o=n(59312),i=n(63513),a=n(55415);!function(e){let t;e.isKnown=e=>"id"in e,e.splitById=t=>{if(e.isKnown(t)){const{id:e}=t;return{id:e,local:(0,o.__rest)(t,["id"])}}return{local:t}},e.toLocal=t=>{if(e.isKnown(t)){const{id:e}=t;return(0,o.__rest)(t,["id"])}return t},function(e){e.identity=e=>e,e.forcePositionOverTransformJson=e=>(e=>void 0!==e.extra_properties&&void 0!==e.extra_properties.progress)(e)?e:i.wQ.withTransformJson(e)&&i.wQ.hasPosition(e)&&!i.wQ.withSubalerts(e)?a.update(e,{transformJson:void 0}):e}(t=e.Transform||(e.Transform={})),e.isHighlightValid=function(e,t){return i.wQ.match(e,(e=>t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]),(e=>!!i.wQ.hasPosition(e)&&t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]),(()=>!1))}}(r||(r={}))},70996:(e,t,n)=>{n.d(t,{h:()=>r});var r,o=n(32426),i=n(22690),a=n(87969),s=n(45701);!function(e){let t;!function(e){e.ord=s.ordString,e.show=i._3}(t=e.Id||(e.Id={})),e.ordId=s.contramap((e=>e.id))(s.ordString),e.ordHRange=s.contramap((e=>e.alert.getHighlightRanges()[0]))(a.SV.ord),e.ordVersion=s.contramap((e=>e.version))(s.ordNumber),e.ord=(0,o.fold)(s.getSemigroup())(e.ordHRange,[e.ordId,e.ordVersion]),e.show={show:e=>`Alert #(${e.id}, version:${e.version}, state:${e.state.type}, mute:${e.mute})`},e.ordShow=Object.assign(Object.assign({},e.ord),e.show),e.create=function(e){return{alert:e,id:e.id,state:e.state,counters:e.counters,version:e.version,mute:e.mute}},e.isRegistered=e=>"REGISTERED"===e.state.type}(r||(r={}))},36156:(e,t,n)=>{n.d(t,{AC:()=>r,NO:()=>o});function r(e){let t=0;if(null==e||0===e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}const o=e=>r(Object.keys(e).sort().map((t=>t+":"+JSON.stringify(e[t]))).join(""))},17594:(e,t,n)=>{n.d(t,{$:()=>r});var r,o=n(57050),i=n(8125),a=n(83078),s=n(73975),u=n(5114),c=n(55415),l=n(95195),d=n(22232),p=n(74660);!function(e){let t;function n(e){return e.type===t.default}function r(e){return e.type===t.super}function h(e){return e.type===t.takeaway}function f(e){return e.type===t.shortenIt}function g(e){return e.type===t.toneAI}function m(e){return e.type===t.ethicalAI}!function(e){e.default="default",e.super="super",e.plagiarism="plagiarism",e.premium="premium",e.takeaway="takeaway",e.synfony="synfony",e.shortenIt="shortenIt",e.toneAI="toneAI",e.ethicalAI="ethicalAI",e.suggestedSnippet="suggestedSnippet",e.knowledgeHubSuggestedTerm="knowledgeHubSuggestedTerm"}(t=e.Type||(e.Type={})),e.isApplicableAlert=function(e){return(0,i.Kg)(n,r,h,f,g,m)(e)},e.isDefault=n,e.isSuper=r,e.isPlagiarism=function(e){return e.type===t.plagiarism},e.isPremium=function(e){return e.type===t.premium},e.isFree=function(e){return e.isFree},e.isPriority=function(e){return"priority"===e.view},e.isTakeaway=h,e.isShortenIt=f,e.isToneAI=g,e.isEthicalAI=m,e.isSuggestedSnippet=function(e){return e.type===t.suggestedSnippet},e.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.patternName},e.isFullSentence=function(e){return n(e)&&p.eT.isFullSentence(e.extraProperties.cardType)},e.isSynfony=function(e){return n(e)&&p.eT.isSynfony(e.extraProperties.cardType)},e.isOneGap=function(e){return n(e)&&p.eT.isOneGap(e.extraProperties.cardType)},e.isInQuotes=function(e){return n(e)&&e.extraProperties.isInQuotes},e.isBulkApplied=function(e){return p.bZ.State.isBulkApplied(e.state)},e.isBeingApplied=function(e){return p.bZ.State.isBeingApplied(e.state)},e.isFreePremium=function(e){return(0,o.zG)(e.freePremium,a.contains("unlocked"))},e.eq=s.f7(((e,t)=>e.type===t.type&&p.h$.ordId.equals(e,t))),e.snapshot=t=>({id:t.id,type:t.type,state:t.state,title:t.title,view:t.view,lensId:t.lensId,allowUpdate:t.allowUpdate,belongsToAllAlerts:t.belongsToAllAlerts,alternatives:(0,o.zG)(t,u.fromPredicate(e.isApplicableAlert),u.chain((e=>e.getTransform())),u.chain((0,o.ls)(c.pick("content"),l.map(p.bZ.Alternatives.snapshot),u.fromEither)),u.toNullable)}),e.fromModel=function(n){const r={id:n.id,state:n.state,title:n.title,progress:n.progress,lensId:n.lensId,lensType:n.lensType,lensName:n.toLensAlert().lensName,alertType:n.alertType,lensPriority:n.lensPriority,getHighlightRanges:n.getHighlightRanges,hasNestedHighlights:n.hasNestedHighlights,highlightTexts:n.highlightTexts,allowUpdate:n.allowUpdate,miniCardTitle:n.miniCardTitle,todoAction:n.todoAction,patternName:n.patternName,patternNameQualifier:n.patternNameQualifier,belongsToAllAlerts:n.belongsToAllAlerts,hashCode:()=>n.hashCode(),equals:function(t){return e.eq.equals(this,t)},toJSON:function(){return e.snapshot(this)},toString:function(){return JSON.stringify(this)},isFree:n.isFree,view:n.view,bundleInfo:n.bundleInfo,prediction:n.prediction,dismissSurvey:n.dismissSurvey,acceptSurvey:n.acceptSurvey,gbPrompt:n.gbPrompt,freePremium:n.extraProperties.freePremium};if(p.bZ.isTakeaway(n)){const e=Object.assign(Object.assign({},r),{type:t.takeaway,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform,takeawayScore:n.takeawayScore,takeawayIsLikelyToBeRead:n.takeawayIsLikelyToBeRead,takeawayFeedback:n.takeawayFeedback});return(0,o.MZ)(e)}if(p.bZ.isSuperAlert(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{type:t.super,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform,labels:n.labels}));if(p.bZ.isShortenIt(n)){const e=Object.assign(Object.assign({},r),{type:t.shortenIt,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform,sentenceCount:n.sentenceCount,wordCount:n.wordCount,compressionRatio:n.compressionRatio,summaryState:n.summaryState,dismissedTransformGroups:new Set(n.dismissedTransformGroups),transformGroups:new Set(n.transformGroups)});return(0,o.MZ)(e)}if(p.bZ.isToneAI(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{type:t.toneAI,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform,toneAlternatives:n.toneAlternatives,selectedToneAlternativeIdx:n.selectedToneAlternativeIdx}));if(p.bZ.isEthicalAI(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{type:t.ethicalAI,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform,externalLink:n.externalLink,emojiID:n.emojiID,bannerColors:n.bannerColors,isFlaggable:n.isFlaggable,shouldDismissAfterOpeningLink:n.shouldDismissAfterOpeningLink,highlightBackgroundColor:n.highlightBackgroundColor,highlightUnderlineColor:n.highlightUnderlineColor}));if(p.bZ.isSuggestedSnippet(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{type:t.suggestedSnippet,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform,snippetText:n.snippetText,libLink:n.libLink,snippetsTrigger:n.snippetsTrigger}));if(p.bZ.isKnowledgeHubSuggestedTerm(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{type:t.knowledgeHubSuggestedTerm,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform,knowledgeHubTermCreationUrl:n.knowledgeHubTermCreationUrl}));if(p.bZ.isPlagiarism(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{type:t.plagiarism,cardId:n.cardId,plagiarismType:n.plagiarismType}));if(p.bZ.isApplicableAlert(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{type:t.default,examples:n.examples,explanation:n.explanation,details:n.details,extraProperties:n.extraProperties,getTransform:()=>n.transform}));if(p.bZ.isPremium(n))return(0,o.MZ)(Object.assign(Object.assign({},r),{categoryHuman:n.categoryHuman,type:t.premium}));throw new d.ej(`Not supported type of alert, must be either Alert, SuperAlert or PlagiarismAlert, was: ${n.constructor.name}(${n.lensType})`)}}(r||(r={}))},15646:(e,t,n)=>{n.d(t,{eI:()=>a,lY:()=>r});var r,o,i,a,s,u,c=n(8125),l=n(22232),d=n(17594),p=n(39210);!function(e){let t,n,r;function o(t){return t.type===e.Type.takeawayCorrectlyDetected||t.type===e.Type.takeawayIncorrectlyDetected}function i(t){return t.type===e.Type.bulkApply}function a(t){return t.type===e.Type.bulkDismiss}function s(t){return t.type===e.Type.bulkIgnore}function u(t){return t.type===e.Type.bulkHighlight}function l(t){return t.type===e.Type.bulkUndo}function h(t){return t.type===e.Type.bulkIndividualUndo}function f(t){return t.type===e.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptCreateRule="gbPromptCreateRule",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(n=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case d.$.Type.super:return n.superCard;case d.$.Type.default:default:return n.defaultCard}},e.isAlertApplyAction=function(t){return t.type===e.Type.alertApply},e.isAlertFeedbackAction=function(t){return t.type===e.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(t){return t.type===e.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(t){return t.type===e.Type.takeawayDismiss},e.isTakeawayResolveAction=function(t){return t.type===e.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=o,e.isTakeawayAction=function(t){return o(t)||t.type===e.Type.takeawayDismiss||t.type===e.Type.takeawayResolve},e.isToneAIChangeToneAlternativeAction=function(t){return t.type===e.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(t){return t.type===e.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(t){return t.type===e.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(t){return t.type===e.Type.alertIgnore},e.isAlertResolveAction=function(t){return t.type===e.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(t){return t.type===e.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(t){return t.type===e.Type.alertApplyFormSubmit},e.isGbPromptApply=function(t){return t.type===e.Type.gbPromptApply},e.isGbPromptCreateRule=function(t){return t.type===e.Type.gbPromptCreateRule},e.isGbPromptDismiss=function(t){return t.type===e.Type.gbPromptDismiss},e.isGbPromptShow=function(t){return t.type===e.Type.gbPromptShow},e.isMuteCategoryAction=function(t){return t.type===e.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(t){return t.type===e.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(t){return t.type===e.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(t){return t.type===e.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(t){return t.type===e.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(t){return t.type===e.Type.hover},e.isAlertCardShow=function(t){return t.type===e.Type.alertCardShow},e.isBulkAcceptItemShow=function(t){return t.type===e.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(t){return t.type===e.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(t){return t.type===e.Type.alertMinicardButtonClick},e.isMiniItemClick=function(t){return t.type===e.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===p.C.Type.collapseButtonClick},e.isOnboardingClose=function(t){return t.type===e.Type.onboardingClose},e.isNavigation=function(t){return t.type===e.Type.openSetGoals||t.type===e.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(t){return t.type===e.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(t){return t.type===e.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(t){return t.type===e.Type.changeUserInput},e.isFocusUserInput=function(t){return t.type===e.Type.focusUserInput},e.isBulkApply=i,e.isBulkDismiss=a,e.isBulkIgnore=s,e.isBulkHighlight=u,e.isBulkUndo=l,e.isBulkIndividualUndo=h,e.isBulkLooksGood=f,e.isBulkAction=(0,c.Kg)(i,a,s,u,h,f,l),e.isMutedAlertSuggestionsManagementClick=function(t){return t.type===e.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(t){return t.type===e.Type.sduiCardAction},function(e){e.hasAction=function(e,t){return e.actions.some((e=>e.type===t))}}(r=e.ProxySduiCardAction||(e.ProxySduiCardAction={})),e.isOpenIdeasGallery=function(t){return t.type===e.Type.openIdeasGallery}}(r||(r={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(o||(o={})),function(e){e.isReviewEdit=function(e){return e.type===r.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===r.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===r.Type.shortenItKeepEdit}}(i||(i={})),function(e){let t;function n(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=n,e.isCardExpand=function(e){return n(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(a||(a={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),function(e){let t;!function(e){e.setAcademicDomainAndCitationStyle="setAcademicDomainAndCitationStyle"}(t=e.Kind||(e.Kind={})),e.isSetAcademicDomainAndCitationStyleAction=function(e){return e.type===t.setAcademicDomainAndCitationStyle}}(u||(u={})),(0,l.L0)(void 0)},39210:(e,t,n)=>{var r;n.d(t,{C:()=>r}),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(r||(r={}))},69345:(e,t,n)=>{n.d(t,{Z:()=>r});var r,o=n(57050),i=n(73975),a=n(55415);!function(e){e.eq=i.MW({absTop:i.lr,height:i.lr,animationInProgress:i.vD,visible:i.vD,isHeightValid:i.vD,watched:i.vD,inert:i.vD}),e.verticalEq=i.MW({absTop:i.lr,height:i.lr}),e.empty={absTop:0,height:0,animationInProgress:!1,visible:!1,isHeightValid:!1,watched:!1,inert:!1},e.create=o.yR,e.dimensionEquals=function(e,t){return e.absTop===t.absTop&&e.height===t.height},e.changeTop=function(e,t){return a.update(e,{absTop:t})},e.changeHeight=function(e,t){return a.update(e,{height:t,isHeightValid:!0})},e.changeAnimationInProgress=function(e,t){return a.update(e,{animationInProgress:t})},e.changeVisible=function(e,t){return a.update(e,{visible:t})},e.invalidateHeight=function(e){return a.update(e,{isHeightValid:!1})},e.changeWatched=function(e,t){return a.update(e,{watched:t})},e.changeInert=function(e,t){return a.update(e,{inert:t})}}(r||(r={}))},40966:(e,t,n)=>{n.d(t,{t:()=>o});var r,o,i=n(73975),a=n(5114),s=n(22232),u=n(55415);!function(e){let t;e.eq=i.MW({type:i.yv,clockwise:i.vD}),t=e.nominal||(e.nominal={})}(r||(r={})),function(e){e.initial=(e,t=!0)=>({from:a.none,transitionId:0,transition:e,incomplete:t}),e.eq=i.MW({from:a.getEq(i.w4),transitionId:i.w4,transition:r.eq,incomplete:i.w4}),e.to=(e,t)=>({from:a.some(e.transition.type),transitionId:e.transitionId+1,transition:t,incomplete:!0}),e.complete=(e,t)=>((0,s.kG)(t===e.transitionId,"unexpected transitionId"),u.update(e,{incomplete:!1}))}(o||(o={}))},77610:(e,t,n)=>{n.d(t,{C:()=>r});var r,o=n(64015),i=n(22690),a=n(5114),s=n(73975),u=n(8125),c=n(22232),l=n(95195),d=n(74660),p=n(17594),h=n(36156),f=n(69345),g=n(40966);!function(e){let t,n;function r(e){return e.activeAlert.type===p.$.Type.super}function m(e){return p.$.isTakeaway(e.activeAlert)}function y(e){return e.activeAlert.alertType===d.bZ.Type.Synfony}function v(e){return p.$.isShortenIt(e.activeAlert)}function b(e){return p.$.isToneAI(e.activeAlert)}function _(e){return p.$.isEthicalAI(e.activeAlert)}function w(e){return p.$.isSuggestedSnippet(e.activeAlert)}function S(e){return p.$.isKnowledgeHubSuggestedTerm(e.activeAlert)}function I(e){return e.activeAlert.type===p.$.Type.default}e.isWithAlertsItem=function(e){return"alerts"in e&&"activeAlertIndex"in e&&"removedAlertsIds"in e},function(e){e.show=a.getShow(i._3)}(t=e.UserInput||(e.UserInput={})),e.hashCode=e=>(0,h.NO)({id:e.id,activeAlertId:e.activeAlert.id,metaHashCode:e.meta.hashCode(),alertsCount:e.alerts.length,removedAlertsIdsCount:e.removedAlertsIds.size,activeHighlightIndex:e.activeHighlightIndex,userInput:t.show.show(e.userInput),takeawayAlertsHashCode:e.alerts.reduce(((e,t)=>p.$.isTakeaway(t)?31*e+d.UC.calculateHashCode(t):e),0),shortenItAlertsHashCode:e.alerts.reduce(((e,t)=>p.$.isShortenIt(t)?31*e+d.Np.calculateHashCode(t):e),0),toneAIAlertsHashCode:e.alerts.reduce(((e,t)=>p.$.isToneAI(t)?31*e+d.QF.calculateHashCode(t):e),0)}),e.eq=s.f7(((e,t)=>e.hashCode()===t.hashCode()&&f.Z.eq.equals(e.positionState,t.positionState)&&g.t.eq.equals(e.visualState,t.visualState)&&e.meta.equals(t.meta)&&o.Eh(p.$.eq).equals(e.alerts,t.alerts)&&(0,u.As)(e.removedAlertsIds,t.removedAlertsIds))),e.hasAlert=e=>t=>void 0!==t.alerts.find((t=>t.id===e)),e.hasActiveAlert=e=>a.some({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex}),e.hasAnyOfAlerts=e=>t=>t.alerts.some((t=>e.has(t.id))),e.willBeDisposed=(e,t)=>e.alerts.every((e=>t.has(e.id))),e.activeAlertRemoved=e=>e.removedAlertsIds.has(e.activeAlert.id),e.getAlertByIndex=(e,t)=>{const n=t[e];return(0,c.kG)(Boolean(n),"Active alert index should point to an alert",(()=>JSON.stringify({alerts:t,alertIndex:e||"undefined"}))),n},e.getIndexByAlert=(e,t)=>{const n=t.findIndex((t=>t.id===e));return(0,c.kG)(-1!==n,"Alert must exist"),n},e.getActiveAlert=t=>e.getAlertByIndex(t.activeAlertIndex,t.alerts),e.isSuperItem=r,e.isTakeawayItem=m,e.isSynfonyItem=y,e.isShortenItItem=v,e.isToneAIItem=b,e.isEthicalAIItem=_,e.isSuggestedSnippetItem=w,e.isKnowledgeHubSuggestedTermItem=S,e.isIndependentBundleItem=function(e){return _(e)},e.isDefaultItem=I,e.match=function(e){return t=>{if(r(t))return l.right(e.super(t));if(m(t))return l.right(e.takeaway(t));if(y(t))return l.right(e.synfony(t));if(v(t))return l.right(e.shortenIt(t));if(b(t))return l.right(e.toneAI(t));if(_(t))return l.right(e.ethicalAI(t));if(w(t))return l.right(e.suggestedSnippet(t));if(S(t))return l.right(e.knowledgeHubSuggestedTerm(t));if(I(t))return l.right(e.default(t));const n={lensId:t.activeAlert.lensId,lensType:t.activeAlert.lensType};return l.left(new Error(`Cannot render unknown card type with alert: [${JSON.stringify(n,null,2)}]`))}},function(e){e.getPojoUpdates=()=>({setAlerts:(e,t)=>n=>Object.assign(Object.assign({},n),{groupedAlerts:t,alerts:e})})}(n=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},35416:(e,t,n)=>{n.d(t,{nL:()=>I});var r,o,i,a,s,u=n(35214),c=n(57050),l=n(40327),d=n(20817),p=n(5114),h=n(8125),f=n(22232),g=n(55415),m=n(66896),y=n(40151),v=n(87938),b=n(76974),_=n(36156);!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(r||(r={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.cheetah="cheetah",e.closed="closed"}(o||(o={})),function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(i||(i={})),function(e){function t(e){return(0,l.pipe)(e.cardIndex,p.chain((t=>e.items.getAt(t))))}e.getActiveItem=t,e.getActiveItemIndex=t=>(0,c.ls)(e.getActiveItem,p.chain((e=>t.get(e.id))),p.map((e=>e.index))),e.getActiveItemOfType=function(e){return(0,c.ls)(t,p.filter(e))}}(a||(a={})),function(e){e.withFilter=e=>t=>(n,r)=>t(n,(0,h.W9)(e,r)),e.compose=function(e){return(t,n)=>(0,u.fold)((0,u.getEndomorphismMonoid)())(e.map((e=>e(t,n))))}}(s||(s={}));var w,S;!function(e){e.hasItems=function(e){return e.kind===i.active||e.kind===i.persistent}}(w||(w={}));class I{constructor(e){this._data=e}static create(e){return new I(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new I(Object.assign(Object.assign({},this._data),e))}hashCode(){let e=7;return e=31*e+(0,_.AC)(this.alertSource),e=31*e+(0,_.AC)(this.switchOrder),e=31*e+this.currentLens.hashCode(),e}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}}!function(e){function t(e,t,n){return r=>{switch(r.currentLens.kind){case i.active:return e(r);case i.persistent:return t(r);case i.abstract:return n(r);default:return(0,f.vE)(r.currentLens)}}}let n,a,s,u;function h(e){return e.currentLens.kind===i.persistent}function _(e){return m.R.isOutcomeId(e.currentLens.id)||m.R.isMainLens(e.currentLens.id)||e.currentLens.id===m.R.SpecialId.PredictionTakeaways||e.currentLens.id===m.R.SpecialId.PredictionEmogenie}e.withCardLensSnapshot=(e,t)=>n=>{const r=n.currentLens.items.size>50,o=(0,l.pipe)(n.currentLens.cardIndex,p.getOrElse((()=>0))),[i,a]=r?[Math.max(o-25,0),o+25]:[0,50];return{alertSource:n.alertSource,switchOrder:n.switchOrder,lens:{id:n.currentLens.id,card:(0,l.pipe)(t(n.currentLens),p.map(e)),items:n.currentLens.items.values().slice(i,a).map(e),sample:r}}},e.snapshot=(n,r)=>t(e.withCardLensSnapshot(n,r),e.withCardLensSnapshot(n,r),(e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}}))),e.genericMapper=t,e.mapper=e=>t(e,e,(()=>p.none)),e.getActiveItem=t=>e.mapper((({currentLens:e})=>t(e))),e.getActiveAlertHighlight=t=>(0,c.ls)(e.getActiveItem(t),p.map((e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex})))),e.getActiveAlert=t=>(0,c.ls)(e.getActiveItem(t),p.map((e=>e.activeAlert))),e.getLens=e.mapper((({currentLens:e})=>p.some(e))),function(e){e.mapper=function(e,t){return n=>t[e(n)](n)}}(n=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===o.lensview},e.isPersistent=h,e.hasCards=function(e){return e.currentLens.kind===i.active||h(e)},e.hasItems=function(e){return e.currentLens.kind===i.active||e.currentLens.kind===i.persistent},e.hasSuccess=_,e.isWithPriorityList=function(e){return _(e)&&("withPriorityList"in(t=e.currentLens)&&t.withPriorityList);var t},e.isForceSidebar=t=>(e.isLensview(t)||t.currentLens.type===o.plagiarism)&&t.alertSource===r.forceSidebar,e.isSidebarOpened=t=>!e.is(m.R.SpecialId.Closed)(t),function(e){e.defaultFilter=g.pick("alertHighlight")}(a=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>d.Ri.create((e=>e.currentLens),((e,t)=>t.patch({currentLens:e}))),e.getLensWithItems=()=>d.Ri.create((e=>e.currentLens),((e,t)=>t.patch({currentLens:e})))}(s=e.Prism||(e.Prism={})),function(e){let t,n,r,o,i,a,s,u,l;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let n;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=y.E}(n=e.Source||(e.Source={}))}(n=e.Applicator||(e.Applicator={})),function(e){let n;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=y.E}(n=e.Source||(e.Source={}))}(r=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(o=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(i=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===m.R.SpecialId.Closed}e.isSidebarClosed=t,e.isSidebarOpen=(0,c.ff)(t),e.always=c.W8}(a=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const n=v.j((()=>b.of(void 0)),e),r=Object.assign(Object.assign({},t.what),{source:n(t.what.source)});return Object.assign(Object.assign({},t),{what:r})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(u=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:u.noFocus},e.unFocus={kind:u.unFocus},e.focusNext={kind:u.focusNext},e.focusFirst={kind:u.focusFirst},e.focusAlert=e=>({kind:u.focusAlert,alertHighlight:e})}(l=e.FocusBehavior||(e.FocusBehavior={}))}(u=e.Effect||(e.Effect={}))}(I||(I={})),function(e){e.defaultOptions={focusBehavior:I.Effect.FocusBehavior.focusFirst}}(S||(S={}));var x,E,k;!function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(x||(x={})),function(e){e.getDefault=()=>x.allAlerts}(E||(E={})),function(e){e.skip=c.jv,e.force=c.W8,e.proceed=e=>e.positionState.animationInProgress}(k||(k={}))},89943:(e,t,n)=>{n.r(t),n.d(t,{arraySubstract:()=>S,compareInPairs:()=>x,equals:()=>I,existsOnEdgesOnly:()=>R,findByPredicateList:()=>C,findFrom:()=>w,findIndexFrom:()=>g,findIndexFromMap:()=>m,findLastIndexFrom:()=>y,findNotLower:()=>h,flatMap:()=>E,generateSequence:()=>P,lookAround:()=>b,lookAroundMap:()=>_,lowerBound:()=>p,mapNTimes:()=>k,omit:()=>T,omitMutable:()=>A,partition:()=>u,pickRandom:()=>c,pickRandomElement:()=>l,shuffle:()=>d,sort:()=>f});var r=n(59312),o=n(45701),i=n(40327),a=n(68983),s=n(5114);function u(e,t){return e.reduce((function(e,n){return t(n)?e[0].push(n):e[1].push(n),e}),[[],[]])}function c(e,t,n){if(n>=e.length||t>=e.length)return e;for(var r=new Set,o=Math.floor(t+n>t?Math.random()*(n-t)+1:0);r.size<o;){var i=Math.floor(Math.random()*e.length);r.add(i)}return Array.from(r).map((function(t){return e[t]}))}function l(e){if(e.length<=0)return s.none;var t=Math.floor(e.length*Math.random());return s.some(e[t])}function d(e){for(var t,n=e.slice(0),r=n.length;r>0;){var o=Math.floor(Math.random()*r);r--,t=[n[o],n[r]],n[r]=t[0],n[o]=t[1]}return n}function p(e,t){for(var n=-1,r=e.length;n+1!==r;){var o=n+(r-n>>1);t(e[o])?n=o:r=o}var i=n+1;return i===e.length?s.none:s.some(i)}function h(e,t,n){return p(e,(0,a.W)((0,o.gt)(n))(t))}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.sort((function(e,n){return t.reduce((function(t,r){return 0!==t?t:r(e,n)}),0)}))}function g(e,t,n){if(t>=0)for(var r=t;r<e.length;++r)if(n(e[r]))return s.some({index:r,value:e[r]});return s.none}function m(e,t,n){if(t>=0)for(var r=t;r<e.length;++r){var o=n(e[r]);if(s.isSome(o))return s.some({index:r,value:o.value})}return s.none}function y(e,t,n){if(t<e.length)for(var r=t;r>=0;--r)if(n(e[r]))return s.some({index:r,value:e[r]});return s.none}function v(e,t,n,r){return(0,i.pipe)(g(e,t,r),s.alt((function(){return y(e,n,r)})))}function b(e,t,n){return v(e,t+1,t-1,n)}function _(e,t,n){return(0,i.pipe)(v(e,t+1,t-1,(function(e){return s.isSome(n(e))})),s.chain((function(e){return(0,i.pipe)(n(e.value),s.map((function(t){return(0,r.__assign)((0,r.__assign)({},e),{value:t})})))})))}function w(e,t,n){return v(e,t,t-1,n)}function S(e,t){for(var n,r=function(r){var o=t.findIndex((function(t){return e[r].equals(t)}));-1!==o&&(e.splice(r--,1),t.splice(o,1)),n=r},o=0;o<e.length;++o)r(o),o=n;return e}function I(e,t){return e.length===t.length&&e.every((function(e,n){return t[n].equals(e)}))}function x(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function E(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function k(e,t){return new Array(e).fill(!0).map((function(e,n){return t(n)}))}function T(e,t){var n=t.indexOf(e);return t.slice(0,n).concat(t.slice(n+1))}function A(e,t){var n=t.indexOf(e);t.splice(n,1)}var C=function(e){return function(t){return O(t,e,0)}};function O(e,t,n){return t.length<=n?s.none:(0,i.pipe)(s.fromNullable(e.find(t[n])),s.fold((function(){return O(e,t,n+1)}),s.some))}var P=function(e){return Array.from(Array(e).keys())},R=function(e){return function(t){for(var n=-1,r=0;r<t.length;r++){var o=t[r],i=t[r-1];if(Boolean(i)&&e(i)||!e(o)||(n=r),Boolean(i)&&e(i)&&!e(o)&&0!==n)return!1}return!0}}},68983:(e,t,n)=>{function r(e){return o(e,e.length-1,[])}function o(e,t,n){return function(r){var i=n.concat([r]);return 0===t?e.apply(this,i):o(e,t-1,i)}}n.d(t,{W:()=>r})},76024:(e,t,n)=>{n.r(t),n.d(t,{DAYS_IN_WEEK:()=>l,HOUR_IN_DAY:()=>c,Local:()=>v,MIN_IN_HOUR:()=>u,MS_IN_DAY:()=>h,MS_IN_HOUR:()=>p,MS_IN_MIN:()=>d,MS_IN_SEC:()=>a,MS_IN_WEEK:()=>f,SEC_IN_MIN:()=>s,UTC:()=>b,convertTimeToShortString:()=>_,formatTime:()=>y,secondsToTime:()=>g});var r=n(22232),o=n(18208),i=n(95195),a=1e3,s=60,u=60,c=24,l=7,d=s*a,p=u*d,h=c*p,f=l*h;function g(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return{h:t,m:n,s:e-3600*t-60*n}}function m(e){return(0,o.padStart)(String(e),2,"0")}function y(e,t){var n=void 0===t?{}:t,r=n.short,i=void 0!==r&&r,a=n.withSec,s=void 0!==a&&a,u=g(e),c=u.h,l=u.m,d=u.s,p=[];return c>0&&p.push("".concat(m(c)," ").concat(i?"h":(0,o.pluralize)(c,"hour","hours"))),(l>0||!s)&&p.push("".concat(m(l)," ").concat(i?"min":(0,o.pluralize)(l,"minute","minutes"))),s&&p.push("".concat(m(d)," ").concat(i?"sec":(0,o.pluralize)(d,"second","seconds"))),p.join(" ")}var v,b,_=function(e){return e.h?"".concat(e.h," hr ").concat(e.m," min"):e.m>0?"".concat(e.m," min ").concat(e.s," sec"):"".concat(e.s," sec")};!function(e){var t=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d*[Z]$/,n=/^(\d{4}-\d{2}-\d{2}).(\d{2}:\d{2}:\d{2}(?:.\d+)?)$/;function o(e){return e.getTime()}e.create=function(e){return(0,r.kG)(t.test(e),"provided string should have timezone",e),new Date(e)},e.copy=function(e){return new Date(e)},e.now=function(){return new Date},e.add=function(e,t){return new Date(e.getTime()+t.getTime())},e.subtract=function(e,t){return new Date(e.getTime()-t.getTime())},e.toSeconds=function(e){return Math.round(e.getTime()/1e3)},e.toTimestamp=o,e.shortTime=function(e){var t=e.getHours(),n=t>=12?"pm":"am",r="0".concat(t=t%12||12).slice(-2),o=e.getMinutes(),i="0".concat(o).slice(-2);return"".concat(r,":").concat(i," ").concat(n)},e.fullDate=function(e){var t=e.toLocaleString("en-us",{month:"long"});return"".concat(t," ").concat(e.getDate(),", ").concat(e.getFullYear())},function(t){t.now=function(){return o(e.now())},t.add=function(e,t){return e+t},t.subtract=function(e,t){return e-t},t.toSeconds=function(e){return Math.round(e/1e3)},t.toLocal=function(e){return new Date(e)},t.toISODate=function(t){return e.Timestamp.toLocal(t).toISOString()}}(e.Timestamp||(e.Timestamp={})),e.daysAgo=function(t,n){var r=n*h;return e.Timestamp.subtract(e.toTimestamp(t),r)},e.monthsAgo=function(t,n){var r=e.copy(t);return r.setMonth(t.getMonth()-n),e.toTimestamp(r)},e.parseDate=function(r){var o=""+r,a=o.match(n);if(a){var s=a[1],u=a[2];o="".concat(s,"T").concat(u,"Z")}if(a||o.match(t))return i.fromNullable(new Error("Failed to parse date from: ".concat(r)))(e.create(o));var c=new Date(o);return isNaN(c.getTime())?i.left(new Error("Failed to parse date from: ".concat(r))):i.fromNullable(new Error("Failed to parse date from: ".concat(r)))(c)},e.Eq={equals:function(e,t){return e.getTime()===t.getTime()}}}(v||(v={})),function(e){function t(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))}!function(t){t.now=function(){return e.toTimestamp(e.now())}}(e.Timestamp||(e.Timestamp={})),e.toTimestamp=function(e){return e.getTime()},e.now=function(){return t(v.now())},e.fromLocal=t}(b||(b={}))},22232:(e,t,n)=>{n.d(t,{$w:()=>h,CE:()=>l,J_:()=>f,L0:()=>p,ej:()=>a,j_:()=>g,kG:()=>c,mG:()=>s,sH:()=>i,u0:()=>u,vE:()=>d});var r=n(59312),o=n(55415),i=function(e){void 0===e&&(e="(nomessage)"),Error.call(this,e),"captureStackTrace"in Error?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name=this.constructor.name};i.prototype=Object.create(Error.prototype);var a=function(e){function t(t,n){void 0===n&&(n="empty");var r=e.call(this,"Invariant condition failed: "+(Boolean(t)?t:"(unnamed)"))||this;return r.input=n,r}return(0,r.__extends)(t,e),t.prototype.toString=function(){return"".concat(this.message," on input[").concat(this.input,"]")},t}(i),s=function(e){function t(t){return e.call(this,t)||this}return(0,r.__extends)(t,e),t}(i),u=function(e){function t(t){return e.call(this,"Matching not exhaustive".concat(Boolean(t)?": unexpected value ".concat(JSON.stringify(t)):""))||this}return(0,r.__extends)(t,e),t}(i);function c(e,t,n){if(!e){var r=new a("string"==typeof t?t:t&&t(),void 0!==n&&"string"!=typeof n?n():n);throw r.stack=r.stack.split("\n").filter((function(e){return-1===e.indexOf("errors.")})).join("\n"),r}}function l(e,t){if(null==e)throw new a("string"==typeof t?t:t&&t());return e}function d(e){throw new u(e)}function p(e){return e}function h(e){if(!(0,o.isObject)(e))return!1;var t=e.name,n=e.message;return"FetchError"===t&&"Client fetch error: Failed to fetch"===n||"TypeError"===t&&"NetworkError when attempting to fetch resource."===n||"TypeError"===t&&"Failed to fetch"===n}function f(e){return void 0!==e&&(e>=500&&e<=599)}function g(e){return"object"==typeof e&&null!==e&&"message"in e}},8125:(e,t,n)=>{n.d(t,{$K:()=>v,As:()=>T,CI:()=>P,D6:()=>s,Dw:()=>_,Er:()=>D,HP:()=>O,Ib:()=>E,Jx:()=>x,Kg:()=>y,Ky:()=>u,Nk:()=>I,PU:()=>R,Q1:()=>d,RN:()=>C,Sm:()=>f,TN:()=>b,V3:()=>w,Vo:()=>c,W9:()=>m,ZT:()=>l,_v:()=>N,ff:()=>g,gw:()=>S,iR:()=>k,or:()=>p,qu:()=>A,vV:()=>a,wD:()=>i,xD:()=>h});var r=n(57050),o=n(7514);function i(e){return!/[!$%^&*()_+|~={}\[\]:";<>?,.\/]/g.test(e)&&e.trim().length>0}function a(e){return/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e)}function s(e){return a(e)}function u(e){setTimeout(e,0)}function c(e){var t,n=!1;return{get value(){return n||(t=e(),n=!0),t}}}var l=r.Q1,d=r.Q1;function p(e,t){return e||t}function h(e,t){return e&&t}function f(e,t){return e+t}function g(e){return function(t){return!e(t)}}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return e(t)}))}}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return e(t)}))}}function v(e){return void 0!==e}function b(e){return Math.trunc(Math.random()*e)}function _(e){return e.length>0}var w,S=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function I(e){var t;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t||(t=e.apply(void 0,n).then((function(e){return t=null,e})).catch((function(e){throw t=null,e})))}}function x(e){for(var t,n,r=[],o=0,i=e.length;o<i;)55296==(63488&(t=e.charCodeAt(o++)))&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):r.push(t,n):r.push(t);return r}function E(e){var t;return new(null!==(t=self.WebSocket)&&void 0!==t?t:self.MozWebSocket)(e)}function k(e,t){var n,r=self;r.ddebug=null!==(n=r.ddebug)&&void 0!==n?n:{},r.ddebug[e]=t}function T(e,t){return e.size===t.size&&Array.from(e.values()).every((function(e){return t.has(e)}))}!function(e){e[e.lt=-1]="lt",e[e.eq=0]="eq",e[e.gt=1]="gt"}(w||(w={}));var A=function(e,t){return e>t?w.gt:e===t?w.eq:w.lt},C=function(e,t){return function(n){return n?e:t}};function O(e,t){var n,r=new o.z6(50);return(n={},n[e.name]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=t?t.apply(this,n):n[0],a=r.get(i);if(!Boolean(a)){var s=e.apply(this,n);return r.put(i,s),s}return a},n)[e.name]}function P(e,t){return Object.values(e).indexOf(t)>-1}function R(e){return function(t){return function(n){return e(n)(t)}}}var N=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function D(e){return null===e?(console.warn("WARN: ded.getText returned null"),""):e}},79849:(e,t,n)=>{n.r(t),n.d(t,{A:()=>a,ArrayUtils:()=>v,Buffer:()=>f,Comparable:()=>h.V3,Cookie:()=>r,CustomError:()=>p.sH,DOM:()=>o,DateUtils:()=>I,E:()=>j,Either:()=>d,Eq:()=>s,Fullstory:()=>we,G:()=>Wn,IOOption:()=>gr,IllegalArgumentError:()=>p.mG,InvariantError:()=>p.ej,Keys:()=>g,M:()=>u,MatchingNotExhaustiveError:()=>p.u0,MouseEventUtils:()=>m,NEA:()=>er,NotEmpty:()=>xe.G,O:()=>qn,ObjectUtils:()=>Se,Ord:()=>tr,PromiseT:()=>nr,R:()=>c,RD:()=>l,ReactContextUtils:()=>Pr,RecoverableOperation:()=>Rr.T,StringUtils:()=>Ie,SymmetricDiff:()=>un,TE:()=>Tr,TH:()=>i,TangentialPoint:()=>Ee,URLWithParams:()=>Mn,Version:()=>ke.G,Worker:()=>y,Zipper:()=>Rn,and:()=>h.xD,andP:()=>h.W9,assertNever:()=>p.vE,assertNeverSilent:()=>p.L0,choose:()=>h.RN,compare:()=>h.qu,constVoid:()=>h.Q1,createValidUrl:()=>Fr,curry:()=>Ce.W,curryFlip:()=>h.PU,decode:()=>h.Jx,delay:()=>h.gw,emailValidation:()=>h.D6,expectNonNull:()=>p.CE,getWebSocket:()=>h.Ib,invariant:()=>p.kG,isClientFetchError:()=>p.$w,isDefined:()=>h.$K,isErrorHasMessage:()=>p.j_,isServerErrorCode:()=>p.J_,isSetsEq:()=>h.As,isValidEmail:()=>h.vV,lazy:()=>h.Vo,memoize:()=>h.HP,nameValidation:()=>h.wD,noop:()=>h.ZT,not:()=>h.ff,notEmpty:()=>h.Dw,or:()=>h.or,orP:()=>h.Kg,rand:()=>h.TN,registerDebugHelper:()=>h.iR,safeDedGetText:()=>h.Er,sleep:()=>h._v,sum:()=>h.Sm,throttleByPromise:()=>h.Nk,tick:()=>h.Ky,valueFromEnum:()=>h.CI});var r={};n.r(r),n.d(r,{getCookie:()=>_,setCookie:()=>w,setInstallSourceCookie:()=>S});var o={};n.r(o),n.d(o,{Box:()=>q,CSS:()=>le,Guardians:()=>W,Rect:()=>V,Scrollbar:()=>pe,absToRelative:()=>ee,absToRelativeBuggy:()=>Z,appendTo:()=>ye,classes:()=>ce,cloneWithoutChildren:()=>me,createNested:()=>Y,createUniqueId:()=>_e,findAll:()=>J,getFirstChild:()=>$,getFirstSelectionRange:()=>ve,getLastChild:()=>H,getOffset:()=>ne,getParentAt:()=>K,getTreeBetween:()=>be,hasParentWithAttribute:()=>G,hasParentWithClassName:()=>B,isDisabled:()=>re,isFocusable:()=>se,isHTMLElement:()=>ue,isHidden:()=>oe,isNativelyFocusable:()=>ae,isParent:()=>z,isTabbable:()=>ie,moveChildrenTo:()=>X,preventDefault:()=>F,relativeToAbs:()=>te,renderDot:()=>ge,renderLine:()=>he,renderRect:()=>fe,svgVerticalAlignment:()=>de,traverseMutate:()=>Q});var i={};n.r(i),n.d(i,{Bifunctor:()=>Tn,Foldable:()=>An,Functor:()=>kn,Traversable:()=>Cn,URI:()=>En,bimap:()=>yn,both:()=>Wt,fold:()=>qt,foldMap:()=>wn,fromOptions:()=>sn,getApplicative:()=>Kt,getEq:()=>Ht,getLeft:()=>Xt,getLeftOnly:()=>on,getMonad:()=>Yt,getRight:()=>Qt,getRightOnly:()=>an,getSemigroup:()=>$t,getShow:()=>Vt,isBoth:()=>tn,isLeft:()=>Zt,isRight:()=>en,left:()=>Gt,leftOrBoth:()=>nn,map:()=>bn,mapLeft:()=>vn,reduce:()=>_n,reduceRight:()=>Sn,right:()=>zt,rightOrBoth:()=>rn,sequence:()=>xn,swap:()=>Pn,these:()=>On,toTuple:()=>Jt,traverse:()=>In});var a={};n.r(a),n.d(a,{Alt:()=>E.Rr,Alternative:()=>E.r3,Applicative:()=>E.g1,Compactable:()=>E.Ri,Do:()=>E.Do,Extend:()=>E.U5,Filterable:()=>E.xu,FilterableWithIndex:()=>E.ue,Foldable:()=>E.$6,FoldableWithIndex:()=>E.bw,Functor:()=>E.dO,FunctorWithIndex:()=>E.u9,Monad:()=>E.UA,Traversable:()=>E.Kd,TraversableWithIndex:()=>E.Ot,URI:()=>E.ov,Unfoldable:()=>E.c5,UniqueArray:()=>Ln,Witherable:()=>E._$,alt:()=>E.wp,altW:()=>E.Gk,ap:()=>E.ap,apFirst:()=>E.N,apS:()=>E.Qt,apSecond:()=>E.a1,array:()=>E.IX,bind:()=>E.ak,bindTo:()=>E.YO,chain:()=>E.tS,chainFirst:()=>E.mU,chainWithIndex:()=>E.To,chop:()=>E.pO,chunksOf:()=>E.wM,compact:()=>E.oA,comprehension:()=>Bn,cons:()=>E.QI,copy:()=>E.JG,deleteAt:()=>E.EG,difference:()=>E.e5,dropLeft:()=>E.md,dropLeftWhile:()=>E.Qp,dropRight:()=>E.j7,duplicate:()=>E.OM,elem:()=>E.t9,empty:()=>E.cS,every:()=>E.yW,extend:()=>E.l7,filter:()=>E.hX,filterMap:()=>E.DZ,filterMapWithIndex:()=>E.jt,filterWithIndex:()=>E.z7,findFirst:()=>E.Ew,findFirstMap:()=>E.f2,findIndex:()=>E.cx,findLast:()=>E.dF,findLastIndex:()=>E.qr,findLastMap:()=>E.JO,flatten:()=>E.xH,foldLeft:()=>E.$q,foldMap:()=>E.Lx,foldMapWithIndex:()=>E.xP,foldRight:()=>E.lV,getEq:()=>E.Eh,getMonoid:()=>E.uZ,getOrd:()=>E.pR,getShow:()=>E.ZN,head:()=>E.YM,init:()=>E.S1,insertAt:()=>E.ZQ,intersection:()=>E.jV,intersperse:()=>E.iD,isEmpty:()=>E.xb,isNonEmpty:()=>E.Od,isOutOfBound:()=>E.dC,last:()=>E.Z$,lefts:()=>E.bj,lookup:()=>E.P5,makeBy:()=>E.KB,map:()=>E.UI,mapWithIndex:()=>E.Su,modifyAt:()=>E.cq,of:()=>E.of,partition:()=>E.uK,partitionMap:()=>E.tV,partitionMapWithIndex:()=>E._r,partitionWithIndex:()=>E.Hd,prependToAll:()=>E.Wr,range:()=>E.w6,reduce:()=>E.u4,reduceRight:()=>E.nq,reduceRightWithIndex:()=>E.iw,reduceWithIndex:()=>E.OE,replicate:()=>E.AS,reverse:()=>E.GY,rights:()=>E.hp,rotate:()=>E.U1,scanLeft:()=>E.Zh,scanRight:()=>E.ag,seededShuffle:()=>Un,separate:()=>E.oh,sequence:()=>E.vP,snoc:()=>E.Ss,some:()=>E.G,sort:()=>E.DY,sortBy:()=>E.MR,spanLeft:()=>E.zT,splitAt:()=>E.lx,tail:()=>E.Gb,takeLeft:()=>E.ke,takeLeftWhile:()=>E.$h,takeRight:()=>E.pm,traverse:()=>E.fw,traversePairs:()=>Fn,traverseWithIndex:()=>E.r7,unfold:()=>E.JJ,union:()=>E.G0,uniq:()=>E.jj,unsafeDeleteAt:()=>E.fD,unsafeInsertAt:()=>E.oo,unsafeUpdateAt:()=>E.YT,unzip:()=>E.N7,updateAt:()=>E.Wl,wilt:()=>E.F8,wither:()=>E.uU,zero:()=>E.bM,zip:()=>E.$R,zipWith:()=>E.yL});var s={};n.r(s),n.d(s,{Contravariant:()=>k.qm,URI:()=>k.ov,contramap:()=>k.Uz,eq:()=>k.eq,eqBoolean:()=>k.vD,eqDate:()=>k.DS,eqEmpty:()=>zn,eqNumber:()=>k.lr,eqStrict:()=>k.w4,eqString:()=>k.yv,eqToInvariant:()=>Gn,fromEquals:()=>k.f7,getMonoid:()=>k.uZ,getStructEq:()=>k.MW,getTupleEq:()=>k.IP,strictEqual:()=>k.hY});var u={};n.r(u),n.d(u,{Compactable:()=>Lt,Filterable:()=>Ut,Functor:()=>jt,Merger:()=>Yn,URI:()=>Vn,collect:()=>ct,compact:()=>Et,deleteAt:()=>ht,diffKeys:()=>Zn,elem:()=>at,empty:()=>_t,filter:()=>kt,filterMap:()=>Tt,fromFoldable:()=>xt,getEq:()=>wt,getEqByValue:()=>$n,getFilterableWithIndex:()=>Dt,getFoldableWithIndex:()=>Hn,getMonoid:()=>St,getShow:()=>nt,getWitherable:()=>Mt,insertAt:()=>pt,isEmpty:()=>ot,isSubmap:()=>bt,keys:()=>st,leftToRight:()=>Jn,lookup:()=>vt,lookupWithKey:()=>yt,map:()=>At,mapWithIndex:()=>Ct,map_:()=>Ft,member:()=>it,modifyAt:()=>gt,partition:()=>Ot,partitionMap:()=>Pt,pop:()=>mt,rightToLeft:()=>Xn,separate:()=>Rt,singleton:()=>It,size:()=>rt,symmetricDiff:()=>Kn,toArray:()=>lt,toUnfoldable:()=>dt,updateAt:()=>ft,values:()=>ut});var c={};n.r(c),n.d(c,{Applicative:()=>or.g1,Category:()=>or.WD,Choice:()=>or.Lv,Do:()=>or.Do,Functor:()=>or.dO,Monad:()=>or.UA,Profunctor:()=>or.y$,Strong:()=>or.cK,URI:()=>or.ov,ap:()=>or.ap,apFirst:()=>or.N,apS:()=>or.Qt,apSW:()=>or.W5,apSecond:()=>or.a1,apW:()=>or.sL,ask:()=>or.mF,asks:()=>or.VF,bind:()=>or.ak,bindTo:()=>or.YO,bindW:()=>or.NP,chain:()=>or.tS,chainFirst:()=>or.mU,chainW:()=>or.Zl,compose:()=>or.qC,composeS:()=>ar,createFrom:()=>ir,flatten:()=>or.xH,getMonoid:()=>or.uZ,getSemigroup:()=>or.jG,id:()=>or.id,local:()=>or.I_,map:()=>or.UI,of:()=>or.of,promap:()=>or.PY,reader:()=>or.r1,sequenceArray:()=>or.RD,traverseArray:()=>or.uU,traverseArrayWithIndex:()=>or.xW});var l={};n.r(l),n.d(l,{Type:()=>sr.Dy,URI:()=>ur,ap:()=>Sr,apFirst:()=>Ir,apSecond:()=>xr,bimap:()=>Er,chain:()=>_r,chainFirst:()=>wr,error:()=>dr,fatal:()=>pr,flatten:()=>kr,fold:()=>fr,getEq:()=>hr,inProgress:()=>cr,isError:()=>sr.VZ,isFatal:()=>sr.IR,isInProgress:()=>sr.n2,isSuccess:()=>sr.d6,map:()=>vr,mapLeft:()=>br,remoteData:()=>mr,success:()=>lr});var d,p=n(22232),h=n(8125);!function(e){function t(e){return"left"===e.kind}e.left=function(e){return{kind:"left",value:e}},e.right=function(e){return{kind:"right",value:e}},e.isLeft=t,e.isRight=function(e){return"right"===e.kind},e.flatMap=function(e,n){return t(e)?e:n(e.value)},e.fromPromise=function(t){return t.then((function(t){return e.right(t)})).catch((function(t){return e.left(t)}))}}(d||(d={}));var f,g,m,y=function(){function e(e,t,n,r){void 0===r&&(r=20),this._task=e,this._buffer=t,this._run=n,this._batchSize=r,this._sub=null}return e.prototype.put=function(e){this._buffer.put(e),null===this._sub&&this._buffer.nonEmpty&&this._scheduleWork()},e.prototype.order=function(e){this._buffer.order(e)},e.prototype.flush=function(){this._task(this._buffer.take(this._buffer.length))},Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.length},enumerable:!1,configurable:!0}),e.prototype._scheduleWork=function(){var e=this;this._sub=this._run((function(){e._task(e._buffer.take(e._batchSize)),e._sub=null,e._buffer.nonEmpty&&e._scheduleWork()}))},e.prototype.shutdown=function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)},e}();!function(e){var t=function(){function e(e){this._predicate=e,this._queueMap=new Set,this._queue=[]}return e.prototype.put=function(e){var t,n=this,r=new Set,o=e.reduce((function(e,t){return r.has(t.id)||n._queueMap.has(t.id)||!n._predicate(t)||(r.add(t.id),e.push(t)),e}),[]);(t=this._queue).push.apply(t,o),o.forEach((function(e){var t=e.id;return n._queueMap.add(t)}))},e.prototype.take=function(e){for(var t=0,n=[];t<this._queue.length&&n.length<e;){var r=this._queue[t];this._predicate(r)&&n.push(r),this._queueMap.delete(r.id),t++}return this._queue=this._queue.slice(t),n},e.prototype.order=function(e){this._queue.sort(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nonEmpty",{get:function(){return this._queue.length>0},enumerable:!1,configurable:!0}),e}();e.LazyPredicateUniq=t}(f||(f={})),function(e){e.ESC_CODE=27,e.ENTER_CODE=13,e.SPACE_CODE=32}(g||(g={})),function(e){e.isLeftMouseButtom=function(e){return 1===e.which||0===e.button}}(m||(m={}));var v=n(89943),b=n(11066);function _(e){return(0,b.Z)(e)}function w(e,t,n){(0,b.Z)(e,t,n)}function S(e){w("grInstallSource","editor",{domain:e,path:"/",expires:new Date(Date.now()+36e5)})}var I=n(76024),x=n(59312),E=n(71249),k=n(73975),T=n(57050),A=n(40327);const C={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let O;const P=new Uint8Array(16);function R(){if(!O&&(O="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!O))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O(P)}const N=[];for(let e=0;e<256;++e)N.push((e+256).toString(16).slice(1));function D(e,t=0){return(N[e[t+0]]+N[e[t+1]]+N[e[t+2]]+N[e[t+3]]+"-"+N[e[t+4]]+N[e[t+5]]+"-"+N[e[t+6]]+N[e[t+7]]+"-"+N[e[t+8]]+N[e[t+9]]+"-"+N[e[t+10]]+N[e[t+11]]+N[e[t+12]]+N[e[t+13]]+N[e[t+14]]+N[e[t+15]]).toLowerCase()}const M=function(e,t,n){if(C.randomUUID&&!t&&!e)return C.randomUUID();const r=(e=e||{}).random||(e.rng||R)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return D(r)};var j=n(95574),L=n(95195),U=n(5114);function F(e){return e.preventDefault(),e}function B(e,t){if(null==(null==e?void 0:e.parentElement))return!1;var n=e.className;return"string"==typeof n&&n.indexOf(t)>-1||B(e.parentElement,t)}function G(e,t,n){if(null==(null==e?void 0:e.parentElement))return!1;var r=e.attributes.getNamedItem(t);return!(!r||r.value!==n)||G(e.parentElement,t,n)}function z(e,t){if(null==t)return!1;for(;t.parentNode;){if(e===t.parentNode)return!0;t=t.parentNode}return!1}var W,q,V,H=function(e){return e.lastChild?H(e.lastChild):e},$=function(e){return e.firstChild?$(e.firstChild):e},K=function(e,t){return(0,A.pipe)(j.tryCatchError((function(){return(0,p.kG)(t>=0,"Cannot go up"),(0,p.kG)(0===t||null!==e.parentElement,"There is not parent to go up"),e})),L.chain((function(e){return 0===t?L.right(e):1===t?L.right(e.parentElement):K(e.parentElement,t-1)})))},Y=function(e,t){return(0,A.pipe)(j.tryCatchError((function(){return(0,p.kG)(t>0,"Level should be gt than 0"),document.createElement(e)})),L.chain((function(n){return 1===t?L.right(n):(0,A.pipe)(Y(e,t-1),L.map((function(e){return n.appendChild(e),n})))})))},J=function(e){return function(t){return e(t)?[t]:t.nodeType===Node.ELEMENT_NODE||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.xH(Array.from(t.childNodes).map(J(e))):[]}},X=function(e,t){return e.append.apply(e,Array.from(t.childNodes)),e},Q=function(e,t,n,r){return void 0===r&&(r=100),(0,A.pipe)(j.tryCatchError((function(){return(0,p.kG)(r>0,"Max allowed travers level exceeded"),W.isDocumentFragment(e)?e:n(e)})),L.chain((function(e){return W.isHTMLElement(e)&&t(e)||W.isDocumentFragment(e)?(0,A.pipe)(Array.from(e.childNodes).map((function(e){return(0,A.pipe)(Q(e,t,n,r-1),L.map((function(t){return[e,t]})))})),E.IX.sequence(L.either),L.chain((function(t){return j.tryCatchError((function(){t.forEach((function(t){var n=t[0],r=t[1];(0,p.kG)(n.parentNode===e,"Orignal node moved, the proper position cannot be determined"),n!==r&&(e.insertBefore(r,n),e.removeChild(n))}))}))})),L.map((function(){return e}))):L.right(e)})))};function Z(e,t){return{top:e.top-t.top,bottom:e.bottom-t.bottom,left:e.left-t.left,right:e.right-t.right,width:e.width,height:e.height}}function ee(e,t){return{top:e.top-t.top,bottom:e.bottom-t.top,left:e.left-t.left,right:e.right-t.left,width:e.width,height:e.height}}function te(e,t){return{top:e.top+t.top,bottom:e.bottom+t.top,left:e.left+t.left,right:e.right+t.left,width:e.width,height:e.height}}function ne(e){if(null==e)throw new Error("elem should not be null or undefined");var t=e.getBoundingClientRect();if(t.width||t.height){var n=e.ownerDocument,r=self,o=n.documentElement;return{top:t.top+r.pageYOffset-o.clientTop,left:t.left+r.pageXOffset-o.clientLeft,width:t.width,height:t.height}}return t}function re(e){return void 0!==e.dataset&&"true"===e.dataset.disabled}function oe(e){var t=self.getComputedStyle(e),n=e.getAttribute("aria-hidden");return"none"===t.display||"hidden"===t.visibility||"true"===n}function ie(e){var t=e.getAttribute("tabIndex"),n=e.getAttribute("inert");return null!=t&&+t>-1&&null==n}function ae(e){return["INPUT","IFRAME","SELECT","BUTTON"].includes(e.tagName)||e.hasAttribute("href")||"true"===e.contentEditable}function se(e){return(0,h.W9)((0,T.ff)((0,h.Kg)(re,oe)),(0,h.Kg)(ae,ie))(e)}function ue(e){return e instanceof HTMLElement}function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")}!function(e){e.isLI=function(e){return"LI"===e.nodeName},e.isUL=function(e){return"UL"===e.nodeName},e.isOL=function(e){return"OL"===e.nodeName},e.isP=function(e){return"P"===e.nodeName},e.isH1=function(e){return"H1"===e.nodeName},e.isH2=function(e){return"H2"===e.nodeName},e.isLink=function(e){return"A"===e.nodeName},e.isBR=function(e){return"BR"===e.nodeName},e.isSPAN=function(e){return"SPAN"===e.nodeName},e.isDIV=function(e){return"DIV"===e.nodeName},e.isButton=function(e){return"BUTTON"===e.nodeName},e.isButtonLike=function(t){return e.isButton(t)||e.isDIV(t)&&"button"===t.getAttribute("role")},e.isHTMLElement=function(e){return e.nodeType===Node.ELEMENT_NODE},e.isDocumentFragment=function(e){return e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}}(W||(W={})),function(e){e.eq=(0,k.f7)((function(e,t){return e.height===t.height&&e.width===t.width})),e.placeIntoRect=function(e,t){var n=Math.trunc(e.width),r=Math.trunc(e.height);(0,p.kG)(n===t.width||r===t.height,"we should have similar box&rect dimensions for placing operation",(function(){return JSON.stringify({box:e,rect:t})}));var o={x:Math.ceil(t.left),y:Math.ceil(t.top)},i={x:Math.ceil(t.left+t.width/2-n/2),y:Math.ceil(t.top+t.height/2-r/2)},a={x:Math.ceil(t.right-n),y:Math.ceil(t.bottom-r)};return E.IX.traverse(L.either)([o,i,a],(function(e){return V.validate({top:e.y,right:e.x+n,bottom:e.y+r,left:e.x,height:r,width:n})}))}}(q||(q={})),function(e){e.eq=(0,k.f7)((function(e,t){return q.eq.equals(e,t)&&e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right})),e.fromRectLike=function(e){return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}},e.validate=function(t){if("object"!=typeof t||null==t)return L.left(new Error("not an object"));if(!Object.keys(e.empty).every((function(e){return e in t})))return L.left(new Error("object does not have all required rect props"));var n=t;return Math.round(n.right-n.left)!==Math.round(n.width)?L.left(new Error("incorrect horizontal dimensions, expected width: ".concat(n.right-n.left,", got: ").concat(n.width))):Math.round(n.bottom-n.top)!==Math.round(n.height)?L.left(new Error("incorrect vertical dimensions, expected height: ".concat(n.bottom-n.top,", got: ").concat(n.height))):n.top>n.bottom?L.left(new Error("incorrect vertical dimensions, expected top ".concat(n.top," to be less than bottom ").concat(n.bottom))):n.left>n.right?L.left(new Error("incorrect horizontal dimensions, expected left ".concat(n.left," to be less than right ").concat(n.right))):n.width<0?L.left(new Error("width cannot be negative")):n.height<0?L.left(new Error("height cannot be negative")):L.right(n)},e.empty={top:0,right:0,bottom:0,left:0,height:0,width:0},e.fromEl=function(e){return e.getBoundingClientRect()};var t,n;e.hasIntersection=function(e,t){return function(e,t){return Math.ceil(e.bottom)>=Math.floor(t.top)&&Math.ceil(e.top)<=Math.floor(t.bottom)||Math.ceil(t.bottom)>=Math.floor(e.top)&&Math.ceil(t.top)<=Math.floor(e.bottom)}(e,t)&&function(e,t){return Math.ceil(e.right)>=Math.floor(t.left)&&Math.ceil(e.left)<=Math.floor(t.right)||Math.ceil(t.right)>=Math.floor(e.left)&&Math.ceil(t.left)<=Math.floor(e.right)}(e,t)},e.intersection=function(t,n){return e.hasIntersection(t,n)?(0,A.pipe)(U.some({top:Math.floor(Math.max(t.top,n.top)),bottom:Math.ceil(Math.min(t.bottom,n.bottom)),left:Math.floor(Math.max(t.left,n.left)),right:Math.ceil(Math.min(t.right,n.right))}),U.chain((function(t){return U.fromEither(e.validate((0,x.__assign)((0,x.__assign)({},t),{width:t.right-t.left,height:t.bottom-t.top})))}))):U.none},e.growByBox=function(t,n){var r=t.height,o=t.width;return e.validate({top:n.top-r/2,right:n.right+o/2,bottom:n.bottom+r/2,left:n.left-o/2,height:n.height+r,width:n.width+o})},e.shrinkTop=function(t,n){return e.validate((0,x.__assign)((0,x.__assign)({},n),{top:n.top+t,height:n.height-t}))},e.shrinkBottom=function(t,n){return e.validate((0,x.__assign)((0,x.__assign)({},n),{bottom:n.bottom-t,height:n.height-t}))},e.scale=function(t,n){var r=n.height*t,o=n.width*t;return e.growByBox({width:o,height:r},n)},e.normalize=function(t){return e.validate({top:Math.ceil(t.top),bottom:Math.ceil(t.bottom),left:Math.ceil(t.left),right:Math.ceil(t.right),height:Math.ceil(t.height),width:Math.ceil(t.width)})},e.join=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Math.min.apply(Math,t.map((function(e){return e.top}))),o=Math.max.apply(Math,t.map((function(e){return e.bottom}))),i=Math.min.apply(Math,t.map((function(e){return e.left}))),a=Math.max.apply(Math,t.map((function(e){return e.right})));return e.validate({top:r,bottom:o,left:i,right:a,width:a-i,height:o-r})},e.transpose=function(e,t){return function(r){switch(e){case n.horizontal:return(0,x.__assign)((0,x.__assign)({},r),{left:r.left+t,right:r.right+t});case n.vertical:return(0,x.__assign)((0,x.__assign)({},r),{top:r.top+t,bottom:r.bottom+t});case n.both:return(0,x.__assign)((0,x.__assign)({},r),{left:r.left+t,right:r.right+t,top:r.top+t,bottom:r.bottom+t});default:return(0,p.vE)(e)}}},function(e){e.match=function(e,t,n,r){return function(o){switch(o){case"top":return e();case"right":return t();case"bottom":return n();case"left":return r();default:return(0,p.vE)(o)}}},e.invert=function(e){switch(e){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right";default:return(0,p.vE)(e)}}}(t=e.Side||(e.Side={})),e.stickToSide=function(e,n){return function(r){return t.match((function(){return{top:r.top+(n.top-r.bottom),bottom:n.top,left:r.left,right:r.right,height:r.height,width:r.width}}),(function(){return{top:r.top,bottom:r.bottom,left:n.right,right:r.right+(n.right-r.left),height:r.height,width:r.width}}),(function(){return{top:n.bottom,bottom:r.bottom+(n.bottom-r.top),left:r.left,right:r.right,height:r.height,width:r.width}}),(function(){return{top:r.top,bottom:r.bottom,left:r.left+(n.left-r.right),right:n.left,height:r.height,width:r.width}}))(e)}},function(e){e.horizontal="left&right",e.vertical="top&bottom",e.both="top&right&bottom&left"}(n=e.Axis||(e.Axis={})),function(e){e.toSides=function(e){return e.split("&")}}(n=e.Axis||(e.Axis={})),function(e){e.empty={x:0,y:0},e.relativeTo=function(t,n){return e.normalize({x:t.x-n.left,y:t.y-n.top})},e.normalize=function(e){return{x:Math.ceil(e.x),y:Math.ceil(e.y)}}}(e.Point||(e.Point={})),e.hasPoint=function(e,t){var n=t.x,r=t.y;return Math.trunc(e.top)<=Math.trunc(r)&&Math.trunc(e.bottom)>=Math.trunc(r)&&Math.trunc(e.left)<=Math.trunc(n)&&Math.trunc(e.right)>=Math.trunc(n)},e.getMedian=function(t,n){return(0,A.pipe)(e.intersection(t,n),U.map((function(e){var r=Math.trunc(e.width/2),o=Math.trunc(e.height/2),i={x:Math.trunc(e.left+r),y:Math.trunc(e.top+o)};return{side:0===r?t.left<n.left?"left":"right":t.top<n.top?"top":"bottom",point:i}})))}}(V||(V={}));var le,de=function(e){return e?{dominantBaseline:"middle"}:{dy:".3125em"}};!function(e){e.translateY=function(e,t){return void 0===t&&(t="px"),"translateY(".concat(e).concat(t,")")},e.rem=function(e){return"".concat(e,"rem")}}(le||(le={}));var pe,he=function(e,t,n){var r=document.createElement("div");return r.setAttribute("data-name",t),r.style.position="fixed",r.style.top="".concat(e,"px"),r.style.width="100vw",r.style.height="1px",r.style.backgroundColor=n,(0,A.pipe)(U.fromNullable(document.querySelector("[data-name=".concat(t,"]"))),U.map((function(e){return e.parentElement.removeChild(e)}))),document.body.appendChild(r),function(){return r.parentElement.removeChild(r)}},fe=function(e,t,n){var r=document.createElement("div");return r.setAttribute("data-name",t),r.style.position="fixed",r.style.top="".concat(e.top,"px"),r.style.left="".concat(e.left,"px"),r.style.width="".concat(e.right-e.left,"px"),r.style.height="".concat(e.bottom-e.top,"px"),r.style.border="1px solid ".concat(n),r.style.zIndex="9999999",r.style.pointerEvents="none",(0,A.pipe)(U.fromNullable(document.querySelector("[data-name=".concat(t,"]"))),U.map((function(e){return e.parentElement.removeChild(e)}))),document.body.appendChild(r),function(){return r.parentElement.removeChild(r)}},ge=function(e,t,n,r){return void 0===r&&(r="red"),fe({top:e,left:t,bottom:e+1,right:t+1,height:1,width:1},n,r)};!function(e){e.UNKNOWN_SCROLLBAR={type:"unknown",width:17},e.getState=(0,h.HP)((function(){return j.tryCatchError((function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.width="100px",e.style.margin="0",e.style.padding="0",e.style.outline="none",e.style.border="none",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),0===t?{type:"hidden",width:17}:{type:"visible",width:Math.max(15,t)}}))}))}(pe||(pe={}));var me=function(e){return e.cloneNode(!1)},ye=function(e,t){return e.appendChild(t),e},ve=function(){return null!=self.getSelection?(0,A.pipe)(U.fromNullable(self.getSelection()),U.map((function(e){return e.getRangeAt(0)}))):U.none},be=function(e,t,n){if(void 0===n&&(n=function(){return!1}),e===t||!z(e,t))return U.none;for(var r=t,o=U.none;r&&e!==r&&!n(r);)r.nodeType===Node.ELEMENT_NODE&&(o=(0,A.pipe)(o,U.fold((function(){return me(r)}),(function(e){return ye(me(r),e)})),U.some)),r=r.parentNode;return o};function _e(e){return Boolean(e)?"".concat(e,"-").concat(M()):M()}var we,Se=n(55415),Ie=n(18208),xe=n(80153);!function(e){function t(){return void 0!==self.FS}e.enable=function(){(0,p.kG)(!t(),"FullStory snippet already loaded");var e=document.createElement("script");e.innerHTML="window['_fs_debug'] = true;\n  window['_fs_host'] = 'fullstory.com';\n  window['_fs_org'] = '76Y20';\n  window['_fs_namespace'] = 'FS';\n  (function(m,n,e,t,l,o,g,y){\n    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].');} return;}\n    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];\n    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';\n    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);\n    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};\n    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};\n    g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[\";\"]*\"[\";\"]*\"[\";\"]*\"')){\n      d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+\n      ';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};\n    })(window,document,window['_fs_namespace'],'script','user');",document.head.appendChild(e)},e.isEnabled=t,e.ignoreClass="fs-hide"}(we||(we={}));var Ee,ke=n(29042),Te=n(45614),Ae=n(32426);!function(e){var t,n,r;function o(e,n){var r=n.position,o=n.point,i={width:Math.trunc(e.width),height:Math.trunc(e.height)};return V.validate(t.match((function(){return(0,x.__assign)({top:o.y,right:o.x,bottom:o.y+i.height,left:o.x-i.width},i)}),(function(){return(0,x.__assign)({top:o.y-i.height,right:o.x,bottom:o.y,left:o.x-i.width},i)}),(function(){return(0,x.__assign)({top:o.y-i.height,right:o.x+i.width,bottom:o.y,left:o.x},i)}),(function(){return(0,x.__assign)({top:o.y,right:o.x+i.width,bottom:o.y+i.height,left:o.x},i)}))(r))}function i(t){return e.topLeft(V.Point.normalize({x:t.left,y:t.top}))}!function(e){e.topLeft="topLeft",e.topRight="topRight",e.bottomRight="bottomRight",e.bottomLeft="bottomLeft"}(t=e.Position||(e.Position={})),function(e){e.match=function(t,n,r,o){return function(i){switch(i){case e.topRight:return t();case e.bottomRight:return n();case e.bottomLeft:return r();case e.topLeft:return o();default:return(0,p.vE)(i)}}}}(t=e.Position||(e.Position={})),e.topLeft=function(e){return{position:t.topLeft,point:V.Point.normalize(e)}},e.topRight=function(e){return{position:t.topRight,point:V.Point.normalize(e)}},e.bottomRight=function(e){return{position:t.bottomRight,point:V.Point.normalize(e)}},e.bottomLeft=function(e){return{position:t.bottomLeft,point:V.Point.normalize(e)}},e.relativeTo=function(e,t){return{position:e.position,point:V.Point.relativeTo(e.point,t)}},e.empty=e.topLeft(V.Point.empty),e.toRect=o,e.fromRect=i,e.inRect=function(e,t){var n=t.point;return V.hasPoint(e,n)},e.toCss=function(e){var n=e.position,r=e.point;return t.match((function(){return{top:r.y,right:r.x}}),(function(){return{right:r.x,bottom:r.y}}),(function(){return{bottom:r.y,left:r.x}}),(function(){return{top:r.y,left:r.x}}))(n)},function(t){t.create=function(e,t){return(0,p.kG)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(function(){return JSON.stringify({a:e,b:t})})),[e,t]},t.bySide=function(n,r){return V.Side.match((function(){return t.create(e.bottomLeft({x:Math.ceil(r.left),y:Math.ceil(r.top)}),e.bottomRight({x:Math.floor(r.right),y:Math.ceil(r.top)}))}),(function(){return t.create(e.topLeft({x:Math.floor(r.right),y:Math.ceil(r.top)}),e.bottomLeft({x:Math.floor(r.right),y:Math.floor(r.bottom)}))}),(function(){return t.create(e.topLeft({x:Math.ceil(r.left),y:Math.floor(r.bottom)}),e.topRight({x:Math.floor(r.right),y:Math.floor(r.bottom)}))}),(function(){return t.create(e.topRight({x:Math.ceil(r.left),y:Math.ceil(r.top)}),e.bottomRight({x:Math.ceil(r.left),y:Math.floor(r.bottom)}))}))(n)}}(n=e.Zone||(e.Zone={})),function(e){e.byAxis=function(e,t){return Te.fromFoldable((0,Ae.getFirstSemigroup)(),E.IX)(V.Axis.toSides(e).map((function(e){return[e,n.bySide(e,t)]})))}}(e.Variants||(e.Variants={})),function(t){function n(e,t){return(0,A.pipe)(V.intersection(e,t),U.map((function(e){var n=e.width/t.width,r=e.height/t.height,o=(Number.isNaN(n)?0:n/2)+(Number.isNaN(r)?0:r/2);return(0,p.kG)(o>=0,"quality can not be negavite: ".concat(o)),(0,p.kG)(o<=1,"quality can be higher than 1: ".concat(o)),o})))}t.empty={quality:0,point:e.empty},t.qualityOfIntersection=n,t.byViewport=function(e,t){return{quality:(0,A.pipe)(n(e,t),U.getOrElse((function(){return 0})))+(0,A.pipe)(V.scale(2,t),L.chain(V.normalize),U.fromEither,U.chain((function(t){return n(e,t)})),U.getOrElse((function(){return 0}))),point:i(t)}},t.fromZone=function(e,n,r){return(0,A.pipe)(E.IX.traverse(L.either)(r,(function(e){return o(n,e)})),L.chain((function(e){var t=e[0],n=e[1];return V.join(t,n)})),L.chain((function(e){return q.placeIntoRect(n,e)})),L.map((function(n){return n.map((function(n){return t.byViewport(e,n)}))})))}}(r=e.Qualified||(e.Qualified={})),function(e){e.build=function(e,t,n){return(0,A.pipe)(n,Te.map((function(n){return r.fromZone(e,t,n)})))}}(e.QualifiedVariants||(e.QualifiedVariants={})),function(e){var t;!function(e){e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e[e.edges=20]="edges",e[e.any=210]="any"}(t=e.Placement||(e.Placement={})),e.takeBy=function(e,t){return function(n){return(0,A.pipe)(n,Te.reduceWithIndex({point:r.empty,side:e},(function(n,r,o){return(0,A.pipe)(o,L.map((function(o){return o.filter((function(r,o){return t.toString().includes(o.toString())&&e===n})).reduce((function(e,t){return t.quality>e.point.quality?{point:t,side:n}:e}),r)})),j.unsafeGet)}))).point}},e.preferBy=function(e,t){return function(n){return(0,A.pipe)(n,Te.reduceWithIndex({point:r.empty,side:e},(function(n,r,o){return(0,A.pipe)(o,L.map((function(o){return o.reduce((function(r,o,i){return o.quality>r.point.quality||o.quality===r.point.quality&&t.toString().includes(i.toString())&&e===n?{point:o,side:n}:r}),r)})),j.unsafeGet)}))).point}},e.preferTopMiddle=e.preferBy("top",t.middle),e.preferTopEdges=e.preferBy("top",t.edges)}(e.Selector||(e.Selector={}))}(Ee||(Ee={}));var Ce=n(68983);function Oe(e){return function(t){return Array.from(t.keys()).sort(e.compare)}}function Pe(e){var t=Oe(e);return function(e){return function(n){for(var r=[],o=0,i=t(n);o<i.length;o++){var a=i[o];r.push(e(a,n.get(a)))}return r}}}function Re(e){return Pe(e)((function(e,t){return[e,t]}))}function Ne(e){var t=De(e);return function(e){return function(n){var r=t(e,n);if(U.isSome(r)){var o=new Map(n);return o.delete(r.value[0]),o}return n}}}function De(e){return function(t,n){if(void 0===n){var r=De(e);return function(e){return r(t,e)}}for(var o,i=n.entries();!(o=i.next()).done;){var a=o.value,s=a[0],u=a[1];if(e.equals(s,t))return U.some([s,u])}return U.none}}function Me(e){var t=De(e);return function(n,r){if(void 0===r){var o=Me(e);return function(e){return o(n,e)}}return(0,T.zG)(t(n,r),U.map((function(e){e[0];return e[1]})))}}function je(e,t){var n=De(e);return function(r,o){if(void 0===o){var i=je(e,t);return function(e){return i(e,r)}}for(var a,s=r.entries();!(a=s.next()).done;){var u=a.value,c=u[0],l=u[1],d=n(c,o);if(U.isNone(d)||!e.equals(c,d.value[0])||!t.equals(l,d.value[1]))return!1}return!0}}var Le=new Map;var Ue=function(e,t){for(var n,r=new Map,o=e.entries();!(n=o.next()).done;){var i=n.value,a=i[0],s=i[1];r.set(a,t(a,s))}return r},Fe=function(e,t){for(var n,r=new Map,o=new Map,i=e.entries();!(n=i.next()).done;){var a=n.value,s=a[0],u=t(s,a[1]);(0,L.isLeft)(u)?r.set(s,u.left):o.set(s,u.right)}return{left:r,right:o}},Be=function(e,t){for(var n,r=new Map,o=new Map,i=e.entries();!(n=i.next()).done;){var a=n.value,s=a[0],u=a[1];t(s,u)?o.set(s,u):r.set(s,u)}return{left:r,right:o}},Ge=function(e,t){for(var n,r=new Map,o=e.entries();!(n=o.next()).done;){var i=n.value,a=i[0],s=t(a,i[1]);U.isSome(s)&&r.set(a,s.value)}return r},ze=function(e,t){for(var n,r=new Map,o=e.entries();!(n=o.next()).done;){var i=n.value,a=i[0],s=i[1];t(a,s)&&r.set(a,s)}return r},We=function(e,t){return Ue(e,(function(e,n){return t(n)}))},qe=function(e,t){return ze(e,(function(e,n){return t(n)}))},Ve=function(e,t){return Ge(e,(function(e,n){return t(n)}))},He=function(e,t){return Be(e,(function(e,n){return t(n)}))},$e=function(e,t){return Fe(e,(function(e,n){return t(n)}))},Ke=function(e){for(var t,n=new Map,r=e.entries();!(t=r.next()).done;){var o=t.value,i=o[0],a=o[1];U.isSome(a)&&n.set(i,a.value)}return n},Ye=function(e){for(var t,n=new Map,r=new Map,o=e.entries();!(t=o.next()).done;){var i=t.value,a=i[0],s=i[1];(0,L.isLeft)(s)?n.set(a,s.left):r.set(a,s.right)}return{left:n,right:r}},Je="ReadonlyMap";var Xe=We,Qe=qe,Ze=Ve,et=He,tt=$e,nt=function(e,t){return{show:function(n){var r="";return n.forEach((function(n,o){r+="["+e.show(o)+", "+t.show(n)+"], "})),""!==r&&(r=r.substring(0,r.length-2)),"new Map(["+r+"])"}}},rt=function(e){return e.size},ot=function(e){return 0===e.size},it=function e(t){var n=Me(t);return function(r,o){if(void 0===o){var i=e(t);return function(e){return i(r,e)}}return U.isSome(n(r,o))}},at=function e(t){return function(n,r){if(void 0===r){var o=e(t);return function(e){return o(n,e)}}for(var i,a=r.values();!(i=a.next()).done;){var s=i.value;if(t.equals(n,s))return!0}return!1}},st=Oe,ut=function(e){return function(t){return Array.from(t.values()).sort(e.compare)}},ct=Pe,lt=Re;function dt(e,t){return function(e,t){var n=Re(e);return function(e){var r=n(e),o=r.length;return t.unfold(0,(function(e){return e<o?U.some([r[e],e+1]):U.none}))}}(e,t)}var pt=function(e){var t=De(e);return function(e,n){return function(r){var o,i=t(e,r);return U.isNone(i)?((o=new Map(r)).set(e,n),o):i.value[1]!==n?((o=new Map(r)).set(i.value[0],n),o):r}}},ht=Ne,ft=function(e){var t=De(e);return function(e,n){return function(r){var o=t(e,r);if(U.isNone(o))return U.none;var i=new Map(r);return i.set(o.value[0],n),U.some(i)}}},gt=function(e){var t=De(e);return function(e,n){return function(r){var o=t(e,r);if(U.isNone(o))return U.none;var i=new Map(r);return i.set(o.value[0],n(o.value[1])),U.some(i)}}},mt=function(e){var t=Me(e),n=Ne(e);return function(e){var r=n(e);return function(n){return(0,T.zG)(t(e,n),U.map((function(e){return[e,r(n)]})))}}},yt=De,vt=Me,bt=je,_t=new Map,wt=function(e,t){var n=je(e,t);return(0,k.f7)((function(e,t){return n(e,t)&&n(t,e)}))},St=function(e,t){var n=De(e);return{concat:function(e,r){if(e===Le)return r;if(r===Le)return e;for(var o,i=new Map(e),a=r.entries();!(o=a.next()).done;){var s=o.value,u=s[0],c=s[1],l=n(u,e);U.isSome(l)?i.set(l.value[0],t.concat(l.value[1],c)):i.set(u,c)}return i},empty:Le}},It=function(e,t){return new Map([[e,t]])};function xt(e,t,n){return function(e,t,n){return function(r){var o=De(e);return n.reduce(r,new Map,(function(e,n){var r=n[0],i=n[1],a=o(r,e);return U.isSome(a)?e.set(a.value[0],t.concat(a.value[1],i)):e.set(r,i),e}))}}(e,t,n)}var Et=Ke,kt=function(e){return function(t){return qe(t,e)}},Tt=function(e){return function(t){return Ve(t,e)}},At=function(e){return function(t){return We(t,e)}},Ct=function(e){return function(t){return Ue(t,e)}},Ot=function(e){return function(t){return He(t,e)}},Pt=function(e){return function(t){return $e(t,e)}},Rt=Ye,Nt="Map",Dt=function(){return{URI:Je,_E:void 0,map:We,mapWithIndex:Ue,compact:Ke,separate:Ye,filter:qe,filterMap:Ve,partition:He,partitionMap:$e,partitionMapWithIndex:Fe,partitionWithIndex:Be,filterMapWithIndex:Ge,filterWithIndex:ze}},Mt=function(e){var t=Oe(e),n=function(e,n,r){for(var o=n,i=t(e),a=i.length,s=0;s<a;s++){var u=i[s];o=r(u,o,e.get(u))}return o},r=function(e){return function(n,r){for(var o=e.empty,i=t(n),a=i.length,s=0;s<a;s++){var u=i[s];o=e.concat(o,r(u,n.get(u)))}return o}},o=function(e,n,r){for(var o=n,i=t(e),a=i.length-1;a>=0;a--){var s=i[a];o=r(s,e.get(s),o)}return o},i=function(e){return function(n,r){for(var o=e.of(Le),i=t(n),a=i.length,s=function(t){var a=i[t],s=n.get(a);o=e.ap(e.map(o,(function(e){return function(t){return new Map(e).set(a,t)}})),r(a,s))},u=0;u<a;u++)s(u);return o}},a=function(e){var t=i(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}};return{URI:Je,_E:void 0,map:We,compact:Ke,separate:Ye,filter:qe,filterMap:Ve,partition:He,partitionMap:$e,reduce:function(e,t,r){return n(e,t,(function(e,t,n){return r(t,n)}))},foldMap:function(e){var t=r(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}},reduceRight:function(e,t,n){return o(e,t,(function(e,t,r){return n(t,r)}))},traverse:a,sequence:function(e){var t=i(e);return function(e){return t(e,(function(e,t){return t}))}},mapWithIndex:Ue,reduceWithIndex:n,foldMapWithIndex:r,reduceRightWithIndex:o,traverseWithIndex:i,wilt:function(e){var t=a(e);return function(n,r){return e.map(t(n,r),Ye)}},wither:function(e){var t=a(e);return function(n,r){return e.map(t(n,r),Ke)}}}},jt={URI:Nt,map:Xe},Lt={URI:Nt,compact:Et,separate:Rt},Ut={URI:Nt,map:Xe,compact:Et,separate:Rt,filter:Qe,filterMap:Ze,partition:et,partitionMap:tt},Ft=Ut,Bt=n(64681);function Gt(e){return{_tag:"Left",left:e}}function zt(e){return{_tag:"Right",right:e}}function Wt(e,t){return{_tag:"Both",left:e,right:t}}function qt(e,t,n){return function(r){switch(r._tag){case"Left":return e(r.left);case"Right":return t(r.right);case"Both":return n(r.left,r.right)}}}qt(zt,Gt,(function(e,t){return Wt(t,e)}));function Vt(e,t){return{show:qt((function(t){return"left("+e.show(t)+")"}),(function(e){return"right("+t.show(e)+")"}),(function(n,r){return"both("+e.show(n)+", "+t.show(r)+")"}))}}function Ht(e,t){return(0,k.f7)((function(n,r){return Zt(n)?Zt(r)&&e.equals(n.left,r.left):en(n)?en(r)&&t.equals(n.right,r.right):tn(r)&&e.equals(n.left,r.left)&&t.equals(n.right,r.right)}))}function $t(e,t){return{concat:function(n,r){return Zt(n)?Zt(r)?Gt(e.concat(n.left,r.left)):en(r)?Wt(n.left,r.right):Wt(e.concat(n.left,r.left),r.right):en(n)?Zt(r)?Wt(r.left,n.right):en(r)?zt(t.concat(n.right,r.right)):Wt(r.left,t.concat(n.right,r.right)):Zt(r)?Wt(e.concat(n.left,r.left),n.right):en(r)?Wt(n.left,t.concat(n.right,r.right)):Wt(e.concat(n.left,r.left),t.concat(n.right,r.right))}}}function Kt(e){return{URI:En,_E:void 0,map:ln,of:zt,ap:function(t,n){return Zt(t)?Zt(n)?Gt(e.concat(t.left,n.left)):en(n)?Gt(t.left):Gt(e.concat(t.left,n.left)):en(t)?Zt(n)?Gt(n.left):en(n)?zt(t.right(n.right)):Wt(n.left,t.right(n.right)):Zt(n)?Gt(e.concat(t.left,n.left)):en(n)?Wt(t.left,t.right(n.right)):Wt(e.concat(t.left,n.left),t.right(n.right))}}}function Yt(e){var t=Kt(e);return{URI:En,_E:void 0,map:ln,of:zt,ap:t.ap,chain:function(t,n){if(Zt(t))return t;if(en(t))return n(t.right);var r=n(t.right);return Zt(r)?Gt(e.concat(t.left,r.left)):en(r)?Wt(t.left,r.right):Wt(e.concat(t.left,r.left),r.right)},throwError:Gt}}function Jt(e,t){return function(n){return Zt(n)?[n.left,t]:en(n)?[e,n.right]:[n.left,n.right]}}function Xt(e){return Zt(e)?(0,U.some)(e.left):en(e)?U.none:(0,U.some)(e.left)}function Qt(e){return Zt(e)?U.none:(en(e),(0,U.some)(e.right))}function Zt(e){return"Left"===e._tag}function en(e){return"Right"===e._tag}function tn(e){return"Both"===e._tag}function nn(e){return function(t){return(0,U.isNone)(t)?Gt(e):Wt(e,t.value)}}function rn(e){return function(t){return(0,U.isNone)(t)?zt(e):Wt(t.value,e)}}function on(e){return Zt(e)?(0,U.some)(e.left):U.none}function an(e){return en(e)?(0,U.some)(e.right):U.none}function sn(e,t){return(0,U.isNone)(e)?(0,U.isNone)(t)?U.none:(0,U.some)(zt(t.value)):(0,U.isNone)(t)?(0,U.some)(Gt(e.value)):(0,U.some)(Wt(e.value,t.value))}var un,cn,ln=function(e,t){return(0,T.zG)(e,bn(t))},dn=function(e,t,n){return(0,T.zG)(e,yn(t,n))},pn=function(e,t){return(0,T.zG)(e,vn(t))},hn=function(e,t,n){return(0,T.zG)(e,_n(t,n))},fn=function(e){var t=wn(e);return function(e,n){return(0,T.zG)(e,t(n))}},gn=function(e,t,n){return(0,T.zG)(e,Sn(t,n))},mn=function(e){var t=In(e);return function(e,n){return(0,T.zG)(e,t(n))}},yn=function(e,t){return function(n){return Zt(n)?Gt(e(n.left)):en(n)?zt(t(n.right)):Wt(e(n.left),t(n.right))}},vn=function(e){return function(t){return Zt(t)?Gt(e(t.left)):tn(t)?Wt(e(t.left),t.right):t}},bn=function(e){return function(t){return Zt(t)?t:en(t)?zt(e(t.right)):Wt(t.left,e(t.right))}},_n=function(e,t){return function(n){return Zt(n)?e:(en(n),t(e,n.right))}},wn=function(e){return function(t){return function(n){return Zt(n)?e.empty:(en(n),t(n.right))}}},Sn=function(e,t){return function(n){return Zt(n)?e:(en(n),t(n.right,e))}},In=function(e){return function(t){return function(n){return Zt(n)?e.of(n):en(n)?e.map(t(n.right),zt):e.map(t(n.right),(function(e){return Wt(n.left,e)}))}}},xn=function(e){return function(t){return Zt(t)?e.of(t):en(t)?e.map(t.right,zt):e.map(t.right,(function(e){return Wt(t.left,e)}))}},En="These",kn={URI:En,map:ln},Tn={URI:En,bimap:dn,mapLeft:pn},An={URI:En,reduce:hn,foldMap:fn,reduceRight:gn},Cn={URI:En,map:ln,reduce:hn,foldMap:fn,reduceRight:gn,traverse:mn,sequence:xn},On={URI:En,map:ln,bimap:dn,mapLeft:pn,reduce:hn,foldMap:fn,reduceRight:gn,traverse:mn,sequence:xn};function Pn(e){return tn(e)?Wt(e.right,e.left):(0,L.swap)(e)}!function(e){function t(t,n,r){return function(o){return e.fromMutation((function(i){(0,A.pipe)(o,e.forEach((function(e,n){return i.set(n,Gt(t(n,e)))}),(function(e,t,r){return(0,A.pipe)(n(r,e,t),(function(e){var t=e[0],n=e[1];return i.set(r,Wt(t,n))}))}),(function(e,t){return i.set(t,zt(r(t,e)))})))}))}}function n(t,n,r){return function(o){return e.fromMutation((function(i){(0,A.pipe)(o,e.forEach((function(e,n){return t(n,e)&&i.set(n,Gt(e))}),(function(e,t,r){return n(r,e,t)&&i.set(r,Wt(e,t))}),(function(e,t){return r(t,e)&&i.set(t,zt(e))})))}))}}function r(e){return function(t,n,r){return function(o){var i=cn.iso().unwrap(o),a=e.empty;return i.forEach((function(o,i){a=e.concat(a,qt((function(e){return t(i,e)}),(function(e){return r(i,e)}),(function(e,t){return n(i,e,t)}))(o))})),a}}}e.reduce=function(e,t,n,r){return function(o){var i=cn.iso().unwrap(o),a=e;return i.forEach((function(e,o){a=qt((function(e){return t(a,e,o)}),(function(e){return r(a,e,o)}),(function(e,t){return n(a,e,t,o)}))(e)})),a}},e.mapWithIndex=t,e.map=function(e,n,r){return t((function(t,n){return e(n)}),(function(e,t,r){return n(t,r)}),(function(e,t){return r(t)}))},e.filterWithIndex=n,e.filter=function(e,t,r){return n((function(t,n){return e(n)}),(function(e,n,r){return t(n,r)}),(function(e,t){return r(t)}))},e.foldMapWithIndex=r,e.foldMap=function(e){return function(t,n,o){return r(e)((function(e,n){return t(n)}),(function(e,t,r){return n(t,r)}),(function(e,t){return o(t)}))}},e.forEach=function(e,t,n){return function(r){cn.iso().unwrap(r).forEach((function(r,o){qt((function(t){return e(t,o)}),(function(e){return n(e,o)}),(function(e,n){return t(e,n,o)}))(r)}))}},e.fromMutation=function(e){var t=cn.empty();return e(t),cn.iso().wrap(t)},e.empty=function(){return cn.iso().wrap(cn.empty())},e.concat=function(e,t,n){var r=cn.iso();return r.wrap(cn.concat(e,r.unwrap(t),r.unwrap(n)))},e.inverse=function(e){var t=cn.iso();return(0,A.pipe)(t.unwrap(e),At(Pn),t.wrap)},e.getEq=function(e,t){return Bt.Eh(cn.getEq(e,t))},e.toJSON=function(e){return Array.from(cn.iso().unwrap(e))},e.getShow=function(e,t){return cn.getShow(e,t)},e.isEmpty=function(e){return 0===cn.iso().unwrap(e).size}}(un||(un={})),function(e){e.iso=function(){return Bt.k4()},e.empty=function(){return new Map};e.concat=function(e,t,n){var r=new Map(t);return n.forEach((function(t,n){r.has(n)?(0,A.pipe)(function(e,t,n){return Ht(e,e).equals(t,n)?U.some(n):Ht(e,e).equals(t,Pn(n))?U.none:Zt(t)?qt((function(){return U.some(Gt(t.left))}),(function(e){return U.some(Wt(t.left,e))}),(function(n,r){return e.equals(t.left,r)?U.none:U.some(Wt(t.left,r))}))(n):en(t)?qt((function(){return U.none}),(0,T.ls)(zt,U.some),(function(e,t){return U.some(zt(t))}))(n):qt((function(){return U.some(Gt(t.left))}),(0,T.ls)(zt,U.some),(function(n,r){return e.equals(t.left,r)?U.none:U.some(Wt(t.left,r))}))(n)}(e,r.get(n),t),U.fold((function(){r.delete(n)}),(function(e){return r.set(n,e)}))):r.set(n,t)})),r},e.inverse=At(Pn),e.getEq=function(e,t){return wt(e,Ht(t,t))},e.getShow=function(e,t){return nt(e,Vt(t,t))}}(cn||(cn={}));var Rn,Nn=n(26328),Dn=n(64015);!function(e){e.make=function(e,t,n){return{lefts:e.slice(),focus:t,rights:n.slice()}},e.fromReadonlyArray=function(t,n){return void 0===n&&(n=0),Dn.xb(t)||Dn.dC(n,t)?U.none:U.some(e.make((0,T.zG)(t.slice(),E.ke(n)),t[n],(0,T.zG)(t.slice(),E.md(n+1))))},e.fromArray=e.fromReadonlyArray,e.fromReadonlyNonEmptyArray=function(t){return e.make([],t[0],t.slice(1))},e.fromNonEmptyArray=e.fromReadonlyNonEmptyArray,e.isOutOfBound=function(t,n){return t<0||t>=e.length(n)},e.length=function(e){return e.lefts.length+1+e.rights.length},e.toNonEmptyArray=function(e){return(0,T.zG)(Nn.of(e.focus),(function(t){return Nn.zo(e.lefts,t)}),(function(t){return Nn.zo(t,e.rights)}))},e.toReadonlyNonEmptyArray=e.toNonEmptyArray,e.toArray=e.toNonEmptyArray,e.update=function(t){return function(n){return e.make(n.lefts,t,n.rights)}},e.modify=function(t){return function(n){return(0,T.zG)(n,e.update(t(n.focus)))}},e.move=function(t,n){var r=t(n.lefts.length);return e.isOutOfBound(r,n)?U.none:e.fromArray(e.toNonEmptyArray(n),r)},e.findIndex=function(e){return function(t){return(0,T.zG)(t.lefts,Dn.cx(e),U.alt((function(){return e(t.focus)?U.some(t.lefts.length):U.none})),U.alt((function(){return(0,T.zG)(t.rights,Dn.cx(e),U.map((function(e){return t.lefts.length+1+e})))})))}},e.moveByFindFirst=function(t){return function(n){return(0,T.zG)(n,e.findIndex(t),U.chain((function(t){return t===n.lefts.length?U.some(n):e.move((function(){return t}),n)})))}},e.up=function(t){return e.move(T.Mj,t)},e.down=function(t){return e.move(T.nP,t)},e.start=function(t){return E.xb(t.lefts)?t:e.make([],t.lefts[0],E.Ss((0,T.zG)(t.lefts,E.md(1)),t.focus).concat(t.rights))},e.end=function(t){var n=t.rights.length;return 0===n?t:e.make(E.Ss(t.lefts,t.focus).concat((0,T.zG)(t.rights,E.ke(n-1))),t.rights[n-1],[])},e.insertLeft=function(t){return function(n){return e.make(n.lefts,t,E.QI(n.focus,n.rights))}},e.insertRight=function(t){return function(n){return e.make(E.Ss(n.lefts,n.focus),t,n.rights)}},e.deleteLeft=function(t){var n=t.lefts.length;return e.fromArray(t.lefts.concat(t.rights),n>0?n-1:0)},e.deleteRight=function(t){var n=t.lefts.length,r=t.rights.length;return e.fromArray(t.lefts.concat(t.rights),r>0?n:n-1)};var t=function(t,n){return e.make(t.lefts.map(n),n(t.focus),t.rights.map(n))},n=function(t,n){var r=t.lefts.length;return e.make(t.lefts.map((function(e,t){return n(t,e)})),n(r,t.focus),t.rights.map((function(e,t){return n(r+1+t,e)})))},r=function(t,n){return e.make(E.IX.ap(t.lefts,n.lefts),t.focus(n.focus),E.IX.ap(t.rights,n.rights))},o=function(t,n){var r=t.lefts.map((function(r,o){return n(e.make((0,T.zG)(t.lefts,E.ke(o)),r,E.Ss((0,T.zG)(t.lefts,E.md(o+1)),t.focus).concat(t.rights)))})),o=t.rights.map((function(r,o){return n(e.make(E.Ss(t.lefts,t.focus).concat((0,T.zG)(t.rights,E.ke(o))),r,(0,T.zG)(t.rights,E.md(o+1))))}));return e.make(r,n(t),o)},i=function(e,t,n){return e.rights.reduce(n,n(e.lefts.reduce(n,t),e.focus))},a=function(e,t,n){var r=e.rights.reduceRight((function(e,t){return n(t,e)}),t),o=n(e.focus,r);return e.lefts.reduceRight((function(e,t){return n(t,e)}),o)},s=function(e){return function(t,n){var r=t.lefts.reduce((function(t,r){return e.concat(t,n(r))}),e.empty),o=t.rights.reduce((function(t,r){return e.concat(t,n(r))}),e.empty);return e.concat(e.concat(r,n(t.focus)),o)}},u=function(t){var n=E.IX.traverse(t);return function(r,o){return t.ap(t.ap(t.map(n(r.lefts,o),(function(t){return function(n){return function(r){return e.make(t,n,r)}}})),o(r.focus)),n(r.rights,o))}};e.map=function(e){return function(n){return t(n,e)}},e.mapWithIndex=function(e){return function(t){return n(t,e)}},e.ap=function(e){return function(t){return r(t,e)}},e.apFirst=function(t){return function(n){return(0,T.zG)(n,e.map((function(e){return function(t){return e}})),e.ap(t))}},e.apSecond=function(t){return function(n){return(0,T.zG)(n,e.map((function(){return function(e){return e}})),e.ap(t))}},e.of=function(t){return e.make([],t,[])},e.extend=function(e){return function(t){return o(t,e)}},e.duplicate=e.extend(T.yR),e.foldMap=function(e){return function(t){return function(n){return s(e)(n,t)}}},e.reduce=function(e,t){return function(n){return i(n,e,t)}},e.reduceRight=function(e,t){return function(n){return a(n,e,t)}},e.sequence=function(t){var n=E.IX.sequence(t);return function(r){return t.ap(t.ap(t.map(n(r.lefts),(function(t){return function(n){return function(r){return e.make(t,n,r)}}})),r.focus),n(r.rights))}},e.extract=function(e){return e.focus},e.URI="Zipper",e.getShow=function(e){var t=E.ZN(e);return{show:function(n){return"Zipper(".concat(t.show(n.lefts),", ").concat(e.show(n.focus),", ").concat(t.show(n.rights),")")}}},e.getSemigroup=function(t){return{concat:function(n,r){return e.make(n.lefts.concat(r.lefts),t.concat(n.focus,r.focus),n.rights.concat(r.rights))}}},e.getMonoid=function(t){return(0,x.__assign)((0,x.__assign)({},e.getSemigroup(t)),{empty:e.make([],t.empty,[])})},e.Functor={URI:e.URI,map:t},e.FunctorWithIndex={URI:e.URI,map:t,mapWithIndex:n},e.Applicative={URI:e.URI,map:t,ap:r,of:e.of},e.Apply={URI:e.URI,map:t,ap:r},e.Foldable={URI:e.URI,foldMap:s,reduce:i,reduceRight:a},e.Traversable={URI:e.URI,map:t,foldMap:s,reduce:i,reduceRight:a,traverse:u,sequence:e.sequence},e.Comonad={URI:e.URI,map:t,extend:o,extract:e.extract},e.zipper={URI:e.URI,map:t,of:e.of,ap:r,extend:o,extract:e.extract,reduce:i,reduceRight:a,foldMap:s,traverse:u,sequence:e.sequence,mapWithIndex:n}}(Rn||(Rn={}));var Mn=function(){function e(t,n){void 0===n&&(n=new URLSearchParams),this.base=t,this.params=n;var r=e._toString(t,n).length;(0,p.kG)(r<e.MAX_URL_LENGTH,"url exceeded length limit",String(r))}return e.prototype.addParams=function(t){var n,r=Object.entries(t).reduce((function(e,t){var n=t[0],r=t[1];return e.append(n,r),e}),(n=this.params,new URLSearchParams(n.toString())));return new e(this.base,r)},e.prototype.toString=function(){return e._toString(this.base,this.params)},e._toString=function(e,t){var n=t.toString();return"".concat(e).concat(n.length?"?".concat(n):"")},e.MAX_URL_LENGTH=2083,e}();function jn(e){return Math.abs((1.3685032914*e+.7230964518)%1)}var Ln,Un=function(e){return function(t){for(var n,r=t.slice(0),o=r.length;o>0;){n=jn(e);var i=Math.floor(n*o--),a=r[i];r[i]=r[o],r[o]=a}return r}};function Fn(e){return function(t){if(t.length<2)return t;for(var n=[],r=0;r<t.length;r++)0===n.length?n.push(t[r]):n.push.apply(n,e(n.pop(),t[r]));return n}}function Bn(e,t,n){return void 0===n&&(n=function(){return!0}),E.Eg(e,t,n)}function Gn(e){return{equals:function(t,n){return(0,p.kG)(e.equals(t,n),"\nabsurd state accured",(function(){return"\n".concat(e.show(t),"\ndoes not equal to:\n").concat(e.show(n))})),!0}}}!function(e){e.from=function(e){return e},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.from(t)}}(Ln||(Ln={}));var zn={equals:function(){return!0}},Wn=n(48837),qn=n(83078),Vn="Map";function Hn(){var e=function(e,t,n){var r=t;return e.forEach((function(e,t){return r=n(t,r,e)})),r};return{URI:Vn,_E:void 0,reduce:function(t,n,r){return e(t,n,(function(e,t,n){return r(t,n)}))},foldMap:function(t){return function(n,r){return e(n,t.empty,(function(e,n,o){return t.concat(n,r(o))}))}},reduceRight:function(t,n,r){return e(t,n,(function(e,t,n){return r(n,t)}))},reduceWithIndex:e,reduceRightWithIndex:function(t,n,r){return e(t,n,(function(e,t,n){return r(e,n,t)}))},foldMapWithIndex:function(t){return function(n,r){return e(n,t.empty,(function(e,n,o){return t.concat(n,r(e,o))}))}}}}function $n(e){return{equals:function(t,n){if(t===n)return!0;if(t.size===n.size){for(var r=t.keys(),o=void 0;!1===(o=r.next()).done;)if(!n.has(o.value)||!e.equals(t.get(o.value),n.get(o.value)))return!1;return!0}return!1}}}function Kn(e){return function(t,n){return un.fromMutation((function(r){return t.forEach((function(t,o){if(n.has(o)){var i=n.get(o);e.equals(t,i)||r.set(o,Wt(t,i))}else r.set(o,Gt(t))})),n.forEach((function(n,o){if(t.has(o)){var i=t.get(o);e.equals(i,n)||r.set(o,Wt(i,n))}else r.set(o,zt(n))})),r}))}}var Yn,Jn=Qn(T.yR),Xn=Qn(Pn);function Qn(e){return function(t,n,r){var o=new Map(n),i=new Map;return cn.iso().unwrap(r).forEach((function(n,r){(0,A.pipe)(n,e,t(U.fromNullable(o.get(r))),yn((function(e){return i.set(r,e)}),U.fold((function(){o.delete(r)}),(function(e){return o.set(r,e)}))))})),i.size>0?L.left({recovered:o,rejected:i}):L.right(o)}}function Zn(e){return function(t,n){var r=[],o=new Map(t);return n.forEach((function(t,n){(0,A.pipe)(yt(e)(n,o),qn.tapLeft((function(){return r.push(n)})))})),r}}!function(e){e.createStrict=function(e){return function(t){return qt((function(n){return U.isNone(t)?Gt("can not remove non existent entry: left(".concat(e.show(n),")")):e.equals(t.value,n)?zt(U.none):Gt("can not remove non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),")"))}),(function(n){return U.isSome(t)?Gt("can not add existent entry: target(".concat(e.show(t.value),") right(").concat(e.show(n),")")):zt(U.some(n))}),(function(n,r){return e.equals(n,r)?Gt("can not apply update with equals parts: left(".concat(e.show(n),") right(").concat(e.show(r),")")):U.isNone(t)?Gt("can not update non existent entry: left(".concat(e.show(n),") right(").concat(e.show(r),")")):e.equals(t.value,n)?zt(U.some(r)):Gt("can not apply update on non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),") right(").concat(e.show(r),")"))}))}},e.createLoose=function(e){return function(t){return qt((function(n){return U.isNone(t)?Gt("can not remove non existent entry: left(".concat(e.show(n),")")):e.equals(t.value,n)?zt(U.none):Wt("removed non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),")"),U.none)}),(function(n){return U.isSome(t)?Wt("existent entry was overwritten: target(".concat(e.show(t.value),") right(").concat(e.show(n),")"),U.some(n)):zt(U.some(n))}),(function(n,r){var o=e.equals(n,r)?U.some("unexpected equal parts in provided update"):U.none;return U.isNone(t)?Wt((0,A.pipe)(o,U.map((function(e){return e+", "})),U.getOrElse((function(){return""})))+"update applied on non existent entry: left(".concat(e.show(n),") right(").concat(e.show(r),")"),U.some(r)):e.equals(t.value,n)?(0,A.pipe)(o,U.map((function(t){return t+": left(".concat(e.show(n),") right(").concat(e.show(r),")")})),U.fold((function(){return zt(U.some(r))}),(function(e){return Wt(e,U.some(r))}))):Wt((0,A.pipe)(o,U.map((function(e){return e+", "})),U.getOrElse((function(){return""})))+"update applied on non equal entry: target(".concat(e.show(t.value),") left(").concat(e.show(n),") right(").concat(e.show(r),")"),U.some(r))}))}}}(Yn||(Yn={}));var er=n(3893),tr=n(4807),nr=n(73231),rr=n(17771),or=n(19429),ir=function(e){return function(t){return or.r1.map((0,rr.g)(or.r1)(e,t),(function(e){var t=e[0],n=e[1];return(0,Se.deepUpdate)(t,n)}))}},ar=(0,rr.Y)(or.r1),sr=n(22324),ur="RemoteData",cr={type:sr.Dy.InProgress};function lr(e){return{type:sr.Dy.Success,value:e}}function dr(e,t){return{type:sr.Dy.Error,error:e,status:t}}function pr(e){return{type:sr.Dy.Fatal,error:e}}function hr(e,t){return(0,k.f7)((function(n,r){return"InProgress"===n.type&&"InProgress"===r.type||("Success"===n.type&&"Success"===r.type?e.equals(n.value,r.value):("Error"===n.type&&"Error"===r.type||"Fatal"===n.type&&"Fatal"===r.type)&&t.equals(n.error,r.error))}))}function fr(e){return function(t){switch(t.type){case sr.Dy.InProgress:return e.onInProgress();case sr.Dy.Success:return e.onSuccess(t.value);case sr.Dy.Error:return e.onError(t.error);case sr.Dy.Fatal:return e.onFatal(t.error);default:return(0,p.vE)(t)}}}var gr,mr={URI:ur,of:lr,ap:function(e,t){return(0,sr.d6)(e)?(0,sr.d6)(t)?lr(e.value(t.value)):t:e},map:function(e,t){return(0,sr.d6)(e)?lr(t(e.value)):e},chain:function(e,t){return(0,sr.d6)(e)?t(e.value):e},bimap:function(e,t,n){return(0,sr.n2)(e)?e:(0,sr.d6)(e)?lr(n(e.value)):(0,sr.VZ)(e)?dr(t(e.error),e.status):pr(t(e.error))},mapLeft:function(e,t){return mr.bimap(e,t,T.yR)}},yr=(0,A.pipeable)(mr),vr=yr.map,br=yr.mapLeft,_r=yr.chain,wr=yr.chainFirst,Sr=yr.ap,Ir=yr.apFirst,xr=yr.apSecond,Er=yr.bimap,kr=yr.flatten,Tr=n(51072),Ar=n(11064),Cr=n(50157);function Or(e){var t,n,r=(t=e,n=U.Applicative,{map:(0,Cr.o)(t,n).map,of:function(e){return t.of(n.of(e))},ap:function(e,r){return t.ap(t.map(e,(function(e){return function(t){return n.ap(e,t)}})),r)}}),o=e.of(U.none);return{map:r.map,ap:r.ap,of:r.of,chain:function(t,n){return e.chain(t,(0,U.fold)((function(){return o}),n))},alt:function(t,n){return e.chain(t,(0,U.fold)(n,(function(t){return e.of((0,U.some)(t))})))},fold:function(t,n,r){return e.chain(t,(0,U.fold)(n,r))},getOrElse:function(t,n){return e.chain(t,(0,U.fold)(n,e.of))},fromM:function(t){return e.map(t,U.some)},none:function(){return o}}}!function(e){var t;e.URI="IOOption",e.ioOption=(0,x.__assign)({URI:e.URI},Or(Ar.io)),t=(0,A.pipeable)(e.ioOption),e.map=t.map,e.chain=t.chain,e.ap=t.ap,e.alt=t.alt,e.apFirst=t.apFirst,e.apSecond=t.apSecond,e.of=e.ioOption.of,e.fold=function(t,n){return function(r){return e.ioOption.fold(r,t,n)}},e.fromM=e.ioOption.fromM}(gr||(gr={}));var Pr,Rr=n(81670);!function(e){e.invariantContent=function(e){return"function"==typeof Proxy?new Proxy({},{get:function(t,n){if(null==t[n])throw new Error("Please provide context using ".concat(e,".Context.Provider"));return t[n]}}):void 0}}(Pr||(Pr={}));var Nr=["http","https","mailto","tel"];var Dr=function(e){return j.tryCatchError((function(){return new URL(e)}))},Mr=(0,T.ls)(Dr,L.fold((function(){return!1}),(function(e){return Nr.includes(e.protocol.replace(":",""))}))),jr=L.fromPredicate((function(e){return e.length<=Mn.MAX_URL_LENGTH}),(function(){return new Error("URL is too long")})),Lr=L.fromPredicate((function(e){return e.length>0}),(function(){return new Error("URL is too short")})),Ur=L.fromPredicate(Mr,(function(){return new Error("Url contains invalid protocol")})),Fr=(0,T.ls)(Ie.sanitize,Lr,L.map((function(e){return Ie.urlContainsProtocol(e)?e:"http://"+e})),L.chain((function(e){return(0,T.zG)(e,Dr,L.map((function(){return e})))})),L.chain(Ur),L.chain(jr))},80153:(e,t,n)=>{n.d(t,{G:()=>r});var r,o=n(40327),i=n(8125),a=n(5114);!function(e){e.string=function(e){return(0,o.pipe)(a.fromNullable(e),a.filter(i.Dw))},e.array=function(e){return(0,o.pipe)(a.fromNullable(e),a.map((function(e){return e.filter(Boolean)})),a.filter(i.Dw))}}(r||(r={}))},55415:(e,t,n)=>{n.r(t),n.d(t,{deepEqual:()=>C,deepUpdate:()=>w,filterKeys:()=>x,filterKeysBy:()=>E,fromEntries:()=>P,immutableUpdate:()=>f,immutableUpdateC:()=>g,immutableUpdateOption:()=>m,immutableUpdateOptionC:()=>y,isEmptyObject:()=>p,isEqual:()=>c,isObject:()=>d,keys:()=>I,merge:()=>v,modify:()=>S,objectWithoutProperties:()=>l,omit:()=>R,pick:()=>k,pickProps:()=>T,set:()=>A,structuredClone:()=>s,toArray:()=>h,update:()=>_});var r=n(59312),o=n(5114),i=n(40327),a=n(68983),s=function e(t){if("object"!=typeof t)return t;var n,r,o=Object.prototype.toString.call(t);if("[object Object]"===o){if(t.constructor!==Object&&"function"==typeof t.constructor)for(n in r=new t.constructor,t)t.hasOwnProperty(n)&&r[n]!==t[n]&&(r[n]=e(t[n]));else for(n in r={},t)"__proto__"===n?Object.defineProperty(r,n,{value:e(t[n]),configurable:!0,enumerable:!0,writable:!0}):r[n]=e(t[n]);return r}if("[object Array]"===o){for(n=t.length,r=Array(n);n--;)r[n]=e(t[n]);return r}if("[object Date]"===o)return new Date(+t);if("[object RegExp]"===o)return(r=new RegExp(t.source,t.flags)).lastIndex=t.lastIndex,r;return t};var u=Object.prototype.hasOwnProperty;function c(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&c(e[r],t[r]););return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(u.call(e,n)&&++r&&!u.call(t,n))return!1;if(!(n in t)||!c(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function d(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function p(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function h(e){return Object.keys(e).map((function(t){return e[t]}))}function f(e,t,n){var i,a=n,s=e,u=a[s],c=(0,r.__rest)(a,["symbol"==typeof s?s:s+""]);return(0,r.__assign)(((i={})[e]=t(o.fromNullable(u)),i),c)}var g=(0,a.W)(f);function m(e,t,n){var a=n,s=e,u=a[s],c=(0,r.__rest)(a,["symbol"==typeof s?s:s+""]),l="function"==typeof t?t(o.fromNullable(u)):t;return(0,i.pipe)(l,o.fold((function(){return c}),(function(t){var n;return(0,r.__assign)(((n={})[e]=t,n),c)})))}var y=(0,a.W)(m);function v(e,t){return b(b({},e),t)}function b(e,t){var n;for(var r in t){var o=null!==(n=e[r])&&void 0!==n?n:{},i=t[r];null!=i&&null!=o&&i.constructor===Object&&o.constructor===Object?e[r]=b(o,i):e[r]=i}return e}function _(e,t){return Object.assign({},e,t)}function w(e,t){var n={};for(var r in e){var o=t[r];void 0!==o?n[r]="object"==typeof o?w(e[r],o):o:n[r]=e[r]}return n}function S(e){return function(t){return _(t,e)}}function I(e){return Object.keys(e)}function x(e,t){return I(e).filter((function(n){return t(e[n])}))}function E(e){return function(t){return x(t,e)}}function k(e){return function(t){return t[e]}}function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,n){var o;return(0,r.__assign)((0,r.__assign)({},e),((o={})[n]=t[n],o))}),{})}}function A(e){return function(t,n){var o;return(0,r.__assign)((0,r.__assign)({},n),((o={})[e]=t,o))}}function C(e,t){if(e===t)return!0;if(O(e)||O(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!(n in t))return!1;if(!C(e[n],t[n]))return!1}return!0}function O(e){return e!==Object(e)}function P(e){return Array.from(e).reduce((function(e,t){var n,o=t[0],i=t[1];return(0,r.__assign)((0,r.__assign)({},e),((n={})[o]=i,n))}),{})}var R=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=(0,r.__assign)({},e);return t.forEach((function(e){return delete o[e]})),o}},81670:(e,t,n)=>{n.d(t,{T:()=>r});var r,o=n(71249),i=n(29909),a=n(57050),s=n(40327),u=n(95195);!function(e){function t(e){return e.left.length>0?u.left({rejected:e.left,recovered:e.right}):u.right(e.right)}e.URI="RecoverableOperation",e.fromArray=function(n){return function(r){return(0,s.pipe)(r.map((function(e){return(0,s.pipe)(n(e),u.mapLeft((function(t){return(0,a.bc)(t,e)})))})),o.oh,t,e.mapLeft((function(e){return e.map(i.Yg)})))}},e.map=function(e){return function(t){return(0,s.pipe)(t,u.bimap((function(t){return{rejected:t.rejected,recovered:e(t.recovered)}}),e))}},e.mapLeft=function(e){return function(t){return(0,s.pipe)(t,u.mapLeft((function(t){return{rejected:e(t.rejected),recovered:t.recovered}})))}},e.flatten=function(e){return function(t){return(0,s.pipe)(t,u.fold((function(t){return(0,s.pipe)(t.recovered,u.fold((function(n){return u.left({rejected:e.concat(t.rejected,n.rejected),recovered:n.recovered})}),(function(e){return u.left({rejected:t.rejected,recovered:e})})))}),a.yR))}},e.flatMap=function(t,n){return function(r){return(0,s.pipe)(r,e.map(n),e.flatten(t))}},e.recover=function(e){return u.fold((function(t){return e(t.rejected),t.recovered}),a.yR)},e.tapFailure=function(e){return u.mapLeft((function(t){return e(t),t}))},e.foldSuccess=function(e){return u.fold((function(t){return e(t.recovered)}),e)},e.of=function(e,t){return void 0===t?u.right(e):u.left({recovered:e,rejected:t})},e.fromSeparatedArray=t}(r||(r={}))},18208:(e,t,n)=>{n.r(t),n.d(t,{alphanumeric:()=>T,camelize:()=>c,capitalize:()=>u,charCount:()=>m,containsSpacesOnly:()=>A,containsWordSeparator:()=>C,decodeHTMLCodes:()=>S,escapeRegExp:()=>_,formatPrice:()=>b,getFirstMatch:()=>h,getFirstWord:()=>f,isBreakWordChar:()=>E,nbsp:()=>s,padStart:()=>w,pluralize:()=>v,replaceTabsWithSpaces:()=>y,sanitize:()=>p,toLowerCaseStart:()=>d,toTitleCase:()=>l,trimToLastWholeWord:()=>O,urlContainsProtocol:()=>x,urlToDomain:()=>I,wordCount:()=>g});var r,o=n(59312),i=n(31699),a=n(8125),s=String.fromCharCode(160);function u(e){return e?e[0].toUpperCase()+e.slice(1):""}function c(e){return e?e.replace(/(?:^|[-_\s])(\w)/g,(function(e,t){return t?t.toUpperCase():""})):""}function l(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function d(e){return e.charAt(0).toLowerCase()+e.substr(1)}function p(e,t){var n;return Boolean(e)&&"undefined"!=typeof self?t?i.sanitize(e,(0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)({},null!==(n=t.returnHTML)&&void 0!==n&&n?{RETURN_DOM_FRAGMENT:!0,RETURN_DOM_IMPORT:!0}:{}),t.allowedTags?{ALLOWED_TAGS:t.allowedTags}:{}),t.forbidTags?{FORBID_TAGS:t.forbidTags}:{}),t.allowedAttrs?{ALLOWED_ATTR:t.allowedAttrs}:{}),"boolean"==typeof t.sanitizeDom?{SANITIZE_DOM:t.sanitizeDom}:{}),"boolean"==typeof t.allowDataAttrs?{ALLOW_DATA_ATTR:t.allowDataAttrs}:{}),{ALLOWED_URI_REGEXP:t.linkRegExp||r.URI_REGEXP})):i.sanitize(e):""}function h(e,t){var n=e.match(t);return n&&n[1]}function f(e){return e.split(/\s+/)[0]}function g(e){if(!e)return 0;var t=e.replace(/[\W\d]/gi," ").replace(/\s+/gi," ").trim().split(" ");return 1===t.length&&""===t[0]?0:t.length}function m(e){return a.Jx(e).length}function y(e){return e.replace(/\t/g,"    ")}function v(e,t,n){return 1===e?t:n}function b(e,t){return void 0===t&&(t="en-US"),e.toLocaleString(t,{minimumFractionDigits:2,maximumFractionDigits:2})}function _(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function w(e,t,n){return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e))}function S(e){var t,n,r=document.createElement("div");return r.innerHTML=p(e),null!==(n=null!==(t=r.textContent)&&void 0!==t?t:r.innerText)&&void 0!==n?n:""}function I(e){if(!e)return"";var t=document.createElement("a");return t.href=e,t.hostname}function x(e){return!!e.match("\\w+\\:.*")}function E(e){return e&&(e<48||58===e||59===e||63===e)||!1}!function(e){e.URI_REGEXP=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i}(r||(r={}));var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function T(e){if(e<0)throw new TypeError("Length should not be negative: ".concat(e));return Array.from({length:e},(function(){return k.charAt(Math.random()*k.length)})).join("")}function A(e){return null!==e.match(/^[^\S\r\n]+$/)}function C(e){return null!==e.match(/[\s\r\n\t]/)}function O(e,t){return e.length<=t?e:e.substr(0,t).split(" ").slice(0,-1).join(" ")}},95574:(e,t,n)=>{n.r(t),n.d(t,{Alt:()=>o.Alt,Applicative:()=>o.Applicative,Bifunctor:()=>o.Bifunctor,ChainRec:()=>o.ChainRec,Do:()=>o.Do,Extend:()=>o.Extend,Foldable:()=>o.Foldable,Functor:()=>o.Functor,Monad:()=>o.Monad,MonadThrow:()=>o.MonadThrow,Traversable:()=>o.Traversable,URI:()=>o.URI,alt:()=>o.alt,altW:()=>o.altW,ap:()=>o.ap,apFirst:()=>o.apFirst,apS:()=>o.apS,apSW:()=>o.apSW,apSecond:()=>o.apSecond,apW:()=>o.apW,bimap:()=>o.bimap,bind:()=>o.bind,bindTo:()=>o.bindTo,bindW:()=>o.bindW,chain:()=>o.chain,chainFirst:()=>o.chainFirst,chainFirstW:()=>o.chainFirstW,chainLeft:()=>c,chainNullableK:()=>o.chainNullableK,chainW:()=>o.chainW,duplicate:()=>o.duplicate,either:()=>o.either,elem:()=>o.elem,exists:()=>o.exists,extend:()=>o.extend,filterOrElse:()=>o.filterOrElse,filterOrElseW:()=>o.filterOrElseW,flatMap:()=>h,flatMapLeft:()=>d,flatten:()=>o.flatten,flattenLeft:()=>l,fold:()=>o.fold,foldMap:()=>o.foldMap,fromNullable:()=>o.fromNullable,fromNullableK:()=>o.fromNullableK,fromOption:()=>o.fromOption,fromPredicate:()=>o.fromPredicate,getAltValidation:()=>o.getAltValidation,getApplicativeValidation:()=>o.getApplicativeValidation,getApplyMonoid:()=>o.getApplyMonoid,getApplySemigroup:()=>o.getApplySemigroup,getEq:()=>o.getEq,getFilterable:()=>o.getFilterable,getOrElse:()=>o.getOrElse,getOrElseW:()=>o.getOrElseW,getSemigroup:()=>o.getSemigroup,getShow:()=>o.getShow,getValidation:()=>o.getValidation,getValidationMonoid:()=>o.getValidationMonoid,getValidationSemigroup:()=>o.getValidationSemigroup,getWitherable:()=>o.getWitherable,isLeft:()=>o.isLeft,isRight:()=>o.isRight,left:()=>o.left,map:()=>o.map,map2:()=>p,mapLeft:()=>o.mapLeft,of:()=>o.of,orElse:()=>o.orElse,parseFiniteInt:()=>g,parseFloat:()=>f,parseJSON:()=>o.parseJSON,reduce:()=>o.reduce,reduceRight:()=>o.reduceRight,right:()=>o.right,sequence:()=>o.sequence,sequenceArray:()=>o.sequenceArray,stringifyJSON:()=>o.stringifyJSON,swap:()=>o.swap,throwError:()=>o.throwError,toError:()=>o.toError,traverse:()=>o.traverse,traverseArray:()=>o.traverseArray,traverseArrayWithIndex:()=>o.traverseArrayWithIndex,tryCatch:()=>o.tryCatch,tryCatchError:()=>u,unsafeGet:()=>s});var r=n(17771),o=n(95195),i=n(57050),a=n(40327),s=(0,o.fold)((function(e){throw e}),i.yR),u=function(e){return(0,o.tryCatch)(e,o.toError)},c=function(e){return(0,o.fold)(e,o.right)},l=function(e){return o.either.chain(e,i.yR)},d=function(e){return function(t){return(0,a.pipe)(t,c((function(t){return e})))}},p=function(e){return function(t){var n=t[0],i=t[1];return(0,o.map)((function(t){var n=t[0],r=t[1];return e(n,r)}))((0,r.g)(o.either)(n,i))}},h=o.chain,f=function(e){return(0,a.pipe)(parseFloat(e),(0,o.fromPredicate)((0,i.ff)(isNaN),(0,i.a9)(new Error('Could not parse float (got "'.concat(e,'")')))))},g=function(e){return(0,a.pipe)(parseInt(e,10),(0,o.fromPredicate)(isFinite,(0,i.a9)(new Error('Could not parse integer (got "'.concat(e,'")')))))}},48837:(e,t,n)=>{n.r(t),n.d(t,{getNewtypeGroup:()=>s,getStructGroup:()=>a,groupSum:()=>i});var r=n(59312),o=n(35214),i=(0,r.__assign)((0,r.__assign)({},o.monoidSum),{inverse:function(e){return-e}});function a(e){return(0,r.__assign)((0,r.__assign)({},o.getStructMonoid(e)),{inverse:function(t){for(var n={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];n[i]=e[i].inverse(t[i])}return n}})}var s=function(e){return e}},3893:(e,t,n)=>{n.r(t),n.d(t,{Alt:()=>r.Rr,Applicative:()=>r.g1,Comonad:()=>r.sR,Do:()=>r.Do,Foldable:()=>r.$6,FoldableWithIndex:()=>r.bw,Functor:()=>r.dO,FunctorWithIndex:()=>r.u9,Monad:()=>r.UA,Traversable:()=>r.Kd,TraversableWithIndex:()=>r.Ot,URI:()=>r.ov,alt:()=>r.wp,altW:()=>r.Gk,ap:()=>r.ap,apFirst:()=>r.N,apS:()=>r.Qt,apSecond:()=>r.a1,bind:()=>r.ak,bindTo:()=>r.YO,chain:()=>r.tS,chainFirst:()=>r.mU,concat:()=>r.zo,cons:()=>r.QI,copy:()=>r.JG,duplicate:()=>r.OM,extend:()=>r.l7,extract:()=>r.Kl,filter:()=>r.hX,filterWithIndex:()=>r.z7,flatten:()=>r.xH,fold:()=>r.g_,foldMap:()=>r.Lx,foldMapWithIndex:()=>r.xP,fromArray:()=>r.nI,fromNullableArray:()=>s,getEq:()=>r.Eh,getSemigroup:()=>r.jG,getShow:()=>r.ZN,group:()=>r.ru,groupBy:()=>r.vM,groupSort:()=>r.IR,head:()=>r.YM,init:()=>r.S1,insertAt:()=>r.ZQ,intersperse:()=>r.iD,last:()=>r.Z$,map:()=>r.UI,mapWithIndex:()=>r.Su,max:()=>r.Fp,min:()=>r.VV,modifyAt:()=>r.cq,nonEmptyArray:()=>r.uW,of:()=>r.of,prependToAll:()=>r.Wr,reduce:()=>r.u4,reduceRight:()=>r.nq,reduceRightWithIndex:()=>r.iw,reduceWithIndex:()=>r.To,reverse:()=>r.GY,sequence:()=>r.vP,snoc:()=>r.Ss,sort:()=>r.DY,tail:()=>r.Gb,traverse:()=>r.fw,traverseWithIndex:()=>r.r7,uncons:()=>r.pW,unsnoc:()=>r.g7,unzip:()=>a,updateAt:()=>r.Wl,zip:()=>r.$R,zipWith:()=>r.yL});var r=n(26328),o=n(57050),i=n(5114);function a(e){for(var t=(0,r.of)(e[0][0]),n=(0,r.of)(e[0][1]),o=1;o<e.length;o++)t[o]=e[o][0],n[o]=e[o][1];return[t,n]}var s=(0,o.ls)(i.fromNullable,(0,i.chain)(r.nI))},83078:(e,t,n)=>{n.r(t),n.d(t,{Alt:()=>o.Alt,Alternative:()=>o.Alternative,Applicative:()=>o.Applicative,Compactable:()=>o.Compactable,Do:()=>o.Do,Extend:()=>o.Extend,Filterable:()=>o.Filterable,Foldable:()=>o.Foldable,Functor:()=>o.Functor,Monad:()=>o.Monad,MonadThrow:()=>o.MonadThrow,Traversable:()=>o.Traversable,URI:()=>o.URI,Witherable:()=>o.Witherable,alt:()=>o.alt,altW:()=>o.altW,ap:()=>o.ap,apFirst:()=>o.apFirst,apS:()=>o.apS,apSecond:()=>o.apSecond,bind:()=>o.bind,bindTo:()=>o.bindTo,chain:()=>o.chain,chainFirst:()=>o.chainFirst,chainNullableK:()=>o.chainNullableK,compact:()=>o.compact,contains:()=>v,duplicate:()=>o.duplicate,elem:()=>o.elem,empty:()=>l,exists:()=>o.exists,extend:()=>o.extend,filter:()=>o.filter,filterMap:()=>o.filterMap,flatten:()=>o.flatten,fold:()=>o.fold,foldMap:()=>o.foldMap,forAll:()=>h,fromEither:()=>o.fromEither,fromNullable:()=>o.fromNullable,fromNullableK:()=>o.fromNullableK,fromPredicate:()=>o.fromPredicate,fromRemoteData:()=>_,getApplyMonoid:()=>o.getApplyMonoid,getApplySemigroup:()=>o.getApplySemigroup,getEq:()=>o.getEq,getFirstMonoid:()=>o.getFirstMonoid,getLastMonoid:()=>o.getLastMonoid,getLeft:()=>o.getLeft,getMonoid:()=>o.getMonoid,getOrElse:()=>o.getOrElse,getOrElseW:()=>o.getOrElseW,getOrd:()=>o.getOrd,getRefinement:()=>o.getRefinement,getRight:()=>o.getRight,getShow:()=>o.getShow,is:()=>g,isNone:()=>o.isNone,isSome:()=>o.isSome,map:()=>o.map,map2:()=>p,mapNullable:()=>o.mapNullable,mapOrDefault:()=>d,none:()=>o.none,of:()=>o.of,option:()=>o.option,orElse:()=>f,orNull:()=>u,orUndefined:()=>c,partition:()=>o.partition,partitionMap:()=>o.partitionMap,reduce:()=>o.reduce,reduceRight:()=>o.reduceRight,separate:()=>o.separate,sequence:()=>o.sequence,sequenceArray:()=>o.sequenceArray,sequenceT:()=>b,some:()=>o.some,tap:()=>m,tapLeft:()=>y,throwError:()=>o.throwError,toNullable:()=>o.toNullable,toUndefined:()=>o.toUndefined,traverse:()=>o.traverse,traverseArray:()=>o.traverseArray,traverseArrayWithIndex:()=>o.traverseArrayWithIndex,tryCatch:()=>o.tryCatch,unsafeGet:()=>s,wilt:()=>o.wilt,wither:()=>o.wither,zero:()=>o.zero});var r=n(17771),o=n(5114),i=n(57050),a=n(22324),s=(0,o.fold)((function(){throw new Error("option has empty value")}),i.yR),u=(0,o.getOrElse)(i.gn),c=(0,o.getOrElse)(i.r5),l=function(){return o.none};function d(e,t){return(0,o.fold)((function(){return t}),e)}var p=function(e){return function(t,n){return(0,o.map)((function(t){var n=t[0],r=t[1];return e(n,r)}))((0,r.g)(o.option)(t,n))}};function h(e){return function(t){return(0,o.isNone)(t)||(0,o.exists)(e)(t)}}function f(e){return(0,o.fold)((function(){return e}),o.some)}function g(e){var t,n;return"None"===(null===(t=e)||void 0===t?void 0:t._tag)||"Some"===(null===(n=e)||void 0===n?void 0:n._tag)}function m(e){return(0,o.map)((function(t){return e(t),t}))}function y(e){return(0,o.fold)((0,i.ls)(e,(function(){return o.none})),o.some)}function v(e){return(0,i.ls)((0,o.filter)((function(t){return t===e})),o.isSome)}var b=(0,r.g)(o.option);function _(e){return(0,a.d6)(e)?(0,o.some)(e.value):o.none}},4807:(e,t,n)=>{n.r(t),n.d(t,{Contravariant:()=>r.Contravariant,URI:()=>r.URI,between:()=>r.between,betweenExclusive:()=>o,clamp:()=>r.clamp,contramap:()=>r.contramap,fromCompare:()=>r.fromCompare,geq:()=>r.geq,getDualOrd:()=>r.getDualOrd,getMonoid:()=>r.getMonoid,getSemigroup:()=>r.getSemigroup,getTupleOrd:()=>r.getTupleOrd,gt:()=>r.gt,leq:()=>r.leq,lt:()=>r.lt,max:()=>r.max,min:()=>r.min,ord:()=>r.ord,ordBoolean:()=>r.ordBoolean,ordDate:()=>r.ordDate,ordNumber:()=>r.ordNumber,ordString:()=>r.ordString});var r=n(45701);function o(e){return function(t,n){return function(o){return(0,r.gt)(e)(o,t)&&(0,r.lt)(e)(o,n)}}}},73231:(e,t,n)=>{n.r(t),n.d(t,{URI:()=>i,ap:()=>l,apFirst:()=>d,apSecond:()=>p,chain:()=>h,chainFirst:()=>f,map:()=>g,orElse:()=>s,promise:()=>a,promiseSeq:()=>u});var r=n(40327),o=n(55415),i="Promise",a={URI:i,map:function(e,t){return e.then(t)},of:Promise.resolve.bind(Promise),ap:function(e,t){return Promise.all([e,t]).then((function(e){return(0,e[0])(e[1])}))},chain:function(e,t){return e.then(t)},mapLeft:function(e,t){return e.catch((function(e){return Promise.reject(t(e))}))},bimap:function(e,t,n){return e.then(n,(function(e){return Promise.reject(t(e))}))},throwError:function(e){return Promise.reject(e)}};function s(e){return function(t){return t.catch(e)}}var u=o.merge(a,{ap:function(e,t){return e.then((function(e){return t.then(e)}))}}),c=(0,r.pipeable)(a),l=c.ap,d=c.apFirst,p=c.apSecond,h=c.chain,f=c.chainFirst,g=c.map},22324:(e,t,n)=>{var r;function o(e){return e.type===r.InProgress}function i(e){return e.type===r.Success}function a(e){return e.type===r.Error}function s(e){return e.type===r.Fatal}n.d(t,{Dy:()=>r,IR:()=>s,VZ:()=>a,d6:()=>i,n2:()=>o}),function(e){e.InProgress="InProgress",e.Success="Success",e.Error="Error",e.Fatal="Fatal"}(r||(r={}))},51072:(e,t,n)=>{n.r(t),n.d(t,{Alt:()=>o.Rr,ApplicativePar:()=>o.qA,ApplicativeSeq:()=>o.GI,Bifunctor:()=>o.a_,Do:()=>o.Do,Functor:()=>o.dO,URI:()=>o.ov,alt:()=>o.wp,altW:()=>o.Gk,ap:()=>o.ap,apFirst:()=>o.N,apS:()=>o.Qt,apSW:()=>o.W5,apSecond:()=>o.a1,apW:()=>o.sL,bimap:()=>o.Pd,bind:()=>o.ak,bindTo:()=>o.YO,bindW:()=>o.NP,bracket:()=>o.wk,chain:()=>o.tS,chainEitherK:()=>o.fX,chainEitherKW:()=>o.$h,chainFirst:()=>o.mU,chainFirstW:()=>o.Z6,chainIOEitherK:()=>o.Vh,chainIOEitherKW:()=>o.er,chainW:()=>o.Zl,filterOrElse:()=>o.Y$,filterOrElseW:()=>o.sf,flatMap:()=>d,flatMapEither:()=>p,flatMapEither2:()=>h,flatten:()=>o.xH,flattenLeft:()=>l,fold:()=>o.g_,fromEither:()=>o.Uo,fromEitherK:()=>o.Dj,fromIO:()=>o.tD,fromIOEither:()=>o.fj,fromIOEitherK:()=>o.de,fromOption:()=>o.Yo,fromPredicate:()=>o.DT,fromTask:()=>o.fF,getAltTaskValidation:()=>o.NZ,getApplicativeTaskValidation:()=>o.IH,getApplyMonoid:()=>o.$4,getApplySemigroup:()=>o.gM,getFilterable:()=>o.VU,getOrElse:()=>o.fS,getOrElseW:()=>o.pF,getSemigroup:()=>o.jG,getTaskValidation:()=>o.ey,handleError:()=>g,left:()=>o.t$,leftIO:()=>o.Op,leftTask:()=>o.lk,map:()=>o.UI,mapLeft:()=>o.Vn,of:()=>o.of,orElse:()=>o.vx,right:()=>o.F2,rightIO:()=>o.dk,rightTask:()=>o.QM,sequenceArray:()=>o.RD,sequenceSeqArray:()=>o.mg,swap:()=>o.LF,taskEither:()=>o.Ij,taskEitherSeq:()=>o.dg,taskify:()=>o.K9,throwError:()=>o._y,toPromise:()=>c,traverseArray:()=>o.uU,traverseArrayWithIndex:()=>o.xW,traverseSeqArray:()=>o.pE,traverseSeqArrayWithIndex:()=>o.Z9,tryCatch:()=>o.Y3,tryCatchK:()=>o.it,tryDelay:()=>f});var r=n(99950),o=n(62965),i=n(57050),a=n(40327),s=n(95574),u=n(5114);function c(e){return e().then(s.unsafeGet)}var l=function(e){return o.Ij.chain(e,i.yR)},d=o.tS,p=function(e){return r.map(s.flatMap(e))},h=function(e){return function(t){return(0,a.pipe)(t,(0,o.tS)((function(t){return(0,o.Uo)(e(t))})))}};function f(e,t,n){return(0,a.pipe)(e,(0,o.g_)((function(i){var s=(0,a.pipe)((0,o.t$)(i),r.delay(n));return(0,a.pipe)(t(i),u.fold((function(){return(0,o.t$)(i)}),(function(t){var n=(0,a.pipe)(t,r.chain((function(){return(0,o.F2)(void 0)}))),i=r.getRaceMonoid().concat(s,n);return(0,a.pipe)(i,(0,o.tS)((function(){return e})))})))}),(function(e){return(0,o.F2)(e)})))}var g=function(e){return(0,o.vx)((function(t){return(0,a.pipe)(e(t),(0,o.tS)((function(){return(0,o.t$)(t)})))}))}},29042:(e,t,n)=>{n.d(t,{G:()=>r});var r,o=n(40327),i=n(18357),a=n(22232),s=n(95195),u=n(95574);!function(e){e.parse=function(e){return new t(String(e))};var t=function(){function t(e){this.value=s.left(new Error("Version is unset")),this.value=(0,o.pipe)(u.tryCatchError((function(){return new i.SemVer(e.replace(/_/g,"-"))})),s.orElse((function(){return s.fromNullable(new Error("Failed to parse version from ".concat(e)))((0,i.coerce)(e))})))}return t.prototype.gte=function(e){return this._test(i.gte,e)},t.prototype.gt=function(e){return this._test(i.gt,e)},t.prototype.lt=function(e){return this._test(i.lt,e)},t.prototype.lte=function(e){return this._test(i.lte,e)},t.prototype.eq=function(e){return this._test(i.eq,e)},t.prototype.toString=function(){return(0,o.pipe)(this.value,s.map((function(e){return e.build.length>0?"".concat(e.toString(),"+").concat(e.build.join("-")):e.toString()})),s.getOrElse((function(){return"unknown"})))},t.prototype._test=function(t,n){var r=(0,o.pipe)(e.parse(n.toString()).value,s.getOrElse((function(){return null})));return(0,a.kG)(null!==r,"invalid version provided: ".concat(n)),(0,o.pipe)(this.value,s.map((function(e){return t(e,r)})),s.getOrElse((function(){return!1})))},t}()}(r||(r={}))},18357:(e,t,n)=>{var r,o=n(27061);t=e.exports=h,r="object"==typeof o&&o.env&&o.env.NODE_DEBUG&&/\bsemver\b/i.test(o.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],s=t.src=[],u=t.tokens={},c=0;function l(e){u[e]=c++}l("NUMERICIDENTIFIER"),s[u.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),s[u.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),s[u.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),s[u.MAINVERSION]="("+s[u.NUMERICIDENTIFIER]+")\\.("+s[u.NUMERICIDENTIFIER]+")\\.("+s[u.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),s[u.MAINVERSIONLOOSE]="("+s[u.NUMERICIDENTIFIERLOOSE]+")\\.("+s[u.NUMERICIDENTIFIERLOOSE]+")\\.("+s[u.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),s[u.PRERELEASEIDENTIFIER]="(?:"+s[u.NUMERICIDENTIFIER]+"|"+s[u.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),s[u.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[u.NUMERICIDENTIFIERLOOSE]+"|"+s[u.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),s[u.PRERELEASE]="(?:-("+s[u.PRERELEASEIDENTIFIER]+"(?:\\."+s[u.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),s[u.PRERELEASELOOSE]="(?:-?("+s[u.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[u.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),s[u.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),s[u.BUILD]="(?:\\+("+s[u.BUILDIDENTIFIER]+"(?:\\."+s[u.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),s[u.FULLPLAIN]="v?"+s[u.MAINVERSION]+s[u.PRERELEASE]+"?"+s[u.BUILD]+"?",s[u.FULL]="^"+s[u.FULLPLAIN]+"$",l("LOOSEPLAIN"),s[u.LOOSEPLAIN]="[v=\\s]*"+s[u.MAINVERSIONLOOSE]+s[u.PRERELEASELOOSE]+"?"+s[u.BUILD]+"?",l("LOOSE"),s[u.LOOSE]="^"+s[u.LOOSEPLAIN]+"$",l("GTLT"),s[u.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),s[u.XRANGEIDENTIFIERLOOSE]=s[u.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),s[u.XRANGEIDENTIFIER]=s[u.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),s[u.XRANGEPLAIN]="[v=\\s]*("+s[u.XRANGEIDENTIFIER]+")(?:\\.("+s[u.XRANGEIDENTIFIER]+")(?:\\.("+s[u.XRANGEIDENTIFIER]+")(?:"+s[u.PRERELEASE]+")?"+s[u.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),s[u.XRANGEPLAINLOOSE]="[v=\\s]*("+s[u.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[u.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[u.XRANGEIDENTIFIERLOOSE]+")(?:"+s[u.PRERELEASELOOSE]+")?"+s[u.BUILD]+"?)?)?",l("XRANGE"),s[u.XRANGE]="^"+s[u.GTLT]+"\\s*"+s[u.XRANGEPLAIN]+"$",l("XRANGELOOSE"),s[u.XRANGELOOSE]="^"+s[u.GTLT]+"\\s*"+s[u.XRANGEPLAINLOOSE]+"$",l("COERCE"),s[u.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),a[u.COERCERTL]=new RegExp(s[u.COERCE],"g"),l("LONETILDE"),s[u.LONETILDE]="(?:~>?)",l("TILDETRIM"),s[u.TILDETRIM]="(\\s*)"+s[u.LONETILDE]+"\\s+",a[u.TILDETRIM]=new RegExp(s[u.TILDETRIM],"g");l("TILDE"),s[u.TILDE]="^"+s[u.LONETILDE]+s[u.XRANGEPLAIN]+"$",l("TILDELOOSE"),s[u.TILDELOOSE]="^"+s[u.LONETILDE]+s[u.XRANGEPLAINLOOSE]+"$",l("LONECARET"),s[u.LONECARET]="(?:\\^)",l("CARETTRIM"),s[u.CARETTRIM]="(\\s*)"+s[u.LONECARET]+"\\s+",a[u.CARETTRIM]=new RegExp(s[u.CARETTRIM],"g");l("CARET"),s[u.CARET]="^"+s[u.LONECARET]+s[u.XRANGEPLAIN]+"$",l("CARETLOOSE"),s[u.CARETLOOSE]="^"+s[u.LONECARET]+s[u.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),s[u.COMPARATORLOOSE]="^"+s[u.GTLT]+"\\s*("+s[u.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),s[u.COMPARATOR]="^"+s[u.GTLT]+"\\s*("+s[u.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),s[u.COMPARATORTRIM]="(\\s*)"+s[u.GTLT]+"\\s*("+s[u.LOOSEPLAIN]+"|"+s[u.XRANGEPLAIN]+")",a[u.COMPARATORTRIM]=new RegExp(s[u.COMPARATORTRIM],"g");l("HYPHENRANGE"),s[u.HYPHENRANGE]="^\\s*("+s[u.XRANGEPLAIN]+")\\s+-\\s+("+s[u.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),s[u.HYPHENRANGELOOSE]="^\\s*("+s[u.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[u.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),s[u.STAR]="(<|>)?=?\\s*\\*";for(var d=0;d<c;d++)r(d,s[d]),a[d]||(a[d]=new RegExp(s[d]));function p(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?a[u.LOOSE]:a[u.FULL]).test(e))return null;try{return new h(e,t)}catch(e){return null}}function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof h))return new h(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?a[u.LOOSE]:a[u.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}t.parse=p,t.valid=function(e,t){var n=p(e,t);return n?n.version:null},t.clean=function(e,t){var n=p(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=h,h.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},h.prototype.toString=function(){return this.version},h.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof h||(e=new h(e,this.options)),this.compareMain(e)||this.comparePre(e)},h.prototype.compareMain=function(e){return e instanceof h||(e=new h(e,this.options)),g(this.major,e.major)||g(this.minor,e.minor)||g(this.patch,e.patch)},h.prototype.comparePre=function(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return g(n,o)}while(++t)},h.prototype.compareBuild=function(e){e instanceof h||(e=new h(e,this.options));var t=0;do{var n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return g(n,o)}while(++t)},h.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new h(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(b(e,t))return null;var n=p(e),r=p(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},t.compareIdentifiers=g;var f=/^[0-9]+$/;function g(e,t){var n=f.test(e),r=f.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function m(e,t,n){return new h(e,n).compare(new h(t,n))}function y(e,t,n){return m(e,t,n)>0}function v(e,t,n){return m(e,t,n)<0}function b(e,t,n){return 0===m(e,t,n)}function _(e,t,n){return 0!==m(e,t,n)}function w(e,t,n){return m(e,t,n)>=0}function S(e,t,n){return m(e,t,n)<=0}function I(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return b(e,n,r);case"!=":return _(e,n,r);case">":return y(e,n,r);case">=":return w(e,n,r);case"<":return v(e,n,r);case"<=":return S(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function x(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof x){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof x))return new x(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===E?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return g(t,e)},t.major=function(e,t){return new h(e,t).major},t.minor=function(e,t){return new h(e,t).minor},t.patch=function(e,t){return new h(e,t).patch},t.compare=m,t.compareLoose=function(e,t){return m(e,t,!0)},t.compareBuild=function(e,t,n){var r=new h(e,n),o=new h(t,n);return r.compare(o)||r.compareBuild(o)},t.rcompare=function(e,t,n){return m(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compareBuild(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.compareBuild(r,e,n)}))},t.gt=y,t.lt=v,t.eq=b,t.neq=_,t.gte=w,t.lte=S,t.cmp=I,t.Comparator=x;var E={};function k(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof k)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new k(e.raw,t);if(e instanceof x)return new k(e.value,t);if(!(this instanceof k))return new k(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function T(e,t){for(var n=!0,r=e.slice(),o=r.pop();n&&r.length;)n=r.every((function(e){return o.intersects(e,t)})),o=r.pop();return n}function A(e){return!e||"x"===e.toLowerCase()||"*"===e}function C(e,t,n,r,o,i,a,s,u,c,l,d,p){return((t=A(n)?"":A(r)?">="+n+".0.0":A(o)?">="+n+"."+r+".0":">="+t)+" "+(s=A(u)?"":A(c)?"<"+(+u+1)+".0.0":A(l)?"<"+u+"."+(+c+1)+".0":d?"<="+u+"."+c+"."+l+"-"+d:"<="+s)).trim()}function O(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==E&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function P(e,t,n){try{t=new k(t,n)}catch(e){return!1}return t.test(e)}function R(e,t,n,r){var o,i,a,s,u;switch(e=new h(e,r),t=new k(t,r),n){case">":o=y,i=S,a=v,s=">",u=">=";break;case"<":o=v,i=w,a=y,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(P(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,p=null;if(l.forEach((function(e){e.semver===E&&(e=new x(">=0.0.0")),d=d||e,p=p||e,o(e.semver,d.semver,r)?d=e:a(e.semver,p.semver,r)&&(p=e)})),d.operator===s||d.operator===u)return!1;if((!p.operator||p.operator===s)&&i(e,p.semver))return!1;if(p.operator===u&&a(e,p.semver))return!1}return!0}x.prototype.parse=function(e){var t=this.options.loose?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new h(n[2],this.options.loose):this.semver=E},x.prototype.toString=function(){return this.value},x.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===E||e===E)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}return I(e,this.operator,this.semver,this.options)},x.prototype.intersects=function(e,t){if(!(e instanceof x))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new k(e.value,t),P(this.value,n,t));if(""===e.operator)return""===e.value||(n=new k(this.value,t),P(e.semver,n,t));var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=I(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=I(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&a||s||u},t.Range=k,k.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},k.prototype.toString=function(){return this.range},k.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];e=e.replace(n,C),r("hyphen replace",e),e=e.replace(a[u.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,a[u.COMPARATORTRIM]),e=(e=(e=e.replace(a[u.TILDETRIM],"$1~")).replace(a[u.CARETTRIM],"$1^")).split(/\s+/).join(" ");var o=t?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],i=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?a[u.CARETLOOSE]:a[u.CARET];return e.replace(n,(function(t,n,o,i,a){var s;return r("caret",e,t,n,o,i,a),A(n)?s="":A(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":A(i)?s="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":a?(r("replaceCaret pr",a),s="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+a+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?a[u.TILDELOOSE]:a[u.TILDE];return e.replace(n,(function(t,n,o,i,a){var s;return r("tilde",e,t,n,o,i,a),A(n)?s="":A(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":A(i)?s=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":a?(r("replaceTilde pr",a),s=">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0"):s=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return e.replace(n,(function(n,o,i,a,s,u){r("xRange",e,n,o,i,a,s,u);var c=A(i),l=c||A(a),d=l||A(s),p=d;return"="===o&&p&&(o=""),u=t.includePrerelease?"-0":"",c?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&p?(l&&(a=0),s=0,">"===o?(o=">=",l?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):"<="===o&&(o="<",l?i=+i+1:a=+a+1),n=o+i+"."+a+"."+s+u):l?n=">="+i+".0.0"+u+" <"+(+i+1)+".0.0"+u:d&&(n=">="+i+"."+a+".0"+u+" <"+i+"."+(+a+1)+".0"+u),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(a[u.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(o)}))),i=i.map((function(e){return new x(e,this.options)}),this)},k.prototype.intersects=function(e,t){if(!(e instanceof k))throw new TypeError("a Range is required");return this.set.some((function(n){return T(n,t)&&e.set.some((function(e){return T(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new k(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},k.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(O(this.set[t],e,this.options))return!0;return!1},t.satisfies=P,t.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new k(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new h(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new k(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new h(r=e,n)))})),r},t.minVersion=function(e,t){e=new k(e,t);var n=new h("0.0.0");if(e.test(n))return n;if(n=new h("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new h(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!y(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new k(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return R(e,t,"<",n)},t.gtr=function(e,t,n){return R(e,t,">",n)},t.outside=R,t.prerelease=function(e,t){var n=p(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new k(e,n),t=new k(t,n),e.intersects(t)},t.coerce=function(e,t){if(e instanceof h)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=a[u.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),a[u.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;a[u.COERCERTL].lastIndex=-1}else n=e.match(a[u.COERCE]);if(null===n)return null;return p(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}},33113:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var n={prod:"grammarly.com",preprod:"ppgr.io",qa:"qagr.io"};t.config=function(e){var t=n[e];return{url:{properties:"https://properties."+t,treatment:"https://treatment."+t,gates:"https://gates."+t}}}},23136:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentClient=t.Gate=t.Experiment=void 0;var i=n(13851),a=n(71416),s=n(55589),u=function(){function e(e,t){this.name=e,this._experiences=t}return Object.defineProperty(e.prototype,"experiences",{get:function(){return Object.fromEntries(this._experiences.map((function(e){return[e,e]})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"experiencesArray",{get:function(){return this._experiences},enumerable:!1,configurable:!0}),e}();t.Experiment=u;var c=function(e,t){void 0===t&&(t="enabled"),this.name=e,this.experience=t};t.Gate=c;var l=function(e,t,n,u,c){var l=this;void 0===c&&(c={}),this._treatmentService=e,this._experiments=t,this._gatesService=n,this._gates=u,this._config=c,this._experimentTreatments=new Map,this._gateTreatments=new Map,this._initialFetched=!1,this.setPrefetchedTreatments=function(e){if(l._startRefreshIfNeeded(),!a.validateTreatmentsWithType(e))throw new Error("Not valid treatments");l._updateTreatmentForExpAndGates(e)},this._updateTreatmentForExpAndGates=function(e){l._treatmentService.refresh&&l._treatmentService.refresh(),l._experimentTreatments=new Map(e.filter((function(e){return e.type===s.ExperimentType.experiment})).map((function(e){return[e.experimentName,e]}))),l._gateTreatments=new Map(e.filter((function(e){return e.type===s.ExperimentType.gate})).map((function(e){return[e.experimentName,e]})))},this.fetchTreatments=function(e){return void 0===e&&(e={}),r(l,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this._startRefreshIfNeeded(),[4,this._fetchTreatments(e.clearCacheOnError)];case 1:return t.sent(),[2]}}))}))},this._fetchTreatments=function(e){return r(l,void 0,void 0,(function(){var t,n,r,i,a,s,u;return o(this,(function(o){switch(o.label){case 0:t=null,n=null,o.label=1;case 1:return o.trys.push([1,3,,4]),r=this._experiments.concat(this._gates),[4,this._treatmentService.getTreatment(r.map((function(e){return e.name})))];case 2:return t=o.sent(),[3,4];case 3:return i=o.sent(),n=i,e&&this._experimentTreatments.clear(),[3,4];case 4:if(t)return this._updateTreatmentForExpAndGates(t),[2];a=null,s=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,this._gatesService.getTreatment(this._gates.map((function(e){return e.name})))];case 6:return a=o.sent(),[3,8];case 7:return u=o.sent(),s=u,e&&this._gateTreatments.clear(),[3,8];case 8:if(a&&(this._gateTreatments=new Map(a.map((function(e){return[e.experimentName,e]})))),s||n)throw s||n;return[2]}}))}))},this._startRefreshIfNeeded=function(){l._initialFetched||(l._config.ttl&&(l._refreshTreatment=setInterval((function(){return r(l,void 0,void 0,(function(){var e,t=this;return o(this,(function(n){switch(n.label){case 0:return e=function(){return r(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._fetchTreatments()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},this._config.ttl&&this._config.useRefreshJitter?(this._delayedRefreshTreatment=setTimeout(e,.1*this._config.ttl*Math.random()),[3,3]):[3,1];case 1:return[4,e()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}),l._config.ttl)),l._initialFetched=!0)},this.dispose=function(){l._refreshTreatment&&clearInterval(l._refreshTreatment),l._delayedRefreshTreatment&&clearTimeout(l._delayedRefreshTreatment)},this.getTreatment=function(e){var t=l.peekTreatment(e);return null!==t&&l.logTreatment(e,t).catch((function(){})),t},this.peekTreatment=function(e){var t=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name),n=null==t?void 0:t.groupName;if(n){var r=e.experiencesArray.find((function(e){return i.getGroupNames(e).includes(n)}));if(r)return r}return null},this.logTreatment=function(e,t){if(l._config.ssrDisableLogging)return Promise.resolve();var n=l._experimentTreatments.get(e.name)||l._gateTreatments.get(e.name);if(!n||i.getExperienceName(n.groupName)!==t)throw new Error("Cannot find associated treatment");return n.type===s.ExperimentType.gate?Promise.resolve():l._treatmentService.logTreatment(n)},this.isGateEnabled=function(e){return l._getExperienceOfEnabledGate(e.name)===e.experience},this._getExperienceOfEnabledGate=function(e){var t=l._gateTreatments.get(e);return t?i.getExperienceName(t.groupName):null}};t.ExperimentClient=l},93148:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GatesService=void 0;var i=n(33113),a=n(37913),s=n(71416),u=function(){function e(e,t,n){this.type="gate",this._httpClient=new a.HttpClient(e,t),this._gatesUrl=i.config(n).url.gates+"/gates/get"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this._httpClient.post(this._gatesUrl,e)];case 1:if(t=n.sent(),s.validateTreatmentsWithType(t))return[2,t];throw new Error("Did not get valid gate treatments")}}))}))},e}();t.GatesService=u},37913:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var i=function(){function e(e,t){var n=this;this._fetch=e,this._config=t,this._fetchWithTimeout=this._config.timeout?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.race([n._fetch.apply(n,e),new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),n._config.timeout)}))])}:this._fetch}return e.prototype.get=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,this._getHeaders()];case 1:return t=r.sent(),[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 2:return n=r.sent(),[2,this._parseResponse(n)]}}))}))},e.prototype.post=function(e,t){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return[4,this._getHeaders()];case 1:return r=o.sent(),[4,this._fetchWithTimeout(e,{method:"POST",credentials:"include",mode:"cors",headers:n(n({},r),{"Content-Type":"application/json"}),body:JSON.stringify(t)})];case 2:return i=o.sent(),[2,this._parseResponse(i)]}}))}))},e.prototype._filterHeaders=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];r&&(t[n]=r)})),t},e.prototype._getHeaders=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this._config.getApplicationHeaders?(e=this._filterHeaders,[4,this._config.getApplicationHeaders()]):[3,2];case 1:return[2,e.apply(this,[t.sent()])];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e){if(!e.ok)throw new Error("Network response was not ok, status "+e.status);return"application/json"===e.headers.get("Content-Type")?e.json():e.text()},e}();t.HttpClient=i},33290:(e,t,n)=>{t.s=t.JB=t.XJ=t.Cc=t.KS=void 0;var r=n(23136);Object.defineProperty(t,"KS",{enumerable:!0,get:function(){return r.Experiment}}),Object.defineProperty(t,"Cc",{enumerable:!0,get:function(){return r.Gate}}),Object.defineProperty(t,"XJ",{enumerable:!0,get:function(){return r.ExperimentClient}});var o=n(55589);Object.defineProperty(t,"JB",{enumerable:!0,get:function(){return o.TreatmentService}});var i=n(93148);Object.defineProperty(t,"s",{enumerable:!0,get:function(){return i.GatesService}});var a=n(1225)},1225:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesClient=void 0;var r=n(33113),o=n(37913),i=function(){function e(e,t,n){this._propertiesUrl=r.config(t).url.properties+"/properties",this._httpClient=new o.HttpClient(e,n)}return e.prototype.getAll=function(){return this._httpClient.get(this._propertiesUrl)},e.prototype.getOne=function(e){var t=this._propertiesUrl+"/"+e;return this._httpClient.get(t)},e.prototype.set=function(e){return this._httpClient.post(this._propertiesUrl,e)},e}();t.PropertiesClient=i},13851:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupNames=t.getExperienceName=void 0;t.getExperienceName=function(e){return e.endsWith("_1")||e.endsWith("_2")?e.slice(0,-2):null};t.getGroupNames=function(e){return[e+"_1",e+"_2"]}},71416:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateTreatmentsWithType=void 0;var n=function(e){return"string"==typeof e};t.validateTreatmentsWithType=function(e){return Array.isArray(e)&&e.reduce((function(e,t){return e&&(n((r=t).experimentName)&&n(r.groupName)&&n(r.experimentId)&&n(r.type));var r}),!0)}},55589:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreatmentService=t.ExperimentType=void 0;var i=n(33113),a=n(37913),s=n(71416);!function(e){e.experiment="experiment",e.gate="gate"}(t.ExperimentType||(t.ExperimentType={}));var u=function(e){return e.groupName+":"+e.userId+":"+e.experimentId},c=function(){function e(e,t,n,r){this._persistentStorageOpts=r,this.type="experiment",this._throttleLogs=new Map,this._sentLogs={},this._httpClient=new a.HttpClient(e,t),this._treatmentUrl=i.config(n).url.treatment+"/treatment"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return t=this._treatmentUrl+"/get",n=e,[4,this._httpClient.post(t,n)];case 1:if(r=o.sent(),s.validateTreatmentsWithType(r))return[2,r];throw new Error("Did not get valid treatments")}}))}))},e.prototype.logTreatment=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this._checkShouldThrottle(e)||this._checkSent(e)?[2]:[4,this._sendLogTreatment(e)];case 1:return t.sent(),this._setSentLogs(e),[2]}}))}))},e.prototype.refresh=function(){this._throttleLogs.clear()},e.prototype.initSentLogsStorage=function(){return r(this,void 0,void 0,(function(){var e,t,n=this;return o(this,(function(r){switch(r.label){case 0:if(!this._persistentStorageOpts)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._persistentStorageOpts.get(this._sentLogsStorageKey)];case 2:return e=r.sent()||{},t=new Set(this._persistentStorageOpts.experimentNames),Object.entries(e).forEach((function(e){var r=e[0],o=e[1];t.has(r)&&n._updateSentLogs(r,o)})),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"_sentLogsStorageKey",{get:function(){var t;return e.STORAGE_KEY_PREFIX+(null===(t=this._persistentStorageOpts)||void 0===t?void 0:t.clientName)},enumerable:!1,configurable:!0}),e.prototype._checkShouldThrottle=function(e){var t=u(e),n=this._throttleLogs.get(e.experimentName)===t;return n||this._throttleLogs.set(e.experimentName,t),n},e.prototype._checkSent=function(e){var t=u(e);return this._sentLogs[e.experimentName]===t},e.prototype._setSentLogs=function(e){var t=u(e);this._updateSentLogs(e.experimentName,t,!0)},e.prototype._updateSentLogs=function(e,t,n){void 0===n&&(n=!1),(n||void 0===this._sentLogs[e])&&(this._sentLogs[e]=t),n&&this._persistSentLogs()},e.prototype._persistSentLogs=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this._persistentStorageOpts?[4,this._persistentStorageOpts.set(this._sentLogsStorageKey,this._sentLogs)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},e.prototype._sendLogTreatment=function(e){var t=this._treatmentUrl+"/log";return this._httpClient.post(t,e)},e.STORAGE_KEY_PREFIX="TreatmentServiceStorage_",e}();t.TreatmentService=c},3103:(e,t,n)=>{function r(e){const t=[];let n;for(;!(n=e.next()).done;)t.push(n.value);return t}function o(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}n.d(t,{f:()=>c});const a=function(){const e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return o("callee",e)}}(),s=function(){const e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){return arguments.propertyIsEnumerable("length")}(),r=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};return"function"!=typeof Object.keys||n?function(i){if(Object(i)!==i)return[];let s,u;const c=[],l=n&&a(i);for(s in i)!o(s,i)||l&&"length"===s||(c[c.length]=s);if(e)for(u=t.length-1;u>=0;)s=t[u],o(s,i)&&!r(c,s)&&(c[c.length]=s),u-=1;return c}:function(e){return Object(e)!==e?[]:Object.keys(e)}}();function u(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function c(e,t,n=[],a=[]){if(i(e,t))return!0;if(u(e)!==u(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(u(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){const t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!i(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!i(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break;case"Map":case"Set":if(!c(r(e.entries()),r(t.entries()),n,a))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}const l=s(e);if(l.length!==s(t).length)return!1;let d=n.length-1;for(;d>=0;){if(n[d]===e)return a[d]===t;d-=1}for(n.push(e),a.push(t),d=l.length-1;d>=0;){const r=l[d];if(!o(r,t)||!c(t[r],e[r],n,a))return!1;d-=1}return n.pop(),a.pop(),!0}},84837:(e,t,n)=>{n.d(t,{cc:()=>h,cn:()=>m});var r,o=n(20817),i=n(87871),a=n(95300),s=n(14601),u=n(2844),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.view=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return void 0!==e[0]?"function"==typeof e[0]?new g(this,e[0]):"string"==typeof e[0]?new g(this,o.Ri.compose.apply(o.Ri,e.map(o.Ri.key())).get):new g(this,(function(t){return e[0].get(t)})):this},t}(a.X),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.set=function(e){this.modify((function(){return e}))},t.prototype.lens=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new f(this,"function"==typeof e?o.Ri.prop(e):"string"==typeof e?o.Ri.compose.apply(o.Ri,l([o.Ri.key(e)],t.map((function(e){return o.Ri.key(e)})))):e,i.f)},t}(d),h=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.get=function(){return this.getValue()},t.prototype.modify=function(e){var t=this.getValue(),n=e(t);(0,i.f)(t,n)||this.next(n)},t.prototype.set=function(e){var t=this.getValue();(0,i.f)(t,e)||this.next(e)},t}(p),f=function(e){function t(t,n,r){void 0===r&&(r=i.f);var o=e.call(this,void 0)||this;return o._source=t,o._lens=n,o._eq=r,o._subscription=null,o._refCount=0,o}return c(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._lens.get(this._source.get())},t.prototype.modify=function(e){var t=this;this._source.modify((function(n){return t._lens.modify(e,n)}))},t.prototype.set=function(e){var t=this;this._source.modify((function(n){return t._lens.set(e,n)}))},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._lens.get(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var r=new s.w((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return r.add(e.prototype._subscribe.call(this,t)),r},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(p),g=function(e){function t(t,n,r){void 0===r&&(r=i.f);var o=e.call(this,void 0)||this;return o._source=t,o._getter=n,o._eq=r,o._subscription=null,o._refCount=0,o}return c(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._getter(this._source.get())},t.prototype._onSourceValue=function(e){var t=this.getValue(),n=this._getter(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=this._source.subscribe((function(e){return n._onSourceValue(e)}))),this._refCount++;var r=new s.w((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return r.add(e.prototype._subscribe.call(this,t)),r},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(d),m=function(e){function t(t,n,r){void 0===r&&(r=i.f);var o=e.call(this,void 0)||this;return o._sources=t,o._combineFn=n,o._eq=r,o._subscription=null,o._refCount=0,o}return c(t,e),t.prototype.get=function(){return this._subscription?this.getValue():this._combineFn(this._sources.map((function(e){return e.get()})))},t.prototype._onSourceValues=function(e){var t=this.getValue(),n=this._combineFn(e);this._eq(t,n)||this.next(n)},t.prototype._subscribe=function(t){var n=this;this._subscription||(this._subscription=(0,u.aj)(this._sources).subscribe((function(e){return n._onSourceValues(e)}))),this._refCount++;var r=new s.w((function(){--n._refCount<=0&&n._subscription&&(n._subscription.unsubscribe(),n._subscription=null)}));return r.add(e.prototype._subscribe.call(this,t)),r},t.prototype.unsubscribe=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,e.prototype.unsubscribe.call(this)},t}(d)},38983:(e,t,n)=>{n.d(t,{h:()=>r});var r,o=n(95300),i=n(44586),a=n(14601),s=n(2834),u=n(38194),c=n(85985),l=n(84837);!function(e){e.create=function(e){return new l.cc(e)},e.log=function(e,t){var n=function(e,t,n){return console.log("%c"+e,"color: "+t+"; font-weight: bold",n)},r=e.get();return e.subscribe((function(e){"function"==typeof t?t(r,e):(console.group("UPDATE "+(t?"TYPE: "+t+" ":"")+"@ "+(new Date).toTimeString()),n("prev state","#9E9E9E",r),n("next state","#4CAF50",e),console.groupEnd()),r=e})),e},e.combine=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new l.cn(e.slice(void 0,-1),(function(t){return e[e.length-1].apply(e,t)}))},e.fromObservable=function(t){var n=new o.X(null),r=t.pipe((0,s.b)((function(t){var r=n.value;null===r?n.next(e.create(t)):r.set(t)})),(0,u.B)());return new i.y((function(e){var t=new a.w;return t.add(n.pipe((0,c.h)((function(e){return!!e}))).subscribe(e)),t.add(r.subscribe(void 0,(function(t){return e.error(t)}),(function(){return e.complete()}))),t}))}}(r||(r={}))},87871:(e,t,n)=>{function r(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function o(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}n.d(t,{f:()=>h});var a,s,u,c,l=function(){var e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return o("callee",e)}}(),d=(a=!{toString:null}.propertyIsEnumerable("toString"),s=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],u=function(){return arguments.propertyIsEnumerable("length")}(),c=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},"function"!=typeof Object.keys||u?function(e){if(Object(e)!==e)return[];var t,n,r=[],i=u&&l(e);for(t in e)!o(t,e)||i&&"length"===t||(r[r.length]=t);if(a)for(n=s.length-1;n>=0;)o(t=s[n],e)&&!c(r,t)&&(r[r.length]=t),n-=1;return r}:function(e){return Object(e)!==e?[]:Object.keys(e)});function p(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function h(e,t,n,a){if(void 0===n&&(n=[]),void 0===a&&(a=[]),i(e,t))return!0;if(p(e)!==p(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(p(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(s=e.constructor,null==(u=String(s).match(/^function (\w*)/))?"":u[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!i(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!i(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break;case"Map":case"Set":if(!h(r(e.entries()),r(t.entries()),n,a))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s,u,c=d(e);if(c.length!==d(t).length)return!1;for(var l=n.length-1;l>=0;){if(n[l]===e)return a[l]===t;l-=1}for(n.push(e),a.push(t),l=c.length-1;l>=0;){var f=c[l];if(!o(f,t)||!h(t[f],e[f],n,a))return!1;l-=1}return n.pop(),a.pop(),!0}},26746:(e,t,n)=>{function r(e,t){return function(n,r){return t(n(e(r)),r)}}var o,i,a;n.d(t,{Ri:()=>a,p1:()=>i}),function(e){e.optic=function(e,t){return{get:e,set:t,modify:r(e,t)}}}(o||(o={})),function(e){e.create=function e(t,n){return{get:t,set:n,modify:r(t,n),compose:function(r){return e((function(e){var n=t(e);return void 0!==n?r.get(n):void 0}),(function(e,o){var i=t(o);return void 0!==i?n(r.set(e,i),o):o}))}}}}(i||(i={})),function(e){function t(e,n){return{get:e,set:n,modify:r(e,n),compose:function(r){return t((function(t){return r.get(e(t))}),(function(t,o){return n(r.set(t,e(o)),o)}))}}}e.create=t,e.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");if(1===e.length)return e[0];var n=e[0];return e.slice(1).forEach((function(e){n=n.compose(e)})),n};var n=t((function(e){return e}),(function(e,t){return e}));e.identity=function(){return n};var o=i.create((function(e){}),(function(e,t){return t}));e.nothing=function(){return o}}(a||(a={}))},20817:(e,t,n)=>{n.d(t,{Ri:()=>r.Ri});var r=n(26746);n(20763)},20763:(e,t,n)=>{var r=n(48540),o=n(87871),i=n(26746),a=new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"return\\s","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"(\\$_\\$wf\\(\\d+\\);)?","return\\s","(\\$_\\$w\\(\\d+, \\d+\\),\\s)?","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));function s(e){return function(e){var t=a,n=e.match(t);if(n&&n[2])return n[2].split(".");throw new TypeError('Expected a property expression, got "'+e+'".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"')}(e.toString())}function u(e){return void 0===e?function(e){return i.Ri.create((function(t){return t[e]}),(function(t,n){return(0,r.Dt)(e,t,n)}))}:i.Ri.create((function(t){return t[e]}),(function(t,n){return(0,r.Dt)(e,t,n)}))}var c=0;i.Ri.key=u,i.Ri.prop=function(e){var t=s(e);return r.z3&&function(e){if(c<10){c++;var t="x."+e.join("."),n="'"+e.join("', '")+"'";(0,r.Kp)("The property expression overload of Atom.lens and Lens.prop are deprecated and will be removed in next versions of Focal. Please use the key name overload for Atom.lens and Lens.key instead. You can convert your code by changing the calls:\n  a.lens(x => "+t+") to a.lens("+n+"),\n  Lens.prop((x: T) => "+t+") to Lens.key<T>()("+n+").")}}(t),i.Ri.compose.apply(i.Ri,t.map(u()))},i.Ri.index=function(e){if(e<0)throw new TypeError(e+" is not a valid array index, expected >= 0");return i.p1.create((function(t){return t[e]}),(function(t,n){return n.length<=e?n.concat(Array(e-n.length),[t]):(0,o.f)(t,n[e])?n:n.slice(0,e).concat([t],n.slice(e+1))}))},i.Ri.withDefault=function(e){return i.Ri.replace(void 0,e)},i.Ri.replace=function(e,t){return i.Ri.create((function(n){return(0,o.f)(n,e)?t:n}),(0,r.t_)((function(n){return(0,o.f)(n,t)?e:n})))},i.Ri.find=function(e){return t=function(t){var n=(0,r.cx)(t,e);return n<0?i.Ri.nothing():i.Ri.index(n)},i.Ri.create((function(e){return t(e).get(e)}),(function(e,n){return t(n).set(e,n)}));var t}},48540:(e,t,n)=>{n.d(t,{Dt:()=>i,Kp:()=>u,cx:()=>s,t_:()=>a,z3:()=>o});var r=n(87871),o=void 0!==n(27061)&&!1;function i(e,t,n){if(e in n&&(0,r.f)(t,n[e]))return n;var o={};for(var i in n)o[i]=n[i];return o[e]=t,o}function a(e){return function(t,n){return function(e,t){return(0,r.f)(e,t)?t:e}(e(t,n),n)}}function s(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function u(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("[Focal]: "+e);try{throw new Error(e)}catch(e){}}},86869:(e,t,n)=>{n.d(t,{r:()=>i});var r=n(46680),o=n(7514),i=function(){function e(e,t,n,r){this.name=e,this.level=t,this.context=n,this.logColor=r,(0,o.Ol)(e)}return e.prototype.isEnabled=function(e){return e>=this.level},e.prototype.handler=function(e,t){var n=this;return{trace:function(r){throw n.trace(e,r,t),r},debug:function(r){throw n.debug(e,r,t),r},info:function(r){throw n.info(e,r,t),r},warn:function(r){throw n.warn(e,r,t),r},error:function(r){throw n.error(e,r,t),r},fatal:function(r){throw n.fatal(e,r,t),r}}},e.prototype.trace=function(e,t,n){this.log(r.i.TRACE,e,t,n)},e.prototype.debug=function(e,t,n){this.log(r.i.DEBUG,e,t,n)},e.prototype.info=function(e,t,n){this.log(r.i.INFO,e,t,n)},e.prototype.warn=function(e,t,n){this.log(r.i.WARN,e,t,n)},e.prototype.error=function(e,t,n){this.log(r.i.ERROR,e,t,n)},e.prototype.fatal=function(e,t,n){this.log(r.i.FATAL,e,t,n)},e.prototype.log=function(e,t,n,r){this.isEnabled(e)&&(Boolean(n)&&Boolean(r)||o.jI.isErrorLike(n)?this.logImpl(e,t,n,r):this.logImpl(e,t,void 0,null!=r?r:n))},e}()},98028:(e,t,n)=>{n.d(t,{g:()=>o});var r=n(46680),o=function(){function e(e,t,n,r,o,i,a,s){this.level=e,this.message=t,this.logger=n,this.timestamp=r,this.exception=o,this.extra=i,this.context=a,this.logColor=s}return e.prototype.dropContext=function(){return new e(this.level,this.message,this.logger,this.timestamp,this.exception,this.extra,this.logColor)},e.prototype.addContext=function(t){return new e(this.level,this.message,this.logger,this.timestamp,this.exception,this.extra,t,this.logColor)},e.prototype.changeLogger=function(t){return new e(this.level,this.message,t,this.timestamp,this.exception,this.extra,this.context)},e}();!function(e){e.show=function(e){return"[".concat(e.logger,"]: ").concat(r.i[e.level]," : ").concat(e.message," ").concat(Boolean(e.extra)?JSON.stringify(e.extra):""," ").concat(e.exception?JSON.stringify(e.exception):"")}}(o||(o={}))},57791:(e,t,n)=>{n.d(t,{kw:()=>l});var r=n(59312),o=n(57050),i=n(46680),a=n(86869),s=n(98028),u=n(98274),c=n(97328),l=function(e){function t(n,r,o){return e.call(this,n,r,(function(e){return e.level>=r&&t.printToConsole(e)}),o)||this}return(0,r.__extends)(t,e),t.printToConsole=function(e){console.log;(e.level<=i.i.TRACE||e.level<=i.i.DEBUG?"function"==typeof console.debug?console.debug:console.log:e.level<=i.i.INFO?console.log:e.level<=i.i.WARN?console.warn:console.error).apply(console,(e.logColor?(0,r.__spreadArray)((0,r.__spreadArray)([],t._getStyledLoggerName(e),!0),["".concat(i.i[e.level]," : ").concat(e.message),e.exception,e.extra],!1):["[".concat(e.logger,"]: ").concat(i.i[e.level]," : ").concat(e.message),e.exception,e.extra]).filter((function(e){return Boolean(e)})))},t._getStyledLoggerName=function(e){var t=(0,o.zG)(i.T.HSL.getContrastTextColor(e.logColor),i.T.HSL.toString),n=i.T.HSL.toString(e.logColor);return["%c".concat(e.logger),"color:".concat(t,";padding:4px;background:").concat(n,";border-radius:4px")]},t}(function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,o||new c.k,i)||this;return a.appender=r,a.logColor=i,a}return(0,r.__extends)(t,e),t.prototype.getLogger=function(e,n,r){return new t(this.name+"."+e,null!=n?n:this.level,this.appender,new c.k(this.context),r)},t.prototype.logImpl=function(e,t,n,r){var o=new s.g(e,t,this.name,Date.now(),n,r,this.context.get());try{this.appender(o)}catch(n){console.trace("Failed processing log event",n);try{l.printToConsole(o)}catch(e){console.error("No luck. Can't print the event",e)}}},t}(a.r));(function(){function e(e){var t=this;this.sink=function(e){t._buffer.push(e.dropContext())},this._buffer=new u.d(e,!0)}Object.defineProperty(e.prototype,"logs",{get:function(){return this._buffer.toArray()},enumerable:!1,configurable:!0})})(),function(){function e(e,t,n,r){var o=this;this._crashLogger=n,this._eventFactory=r,this._crashLogged=!1,this.sink=function(e){o._buffer.push(e.dropContext()),o._trigger(e)&&o._sendCrashLog(e)},this._buffer=new u.d(e,!0),this._trigger="function"==typeof t?t:function(e){return e.level>=t}}Object.defineProperty(e.prototype,"logs",{get:function(){return this._buffer.toArray()},enumerable:!1,configurable:!0}),e.prototype._sendCrashLog=function(e){if(!this._crashLogged||this._buffer.size>this._buffer.capacity/2){var t=void 0;try{t=JSON.stringify(this.logs,void 0,0)}catch(e){t=e}this._crashLogger(this._eventFactory(e.level,"CrashLog",Date.now(),void 0,{events:t,first:!this._crashLogged,trigger:{message:e.message,logger:e.logger}}).addContext(e.context)),this._crashLogged=!0,this._buffer.clear()}}}()},98274:(e,t,n)=>{n.d(t,{d:()=>r});var r=function(){function e(e,t){if(void 0===t&&(t=!1),this.capacity=e,this.allowOverflow=t,this._start=0,this._end=0,this._isFull=!1,this.toJSON=this.toArray,e<=0)throw new Error("Invalid capacity "+e);this._buffer=new Array(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFull",{get:function(){return this._isFull},enumerable:!1,configurable:!0}),e.prototype.push=function(e){if(this.isFull){if(!this.allowOverflow)throw new Error("Buffer is full");++this._start,this._start===this.capacity&&(this._start=0)}this._buffer[this._end++]=e,this._end===this.capacity&&(this._end=0),this._start===this._end&&(this._isFull=!0)},e.prototype.pop=function(){if(!this.isEmpty){var e=this._buffer[this._start];return this._buffer[this._start]=void 0,this._start++,this._start===this.capacity&&(this._start=0),this._isFull=!1,e}},Object.defineProperty(e.prototype,"first",{get:function(){return this.isEmpty?void 0:this._buffer[this._start]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.isEmpty?void 0:this._buffer[0===this._end?this.capacity-1:this._end-1]},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._buffer=new Array(this.capacity),this._start=this._end=0,this._isFull=!1},e.prototype.toArray=function(){var e;if(this.isEmpty)e=new Array(0);else if(this._start<this._end)e=this._buffer.slice(this._start,this._end);else{e=new Array(this.size);for(var t=0,n=this._start;n<this.capacity;++n,++t)e[t]=this._buffer[n];for(n=0;n<this._end;++n,++t)e[t]=this._buffer[n]}return e},e}()},97328:(e,t,n)=>{n.d(t,{k:()=>r});var r=function(){function e(e){this.parent=e,this.context=void 0}return e.prototype.get=function(){var e=this.parent&&this.parent.get(),t=this.context;return Boolean(e)||Boolean(t)?Object.assign({},e,t):void 0},e.prototype.add=function(e){this.context=Object.assign({},this.context,e)},e.prototype.remove=function(e){var t=this;Boolean(this.context)&&e.forEach((function(e){e in t.context&&delete t.context[e]}))},e.prototype.clear=function(){this.context=void 0},e}()},81531:(e,t,n)=>{n.d(t,{C8:()=>r});var r,o=n(46680),i=n(72833),a=n(39758),s=n(74805),u=o.i;!function(e){var t=function(){function e(){}return e.configureLogLevelGetter=function(t){e._getLogLevel=t},Object.defineProperty(e,"root",{get:function(){return i.cx.getRootLogger()},enumerable:!1,configurable:!0}),e.getLogger=function(t,n,r){var o=e._getLogLevel(t,n),i=e.root.getLogger(t,e._getLogLevel(t,n),r);return n!==o&&i.debug('Logger "'.concat(t,'" initialized with level "').concat(null!=o&&u[o],'" instead of "').concat(null!=n&&u[n],'"')),i},e._getLogLevel=function(e,t){return t},e}();e.Logging=t;var n=function(){function e(){}return Object.defineProperty(e,"root",{get:function(){return a.EF.getRootMetric()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rootFemetrics",{get:function(){return s.E.getRootMetric()},enumerable:!1,configurable:!0}),e}();e.TimeSeries=n}(r||(r={}))},46680:(e,t,n)=>{n.d(t,{T:()=>o,i:()=>r});var r,o,i=n(59312);!function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.FATAL=5]="FATAL",e[e.OFF=6]="OFF"}(r||(r={})),function(e){e.fromString=function(t){switch(t){case"TRACE":return e.TRACE;case"DEBUG":return e.DEBUG;case"INFO":return e.INFO;case"WARN":return e.WARN;case"ERROR":return e.ERROR;case"FATAL":return e.FATAL;case"OFF":return e.OFF;default:throw new TypeError("Unrecognized log level string '".concat(t,"'"))}}}(r||(r={})),function(e){function t(e){return function(t){var n=0;if(null==t||0===t.length)return e;for(var r=0;r<t.length;r++)n=t.charCodeAt(r)+((n<<5)-n),n&=n;return n=(n%50+50)%50,(0,i.__assign)((0,i.__assign)({},e),{lightness:e.lightness-n})}}!function(e){e.getContrastTextColor=function(e){return{hue:0,saturation:0,lightness:e.lightness>50?0:100}},e.toString=function(e){return"hsl(".concat(e.hue,", ").concat(e.saturation,"%, ").concat(e.lightness,"%)")}}(e.HSL||(e.HSL={})),function(e){e.base={hue:43,saturation:74,lightness:66},e.getColor=t(e.base)}(e.Model||(e.Model={})),function(e){e.base={hue:12,saturation:76,lightness:61},e.getColor=t(e.base)}(e.ViewModel||(e.ViewModel={})),function(e){e.base={hue:173,saturation:58,lightness:39},e.getColor=t(e.base)}(e.Manager||(e.Manager={}))}(o||(o={}))},72833:(e,t,n)=>{n.d(t,{cx:()=>i});var r=n(57791),o=n(46680),i=function(){function e(){}return e.getRootLogger=function(){return null==e._rootLogger&&(e._rootLogger=e._createDefaultRootLogger(),e._rootLogger.warn("Using DEFAULT root logger")),e._rootLogger},e.configure=function(t){e._rootLogger=t,e._rootLogger.debug("ROOT logger changed",t)},e._createDefaultRootLogger=function(){return new r.kw("DEFAULT",o.i.DEBUG)},e}()},79323:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(7514),o=function(){function e(e,t,n,o){void 0===o&&(o="."),this.name=e,this.timersSink=t,this.countersSink=n,this.nameSeparator=o,(0,r.Ol)(e)}return e.prototype.getMetric=function(e){return this.createChild(e)},e.prototype.getTimer=function(e){return this.createChild(e)},e.prototype.getCounter=function(e){return this.createChild(e)},Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.name.lastIndexOf(this.nameSeparator),n=this.name.substring(0,-1===t?0:t);return""===n?void 0:new e(n,this.timersSink,this.countersSink,this.nameSeparator)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=this.name.indexOf(this.nameSeparator),n=this.name.substring(0,-1===t?0:t);return""===n?this:new e(n,this.timersSink,this.countersSink,this.nameSeparator)},enumerable:!1,configurable:!0}),e.prototype.createName=function(e){return this.name+this.nameSeparator+e},e.prototype.start=function(){var e=Date.now(),t=this;return{stop:function(){t.recordTime(Date.now()-e)}}},e.prototype.recordTime=function(e){this.timersSink(this.name,e)},e.prototype.timing=function(e){var t=this.start();try{return e()}finally{try{t.stop()}catch(e){}}},e.prototype.increment=function(e){void 0===e&&(e=1),this.countersSink(this.name,e)},e.prototype.decrement=function(e){void 0===e&&(e=1),this.increment(-e)},e.prototype.createChild=function(t){return new e(this.createName(t),this.timersSink,this.countersSink,this.nameSeparator)},e}()},39758:(e,t,n)=>{n.d(t,{EF:()=>a});var r=n(59312),o=n(79323),i=function(e){function t(t){return e.call(this,"MP",(function(e,n){return t("TIMER: "+e+" = "+n)}),(function(e,n){return t("COUNTER: "+e+" = "+n)}),".")||this}return(0,r.__extends)(t,e),t}(o.P),a=(function(e){function t(t,n,r,o){void 0===o&&(o=7500);var i=e.call(this,t,(function(e,t){return i._reportTimer(e,t)}),(function(e,t){return i._reportCounter(e,t)}),".")||this;return i._fetch=r,i._sendTimeout=o,i._countersBuffer={},i._timersBuffer=new Array,i._sendTimer=void 0,i._sendData=function(){var e=[i._timersBuffer.join("&"),Object.keys(i._countersBuffer).map((function(e){return e+"="+i._countersBuffer[e]})).join("&")].filter((function(e){return e.length})).join("&"),t=i._baseUrl+e;i._timersBuffer.length=0,i._countersBuffer={},i._sendTimer=void 0;var n=0,r=function(){i._fetch(t,{mode:"no-cors",cache:"no-cache"}).catch((function(e){n++<3?setTimeout(r,5e3*n):console.error("Cannot send timesereies data",e,t)}))};r()},i._baseUrl=n+"/ts?",i}(0,r.__extends)(t,e),t.createRoot=function(e,n,r){return new t(e,n,r)},t.prototype._reportTimer=function(e,t){this._timersBuffer.push("t."+e+"="+t),this._startSending()},t.prototype._reportCounter=function(e,t){var n="c."+e;this._countersBuffer[n]=(this._countersBuffer[n]||0)+t,this._startSending()},t.prototype._startSending=function(){Boolean(this._sendTimer)||(this._sendTimer=setTimeout(this._sendData,this._sendTimeout))}}(o.P),function(){function e(){}return e.getRootMetric=function(){return null==e._metricsRoot&&(console.warn("[WARNING] Using default timeseries implementation."),e._metricsRoot=new i(console.log)),e._metricsRoot},e.configure=function(t){e._metricsRoot=t},e}())},74805:(e,t,n)=>{n.d(t,{E:()=>u});var r=n(59312),o=n(79323),i="_",a=function(){this.countersBuffer={},this.timersBuffer=new Array},s=(function(e){function t(t,n,o,a,s,u,c){void 0===s&&(s=7500);var l=e.call(this,t,(function(e,t){return l._reportTimer(e,t)}),(function(e,t){return l._reportCounter(e,t)}),i)||this;return l.name=t,l._baseUrl=n,l._fetch=o,l._storage=a,l._sendTimeout=s,l._guard=u,l._sendTimer=void 0,l._labelsBuffer={},l._countersMapper=function(e){return function(t){var n=e[t];return Object.keys(n).map((function(e){var r=JSON.parse(e);return{name:t,type:"counter",value:n[e],labels:Object.keys(r).map(l._labelsMapper(r)),report_interval:"1m"}}))}},l._labelsMapper=function(e){return function(t){return{key:t,value:e[t]}}},l._timersMapper=function(e){var t=e[0],n=e[1],r=e[2];return{name:t,type:"summary",value:n,labels:Object.keys(r).map(l._labelsMapper(r)),report_interval:"1m"}},l._sendData=function(){var e=(0,r.__spreadArray)([l._storage.timersBuffer.map(l._timersMapper)],Object.keys(l._storage.countersBuffer).map(l._countersMapper(l._storage.countersBuffer)),!0).reduce((function(e,t){return e.push.apply(e,t),e}),[]);if(e.length){var t=l._baseUrl;l._storage.timersBuffer.length=0,l._storage.countersBuffer={},l._sendTimer=void 0;var n=0,o=function(){l._fetch(t,{method:"POST",mode:"no-cors",cache:"no-cache",body:JSON.stringify(e)}).catch((function(e){n++<3?setTimeout(o,5e3*n):console.error("Cannot send timesereies data",e,t)}))};o()}},l._labelsBuffer=c||{},u&&u((function(){l._sendData()})),l}(0,r.__extends)(t,e),t.createRoot=function(e,n,r,o,i,s){return void 0===o&&(o=7500),new t(e,n,r,new a,o,i,s)},t.prototype.setContext=function(e){return this._reportLables(e),new t(this.name,this._baseUrl,this._fetch,this._storage,this._sendTimeout,this._guard,this._labelsBuffer)},t.prototype.getMetric=function(e){return this.createChild(e)},t.prototype.getCounter=function(e){return this.createChild(e)},t.prototype.getTimer=function(e){return this.createChild(e)},t.prototype.createChild=function(e){return new t(this.createName(e),this._baseUrl,this._fetch,this._storage,this._sendTimeout,this._guard,this._labelsBuffer)},t.prototype.createName=function(e){return this.name+i+e},t.prototype._reportTimer=function(e,t){this._storage.timersBuffer.push([e,t,this._labelsBuffer]),this._startSending()},t.prototype._reportCounter=function(e,t){var n=e,r=this._getHashForLabels();n in this._storage.countersBuffer||(this._storage.countersBuffer[n]={}),this._storage.countersBuffer[n][r]=(this._storage.countersBuffer[n][r]||0)+t,this._startSending()},t.prototype._getHashForLabels=function(){var e=this,t=Object.keys(this._labelsBuffer).sort().reduce((function(t,n){return t[n]=e._labelsBuffer[n],t}),{});return JSON.stringify(t)},t.prototype._reportLables=function(e){this._labelsBuffer=(0,r.__assign)((0,r.__assign)({},this._labelsBuffer),e)},t.prototype._startSending=function(){Boolean(this._sendTimer)||(this._sendTimer=setTimeout(this._sendData,this._sendTimeout))}}(o.P),function(e){function t(t,n){var r=e.call(this,t,(function(e,t){return n("TIMER: "+e+" = "+t)}),(function(e,t){return n("COUNTER: "+e+" = "+t)}),i)||this;return r.name=t,r._fn=n,r}return(0,r.__extends)(t,e),t.prototype.setContext=function(e){return console.log(this.name,e),this},t.prototype.getMetric=function(e){return this.createChild(e)},t.prototype.getCounter=function(e){return this.createChild(e)},t.prototype.getTimer=function(e){return this.createChild(e)},t.prototype.createChild=function(e){return new t(this.createName(e),this._fn)},t.prototype.createName=function(e){return this.name+i+e},t}(o.P)),u=function(){function e(){}return e.getRootMetric=function(){return null==e._femetricsRoot&&(console.warn("[WARNING] Using default femetrics timeseries implementation."),e._femetricsRoot=new s("FM",console.log)),e._femetricsRoot},e.configure=function(t){e._femetricsRoot=t},e}()},7514:(e,t,n)=>{n.d(t,{Ol:()=>s,jI:()=>r,z6:()=>u});var r,o,i=n(59312);!function(e){e.isErrorLike=function(e){var t=e;return null!=t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}(r||(r={})),function(e){function t(e,o){if(null==e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e;if("object"==typeof e){if(e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e.toString();if(e instanceof Set)return Array.from(e,(function(e){return t(e,o)}));if(e instanceof Map)return Array.from(e).reduce((function(e,n){var r,a=n[0],s=n[1];return(0,i.__assign)((0,i.__assign)({},e),((r={})[a]=t(s,o),r))}),{});if(-1===o.indexOf(e)){o.push(e);var a=n(e,o,r.isErrorLike(e));return Object.keys(a).length>0?a:e}}}function n(e,n,r){if(!Boolean(e))return{};var o={};return(r?Object.getOwnPropertyNames:Object.keys)(e).forEach((function(r){var i=e[r];o[r]=t(i,n)})),o}e.fromAny=function(e){return n(e,[e],r.isErrorLike(e))}}(o||(o={}));var a=/^(?!\.[\w])[\w.]*\w$/;function s(e){if(""===e)throw new Error("Empty name");if(!a.test(e))throw new Error("Invalid name: ".concat(e,". ")+"Should be hierarchical dot separated string and may contain only word characters)")}var u=function(){function e(e){this.capacity=e,this.size=0,this._keymap={}}return e.prototype.put=function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this._tail?(this._tail.newer=n,n.older=this._tail):this._head=n,this._tail=n,this.size===this.capacity)return this.shift().value;++this.size},e.prototype.get=function(e){var t=this._getImpl(e);return t&&t.value},e.prototype.peek=function(e){var t=this._keymap[e];return null==t?void 0:t.value},e.prototype.set=function(e,t){var n=this._getImpl(e),r=t(n&&n.value);return null!=r?n?n.value=r:this.put(e,r):n&&this.remove(e),r},e.prototype.getRef=function(e){return this._getImpl(e)},e.prototype.remove=function(e){var t=this._keymap[e];if(null!=t)return delete this._keymap[e],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this._head=t.newer):t.older?(t.older.newer=void 0,this._tail=t.older):this._head=this._tail=void 0,--this.size,t.value},e.prototype.forEach=function(e){for(var t in this._keymap)e(t,this._keymap[t].value)},e.prototype.shift=function(){var e=this._head;return this._head&&(this._head.newer?(this._head=this._head.newer,this._head.older=void 0):this._head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},e.prototype._getImpl=function(e){var t=this._keymap[e];if(null!=t)return t===this._tail||(t.newer&&(t===this._head&&(this._head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this._tail,this._tail&&(this._tail.newer=t),this._tail=t),t},e}(),c=function(e){void 0===e&&(e="(nomessage)"),Error.call(this,e),this.stack=(new Error).stack,this.message=e,this.name=this.constructor.name};c.prototype=Object.create(Error.prototype);var l=function(e){function t(t){return e.call(this,t)||this}return(0,i.__extends)(t,e),t}(c),d=function(){function e(e,t){if(this.messageCount=e,this.timeframe=t,e<1)throw new l("messagesCount should be > 1");if(t<=0)throw new l("timeframe should be > 0");this._allowance=e,this._lastChecked=Date.now()}return e.prototype.hit=function(){var e=Date.now(),t=e-this._lastChecked;return this._lastChecked=e,this._allowance+=t*(this.messageCount/this.timeframe),this._allowance>this.messageCount&&(this._allowance=this.messageCount),!(this._allowance<1)&&(this._allowance-=1,!0)},e.prototype.toString=function(){return"[ messageCount: ".concat(this.messageCount,", timeframe: ").concat(this.timeframe,", allowance: ").concat(Math.trunc(1e3*this._allowance)/1e3,", _lastCheck: ").concat(this._lastChecked,"]")},e}();!function(e){var t=function(){function e(e,t){if(this._limiter=e,this._cooldownTime=t,this._lastLimiting=0,this._aboveThreshold=!1,t<0)throw new l("cooldownTime should be non-negative")}return e.prototype.hit=function(){var e=this._limiter.hit(),t=!1;return e?this._aboveThreshold&&Date.now()-this._cooldownTime>this._lastLimiting&&(this._aboveThreshold=!1,t=!0):(this._lastLimiting=Date.now(),this._aboveThreshold||(this._aboveThreshold=!0,t=!0)),{allow:e,aboveThreshold:this._aboveThreshold,wasTriggered:t}},e}();e.RateLimitIndicator=t}(d||(d={}))},78230:function(e,t,n){var r,o,i,a=n(27061);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WEB_PLATFORM=e.STATIC_HEADERS=e.SDK_VERSION=e.RETRY_USER_ATTEMPTS=e.IS_PRODUCTION=e.GETMESSAGES_PATH=e.ENABLE_INAPP_CONSUME=e.DISPLAY_INTERVAL_DEFAULT=e.CACHE_ENABLED_GETMESSAGES_PATH=e.BASE_URL=e.ANIMATION_STYLESHEET=e.ANIMATION_DURATION=void 0;const t=3e4;e.DISPLAY_INTERVAL_DEFAULT=t;const n=0;e.RETRY_USER_ATTEMPTS=n;const r=a.env.BASE_URL||"https://api.iterable.com/api";e.BASE_URL=r;const o="/inApp/web/getMessages";e.GETMESSAGES_PATH=o;const i="/newEndpoint";e.CACHE_ENABLED_GETMESSAGES_PATH=i;const s=(()=>{try{return JSON.parse(a.env.ENABLE_INAPP_CONSUME)}catch{return!0}})();e.ENABLE_INAPP_CONSUME=s;const u=!0;e.IS_PRODUCTION=u;const c=a.env.VERSION;e.SDK_VERSION=c;const l="Web";e.WEB_PLATFORM=l;const d={};e.STATIC_HEADERS=d;const p=400;e.ANIMATION_DURATION=p;const h=(e=p)=>`\n  @keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n\n  @-moz-keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n\n  @-webkit-keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n\n  @-ms-keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n\n  @keyframes slidein {\n    100% { transform: translateX(0%) }\n  }\n\n  @-moz-keyframes slidein {\n    100% { -moz-transform: translateX(0%) }\n  }\n\n  @-webkit-keyframes slidein {\n    100% { -webkit-transform: translateX(0%) }\n  }\n\n  @-ms-keyframes slidein {\n    100% { -ms-transform: translateX(0%) }\n  }\n\n  @keyframes slideout {\n    0% { transform: translateX(0%) }\n    100% { transform: translateX(150%) }\n  }\n\n  @-moz-keyframes slideout {\n    0% { transform: translateX(0%) }\n    100% { -moz-transform: translateX(150%) }\n  }\n\n  @-webkit-keyframes slideout {\n    0% { transform: translateX(0%) }\n    100% { -webkit-transform: translateX(150%) }\n  }\n\n  @-ms-keyframes slideout {\n    0% { transform: translateX(0%) }\n    100% { -ms-transform: translateX(150%) }\n  }\n\n  .slide-in {\n    -webkit-animation: slidein ${e}ms forwards;\n    -moz-animation: slidein ${e}ms forwards;\n    -ms-animation: slidein ${e}ms forwards;\n    -o-animation: slidein ${e}ms forwards;\n    animation: slidein ${e}ms forwards;\n  }\n\n  .slide-out {\n    -webkit-animation: slideout ${e}ms forwards;\n    -moz-animation: slideout ${e}ms forwards;\n    -ms-animation: slideout ${e}ms forwards;\n    -o-animation: slideout ${e}ms forwards;\n    animation: slideout ${e}ms forwards;\n  }\n\n  .fade-in {\n    -webkit-animation: fadein ${e}ms;\n    -moz-animation: fadein ${e}ms;\n    -ms-animation: fadein ${e}ms;\n    -o-animation: fadein ${e}ms;\n    animation: fadein ${e}ms;\n  }\n\n  .fade-out {\n    visibility: hidden;\n    opacity: 0;\n    -webkit-transition: visibility 0s ${e}ms, opacity ${e}ms linear;\n    -moz-transition: visibility 0s ${e}ms, opacity ${e}ms linear;\n    -ms-transition: visibility 0s ${e}ms, opacity ${e}ms linear;\n    -o-transition: visibility 0s ${e}ms, opacity ${e}ms linear;\n    transition: visibility 0s ${e}ms, opacity ${e}ms linear;\n  }\n`;e.ANIMATION_STYLESHEET=h})?r.apply(t,o):r)||(e.exports=i)},26249:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(76208),n(78230),n(24070)],r=function(e,t,r,o){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.trackInAppOpen=e.trackInAppDelivery=e.trackInAppConsume=e.trackInAppClose=e.trackInAppClick=e.track=void 0;const u=e=>(delete e.userId,delete e.email,(0,t.baseIterableRequest)({method:"POST",url:"/events/track",data:e,validation:{data:o.trackSchema}}));e.track=u;const c=e=>(delete e.userId,delete e.email,(0,t.baseIterableRequest)({method:"POST",url:"/events/trackInAppClose",data:a(a({},e),{},{deviceInfo:a(a({},e.deviceInfo),{},{platform:r.WEB_PLATFORM,deviceId:n.g.navigator.userAgent||""})}),validation:{data:o.eventRequestSchema}}));e.trackInAppClose=c;const l=e=>(delete e.userId,delete e.email,(0,t.baseIterableRequest)({method:"POST",url:"/events/trackInAppOpen",data:a(a({},e),{},{deviceInfo:a(a({},e.deviceInfo),{},{platform:r.WEB_PLATFORM,deviceId:n.g.navigator.userAgent||""})}),validation:{data:o.eventRequestSchema.omit(["clickedUrl","inboxSessionId","closeAction"])}}));e.trackInAppOpen=l;const d=(e,i=!1)=>(delete e.userId,delete e.email,(0,t.baseIterableRequest)({method:"POST",url:"/events/trackInAppClick",sendBeacon:i,data:a(a({},e),{},{deviceInfo:a(a({},e.deviceInfo),{},{platform:r.WEB_PLATFORM,deviceId:n.g.navigator.userAgent||""})}),validation:{data:o.eventRequestSchema.omit(["inboxSessionId","closeAction"])}}));e.trackInAppClick=d;const p=e=>(delete e.userId,delete e.email,(0,t.baseIterableRequest)({method:"POST",url:"/events/trackInAppDelivery",data:a(a({},e),{},{deviceInfo:a(a({},e.deviceInfo),{},{platform:r.WEB_PLATFORM,deviceId:n.g.navigator.userAgent||""})}),validation:{data:o.eventRequestSchema.omit(["clickedUrl","inboxSessionId","closeAction"])}}));e.trackInAppDelivery=p;const h=e=>(delete e.userId,delete e.email,(0,t.baseIterableRequest)({method:"POST",url:"/events/inAppConsume",data:a(a({},e),{},{deviceInfo:a(a({},e.deviceInfo),{},{platform:r.WEB_PLATFORM,deviceId:n.g.navigator.userAgent||""})}),validation:{data:o.eventRequestSchema.omit(["clickedUrl","inboxSessionId","closeAction"])}}));e.trackInAppConsume=h},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)},24070:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(14633)],void 0===(i="function"==typeof(r=function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.trackSchema=e.eventRequestSchema=void 0;const n=(0,t.object)().shape({eventName:(0,t.string)().required(),id:(0,t.string)(),createdAt:(0,t.number)(),dataFields:(0,t.object)(),campaignId:(0,t.number)(),templateId:(0,t.number)()});e.trackSchema=n;const r=(0,t.object)().shape({messageId:(0,t.string)().required(),clickedUrl:(0,t.string)(),messageContext:(0,t.object)().shape({saveToInbox:(0,t.boolean)(),silentInbox:(0,t.boolean)(),location:(0,t.string)()}),closeAction:(0,t.string)(),deviceInfo:(0,t.object)().shape({deviceId:(0,t.string)().required(),platform:(0,t.string)().required(),appPackageName:(0,t.string)().required()}).required(),inboxSessionId:(0,t.string)(),createdAt:(0,t.number)()});e.eventRequestSchema=r})?r.apply(t,o):r)||(e.exports=i)},82904:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(28825),n(26249)],void 0===(i="function"==typeof(r=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))})),Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))})?r.apply(t,o):r)||(e.exports=i)},28825:function(e,t){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[],void 0===(o="function"==typeof(n=function(){})?n.apply(t,r):n)||(e.exports=o)},40627:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(30193),n(47215),n(78230),n(22691),n(82904),n(76208),n(64469),n(2990),n(70627)],r=function(e,t,r,o,i,a,s,u,c,l){function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.clearMessages=void 0,e.getInAppMessages=_,r=d(r),u=d(u);let g=[],m=null,y=0,v=!1;const b=()=>{g=[],y=0,v=!1,m&&clearTimeout(m)};function _(e,t){b();const d=h({},e);delete d.userId,delete d.email,delete d.displayInterval,delete d.onOpenScreenReaderMessage,delete d.onOpenNodeToTakeFocus,delete d.topOffset,delete d.bottomOffset,delete d.rightOffset,delete d.animationDuration,delete d.handleLinks,delete d.closeButton;const p=({latestCachedMessageId:e})=>(0,s.baseIterableRequest)({method:"GET",url:o.GETMESSAGES_PATH,validation:{params:u.default},params:h(h({},d),{},{platform:o.WEB_PLATFORM,SDKVersion:o.SDK_VERSION,latestCachedMessageId:e})}),f=async()=>await p({});if(null!=t&&t.display){(0,l.addStyleSheet)(document,(0,o.ANIMATION_STYLESHEET)(e.animationDuration));const r=()=>{var t;if(null!==(t=g)&&void 0!==t&&t[y]){var s,u,c,p,f,v,b,_,w,S;const t=g[y],I=null==t||null===(s=t.content)||void 0===s||null===(u=s.inAppDisplaySettings)||void 0===u?void 0:u.shouldAnimate,x=(null==t||null===(c=t.content)||void 0===c||null===(p=c.webInAppDisplaySettings)||void 0===p?void 0:p.position)||"Center",E=(i,s)=>{var u,c;null!=t&&null!==(u=t.content)&&void 0!==u&&null!==(c=u.inAppDisplaySettings)&&void 0!==c&&c.shouldAnimate&&(i.className="Center"===x||"Full"===x?"fade-out":"slide-out");const l={messageId:t.messageId,deviceInfo:{appPackageName:d.packageName}};if((0,a.trackInAppClose)(s?h(h({},l),{},{clickedUrl:s}):l).catch((e=>e)),I){const e=n.g.setTimeout((()=>{i.remove(),clearTimeout(e)}),o.ANIMATION_DURATION)}else i.remove();const p=I?(e.displayInterval||o.DISPLAY_INTERVAL_DEFAULT)+o.ANIMATION_DURATION:e.displayInterval||o.DISPLAY_INTERVAL_DEFAULT;y+=1,m=n.g.setTimeout((()=>{clearTimeout(m),r()}),p)},k=(0,l.paintOverlay)(null==t||null===(f=t.content)||void 0===f||null===(v=f.inAppDisplaySettings)||void 0===v||null===(b=v.bgColor)||void 0===b?void 0:b.hex,null==t||null===(_=t.content)||void 0===_||null===(w=_.inAppDisplaySettings)||void 0===w||null===(S=w.bgColor)||void 0===S?void 0:S.alpha,I);return(0,l.paintIFrame)(t.content.html,x,I,e.onOpenScreenReaderMessage||"in-app iframe message opened",e.topOffset,e.bottomOffset,e.rightOffset).then((r=>{var s,u,c,p;const h="Full"!==x?(0,i.throttle)(750,(()=>{var e,t,n;r.style.height=((null===(e=r.contentWindow)||void 0===e||null===(t=e.document)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.scrollHeight)||0)+"px"})):()=>null;n.g.addEventListener("resize",h);try{var f,g;(null===(f=r.contentWindow)||void 0===f||null===(g=f.document.body)||void 0===g?void 0:g.querySelector(e.onOpenNodeToTakeFocus||"")).focus()}catch(e){var m,y;const t=null===(m=r.contentWindow)||void 0===m||null===(y=m.document.body)||void 0===y?void 0:y.querySelector('button, a:not([tabindex="-1"]), input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&t.focus()}const v=(e,t,o)=>{var i,a;"Escape"===e.key&&(E(r),k.remove(),document.removeEventListener("keydown",t),null!=r&&null!==(i=r.contentWindow)&&void 0!==i&&i.document&&o&&(null===(a=r.contentWindow)||void 0===a||a.document.removeEventListener("keydown",o)),n.g.removeEventListener("resize",h))},b=e=>v(e,b),_=e=>v(e,b,_);var w;document.addEventListener("keydown",b),null!=r&&null!==(s=r.contentWindow)&&void 0!==s&&s.document&&(null===(w=r.contentWindow)||void 0===w||w.document.addEventListener("keydown",_));const S=navigator.userAgent,I=!!S.match(/safari/i)&&!S.match(/chrome|chromium|crios/i);if(null!==(u=e.closeButton)&&void 0!==u&&u.isRequiredToDismissMessage&&!I||k.addEventListener("click",(()=>{var e,t;E(r),k.remove(),document.removeEventListener("keydown",b),null!=r&&null!==(e=r.contentWindow)&&void 0!==e&&e.document&&(null===(t=r.contentWindow)||void 0===t||t.document.removeEventListener("keydown",_)),n.g.removeEventListener("resize",h)})),null!=r&&null!==(c=r.contentWindow)&&void 0!==c&&c.document){const t="close-x",o=document.createElement("button"),i="absolute-dismiss";o.setAttribute("id",i),o.style.cssText="\n                background: none;\n                color: inherit;\n                border: none;\n                padding: 0;\n                font: inherit;\n                cursor: unset;\n                outline: inherit;\n                height: 100vh;\n                width: 100vw;\n                position: fixed;\n                top: 0;\n                left: 0;\n                z-index: -1;\n              ",o.tabIndex=-1;const a=()=>{var e,o;E(r),k.remove(),document.removeEventListener("keydown",b),null!=r&&null!==(e=r.contentWindow)&&void 0!==e&&e.document&&(null===(o=r.contentWindow)||void 0===o||o.document.removeEventListener("keydown",_)),n.g.removeEventListener("resize",h);const a=document.getElementById(t),s=document.getElementById(i);null==a||a.remove(),null==s||s.remove()};if(o.addEventListener("click",a),document.body.appendChild(o),e.closeButton){var T,A,C,O;const n=(0,l.generateCloseButton)(t,document,null===(T=e.closeButton)||void 0===T?void 0:T.position,null===(A=e.closeButton)||void 0===A?void 0:A.color,null===(C=e.closeButton)||void 0===C?void 0:C.size,null===(O=e.closeButton)||void 0===O?void 0:O.iconPath,e.closeButton.topOffset,e.closeButton.sideOffset);n.addEventListener("click",a),document.body.appendChild(n)}}if(o.ENABLE_INAPP_CONSUME||o.IS_PRODUCTION){const n={messageId:t.messageId,deviceInfo:{appPackageName:e.packageName}},r=[(0,a.trackInAppOpen)(n),...t.saveToInbox?[]:[(0,a.trackInAppConsume)(n)]];Promise.all(r).catch((e=>e))}return((null===(p=r.contentDocument)||void 0===p?void 0:p.querySelectorAll("a"))||[]).forEach((o=>{const i=o.getAttribute("href")||"",s="_blank"===o.getAttribute("target"),u=!!i.match(/iterable:\/\/|action:\/\//gim),c=!!i.match(/iterable:\/\/dismiss/gim),p=!!i.match(/action:\/\//gim),f=(0,l.getHostnameFromUrl)(i),g=f===n.g.location.host||!f,{handleLinks:m}=e,y=(e,t)=>{"string"==typeof m&&("open-all-same-tab"===m||g&&"external-new-tab"===m?e():t())};if((c||p)&&(0,l.addButtonAttrsToAnchorTag)(o,"close modal"),I){if(!u){y((()=>o.setAttribute("target","_top")),(()=>{o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer")}));const e=o.getAttribute("target");m||null!==e&&"_self"!==e||o.setAttribute("target","_top")}}else o.addEventListener("click",(e=>{if(e.preventDefault(),i){const e=!m&&!s||"open-all-same-tab"===m||g&&"external-new-tab"===m;var o,l;if((0,a.trackInAppClick)({clickedUrl:i,messageId:null==t?void 0:t.messageId,deviceInfo:{appPackageName:d.packageName}},e&&!u).catch((e=>e)),c||p)E(r,i),k.remove(),document.removeEventListener("keydown",b),null!=r&&null!==(o=r.contentWindow)&&void 0!==o&&o.document&&(null===(l=r.contentWindow)||void 0===l||l.document.removeEventListener("keydown",_)),n.g.removeEventListener("resize",h);if(p){var f,v;const e=null===(f=(null===(v=new RegExp(/^.*action:\/\/(.*)$/,"gmi"))||void 0===v?void 0:v.exec(i))||[])||void 0===f?void 0:f[1];return n.g.postMessage({type:"iterable-action-link",data:e},"*")}u||(y((()=>n.g.location.assign(i)),(()=>{n.g.open(i,"_blank","noopener,noreferrer")})),m||(s?n.g.open(i,"_blank","noopener,noreferrer"):n.g.location.assign(i)))}}))})),r}))}return Promise.resolve("")},s=t.display===c.DISPLAY_OPTIONS.deferred;return h({request:()=>f().then((e=>((0,l.trackMessagesDelivered)(e.data.inAppMessages||[],d.packageName),e))).then((e=>s?e:(b(),g=(0,l.sortInAppMessages)((0,l.filterHiddenInAppMessages)(e.data.inAppMessages)),r().then((()=>h(h({},e),{},{data:{inAppMessages:g}})))))),pauseMessageStream:()=>{m&&(v=!0,clearTimeout(m))},resumeMessageStream:()=>{if(v)return v=!1,r()}},s?{triggerDisplayMessages:e=>(g=(0,l.filterHiddenInAppMessages)(e),r())}:{})}return f().then((e=>{const t=e.data.inAppMessages;(0,l.trackMessagesDelivered)(t||[],d.packageName);const n=null==t?void 0:t.map((e=>{var t;const n=null===(t=e.content)||void 0===t?void 0:t.html;return n?(0,r.default)(e,"content.html",(0,l.wrapWithIFrame)(n)):e}));return h(h({},e),{},{data:h(h({},e.data),{},{inAppMessages:n})})}))}e.clearMessages=b},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)},64469:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(14633)],void 0===(i="function"==typeof(r=function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.inAppMessagesParamSchema=e.default=void 0;const n=(0,t.object)().shape({displayInterval:(0,t.number)(),onOpenScreenReaderMessage:(0,t.string)(),onOpenNodeToTakeFocus:(0,t.string)(),count:(0,t.number)().required(),packageName:(0,t.string)().required(),platform:(0,t.string)().required()});e.inAppMessagesParamSchema=n;var r=n;e.default=r})?r.apply(t,o):r)||(e.exports=i)},83358:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(40627),n(2990),n(70627)],void 0===(i="function"==typeof(r=function(e,t,n,r){Object.defineProperty(e,"__esModule",{value:!0});var o={filterHiddenInAppMessages:!0,sortInAppMessages:!0};Object.defineProperty(e,"filterHiddenInAppMessages",{enumerable:!0,get:function(){return r.filterHiddenInAppMessages}}),Object.defineProperty(e,"sortInAppMessages",{enumerable:!0,get:function(){return r.sortInAppMessages}}),Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(o,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))})),Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))})?r.apply(t,o):r)||(e.exports=i)},2990:function(e,t){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(o="function"==typeof(n=function(e){let t;Object.defineProperty(e,"__esModule",{value:!0}),e.DISPLAY_OPTIONS=void 0,e.DISPLAY_OPTIONS=t,function(e){e.immediate="immediate",e.deferred="deferred"}(t||(e.DISPLAY_OPTIONS=t={}))})?n.apply(t,r):n)||(e.exports=o)},70627:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(7609),n(30193),n(78230),n(32478),n(82904)],void 0===(i="function"==typeof(r=function(e,t,r,o,i,a){var s,u,c,l,d,p,h,f;Object.defineProperty(e,"__esModule",{value:!0}),e.wrapWithIFrame=e.trackMessagesDelivered=e.sortInAppMessages=e.preloadImages=e.paintOverlay=e.paintIFrame=e.getHostnameFromUrl=e.getCachedMessagesToDelete=e.generateWidth=e.generateLayoutCSS=e.generateCloseButton=e.filterHiddenInAppMessages=e.determineRemainingStorageQuota=e.addStyleSheet=e.addNewMessagesToCache=e.addButtonAttrsToAnchorTag=void 0;const g=({smMatches:e,mdMatches:t,lgMatches:n,xlMatches:r},o)=>e?"100%":t?"TopRight"===o||"BottomRight"===o?"45%":"50%":n?"TopRight"===o||"BottomRight"===o?"33%":"50%":r?"TopRight"===o||"BottomRight"===o?"25%":"50%":"100%";e.generateWidth=g;const m=(e,t)=>{const n=e.createElement("style");n.textContent=t,e.head.appendChild(n)};e.addStyleSheet=m;const y=(e,t)=>{null!=e&&e.length||t();const n=[];let r=0;for(let o=0;o<e.length;o++)n[o]=new Image,n[o].src=e[o],n[o].onload=()=>r+1!==e.length?r+=1:t(),n[o].onerror=()=>r+1!==e.length?r+=1:t()};e.preloadImages=y;const v=(e=[])=>e.filter((e=>{var t,n;return!e.read&&"never"!==(null===(t=e.trigger)||void 0===t?void 0:t.type)&&!(null===(n=e.content)||void 0===n||!n.html)}));e.filterHiddenInAppMessages=v;const b=(e=[])=>e.sort((0,t.by)(["priorityLevel","asc"],["createdAt","asc"]));e.sortInAppMessages=b;const _=async()=>{try{var e;if(!("indexedDB"in self))return 0;const t="storage"in navigator&&"estimate"in navigator.storage?await navigator.storage.estimate():void 0,n=52428800,r=null==t?void 0:t.quota,o=.6*((r&&Math.min(r,n))??n),i=(null==t||null===(e=t.usageDetails)||void 0===e?void 0:e.indexedDB)??(null==t?void 0:t.usage),a=i&&o-i;return a||0}catch(e){var t,n;console.warn("Error determining remaining storage quota",(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.clientErrors)??e)}return 0};e.determineRemainingStorageQuota=_;const w=(e,t)=>e.reduce(((e,[n])=>(t.reduce(((e,{messageId:t})=>(t===n&&(e=!0),e)),!1)||e.push(n),e)),[]);e.getCachedMessagesToDelete=w;const S=async e=>{const t=await _();if(t>0){const i=e.map((({messageId:e,message:t})=>{const n=new Blob([JSON.stringify(t).replace(/\[\[\],"\]/g,"")]).size;return{messageId:e,message:t,createdAt:t.createdAt,size:n}})).sort(((e,t)=>e.createdAt-t.createdAt));let a=t;const s=[];i.every((({messageId:e,message:t,size:n})=>!(a-n<0||(a-=n,s.push([e,t]),0))));try{await(0,r.setMany)(s)}catch(e){var n,o;console.warn("Error adding new messages to the browser cache",(null==e||null===(n=e.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.clientErrors)??e)}}};e.addNewMessagesToCache=S;const I=(e,t,n,r,o,i,a,s)=>{const u="number"==typeof o?`${o}px`:o||"24px",c=`\n    border: none;\n    margin: 0;\n    padding: 0;\n    cursor: pointer;\n    overflow: visible;\n    background: transparent;\n    font: inherit;\n    line-height: normal;\n    -webkit-font-smoothing: inherit;\n    -moz-osx-font-smoothing: inherit;\n    -webkit-appearance: none;\n    position: absolute;\n    top: ${a||"4%"};\n    width: ${u};\n    height: ${u};\n    font-size: ${u};\n    color: ${r};\n    z-index: 1000000;\n  `,l=t.createElement("button");return l.style.cssText="top-left"===n?`\n    ${c}\n    left: ${s||"4%"};\n  `:`\n    ${c}\n    right: ${s||"4%"};\n  `,i?(l.style.backgroundImage=`url(${i})`,l.style.backgroundSize="cover"):l.innerHTML="&#x2715",l.ariaLabel="Close modal button",l.setAttribute("data-qa-custom-close-button","true"),l.setAttribute("id",e),l};e.generateCloseButton=I;const x=(e,t,n,r,o,i)=>{let a="";return"Center"===t&&(a=`\n      left: 0%;\n      right: 0%;\n      top: 0%;\n      bottom: 0%;\n      max-height: ${n?"85vh":"95vh"};\n    `),"TopRight"===t&&(a=`\n      right: ${n?"0%":i||"0%"};\n      top: ${n?"0%":r||"0%"};\n      max-height: ${n?"85vh":"95vh"};\n    `),"BottomRight"===t&&(a=`\n      right: ${n?"0%":i||"0%"};\n      bottom: ${n?"0%":o||"0%"};\n      max-height: ${n?"85vh":"95vh"};\n    `),"Full"===t&&(a="\n      height: 100%;\n      width: 100%;\n      left: 0%;\n      top: 0%;\n    "),`\n    ${e}\n    ${a}\n  `};e.generateLayoutCSS=x;const E=null===(s=n.g)||void 0===s||null===(u=s.matchMedia)||void 0===u?void 0:u.call(s,"(max-width: 850px)"),k=null===(c=n.g)||void 0===c||null===(l=c.matchMedia)||void 0===l?void 0:l.call(c,"(min-width: 851px) and (max-width: 975px)"),T=null===(d=n.g)||void 0===d||null===(p=d.matchMedia)||void 0===p?void 0:p.call(d,"(min-width: 976px) and (max-width: 1300px)"),A=null===(h=n.g)||void 0===h||null===(f=h.matchMedia)||void 0===f?void 0:f.call(h,"(min-width: 1301px)"),C=()=>{const e=document.createElement("iframe");return e.setAttribute("id","iterable-iframe"),e.setAttribute("sandbox","allow-same-origin allow-popups allow-top-navigation"),e.style.cssText="\n    position: fixed !important;\n    top: 0;\n    left: 0;\n    height: 1px;\n    width: 1px;\n    overflow: hidden;\n  ",e},O=e=>{const t=C();return t.onload=()=>{var n;null===(n=t.contentDocument)||void 0===n||n.write(e)},t};e.wrapWithIFrame=O;const P=(e,t,n,r,o,a,s)=>new Promise((r=>{const i=C(),u=(null==e?void 0:e.match(/\b(https?:\/\/\S+(?:png|jpe?g|gif)\S*)\b/gim))||[];return y(u,(()=>{var u,c,l,d,p,h;document.body.appendChild(i),null===(u=i.contentWindow)||void 0===u||null===(c=u.document)||void 0===c||c.open(),null===(l=i.contentWindow)||void 0===l||null===(d=l.document)||void 0===d||d.write(e),null===(p=i.contentWindow)||void 0===p||null===(h=p.document)||void 0===h||h.close();const f=setTimeout((()=>{const e=e=>{i.style.cssText=x(!n||"TopRight"!==t&&"BottomRight"!==t?`\n              position: fixed;\n              border: none;\n              margin: auto;\n              max-width: 100%;\n              z-index: 9999;\n              width: ${e};\n              height: ${i.style.height};\n            `:`\n              position: fixed;\n              border: none;\n              margin: auto;\n              max-width: 100%;\n              z-index: 9999;\n              transform: translateX(150%);\n              -webkit-transform: translateX(150%);\n              width: ${e};\n              height: ${i.style.height};\n            `,t,E.matches,o,a,s)};n&&(i.className="Center"===t||"Full"===t?"fade-in":"slide-in");const r=g({smMatches:E.matches,mdMatches:k.matches,lgMatches:T.matches,xlMatches:A.matches},t);e("Full"===t?"100%":r);const u=()=>{e(g({smMatches:E.matches,mdMatches:k.matches,lgMatches:T.matches,xlMatches:A.matches},t))};if(E.onchange=()=>{"Full"!==t&&u()},k.onchange=()=>{"Full"!==t&&u()},T.onchange=()=>{"Full"!==t&&u()},A.onchange=()=>{"Full"!==t&&u()},"Full"!==t){var c,l,d;const e=null===(c=i.contentWindow)||void 0===c||null===(l=c.document)||void 0===l||null===(d=l.body)||void 0===d?void 0:d.scrollHeight;i.style.height=(e&&e+26||0)+"px"}clearTimeout(f)}),100);r(i)}))})).then((e=>(r&&(0,i.srSpeak)(r,"assertive"),e)));e.paintIFrame=P;const R=(e,t)=>{e.setAttribute("aria-label",t),e.setAttribute("role","button"),e.setAttribute("data-qa-original-link",e.getAttribute("href")||""),e.setAttribute("href","javascript:undefined")};e.addButtonAttrsToAnchorTag=R;const N=(e=[],t)=>Promise.all(null==e?void 0:e.map((e=>(0,a.trackInAppDelivery)({messageId:e.messageId,deviceInfo:{appPackageName:t}})))).catch((e=>e));e.trackMessagesDelivered=N;const D=(e="#fff",t=0,n=!1)=>{const r=document.createElement("div");return r.setAttribute("data-test-overlay","true"),n&&m(document,`\n        @keyframes fadeinfast {\n          from { opacity: 0; }\n          to { opacity: ${t}; }\n        }\n      \n        @-moz-keyframes fadeinfast {\n          from { opacity: 0; }\n          to { opacity: ${t}; }\n        }\n      \n        @-webkit-keyframes fadeinfast {\n          from { opacity: 0; }\n          to { opacity: ${t}; }\n        }\n      \n        @-ms-keyframes fadeinfast {\n          from { opacity: 0; }\n          to { opacity: ${t}; }\n        }    \n    `),r.style.cssText=n?`\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    background-color: ${e};\n    opacity: ${t};\n    top: 0;\n    left: 0;\n    z-index: 9998;\n    -webkit-animation: fadeinfast ${o.ANIMATION_DURATION/2}ms;\n    -moz-animation: fadeinfast ${o.ANIMATION_DURATION/2}ms;\n    -ms-animation: fadeinfast ${o.ANIMATION_DURATION/2}ms;\n    -o-animation: fadeinfast ${o.ANIMATION_DURATION/2}ms;\n    animation: fadeinfast ${o.ANIMATION_DURATION/2}ms;\n  `:`\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    background-color: ${e};\n    opacity: ${t};\n    top: 0;\n    left: 0;\n    z-index: 9998;\n  `,document.body.appendChild(r),r};e.paintOverlay=D;const M=e=>{const t=e.match(/^https?:\/\/([^/?#]+)(?:[/?#]|$)/i);return null==t?void 0:t[1]};e.getHostnameFromUrl=M})?r.apply(t,o):r)||(e.exports=i)},76208:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(14206),n(78230),n(33927)],r=function(e,t,n,r){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.baseIterableRequest=e.baseAxiosRequest=void 0;const u=(t=o(t)).default.create({baseURL:n.BASE_URL});e.baseAxiosRequest=u;const c=e=>{try{var t,o;return null!==(t=e.validation)&&void 0!==t&&t.data&&e.data&&e.validation.data.validateSync(e.data,{abortEarly:!1}),null!==(o=e.validation)&&void 0!==o&&o.params&&e.params&&e.validation.params.validateSync(e.params,{abortEarly:!1}),u(a(a({},e),{},{baseURL:r.config.getConfig("baseURL")||n.BASE_URL,headers:a(a({},e.headers),n.STATIC_HEADERS)}))}catch(e){var i;const t={code:"GenericError",msg:"Client-side error",clientErrors:null===(i=e.inner)||void 0===i?void 0:i.map((e=>({error:e.message,field:e.path})))};return Promise.reject({response:{data:t,status:400,statusText:"",headers:{},config:{}}})}};e.baseIterableRequest=c},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)},33927:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,n(78230)],r=function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;const i=(()=>{let e={logLevel:"none",baseURL:t.BASE_URL};return{getConfig:t=>e[t],setConfig:t=>{e=r(r({},e),t)}}})();e.config=i;var a=i;e.default=a},void 0===(i="function"==typeof r?r.apply(t,o):r)||(e.exports=i)},32478:function(e,t,n){var r,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.srSpeak=e.default=void 0;const t=(e,t)=>{const r=document.createElement("div"),o="speak-"+Math.random().toString(36).substr(2,9);r.setAttribute("id",o),r.setAttribute("data-test-id","sr-speak"),r.setAttribute("aria-live",t||"polite"),r.style.cssText="\n    position: absolute !important;\n    height: 1px;\n    width: 1px;\n    overflow: hidden;\n    clip: rect(1px 1px 1px 1px);\n    clip: rect(1px, 1px, 1px, 1px);\n  ",r.classList.add("sr-only"),document.body.appendChild(r);const i=document.getElementById(o);i&&(n.g.setTimeout((()=>{i.innerText=e}),100),n.g.setTimeout((()=>{document.body.removeChild(i)}),1e3))};e.srSpeak=t;var r=t;e.default=r})?r.apply(t,o):r)||(e.exports=i)},7609:(e,t,n)=>{function r(e,t){return e<t}function o(e,t){return e>t}function i(e,t){return r(e,t)?-1:o(e,t)?1:0}function a(e,t){return r(e,t)?1:o(e,t)?-1:0}function s(...e){const t=e.map((e=>{const[t,n]=Array.isArray(e)?e:[e,"asc"];return["function"==typeof t?t:e=>e[t],"asc"===n?i:a]}));return(e,n)=>{for(let r=0,o=t.length;r<o;r++){const[o,i]=t[r],a=i(o(e),o(n));if(0!==a)return a}return 0}}n.r(t),n.d(t,{by:()=>s})},14206:(e,t,n)=>{e.exports=n(8057)},14387:(e,t,n)=>{var r=n(67485),o=n(94570),i=n(12940),a=n(60581),s=n(30574),u=n(53845),c=n(38338),l=n(68524);e.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers,h=e.responseType;r.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(g+":"+m)}var y=s(e.baseURL,e.url);function v(){if(f){var r="getAllResponseHeaders"in f?u(f.getAllResponseHeaders()):null,i={data:h&&"text"!==h&&"json"!==h?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};o(t,n,i),f=null}}if(f.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(l("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(y))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(p[e.xsrfHeaderName]=b)}"setRequestHeader"in f&&r.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),h&&"json"!==h&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),d||(d=null),f.send(d)}))}},8057:(e,t,n)=>{var r=n(67485),o=n(875),i=n(25029),a=n(44941);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(n(73141));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(37132),u.CancelToken=n(34603),u.isCancel=n(21475),u.all=function(e){return Promise.all(e)},u.spread=n(35739),u.isAxiosError=n(35835),e.exports=u,e.exports.default=u},37132:e=>{function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},34603:(e,t,n)=>{var r=n(37132);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},21475:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},25029:(e,t,n)=>{var r=n(67485),o=n(60581),i=n(68096),a=n(55009),s=n(44941),u=n(36144),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var d=e;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{o=a(d)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},68096:(e,t,n)=>{var r=n(67485);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},30574:(e,t,n)=>{var r=n(32642),o=n(72288);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},68524:(e,t,n)=>{var r=n(69953);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},55009:(e,t,n)=>{var r=n(67485),o=n(9212),i=n(21475),a=n(73141);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},69953:e=>{e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},44941:(e,t,n)=>{var r=n(67485);e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(i,c),r.forEach(a,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=u(void 0,e[o])):n[o]=u(void 0,t[o])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=o.concat(i).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(d,c),n}},94570:(e,t,n)=>{var r=n(68524);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},9212:(e,t,n)=>{var r=n(67485),o=n(73141);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},73141:(e,t,n)=>{var r=n(27061),o=n(67485),i=n(51446),a=n(69953),s={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(c=n(14387)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){l.headers[e]=o.merge(s)})),e.exports=l},875:e=>{e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},60581:(e,t,n)=>{var r=n(67485);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},72288:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},12940:(e,t,n)=>{var r=n(67485);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},32642:e=>{e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},35835:e=>{e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},38338:(e,t,n)=>{var r=n(67485);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(self.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},51446:(e,t,n)=>{var r=n(67485);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},53845:(e,t,n)=>{var r=n(67485),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},35739:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},36144:(e,t,n)=>{var r=n(29843),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}o.transitional=function(e,t,n){var o=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return o&&!i[r]&&(i[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},67485:(e,t,n)=>{var r=n(875),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof self&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},24782:(e,t)=>{t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},30816:(e,t,n)=>{var r=n(24782),o=n(78898),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=s(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);var o=function(e){if(u.isBuffer(e)){var t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||z(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),s(e<0?0:0|f(e))}function p(e){for(var t=e.length<0?0:0|f(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(o)return r?-1:U(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var d=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return B(U(t,e.length-n),e,n,r)}function S(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function I(e,t,n,r){return B(F(t),e,n,r)}function x(e,t,n,r){return B(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(G(i,Uint8Array))o+i.length>r.length?u.from(i).copy(r,o):Uint8Array.prototype.set.call(r,i,o);else{if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,o){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){i=c[d],a=l[d];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=W[e[i]];return o}function P(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:u.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var L=/[^+/0-9A-Za-z-_]/g;function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}var W=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()},97460:(e,t,n)=>{n.d(t,{Yz:()=>i});var r=n(88921),o=n(5114);const i=e=>r.S.isCapiAlert(e)&&o.isSome(e.knowledgeHubCardType)},88921:(e,t,n)=>{n.d(t,{S:()=>c});var r=n(90361),o=n(44071),i=n(8482),a=n(95572),s=n(97460);var u,c,l=n(89943);!function(e){e.capi="capiAlert",e.autocorrect="autocorrectAlert",e.autocomplete="autocompleteAlert",e.revertAutoApply="revertAutoAppliedAlert",e.piiDetection="piiDetectionAlert"}(u||(u={})),function(e){function t(e){return e._tag===u.capi}function n(e){return e._tag===u.autocorrect}function c(e){return e._tag===u.autocomplete}function d(e){return e._tag===u.piiDetection}function p(e){return e._tag===u.revertAutoApply}function h(e){return t(e)&&!a.DD.isMuted(e)}function f(e){return h(e)&&!a.DD.isHidden(e)}function g(e){return t(e)&&a.DD.isRegular(e)}function m(e){return t(e)&&a.DD.isWithSubAlerts(e)}function y(e){return t(e)&&a.DD.isWithTransformJson(e)}function v(e){return y(e)&&e.isShortenIt}e.isCapiAlert=t,e.isNotCapiAlert=function(e){return!t(e)},e.isAutocorrectAlert=n,e.isAutocompleteAlert=c,e.isPiiDetectionAlert=d,e.isCapiAlertToAutoApply=function(e){return t(e)&&!0===e.autoapply},e.isRevertAutoApplyAlert=p,e.isUnmutedCapiAlert=h,e.isHiddenCapiAlert=function(e){return h(e)&&a.DD.isHidden(e)},e.isFreePremiumLockedCapiAlert=function(e){return h(e)&&a.DD.isFreePremiumLocked(e)},e.isFreePremiumUnlockedCapiAlert=function(e){return h(e)&&a.DD.isFreePremiumUnlocked(e)},e.isVisibleCapiAlert=f,e.isVisibleInlineCapiAlert=function(e){return f(e)&&a.DD.isInline(e)},e.isVisibleNotInlineCapiAlert=function(e){return f(e)&&!a.DD.isInline(e)},e.isRegularCapiAlert=g,e.isSuperCapiAlert=m,e.isTransformJsonCapiAlert=y,e.isTakeawayAlert=function(e){return y(e)&&e.isTakeaway},e.isSuggestedSnippetAlert=function(e){return y(e)&&e.isSuggestedSnippet},e.isToneAIAlert=function(e){return y(e)&&e.isToneAI},e.isEthicalAIAlert=function(e){return(y(e)||m(e))&&e.isEthicalAI},e.isShortenItAlert=v,e.isShortenItAlertWithoutSummary=function(e){return v(e)&&"Style/Emphasis/KeyTakeaway/ShortenIt"===e.patternName},e.isShortenItAlertWithSummary=function(e){return v(e)&&"Style/Emphasis/KeyTakeaway/ShortenItWithReplacements"===e.patternName},e.isSuggestionAlert=function(e){return!(0,s.Yz)(e)},e.ordering={greaterThanOrEqual:(e,i)=>{if(c(e)||c(i))return c(i);if(t(e)){if(t(i))return a.DD.ordering.greaterThanOrEqual(e,i);if(n(i))return i.state===o.K.applied;if(p(i))return!0;if(d(i))return!0;(0,r.vE)(i)}else{if(!t(i))return n(e)?!!p(i)||e.state===o.K.applied:!!n(i)&&i.state!==o.K.applied;if(n(e))return e.state===o.K.initial;if(p(e))return!1;if(d(e))return!1;(0,r.vE)(e)}},areConflicting:(e,n)=>!c(e)&&!c(n)&&(t(e)&&t(n)?a.DD.ordering.areConflicting(e,n):e._tag===n._tag&&(g(e)&&g(n)&&i.SV.equals(e.transformRange,n.transformRange)||l.compareInPairs(e.highlightRanges,n.highlightRanges,i.SV.equals))),areSame:(e,n)=>{if(t(e)&&t(n))return a.DD.ordering.areSame(e,n);if(e._tag===n._tag){const t=e=>{const{id:t,revision:n,...r}=e;return r};return(0,r.fS)(t(e),t(n))}return!1}},e.alertMapToCapiAlerts=t=>Object.values(t).filter((t=>!!t&&e.isCapiAlert(t)))}(c||(c={}))},44071:(e,t,n)=>{var r;n.d(t,{K:()=>r}),function(e){e[e.initial=0]="initial",e[e.applied=1]="applied"}(r||(r={}))},8482:(e,t,n)=>{n.d(t,{$:()=>a,SV:()=>o});var r,o,i,a,s,u,c,l=n(73975),d=n(22232),p=n(16105);!function(e){e.isNoop=function(e){return 0===e.startOffset&&0===e.endOffset}}(r||(r={})),function(e){function t(e){return{start:Math.min(e.start,e.end),end:Math.max(e.start,e.end)}}e.eq=l.MW({start:l.lr,end:l.lr}),e.normalize=t,e.mergeAdjacent=function(e){return t=>{if(0===t.length)return[];const n=[t[0]];for(let r=1;r<t.length;++r){const o=n[n.length-1];e(o,t[r])?n[n.length-1]={start:o.start,end:t[r].end}:n.push(t[r])}return n}},e.create=function(e,n){return t({start:e,end:null!=n?n:e})},e.translate=function(e,t){return 0===t?e:{start:e.start+t,end:e.end+t}},e.transform=function(e,t){return r.isNoop(t)?e:{start:e.start+t.startOffset,end:e.end+t.endOffset}},e.rebase=function(e,t){return t.reduce(((e,t)=>{const n=p.q.getTransformOffset(t);return{start:t.pos<=e.start?Math.max(t.pos,e.start+n):e.start,end:t.pos<e.end?Math.max(t.pos,e.end+n):e.end}}),e)},e.contains=function(e,t,n){const r=n?t.start<=e.end:t.start<e.end;return t.start>=e.start&&r&&t.end>=e.start&&t.end<=e.end},e.isAdjacent=function(e,t){return e.end===t.start||t.end===e.start},e.intersects=function(e,t){return e.start>=t.start&&e.start<t.end||t.start>=e.start&&t.start<e.end},e.equals=function(t,n){return e.eq.equals(t,n)},e.toString=function(e){return`[${e.start}, ${e.end}]`},e.isCollapsed=function(e){return e.start===e.end},e.convertFromRawTransform=function(e){return{start:e.s,end:e.e}},e.length=function(e){return e.end-e.start}}(o||(o={})),function(e){e.hasTransformJSON=function(e){return"transformJSON"in e}}(i||(i={})),function(e){function t(e,t,n){return e.slice(t.start,t.end)===n}function n(e){return"transformJSON"in e&&Boolean(e.transformJSON)}function r(e){return"subalerts"in e&&e.subalerts&&"labels"in e&&Boolean(e.labels)}function o(e){return!n(e)&&!r(e)}function i({withPosition:e,withTransformJSON:t,withSubAlerts:i}){return a=>o(a)?e(a):n(a)?t(a):r(a)?i(a):void(0,d.vE)(a)}e.isConsistentWithText=function(n,r){let o;if(e.isWithSubAlerts(n))o=n.highlightRanges.every(((e,o)=>t(r,e,n.highlightTexts[o])));else{const e=n.highlightRanges.find((e=>"enclosing"===e.type))||n.highlightRanges[0];o=t(r,e,n.highlightTexts[0])}return o&&(!e.isRegular(n)||t(r,n.transformRange,n.transformText))},e.isWithTransformJson=n,e.isWithSubAlerts=r,e.isWithPosition=o,e.isRegular=function(e){return o(e)||n(e)},e.match=i,e.map=function({withPosition:e,withTransformJSON:t,withSubAlerts:n}){return i({withPosition:e,withTransformJSON:t,withSubAlerts:n})}}(a||(a={})),function(e){e.waitingForConnection="waitingForConnection",e.waitingForReconnection="waitingForReconnection",e.startingConnection="startingConnection",e.newSessionStarted="newSessionStarted",e.existingSessionStarted="existingSessionStarted"}(s||(s={})),function(e){e.ready="ready",e.inProgress="inProgress",e.reconnectRequired="reconnectRequired"}(u||(u={})),function(e){e.unknown="unknown",e.clientQueueNonEmpty="clientQueueNonEmpty",e.noSuchSession="noSuchSession",e.cannotReconnectToSelf="cannotReconnectToSelf",e.differentUsers="differentUsers",e.sessionClosed="sessionClosed",e.messageCountIncorrect="messageCountIncorrect"}(c||(c={}))},95572:(e,t,n)=>{n.d(t,{DD:()=>m});var r,o,i,a=n(40327),s=n(90361),u=n(8482),c=n(5114),l=n(63513),d=n(73353),p=n(80800),h=n(49524),f=n(22232),g=n(89943);!function(e){e.synonym="Synonym",e.plagiarism="Plagiarism",e.grammar="Grammar",e.contextualSpelling="ContextualSpelling",e.sentenceStructure="SentenceStructure",e.punctuation="Punctuation",e.style="Style",e.enhancement="Enhancement",e.spelling="Spelling",e.voxStyle="VoxStyle",e.snippets="Snippets",e.other="Other"}(r||(r={})),function(e){e.sales_crm="sales_crm",e.sales_engagement="sales_engagement",e.sales_enablement="sales_enablement",e.marketing_email_automation="marketing_email_automation",e.marketing_content="marketing_content",e.customer_service="customer_service",e.customer_surveys_surveys="customer_surveys_surveys",e.recruiting="recruiting",e.training_learning="training_learning",e.project_management="project_management",e.legal="legal",e.contractors="contractors",e.human_resources="human_resources",e.email="email",e.business_chat="business_chat"}(o||(o={})),function(e){e.correctness="correctness",e.clarity="clarity",e.engagement="engagement",e.tone="tone",e.vox="vox",e.knowledgeHub="knowledgeHub",e.other="other"}(i||(i={}));i.clarity,i.correctness,i.engagement,i.tone;var m,y,v,b,_;!function(e){function t({withPosition:t,withTransformJSON:n,withSubAlerts:r}){return o=>e.isWithPosition(o)?t(o):e.isWithTransformJson(o)?n(o):e.isWithSubAlerts(o)?r(o):void(0,f.vE)(o)}e.isWithTransformJson=e=>u.$.isWithTransformJson(e),e.isWithSubAlerts=e=>u.$.isWithSubAlerts(e),e.isWithPosition=e=>u.$.isWithPosition(e),e.isRegular=e=>u.$.isRegular(e),e.match=t;const n={Correctness:i.correctness,Clarity:i.clarity,Engagement:i.engagement,Tone:i.tone,"Style guide":i.vox,"Knowledge Hub":i.knowledgeHub};e.createOutcomeType=function(e){return e&&n[e]||i.other},e.ordering={greaterThanOrEqual:(e,t)=>e.isEthicalAIStandWithUkraine||t.isEthicalAIStandWithUkraine?e.isEthicalAIStandWithUkraine:e.isShortenIt&&t.isShortenIt?e.priority>=t.priority:!(e.isShortenIt&&!t.isShortenIt)&&(!(e.isShortenIt||!t.isShortenIt)||(e.isSuggestedSnippet||t.isSuggestedSnippet?e.priority>=t.priority:!e.isFree&&t.isFree||e.isFree&&!t.isFree?e.isVox||t.isVox?e.isVox:e.isFree:e.group===r.spelling&&t.group===r.spelling||e.group===r.contextualSpelling&&t.group===r.contextualSpelling||e.isVox&&t.isVox?e.priority>=t.priority:e.group===r.spelling||t.group!==r.spelling&&e.priority<=t.priority)),areConflicting:(t,n)=>(!t.isFree&&!n.isFree||t.isFree&&n.isFree||t.isVox||n.isVox)&&(!t.isTakeaway&&!n.isTakeaway||t.isTakeaway&&n.isTakeaway)&&!e.isMuted(t)&&!e.isMuted(n)&&(e.isRegular(t)&&e.isRegular(n)&&u.SV.equals(t.transformRange,n.transformRange)||g.compareInPairs(t.highlightRanges,n.highlightRanges,u.SV.equals)),areSame:(e,n)=>{const r=e=>{const n=e=>({highlights:e.highlights,alternatives:(0,a.pipe)(e.alternatives,c.map((e=>({alternatives:e.alternatives}))))}),r=(0,a.pipe)(e,t({withPosition:e=>({highlightTexts:e.highlightTexts,highlightRanges:e.highlightRanges,transformText:e.transformText,transformRange:e.transformRange,replacements:e.replacements}),withTransformJSON:e=>n(e.transformJSON),withSubAlerts:e=>n(e.subalerts)}));return Object.assign(r,{priority:e.priority,isFree:e.isFree,group:e.group,outcome:e.outcome,category:e.category}),r};return(0,s.fS)(r(e),r(n))}},e.isInline=e=>e.inline===l.wQ.Inline.inline,e.isMuted=e=>void 0!==e.muted&&e.muted!==l.JW.MutedByType.NOT_MUTED,e.isFreePremiumLocked=e=>"locked_transform"===e.freePremium,e.isFreePremiumUnlocked=e=>"unlocked"===e.freePremium,e.isHidden=e=>e.isHidden}(m||(m={})),function(e){let t;!function(e){e.start="start",e.add="add",e.changed="changed",e.remove="remove",e.finished="finished",e.emogenie="emogenie",e.autocomplete="autocomplete",e.attentionHeatmap="attention_heatmap",e.attentionInfo="attention_info",e.shortenItFinished="shorten_it_finished",e.textInfo="text_info",e.submitOtAck="submit_ot_ack",e.proofitAvailability="realtime_proofit_availability",e.proofitCancelResponse="realtime_proofit_cancel_resp",e.proofitCompleted="realtime_proofit_completed",e.proofitProgress="realtime_proofit_in_progress",e.proofitProgressError="realtime_proofit_progress_error",e.proofitProgressRejected="realtime_proofit_progress_rejected",e.proofitSubmitResponse="realtime_proofit_submit_resp",e.feedback="feedback",e.error="error",e.publishedAck="published_ack",e.submitSurveyResultAck="submit_survey_result_ack",e.showSurvey="show_survey",e.sduiAdd="sdui_add",e.sduiUpdate="sdui_update",e.sduiRemove="sdui_remove",e.cheetahSetContext="cheetah:setContext",e.cheetahChunk="cheetah:chunk",e.cheetahResult="cheetah:result",e.cheetahError="cheetah:error",e.cheetahAck="cheetah:ack"}(t=e.Type||(e.Type={})),e.start=function(e){return{_tag:t.start,isEnterprise:e.isEnterprise,domainName:e.domainName,domainCategory:e.domainCategory,userMutedCategories:e.userMutedCategories,defaultDocumentContext:d.R$.serializeDefault((0,a.pipe)(e.defaultDocumentContext,c.fold((()=>d.R$.defaultContextFallback),h.y))),sessionUuid:e.sessionUuid,isNewSession:e.isNewSession,allowedFeatures:e.allowedFeatures,cheetahUsage:e.cheetahUsage}},e.add=function(e){return{_tag:t.add,alert:e}},e.change=function(e){return{_tag:t.changed,changed:e}},e.remove=function(e){return{_tag:t.remove,removedId:e}},e.finished=function(e){return{_tag:t.finished,finished:e}},e.emogenie=function(e){return{_tag:t.emogenie,emogenieReport:{emotions:e.emotions,hidden:e.hidden,institutionLogo:e.institutionLogo,brandTonesEnabled:e.brandTonesEnabled,brandTonesConfigured:e.brandTonesConfigured}}},e.textInfo=function(e){return{_tag:t.textInfo,...e}},e.submitOtAck=function(e){return{_tag:t.submitOtAck,data:e}},e.feedbackAck=function({scores:e,scoreStatus:n}){return{_tag:t.feedback,scores:e?p.v0.OutcomeScores.normalize(e):void 0,scoreStatus:n}},e.autocomplete=function(e,n,r){return{_tag:t.autocomplete,data:e,revision:n,connId:r}},e.attentionHeatmap=function(e,n){return{_tag:t.attentionHeatmap,heatmap:e,connectionId:n}},e.attentionInfo=function(e){return{_tag:t.attentionInfo,info:e}},e.shortenItFinished=function(e){return{_tag:t.shortenItFinished,alertId:e}},e.proofitAvailability=function(e){return{_tag:t.proofitAvailability,info:e}},e.proofitSubmitResponse=function(e){return{_tag:t.proofitSubmitResponse,info:e}},e.proofitProgress=function(e){return{_tag:t.proofitProgress,info:e}},e.proofitCompleted=function(e){return{_tag:t.proofitCompleted,info:e}},e.proofitProgressError=function(e){return{_tag:t.proofitProgressError,info:e}},e.proofitProgressRejected=function(e){return{_tag:t.proofitProgressRejected,info:e}},e.proofitCancelResponse=function(e){return{_tag:t.proofitCancelResponse,info:e}},e.error=function(e){return{_tag:t.error,error:"not_authorized"===e.error?"not_authorized":"unknown",raw_error:e.error,event:e}},e.publishedAck=function(e){return{_tag:t.publishedAck,survey:e.survey}},e.submitSurveyResultAck=function(){return{_tag:t.submitSurveyResultAck}},e.showSurvey=function(e){return{_tag:t.showSurvey,survey:e.survey}},e.sduiAdd=function(e){return{_tag:t.sduiAdd,event:e}},e.sduiUpdate=function(e){return{_tag:t.sduiUpdate,event:e}},e.sduiRemove=function(e){return{_tag:t.sduiRemove,event:e}},e.cheetahSetContext=function(e){return{_tag:t.cheetahSetContext,event:e}},e.cheetahChunk=function(e){return{_tag:t.cheetahChunk,event:e}},e.cheetahResult=function(e){return{_tag:t.cheetahResult,event:e}},e.cheetahError=function(e){return{_tag:t.cheetahError,event:e}},e.cheetahAck=function(e){return{_tag:t.cheetahAck,event:e}},e.isCheetahMessage=function(e){switch(e._tag){case t.cheetahSetContext:case t.cheetahChunk:case t.cheetahResult:case t.cheetahError:case t.cheetahAck:return!0;default:return!1}},e.isSDUIMessage=function(e){switch(e._tag){case t.sduiAdd:case t.sduiRemove:case t.sduiUpdate:return!0;default:return!1}}}(y||(y={})),function(e){e.british="british",e.american="american",e.australian="australian",e.canadian="canadian"}(v||(v={})),function(e){e.idle="idle",e.inProgress="inProgress"}(b||(b={})),function(e){e.notReady="notReady",e.ready="ready",e.firstTextCheckCompleted="firstTextCheckCompleted",e.disconnected="disconnected"}(_||(_={}))},17130:(e,t,n)=>{n.d(t,{n:()=>f});var r=n(57050),o=n(14601),i=n(77176),a=n(23063),s=n(24209),u=n(85985),c=n(66310),l=n(5114),d=n(71249),p=n(94066);class h{constructor(e=[]){this._dynamicFeature=new p._(e)}get feature(){return this._dynamicFeature.instance}get viewFeature(){return this._dynamicFeature.viewInstance}get viewFeatureOption(){return this.viewFeature.view(l.fromNullable)}get featureProxy(){return this._dynamicFeature.instanceProxy}setFeature(e){this._dynamicFeature.set(e)}}class f extends h{constructor(e,t,n,r,i=[]){super(i),this.isSupported=e,this._alertProcessor=t,this._alertFilter=n,this._importFeature=r,this._sub=new o.w,this._featureImportRequested=!1}initOnFirstAlert(){if(!this._featureImportRequested&&this.isSupported){this._featureImportRequested=!0;const e=this._alertProcessor.alerts.state.pipe(i.U((0,r.ls)(Object.values,Array.from)),a.q(1)),t=this._alertProcessor.alerts.changes.pipe(i.U((e=>e.addedAlerts))),n=s.T(e,t).pipe(u.h((0,r.ls)(d.Ew(this._alertFilter),l.isSome)),a.q(1));this._sub.add(n.pipe(c.w((()=>this._importFeature()))).subscribe((e=>{this.setFeature(e)})))}return this.viewFeatureOption}dispose(){this._sub.unsubscribe()}}},94066:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(38983);class o{constructor(e,t){this._deferredCallsQueue=[],this._proxiedMethods=e.reduce(((e,n)=>(e[n]=(...e)=>{const r=t();r?r[n](...e):this._deferredCallsQueue.push((t=>t[n](...e)))},e)),{})}get proxiedMethods(){return this._proxiedMethods}execPostponedMethodCalls(e){this._deferredCallsQueue.forEach((t=>t(e))),this._deferredCallsQueue=[]}}class i{constructor(e=[]){this._instance=null,this._isLoaded=r.h.create(!1),this._instanceProxy=new o(e,(()=>this._instance))}get instance(){return this._instance}get viewInstance(){return this._isLoaded.view((e=>e&&this._instance?this._instance:null))}get instanceProxy(){return this._instanceProxy.proxiedMethods}set(e){this._instance||(this._instance=e,this._instanceProxy.execPostponedMethodCalls(e),this._isLoaded.set(!0))}}},31131:(e,t,n)=>{n.r(t),n.d(t,{EthicalAIFeature:()=>_});var r=n(40327),o=n(88921),i=n(87459),a=n(90361),s=n(74660),u=n(44586),c=n(14601),l=n(85985),d=n(77176),p=n(78674),h=n(41398),f=n(17594),g=n(15646),m=n(77610),y=n(35416),v=n(5114),b=n(83078);class _{constructor(e,t,n){this._alertStateService=e,this._csActions=t,this._gnar=n,this._supportUkraineCardSeenDuringSession=new Set}initCardActionsProcessing(e,t,n,w,S){return new u.y((()=>{const u=new c.w;return u.add(this._alertStateService.newlyHighlightedAlerts.pipe(l.h(o.S.isEthicalAIAlert)).subscribe((e=>this._gnar.ethicalAIAlertUnderlineShow(_.getSensitivityType(e.patternName))))),u.add(n.pipe(l.h(m.C.isEthicalAIItem)).subscribe((e=>this._gnar.ethicalAIAssistantMiniCardShow(_.getSensitivityType(e.activeAlert.patternName))))),u.add(e.pipe(l.h(g.lY.isAlertCardShow),d.U((e=>e.alertId)),p.b(300)).subscribe((e=>{(0,r.pipe)(t.getById(e),v.filter(s.bZ.isEthicalAI),b.tap((e=>{this._gnar.ethicalAIAssistantFullCardShow(_.getSensitivityType(e.patternName)),e.patternName===i.w.STAND_WITH_UKRAINE_ALERT_PNAME&&(0,r.pipe)(s.bZ.getRawId(e),v.filter((e=>!this._supportUkraineCardSeenDuringSession.has(e))),b.tap((e=>{this._supportUkraineCardSeenDuringSession.add(e),this._csActions.markSupportUkraineCardSeen()})))})))}))),u.add(e.pipe(l.h(g.lY.isEthicalAIOpenExternalLinkAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),v.filter(s.bZ.isEthicalAI),b.tap((e=>this._gnar.ethicalAIAssistantFullCardExternalLinkButtonClick(_.getSensitivityType(e.patternName),e.externalLink))))))),u.add(e.pipe(l.h(g.eI.isCardExpand),h.M(S),d.U((([e,t])=>y.nL.hasItems(t)?(0,r.pipe)(t.currentLens.items.get(e.id),v.fold((()=>null),(e=>e.value))):null)),l.h(a.fQ),l.h(m.C.isEthicalAIItem)).subscribe((e=>this._gnar.ethicalAIAssistantFullCardLearnMoreButtonClick(_.getSensitivityType(e.activeAlert.patternName))))),u.add(e.pipe(l.h(g.lY.isAlertIgnoreAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),v.filter(s.bZ.isEthicalAI),b.tap((e=>this._gnar.ethicalAIAssistantFullCardDismissButtonClick(_.getSensitivityType(e.patternName)))))))),u.add(w.pipe(l.h(f.$.isEthicalAI)).subscribe((e=>this._gnar.ethicalAIAlertUnderlineClick(_.getSensitivityType(e.patternName))))),()=>u.unsubscribe()}))}static getSensitivityType(e){return e.split("/").slice(3).join("/")}}},87459:(e,t,n)=>{n.d(t,{w:()=>l});var r=n(88921),o=n(17130),i=n(31131),a=n(90361),s=n(80800),u=n(77176),c=n(85985);class l extends o.n{constructor(e,t,o,s,l){super(e,t,r.S.isEthicalAIAlert,(()=>Promise.resolve().then(n.bind(n,31131)).then((({EthicalAIFeature:e})=>new e(o,s,l))))),this.isSupported&&this._sub.add(this._alertProcessor.alerts.changes.pipe(u.U((e=>e.addedAlerts)),u.U((e=>e.find(r.S.isEthicalAIAlert))),c.h(a.fQ)).subscribe((e=>l.ethicalAIAlertTriggered(i.EthicalAIFeature.getSensitivityType(e.patternName)))))}}!function(e){e.STAND_WITH_UKRAINE_ALERT_PNAME="Style/Sensitivity/SupportUkraine/WarLanguage",e.shouldCreate=function(e,t){var n,r,o;return null!==(o=null===(r=null===(n=t.ethicalAI)||void 0===n?void 0:n.enableByBrowser)||void 0===r?void 0:r[e])&&void 0!==o&&o},e.getRequiredDenaliSupportedFeatures=function(t,n){return e.shouldCreate(t,n)?[s.zV.ethicalAI]:[]}}(l||(l={}))},16105:(e,t,n)=>{n.d(t,{q:()=>r});var r,o,i=n(19744),a=n(90361);!function(e){let t;function n(e){return e._tag===t.ins}function r(e){return e._tag===t.del}!function(e){e.ins="ins",e.del="del"}(t=e.Type||(e.Type={})),e.isIns=n,e.ins=function(e,n){return{_tag:t.ins,pos:e,text:n}},e.isDel=r,e.del=function(e,n){return{_tag:t.del,pos:e,length:n}},e.applyChanges=function(e,t){return t.reduce(((e,t)=>n(t)?e.slice(0,t.pos)+t.text+e.slice(t.pos):r(t)?e.slice(0,t.pos)+e.slice(t.pos+t.length):(0,a.vE)(t)),e)},e.getTransformOffset=function(e){return n(e)?e.text.length:r(e)?-e.length:(0,a.vE)(e)},e.getRange=function(e){return{start:e.pos,end:e.pos+(n(e)?e.text.length:e.length)}}}(r||(r={})),function(e){e.fromDiff=function(e,t,n){const o=i(e,t,n);let a=0;const s=[];for(const e of o)e[0]===i.EQUAL?a+=e[1].length:e[0]===i.INSERT?(s.push(r.ins(a,e[1])),a+=e[1].length):s.push(r.del(a,e[1].length));return s}}(o||(o={}))},90361:(e,t,n)=>{n.d(t,{DV:()=>d,EI:()=>h,HO:()=>y,Nf:()=>g,P2:()=>v,Vo:()=>S,W3:()=>b,_N:()=>_,b9:()=>x,bc:()=>E,cq:()=>s,fQ:()=>f,fS:()=>i,hr:()=>k,hz:()=>m,iy:()=>I,qO:()=>p,vE:()=>c,wU:()=>l,xB:()=>a});var r=n(3103),o=n(96702);const i=r.f;class a{constructor(e){this._getFallbackValue=e}init(e){if(void 0!==this._value)throw new Error("Global value already initialized.");this._value=e}get(){if(void 0===this._value){if(void 0===this._getFallbackValue)throw new Error("Global value not initialized and no fallback value provided.");this._value=this._getFallbackValue()}return this._value}}function s(e,t){return e.some((e=>e===t))?t:void 0}class u extends Error{constructor(e){super(`Matching not exhaustive: unexpected value ${JSON.stringify(e)}`)}}function c(e){throw new u(e)}function l(e){if("string"==typeof e){const t=parseInt(e,10);return isNaN(t)?void 0:t}return"number"==typeof e?e:void 0}function d(e,t){try{return e()}catch(e){return t(e)}}async function p(e,t){try{return await e()}catch(e){return t(e)}}function h(){}function f(e){return!!e}function g(e){return null!=e}function m(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)}function y(e,t,n){const r=new Set;let o;return(...i)=>{const a=t(...i);return r.has(a)||(r.add(a),o=e(...i)),null==n||n(...i),o}}function v(e,t){let n,r,i=!0;function a(e,n){return i&&(i=!1,r=(0,o.II)(),setTimeout((()=>{try{r.resolve(t(...n))}catch(e){r.reject(e)}finally{i=!0}}),e)),r.promise}return(...t)=>{const r=n;return n=Date.now(),a(void 0===r||n-r>=e?0:e-(n-r),t)}}function b(e,t){let n;return(...r)=>{null!==n&&clearTimeout(n),n=setTimeout((()=>{n=null,e(r)}),t)}}async function _(e,t,n=0,r=(e=>!0)){let i=t;const a=[];for(;i>0;){let t;try{i--,t={val:await e(),hasError:!1}}catch(e){t={hasError:!0,message:e&&e.message||e||""}}if(t.hasError)a.push(t.message);else if(r(t.val))return t.val;i>0&&await(0,o.gw)(n)}throw new Error(`Condition was not met after ${t} tries. Errors: '${a.join(";")}'`)}class w{constructor(e){this._factory=e,this._hasValue=!1}get hasValue(){return this._hasValue}get(){return this._hasValue||(this._value=this._factory(),this._hasValue=!0),this._value}map(e){return new w((()=>e(this.get())))}}function S(e){return new w(e)}var I;!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(I||(I={}));void 0!==self.requestIdleCallback&&self.requestIdleCallback;function x(e,t){const n={...e};for(const e in t){const r=t[e];void 0!==r&&(n[e]=r)}return n}function E(...e){return e}function k(e){return e.replace(/[.*+?()[\]{}^$\\/|]/g,"\\$&")}},96702:(e,t,n)=>{function r(e){return new Promise((t=>setTimeout(t,e)))}function o(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}function i(e){return new Promise(((t,n)=>{e.then(n,t)}))}function a(e){return i(Promise.all([...e].map(i)))}n.d(t,{II:()=>o,Wp:()=>a,gw:()=>r});class s extends Error{}},81888:(e,t,n)=>{e.exports=function(e,t){var n=t||{},o=n.type||"attachment",i=function(e,t){if(void 0===e)return;var n={};if("string"!=typeof e)throw new TypeError("filename must be a string");void 0===t&&(t=!0);if("string"!=typeof t&&"boolean"!=typeof t)throw new TypeError("fallback must be a string or boolean");if("string"==typeof t&&u.test(t))throw new TypeError("fallback must be ISO-8859-1 string");var o=r(e),i=p.test(o),s="string"!=typeof t?t&&y(o):r(t),c="string"==typeof s&&s!==o;(c||!i||a.test(o))&&(n["filename*"]=o);(i||c)&&(n.filename=c?s:o);return n}(e,n.fallback);return function(e){var t=e.parameters,n=e.type;if(!n||"string"!=typeof n||!h.test(n))throw new TypeError("invalid type");var r=String(n).toLowerCase();if(t&&"object"==typeof t)for(var o,i=Object.keys(t).sort(),a=0;a<i.length;a++){var s="*"===(o=i[a]).substr(-1)?w(t[o]):_(t[o]);r+="; "+o+"="+s}return r}(new S(o,i))},e.exports.parse=function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=g.exec(e);if(!t)throw new TypeError("invalid type format");var n,r,o=t[0].length,i=t[1].toLowerCase(),a=[],s={};o=d.lastIndex=";"===t[0].substr(-1)?o-1:o;for(;t=d.exec(e);){if(t.index!==o)throw new TypeError("invalid parameter format");if(o+=t[0].length,n=t[1].toLowerCase(),r=t[2],-1!==a.indexOf(n))throw new TypeError("invalid duplicate parameter");a.push(n),n.indexOf("*")+1!==n.length?"string"!=typeof s[n]&&('"'===r[0]&&(r=r.substr(1,r.length-2).replace(c,"$1")),s[n]=r):(n=n.slice(0,-1),r=m(r),s[n]=r)}if(-1!==o&&o!==e.length)throw new TypeError("invalid parameter format");return new S(i,s)};var r=n(3214).basename,o=n(20566).Buffer,i=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,a=/%[0-9A-Fa-f]{2}/,s=/%([0-9A-Fa-f]{2})/g,u=/[^\x20-\x7e\xa0-\xff]/g,c=/\\([\u0000-\u007f])/g,l=/([\\"])/g,d=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,p=/^[\x20-\x7e\x80-\xff]+$/,h=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,f=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,g=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function m(e){var t=f.exec(e);if(!t)throw new TypeError("invalid extended field value");var n,r=t[1].toLowerCase(),i=t[2].replace(s,v);switch(r){case"iso-8859-1":n=y(i);break;case"utf-8":n=o.from(i,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return n}function y(e){return String(e).replace(u,"?")}function v(e,t){return String.fromCharCode(parseInt(t,16))}function b(e){return"%"+String(e).charCodeAt(0).toString(16).toUpperCase()}function _(e){return'"'+String(e).replace(l,"\\$1")+'"'}function w(e){var t=String(e);return"UTF-8''"+encodeURIComponent(t).replace(i,b)}function S(e,t){this.type=e,this.parameters=t}},20566:(e,t,n)=>{var r=n(30816),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},31699:function(e){e.exports=function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,o,i){return r=n()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i},r.apply(null,arguments)}function o(e){return i(e)||a(e)||s(e)||c()}function i(e){if(Array.isArray(e))return u(e)}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,d=Object.setPrototypeOf,p=Object.isFrozen,h=Object.getPrototypeOf,f=Object.getOwnPropertyDescriptor,g=Object.freeze,m=Object.seal,y=Object.create,v="undefined"!=typeof Reflect&&Reflect,b=v.apply,_=v.construct;b||(b=function(e,t,n){return e.apply(t,n)}),g||(g=function(e){return e}),m||(m=function(e){return e}),_||(_=function(e,t){return r(e,o(t))});var w=R(Array.prototype.forEach),S=R(Array.prototype.pop),I=R(Array.prototype.push),x=R(String.prototype.toLowerCase),E=R(String.prototype.toString),k=R(String.prototype.match),T=R(String.prototype.replace),A=R(String.prototype.indexOf),C=R(String.prototype.trim),O=R(RegExp.prototype.test),P=N(TypeError);function R(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return b(e,t,r)}}function N(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(e,n)}}function D(e,t,n){n=n||x,d&&d(e,null);for(var r=t.length;r--;){var o=t[r];if("string"==typeof o){var i=n(o);i!==o&&(p(t)||(t[r]=i),o=i)}e[o]=!0}return e}function M(e){var t,n=y(null);for(t in e)!0===b(l,e,[t])&&(n[t]=e[t]);return n}function j(e,t){for(;null!==e;){var n=f(e,t);if(n){if(n.get)return R(n.get);if("function"==typeof n.value)return R(n.value)}e=h(e)}function r(e){return console.warn("fallback value for",e),null}return r}var L=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=g(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),z=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),W=g(["#text"]),q=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=g(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=m(/<%[\w\W]*|[\w\W]*%>/gm),J=m(/\${[\w\W]*}/gm),X=m(/^data-[\-\w.\u00B7-\uFFFF]/),Q=m(/^aria-[\-\w]+$/),Z=m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=m(/^(?:\w+script|data):/i),te=m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=m(/^html$/i),re=function(){return"undefined"==typeof self?null:self},oe=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re(),n=function(e){return ie(e)};if(n.version="2.4.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,u=t.Node,c=t.Element,l=t.NodeFilter,d=t.NamedNodeMap,p=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,h=t.HTMLFormElement,f=t.DOMParser,m=t.trustedTypes,y=c.prototype,v=j(y,"cloneNode"),b=j(y,"nextSibling"),_=j(y,"childNodes"),R=j(y,"parentNode");if("function"==typeof s){var N=i.createElement("template");N.content&&N.content.ownerDocument&&(i=N.content.ownerDocument)}var ae=oe(m,r),se=ae?ae.createHTML(""):"",ue=i,ce=ue.implementation,le=ue.createNodeIterator,de=ue.createDocumentFragment,pe=ue.getElementsByTagName,he=r.importNode,fe={};try{fe=M(i).documentMode?i.documentMode:{}}catch(e){}var ge={};n.isSupported="function"==typeof R&&ce&&void 0!==ce.createHTMLDocument&&9!==fe;var me,ye,ve=K,be=Y,_e=J,we=X,Se=Q,Ie=ee,xe=te,Ee=Z,ke=null,Te=D({},[].concat(o(L),o(U),o(F),o(G),o(W))),Ae=null,Ce=D({},[].concat(o(q),o(V),o(H),o($))),Oe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pe=null,Re=null,Ne=!0,De=!0,Me=!1,je=!0,Le=!1,Ue=!1,Fe=!1,Be=!1,Ge=!1,ze=!1,We=!1,qe=!0,Ve=!1,He="user-content-",$e=!0,Ke=!1,Ye={},Je=null,Xe=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Qe=null,Ze=D({},["audio","video","img","source","image","track"]),et=null,tt=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",rt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml",it=ot,at=!1,st=null,ut=D({},[nt,rt,ot],E),ct=["application/xhtml+xml","text/html"],lt="text/html",dt=null,pt=i.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},ft=function(t){dt&&dt===t||(t&&"object"===e(t)||(t={}),t=M(t),me=me=-1===ct.indexOf(t.PARSER_MEDIA_TYPE)?lt:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===me?E:x,ke="ALLOWED_TAGS"in t?D({},t.ALLOWED_TAGS,ye):Te,Ae="ALLOWED_ATTR"in t?D({},t.ALLOWED_ATTR,ye):Ce,st="ALLOWED_NAMESPACES"in t?D({},t.ALLOWED_NAMESPACES,E):ut,et="ADD_URI_SAFE_ATTR"in t?D(M(tt),t.ADD_URI_SAFE_ATTR,ye):tt,Qe="ADD_DATA_URI_TAGS"in t?D(M(Ze),t.ADD_DATA_URI_TAGS,ye):Ze,Je="FORBID_CONTENTS"in t?D({},t.FORBID_CONTENTS,ye):Xe,Pe="FORBID_TAGS"in t?D({},t.FORBID_TAGS,ye):{},Re="FORBID_ATTR"in t?D({},t.FORBID_ATTR,ye):{},Ye="USE_PROFILES"in t&&t.USE_PROFILES,Ne=!1!==t.ALLOW_ARIA_ATTR,De=!1!==t.ALLOW_DATA_ATTR,Me=t.ALLOW_UNKNOWN_PROTOCOLS||!1,je=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Le=t.SAFE_FOR_TEMPLATES||!1,Ue=t.WHOLE_DOCUMENT||!1,Ge=t.RETURN_DOM||!1,ze=t.RETURN_DOM_FRAGMENT||!1,We=t.RETURN_TRUSTED_TYPE||!1,Be=t.FORCE_BODY||!1,qe=!1!==t.SANITIZE_DOM,Ve=t.SANITIZE_NAMED_PROPS||!1,$e=!1!==t.KEEP_CONTENT,Ke=t.IN_PLACE||!1,Ee=t.ALLOWED_URI_REGEXP||Ee,it=t.NAMESPACE||ot,Oe=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Oe.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Oe.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Oe.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Le&&(De=!1),ze&&(Ge=!0),Ye&&(ke=D({},o(W)),Ae=[],!0===Ye.html&&(D(ke,L),D(Ae,q)),!0===Ye.svg&&(D(ke,U),D(Ae,V),D(Ae,$)),!0===Ye.svgFilters&&(D(ke,F),D(Ae,V),D(Ae,$)),!0===Ye.mathMl&&(D(ke,G),D(Ae,H),D(Ae,$))),t.ADD_TAGS&&(ke===Te&&(ke=M(ke)),D(ke,t.ADD_TAGS,ye)),t.ADD_ATTR&&(Ae===Ce&&(Ae=M(Ae)),D(Ae,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&D(et,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Je===Xe&&(Je=M(Je)),D(Je,t.FORBID_CONTENTS,ye)),$e&&(ke["#text"]=!0),Ue&&D(ke,["html","head","body"]),ke.table&&(D(ke,["tbody"]),delete Pe.tbody),g&&g(t),dt=t)},gt=D({},["mi","mo","mn","ms","mtext"]),mt=D({},["foreignobject","desc","title","annotation-xml"]),yt=D({},["title","style","font","a","script"]),vt=D({},U);D(vt,F),D(vt,B);var bt=D({},G);D(bt,z);var _t=function(e){var t=R(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});var n=x(e.tagName),r=x(t.tagName);return!!st[e.namespaceURI]&&(e.namespaceURI===rt?t.namespaceURI===ot?"svg"===n:t.namespaceURI===nt?"svg"===n&&("annotation-xml"===r||gt[r]):Boolean(vt[n]):e.namespaceURI===nt?t.namespaceURI===ot?"math"===n:t.namespaceURI===rt?"math"===n&&mt[r]:Boolean(bt[n]):e.namespaceURI===ot?!(t.namespaceURI===rt&&!mt[r])&&!(t.namespaceURI===nt&&!gt[r])&&!bt[n]&&(yt[n]||!vt[n]):!("application/xhtml+xml"!==me||!st[e.namespaceURI]))},wt=function(e){I(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=se}catch(t){e.remove()}}},St=function(e,t){try{I(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){I(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ae[e])if(Ge||ze)try{wt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},It=function(e){var t,n;if(Be)e="<remove></remove>"+e;else{var r=k(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===me&&it===ot&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=ae?ae.createHTML(e):e;if(it===ot)try{t=(new f).parseFromString(o,me)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(it,"template",null);try{t.documentElement.innerHTML=at?se:o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),it===ot?pe.call(t,Ue?"html":"body")[0]:Ue?t.documentElement:a},xt=function(e){return le.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Et=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},kt=function(t){return"object"===e(u)?t instanceof u:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Tt=function(e,t,r){ge[e]&&w(ge[e],(function(e){e.call(n,t,r,dt)}))},At=function(e){var t;if(Tt("beforeSanitizeElements",e,null),Et(e))return wt(e),!0;if(O(/[\u0080-\uFFFF]/,e.nodeName))return wt(e),!0;var r=ye(e.nodeName);if(Tt("uponSanitizeElement",e,{tagName:r,allowedTags:ke}),e.hasChildNodes()&&!kt(e.firstElementChild)&&(!kt(e.content)||!kt(e.content.firstElementChild))&&O(/<[/\w]/g,e.innerHTML)&&O(/<[/\w]/g,e.textContent))return wt(e),!0;if("select"===r&&O(/<template/i,e.innerHTML))return wt(e),!0;if(!ke[r]||Pe[r]){if(!Pe[r]&&Ot(r)){if(Oe.tagNameCheck instanceof RegExp&&O(Oe.tagNameCheck,r))return!1;if(Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(r))return!1}if($e&&!Je[r]){var o=R(e)||e.parentNode,i=_(e)||e.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(v(i[a],!0),b(e))}return wt(e),!0}return e instanceof c&&!_t(e)?(wt(e),!0):"noscript"!==r&&"noembed"!==r||!O(/<\/no(script|embed)/i,e.innerHTML)?(Le&&3===e.nodeType&&(t=e.textContent,t=T(t,ve," "),t=T(t,be," "),t=T(t,_e," "),e.textContent!==t&&(I(n.removed,{element:e.cloneNode()}),e.textContent=t)),Tt("afterSanitizeElements",e,null),!1):(wt(e),!0)},Ct=function(e,t,n){if(qe&&("id"===t||"name"===t)&&(n in i||n in pt))return!1;if(De&&!Re[t]&&O(we,t));else if(Ne&&O(Se,t));else if(!Ae[t]||Re[t]){if(!(Ot(e)&&(Oe.tagNameCheck instanceof RegExp&&O(Oe.tagNameCheck,e)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(e))&&(Oe.attributeNameCheck instanceof RegExp&&O(Oe.attributeNameCheck,t)||Oe.attributeNameCheck instanceof Function&&Oe.attributeNameCheck(t))||"is"===t&&Oe.allowCustomizedBuiltInElements&&(Oe.tagNameCheck instanceof RegExp&&O(Oe.tagNameCheck,n)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(n))))return!1}else if(et[t]);else if(O(Ee,T(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==A(n,"data:")||!Qe[e])if(Me&&!O(Ie,T(n,xe,"")));else if(n)return!1;return!0},Ot=function(e){return e.indexOf("-")>0},Pt=function(t){var r,o,i,a;Tt("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ae};for(a=s.length;a--;){var c=r=s[a],l=c.name,d=c.namespaceURI;if(o="value"===l?r.value:C(r.value),i=ye(l),u.attrName=i,u.attrValue=o,u.keepAttr=!0,u.forceKeepAttr=void 0,Tt("uponSanitizeAttribute",t,u),o=u.attrValue,!u.forceKeepAttr&&(St(l,t),u.keepAttr))if(je||!O(/\/>/i,o)){Le&&(o=T(o,ve," "),o=T(o,be," "),o=T(o,_e," "));var p=ye(t.nodeName);if(Ct(p,i,o)){if(!Ve||"id"!==i&&"name"!==i||(St(l,t),o=He+o),ae&&"object"===e(m)&&"function"==typeof m.getAttributeType)if(d);else switch(m.getAttributeType(p,i)){case"TrustedHTML":o=ae.createHTML(o);break;case"TrustedScriptURL":o=ae.createScriptURL(o)}try{d?t.setAttributeNS(d,l,o):t.setAttribute(l,o),S(n.removed)}catch(e){}}}else St(l,t)}Tt("afterSanitizeAttributes",t,null)}},Rt=function e(t){var n,r=xt(t);for(Tt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Tt("uponSanitizeShadowNode",n,null),At(n)||(n.content instanceof a&&e(n.content),Pt(n));Tt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(o){var i,s,c,l,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((at=!o)&&(o="\x3c!--\x3e"),"string"!=typeof o&&!kt(o)){if("function"!=typeof o.toString)throw P("toString is not a function");if("string"!=typeof(o=o.toString()))throw P("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof o)return t.toStaticHTML(o);if(kt(o))return t.toStaticHTML(o.outerHTML)}return o}if(Fe||ft(p),n.removed=[],"string"==typeof o&&(Ke=!1),Ke){if(o.nodeName){var h=ye(o.nodeName);if(!ke[h]||Pe[h])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof u)1===(s=(i=It("\x3c!----\x3e")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!Ge&&!Le&&!Ue&&-1===o.indexOf("<"))return ae&&We?ae.createHTML(o):o;if(!(i=It(o)))return Ge?null:We?se:""}i&&Be&&wt(i.firstChild);for(var f=xt(Ke?o:i);c=f.nextNode();)3===c.nodeType&&c===l||At(c)||(c.content instanceof a&&Rt(c.content),Pt(c),l=c);if(l=null,Ke)return o;if(Ge){if(ze)for(d=de.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return(Ae.shadowroot||Ae.shadowrootmod)&&(d=he.call(r,d,!0)),d}var g=Ue?i.outerHTML:i.innerHTML;return Ue&&ke["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&O(ne,i.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+g),Le&&(g=T(g,ve," "),g=T(g,be," "),g=T(g,_e," ")),ae&&We?ae.createHTML(g):g},n.setConfig=function(e){ft(e),Fe=!0},n.clearConfig=function(){dt=null,Fe=!1},n.isValidAttribute=function(e,t,n){dt||ft({});var r=ye(e),o=ye(t);return Ct(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(ge[e]=ge[e]||[],I(ge[e],t))},n.removeHook=function(e){if(ge[e])return S(ge[e])},n.removeHooks=function(e){ge[e]&&(ge[e]=[])},n.removeAllHooks=function(){ge={}},n}return ie()}()},19744:e=>{var t=-1,n=10,r=0;function o(e,n,c,l){if(e===n)return e?[[0,e]]:[];if(null!=c){var d=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,i=e.length,a=t.length;if(0===r.length&&(null===o||0===o.length)){var s=r.index,u=e.slice(0,s),c=e.slice(s),l=o?o.index:null,d=s+a-i;if((null===l||l===d)&&!(d<0||d>a)){var p=t.slice(0,d);if((m=t.slice(d))===c){var f=Math.min(s,d);if((v=u.slice(0,f))===(_=p.slice(0,f)))return h(v,u.slice(f),p.slice(f),c)}}if(null===l||l===s){var g=s,m=(p=t.slice(0,g),t.slice(g));if(p===u){var y=Math.min(i-g,a-g);if((b=c.slice(c.length-y))===(w=m.slice(m.length-y)))return h(u,c.slice(0,c.length-y),m.slice(0,m.length-y),b)}}}if(r.length>0&&o&&0===o.length){var v=e.slice(0,r.index),b=e.slice(r.index+r.length);if(!(a<(f=v.length)+(y=b.length))){var _=t.slice(0,f),w=t.slice(a-y);if(v===_&&b===w)return h(v,e.slice(f,i-y),t.slice(f,a-y),b)}}return null}(e,n,c);if(d)return d}var p=a(e,n),f=e.substring(0,p);p=s(e=e.substring(p),n=n.substring(p));var g=e.substring(e.length-p),m=function(e,n){var u;if(!e)return[[1,n]];if(!n)return[[t,e]];var c=e.length>n.length?e:n,l=e.length>n.length?n:e,d=c.indexOf(l);if(-1!==d)return u=[[1,c.substring(0,d)],[0,l],[1,c.substring(d+l.length)]],e.length>n.length&&(u[0][0]=u[2][0]=t),u;if(1===l.length)return[[t,e],[1,n]];var p=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,i,u,c=e.substring(n,n+Math.floor(e.length/4)),l=-1,d="";-1!==(l=t.indexOf(c,l+1));){var p=a(e.substring(n),t.substring(l)),h=s(e.substring(0,n),t.substring(0,l));d.length<h+p&&(d=t.substring(l-h,l)+t.substring(l,l+p),r=e.substring(0,n-h),o=e.substring(n+p),i=t.substring(0,l-h),u=t.substring(l+p))}return 2*d.length>=e.length?[r,o,i,u,d]:null}var i,u,c,l,d,p=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));if(!p&&!h)return null;i=h?p&&p[4].length>h[4].length?p:h:p;e.length>t.length?(u=i[0],c=i[1],l=i[2],d=i[3]):(l=i[0],d=i[1],u=i[2],c=i[3]);var f=i[4];return[u,c,l,d,f]}(e,n);if(p){var h=p[0],f=p[1],g=p[2],m=p[3],y=p[4],v=o(h,g),b=o(f,m);return v.concat([[0,y]],b)}return function(e,n){for(var o=e.length,a=n.length,s=Math.ceil((o+a)/2),u=s,c=2*s,l=new Array(c),d=new Array(c),p=0;p<c;p++)l[p]=-1,d[p]=-1;l[u+1]=0,d[u+1]=0;for(var h=o-a,f=h%2!=0,g=0,m=0,y=0,v=0,b=0;b<s&&!(r>0&&performance.now()>r);b++){for(var _=-b+g;_<=b-m;_+=2){for(var w=u+_,S=(T=_===-b||_!==b&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-_;T<o&&S<a&&e.charAt(T)===n.charAt(S);)T++,S++;if(l[w]=T,T>o)m+=2;else if(S>a)g+=2;else if(f){if((E=u+h-_)>=0&&E<c&&-1!==d[E])if(T>=(x=o-d[E]))return i(e,n,T,S)}}for(var I=-b+y;I<=b-v;I+=2){for(var x,E=u+I,k=(x=I===-b||I!==b&&d[E-1]<d[E+1]?d[E+1]:d[E-1]+1)-I;x<o&&k<a&&e.charAt(o-x-1)===n.charAt(a-k-1);)x++,k++;if(d[E]=x,x>o)v+=2;else if(k>a)y+=2;else if(!f){if((w=u+h-I)>=0&&w<c&&-1!==l[w]){var T;S=u+(T=l[w])-w;if(T>=(x=o-x))return i(e,n,T,S)}}}}return[[t,e],[1,n]]}(e,n)}(e=e.substring(0,e.length-p),n=n.substring(0,n.length-p));return f&&m.unshift([0,f]),g&&m.push([0,g]),u(m,l),m}function i(e,t,n,r){var i=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),u=t.substring(r),c=o(i,a),l=o(s,u);return c.concat(l)}function a(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return c(e.charCodeAt(o-1))&&o--,o}function s(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return l(e.charCodeAt(e.length-o))&&o--,o}function u(e,n){e.push([0,""]);for(var r,o=0,i=0,c=0,l="",h="";o<e.length;)if(o<e.length-1&&!e[o][1])e.splice(o,1);else switch(e[o][0]){case 1:c++,h+=e[o][1],o++;break;case t:i++,l+=e[o][1],o++;break;case 0:var f=o-c-i-1;if(n){if(f>=0&&p(e[f][1])){var g=e[f][1].slice(-1);if(e[f][1]=e[f][1].slice(0,-1),l=g+l,h=g+h,!e[f][1]){e.splice(f,1),o--;var m=f-1;e[m]&&1===e[m][0]&&(c++,h=e[m][1]+h,m--),e[m]&&e[m][0]===t&&(i++,l=e[m][1]+l,m--),f=m}}if(d(e[o][1])){g=e[o][1].charAt(0);e[o][1]=e[o][1].slice(1),l+=g,h+=g}}if(o<e.length-1&&!e[o][1]){e.splice(o,1);break}if(l.length>0||h.length>0){l.length>0&&h.length>0&&(0!==(r=a(h,l))&&(f>=0?e[f][1]+=h.substring(0,r):(e.splice(0,0,[0,h.substring(0,r)]),o++),h=h.substring(r),l=l.substring(r)),0!==(r=s(h,l))&&(e[o][1]=h.substring(h.length-r)+e[o][1],h=h.substring(0,h.length-r),l=l.substring(0,l.length-r)));var y=c+i;0===l.length&&0===h.length?(e.splice(o-y,y),o-=y):0===l.length?(e.splice(o-y,y,[1,h]),o=o-y+1):0===h.length?(e.splice(o-y,y,[t,l]),o=o-y+1):(e.splice(o-y,y,[t,l],[1,h]),o=o-y+2)}0!==o&&0===e[o-1][0]?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,c=0,i=0,l="",h=""}""===e[e.length-1][1]&&e.pop();var v=!1;for(o=1;o<e.length-1;)0===e[o-1][0]&&0===e[o+1][0]&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)===e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),v=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),v=!0)),o++;v&&u(e,n)}function c(e){return e>=55296&&e<=56319}function l(e){return e>=56320&&e<=57343}function d(e){return l(e.charCodeAt(0))}function p(e){return c(e.charCodeAt(e.length-1))}function h(e,n,r,o){return p(e)||d(o)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,r],[0,o]])}function f(e,t,i){return r=n>0?performance.now()+n:0,o(e,t,i,!0)}f.INSERT=1,f.DELETE=t,f.EQUAL=0,f.getTimeoutMs=function(){return n},f.setTimeoutMs=function(e){n=e},e.exports=f},17771:(e,t,n)=>{n.d(t,{Y:()=>u,g:()=>s});var r=n(57050);function o(e,t,n){return function(r){for(var i=Array(n.length+1),a=0;a<n.length;a++)i[a]=n[a];return i[n.length]=r,0===t?e.apply(null,i):o(e,t-1,i)}}var i={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(o){return[e,t,n,r,o]}}}}}};function a(e){return i.hasOwnProperty(e)||(i[e]=o(r.bc,e-1,[])),i[e]}function s(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,o=a(r),i=e.map(t[0],o),s=1;s<r;s++)i=e.ap(i,t[s]);return i}}function u(e){return function(t){for(var n=Object.keys(t),r=n.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var n;return(n={})[e[0]]=t,n};case 2:return function(t){return function(n){var r;return(r={})[e[0]]=t,r[e[1]]=n,r}};case 3:return function(t){return function(n){return function(r){var o;return(o={})[e[0]]=t,o[e[1]]=n,o[e[2]]=r,o}}};case 4:return function(t){return function(n){return function(r){return function(o){var i;return(i={})[e[0]]=t,i[e[1]]=n,i[e[2]]=r,i[e[3]]=o,i}}}};case 5:return function(t){return function(n){return function(r){return function(o){return function(i){var a;return(a={})[e[0]]=t,a[e[1]]=n,a[e[2]]=r,a[e[3]]=o,a[e[4]]=i,a}}}}};default:return o((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o={},i=0;i<t;i++)o[e[i]]=n[i];return o}),t-1,[])}}(n),a=e.map(t[n[0]],i),s=1;s<r;s++)a=e.ap(a,t[n[s]]);return a}}},71249:(e,t,n)=>{n.d(t,{$6:()=>At,$R:()=>Y,$h:()=>A,$q:()=>p,AS:()=>l,DY:()=>$,DZ:()=>He,Do:()=>Bt,EG:()=>z,Eg:()=>ae,Eh:()=>a,Ew:()=>D,F8:()=>ht,G:()=>Ft,G0:()=>se,GY:()=>q,Gb:()=>x,Gk:()=>Xe,Hd:()=>Ke,IX:()=>Nt,JG:()=>F,JJ:()=>ft,JO:()=>L,KB:()=>u,Kd:()=>Ot,Lx:()=>rt,MR:()=>ne,N:()=>Le,N7:()=>J,OE:()=>at,OM:()=>nt,Od:()=>y,Ot:()=>Pt,P5:()=>b,QI:()=>_,Qp:()=>R,Qt:()=>Wt,Ri:()=>Et,Rr:()=>St,S1:()=>E,Ss:()=>w,Su:()=>ze,To:()=>Be,U1:()=>Z,U5:()=>xt,UA:()=>_t,UI:()=>Me,Wl:()=>G,Wr:()=>X,YM:()=>S,YO:()=>Gt,YT:()=>Mt,Z$:()=>I,ZN:()=>o,ZQ:()=>B,Zh:()=>f,_$:()=>Rt,_r:()=>Je,a1:()=>Ue,ag:()=>g,ak:()=>zt,ap:()=>je,bM:()=>gt,bj:()=>H,bw:()=>Ct,c5:()=>wt,cS:()=>Lt,cq:()=>W,cx:()=>N,dC:()=>v,dF:()=>j,dO:()=>yt,e5:()=>ce,f2:()=>M,fD:()=>jt,fw:()=>ct,g1:()=>bt,hX:()=>Ve,hp:()=>V,iD:()=>Q,iw:()=>ut,j7:()=>P,jV:()=>ue,jj:()=>te,jt:()=>Ze,ke:()=>k,l7:()=>tt,lV:()=>h,lx:()=>oe,mU:()=>Ge,md:()=>O,nq:()=>st,oA:()=>We,of:()=>le,oh:()=>qe,oo:()=>Dt,ov:()=>mt,pO:()=>re,pR:()=>s,pm:()=>T,qr:()=>U,r3:()=>It,r7:()=>dt,t9:()=>ee,tS:()=>Fe,tV:()=>Ye,u4:()=>it,u9:()=>vt,uK:()=>$e,uU:()=>pt,uZ:()=>i,ue:()=>Tt,vP:()=>lt,w6:()=>c,wM:()=>ie,wp:()=>Qe,xH:()=>d,xP:()=>ot,xb:()=>m,xu:()=>kt,yL:()=>K,yW:()=>Ut,z7:()=>et,zT:()=>C});var r=n(64015),o=r.ZN,i=r.uZ,a=r.Eh,s=r.pR,u=r.KB,c=r.w6,l=r.AS,d=r.xH,p=r.$q,h=r.lV,f=r.Zh,g=r.ag,m=r.xb,y=r.Od,v=r.dC,b=r.P5,_=r.QI,w=r.Ss,S=r.YM,I=r.Z$,x=r.Gb,E=r.S1,k=r.ke,T=r.pm;function A(e){return r.$h(e)}function C(e){return r.zT(e)}var O=r.md,P=r.j7,R=r.Qp,N=r.cx;function D(e){return r.Ew(e)}var M=r.f2;function j(e){return r.dF(e)}var L=r.JO,U=r.qr,F=r.qo,B=r.ZQ,G=r.Wl,z=r.EG,W=r.cq,q=r.GY,V=r.hp,H=r.bj,$=r.DY,K=r.yL,Y=r.$R,J=r.N7,X=r.Wr,Q=r.iD,Z=r.U1,ee=r.t9,te=r.jj,ne=r.MR,re=r.pO,oe=r.lx,ie=r.wM;function ae(e,t,n){return void 0===n&&(n=function(){return!0}),r.Eg(e,t,n)}var se=r.G0,ue=r.jV,ce=r.e5,le=r.of,de=r.UA.map,pe=r.UA.ap,he=r.UA.chain,fe=r.u9.mapWithIndex,ge=r.xu.filter,me=r.xu.filterMap,ye=r.xu.partition,ve=r.xu.partitionMap,be=r.ue.filterWithIndex,_e=r.ue.filterMapWithIndex,we=r.ue.partitionWithIndex,Se=r.ue.partitionMapWithIndex,Ie=r.$6.reduce,xe=r.$6.foldMap,Ee=r.$6.reduceRight,ke=r.Kd.traverse,Te=r.r3.alt,Ae=r.bw.reduceWithIndex,Ce=r.bw.foldMapWithIndex,Oe=r.bw.reduceRightWithIndex,Pe=r.Ot.traverseWithIndex,Re=r.U5.extend,Ne=r._$.wither,De=r._$.wilt,Me=r.UI,je=r.ap,Le=r.N,Ue=r.a1,Fe=r.tS,Be=r.To,Ge=r.mU,ze=r.Su,We=r.oA,qe=r.oh,Ve=r.hX,He=r.DZ,$e=r.uK,Ke=r.Hd,Ye=r.tV,Je=r._r,Xe=r.Gk,Qe=r.wp,Ze=r.jt,et=r.z7,tt=r.l7,nt=r.OM,rt=r.Lx,ot=r.xP,it=r.u4,at=r.OE,st=r.nq,ut=r.iw,ct=r.fw,lt=r.vP,dt=r.r7,pt=r.uU,ht=r.F8,ft=r.JJ,gt=r.r3.zero,mt="Array",yt={URI:mt,map:de},vt={URI:mt,map:de,mapWithIndex:fe},bt={URI:mt,map:de,ap:pe,of:le},_t={URI:mt,map:de,ap:pe,of:le,chain:he},wt={URI:mt,unfold:ft},St={URI:mt,map:de,alt:Te},It={URI:mt,map:de,ap:pe,of:le,alt:Te,zero:gt},xt={URI:mt,map:de,extend:Re},Et={URI:mt,compact:We,separate:qe},kt={URI:mt,map:de,compact:We,separate:qe,filter:ge,filterMap:me,partition:ye,partitionMap:ve},Tt={URI:mt,map:de,mapWithIndex:fe,compact:We,separate:qe,filter:ge,filterMap:me,partition:ye,partitionMap:ve,partitionMapWithIndex:Se,partitionWithIndex:we,filterMapWithIndex:_e,filterWithIndex:be},At={URI:mt,reduce:Ie,foldMap:xe,reduceRight:Ee},Ct={URI:mt,reduce:Ie,foldMap:xe,reduceRight:Ee,reduceWithIndex:Ae,foldMapWithIndex:Ce,reduceRightWithIndex:Oe},Ot={URI:mt,map:de,reduce:Ie,foldMap:xe,reduceRight:Ee,traverse:ke,sequence:lt},Pt={URI:mt,map:de,mapWithIndex:fe,reduce:Ie,foldMap:xe,reduceRight:Ee,reduceWithIndex:Ae,foldMapWithIndex:Ce,reduceRightWithIndex:Oe,traverse:ke,sequence:lt,traverseWithIndex:Pe},Rt={URI:mt,map:de,compact:We,separate:qe,filter:ge,filterMap:me,partition:ye,partitionMap:ve,reduce:Ie,foldMap:xe,reduceRight:Ee,traverse:ke,sequence:lt,wither:Ne,wilt:De},Nt={URI:mt,compact:We,separate:qe,map:de,ap:pe,of:le,chain:he,filter:ge,filterMap:me,partition:ye,partitionMap:ve,mapWithIndex:fe,partitionMapWithIndex:Se,partitionWithIndex:we,filterMapWithIndex:_e,filterWithIndex:be,alt:Te,zero:gt,unfold:ft,reduce:Ie,foldMap:xe,reduceRight:Ee,traverse:ke,sequence:lt,reduceWithIndex:Ae,foldMapWithIndex:Ce,reduceRightWithIndex:Oe,traverseWithIndex:Pe,extend:Re,wither:Ne,wilt:De},Dt=r.oo,Mt=r.YT,jt=r.fD,Lt=[],Ut=r.yW,Ft=r.G,Bt=le({}),Gt=r.YO,zt=r.ak,Wt=r.Qt},45241:(e,t,n)=>{function r(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}n.d(t,{_:()=>r})},95195:(e,t,n)=>{n.r(t),n.d(t,{Alt:()=>Ie,Applicative:()=>ve,Bifunctor:()=>Se,ChainRec:()=>Ee,Do:()=>Re,Extend:()=>xe,Foldable:()=>_e,Functor:()=>ye,Monad:()=>be,MonadThrow:()=>ke,Traversable:()=>we,URI:()=>ie,alt:()=>J,altW:()=>Y,ap:()=>B,apFirst:()=>G,apS:()=>Le,apSW:()=>je,apSecond:()=>z,apW:()=>F,bimap:()=>L,bind:()=>Me,bindTo:()=>Ne,bindW:()=>De,chain:()=>V,chainFirst:()=>$,chainFirstW:()=>H,chainNullableK:()=>b,chainW:()=>q,duplicate:()=>Q,either:()=>Ae,elem:()=>Oe,exists:()=>Pe,extend:()=>X,filterOrElse:()=>I,filterOrElseW:()=>S,flatten:()=>K,fold:()=>g,foldMap:()=>ee,fromNullable:()=>c,fromNullableK:()=>v,fromOption:()=>h,fromPredicate:()=>f,getAltValidation:()=>fe,getApplicativeValidation:()=>he,getApplyMonoid:()=>le,getApplySemigroup:()=>ce,getEq:()=>se,getFilterable:()=>de,getOrElse:()=>y,getOrElseW:()=>m,getSemigroup:()=>ue,getShow:()=>ae,getValidation:()=>ge,getValidationMonoid:()=>Te,getValidationSemigroup:()=>me,getWitherable:()=>pe,isLeft:()=>i,isRight:()=>a,left:()=>s,map:()=>j,mapLeft:()=>U,of:()=>W,orElse:()=>w,parseJSON:()=>d,reduce:()=>Z,reduceRight:()=>te,right:()=>u,sequence:()=>re,sequenceArray:()=>Be,stringifyJSON:()=>p,swap:()=>_,throwError:()=>oe,toError:()=>Ce,traverse:()=>ne,traverseArray:()=>Fe,traverseArrayWithIndex:()=>Ue,tryCatch:()=>l});var r=n(45241),o=n(57050),i=function(e){return"Left"===e._tag},a=function(e){return"Right"===e._tag},s=function(e){return{_tag:"Left",left:e}},u=function(e){return{_tag:"Right",right:e}};function c(e){return function(t){return null==t?s(e):u(t)}}function l(e,t){try{return u(e())}catch(e){return s(t(e))}}function d(e,t){return l((function(){return JSON.parse(e)}),t)}function p(e,t){return l((function(){return JSON.stringify(e)}),t)}var h=function(e){return function(t){return"None"===t._tag?s(e()):u(t.value)}},f=function(e,t){return function(n){return e(n)?u(n):s(t(n))}};function g(e,t){return function(n){return i(n)?e(n.left):t(n.right)}}var m=function(e){return function(t){return i(t)?e(t.left):t.right}},y=m;function v(e){var t=c(e);return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(void 0,n))}}}function b(e){var t=v(e);return function(e){return V(t(e))}}function _(e){return i(e)?u(e.left):s(e.right)}function w(e){return function(t){return i(t)?e(t.left):t}}var S=function(e,t){return q((function(n){return e(n)?u(n):s(t(n))}))},I=S,x=function(e,t){return(0,o.zG)(e,j(t))},E=function(e,t){return(0,o.zG)(e,B(t))},k=function(e,t){return(0,o.zG)(e,V(t))},T=function(e,t,n){return(0,o.zG)(e,Z(t,n))},A=function(e){return function(t,n){var r=ee(e);return(0,o.zG)(t,r(n))}},C=function(e,t,n){return(0,o.zG)(e,te(t,n))},O=function(e){var t=ne(e);return function(e,n){return(0,o.zG)(e,t(n))}},P=function(e,t,n){return(0,o.zG)(e,L(t,n))},R=function(e,t){return(0,o.zG)(e,U(t))},N=function(e,t){return(0,o.zG)(e,J(t))},D=function(e,t){return(0,o.zG)(e,X(t))},M=function(e,t){return(0,r._)(t(e),(function(e){return i(e)?u(s(e.left)):i(e.right)?s(t(e.right.left)):u(u(e.right.right))}))},j=function(e){return function(t){return i(t)?t:u(e(t.right))}},L=function(e,t){return function(n){return i(n)?s(e(n.left)):u(t(n.right))}},U=function(e){return function(t){return i(t)?s(e(t.left)):t}},F=function(e){return function(t){return i(t)?t:i(e)?e:u(t.right(e.right))}},B=F,G=function(e){return(0,o.ls)(j((function(e){return function(){return e}})),B(e))},z=function(e){return(0,o.ls)(j((function(){return function(e){return e}})),B(e))},W=u,q=function(e){return function(t){return i(t)?t:e(t.right)}},V=q,H=function(e){return function(t){return(0,o.zG)(t,q((function(t){return(0,o.zG)(e(t),j((function(){return t})))})))}},$=H,K=V(o.yR),Y=function(e){return function(t){return i(t)?e():t}},J=Y,X=function(e){return function(t){return i(t)?t:u(e(t))}},Q=X(o.yR),Z=function(e,t){return function(n){return i(n)?e:t(e,n.right)}},ee=function(e){return function(t){return function(n){return i(n)?e.empty:t(n.right)}}},te=function(e,t){return function(n){return i(n)?e:t(n.right,e)}},ne=function(e){return function(t){return function(n){return i(n)?e.of(s(n.left)):e.map(t(n.right),u)}}},re=function(e){return function(t){return i(t)?e.of(s(t.left)):e.map(t.right,u)}},oe=s,ie="Either";function ae(e,t){return{show:function(n){return i(n)?"left("+e.show(n.left)+")":"right("+t.show(n.right)+")"}}}function se(e,t){return{equals:function(n,r){return n===r||(i(n)?i(r)&&e.equals(n.left,r.left):a(r)&&t.equals(n.right,r.right))}}}function ue(e){return{concat:function(t,n){return i(n)?t:i(t)?n:u(e.concat(t.right,n.right))}}}function ce(e){return{concat:function(t,n){return i(t)?t:i(n)?n:u(e.concat(t.right,n.right))}}}function le(e){return{concat:ce(e).concat,empty:u(e.empty)}}function de(e){var t=s(e.empty);return{URI:ie,_E:void 0,map:x,compact:function(e){return i(e)?e:"None"===e.right._tag?t:u(e.right.value)},separate:function(e){return i(e)?{left:e,right:e}:i(e.right)?{left:u(e.right.left),right:t}:{left:t,right:u(e.right.right)}},filter:function(e,n){return i(e)||n(e.right)?e:t},filterMap:function(e,n){if(i(e))return e;var r=n(e.right);return"None"===r._tag?t:u(r.value)},partition:function(e,n){return i(e)?{left:e,right:e}:n(e.right)?{left:t,right:u(e.right)}:{left:u(e.right),right:t}},partitionMap:function(e,n){if(i(e))return{left:e,right:e};var r=n(e.right);return i(r)?{left:u(r.left),right:t}:{left:t,right:u(r.right)}}}}function pe(e){var t=de(e);return{URI:ie,_E:void 0,map:x,compact:t.compact,separate:t.separate,filter:t.filter,filterMap:t.filterMap,partition:t.partition,partitionMap:t.partitionMap,traverse:O,sequence:re,reduce:T,foldMap:A,reduceRight:C,wither:function(e){var n=O(e);return function(r,o){return e.map(n(r,o),t.compact)}},wilt:function(e){var n=O(e);return function(r,o){return e.map(n(r,o),t.separate)}}}}function he(e){return{URI:ie,_E:void 0,map:x,ap:function(t,n){return i(t)?i(n)?s(e.concat(t.left,n.left)):t:i(n)?n:u(t.right(n.right))},of:W}}function fe(e){return{URI:ie,_E:void 0,map:x,alt:function(t,n){if(a(t))return t;var r=n();return i(r)?s(e.concat(t.left,r.left)):r}}}function ge(e){var t=he(e),n=fe(e);return{URI:ie,_E:void 0,map:x,of:W,chain:k,bimap:P,mapLeft:R,reduce:T,foldMap:A,reduceRight:C,extend:D,traverse:O,sequence:re,chainRec:M,throwError:oe,ap:t.ap,alt:n.alt}}function me(e,t){return{concat:function(n,r){return i(n)?i(r)?s(e.concat(n.left,r.left)):n:i(r)?r:u(t.concat(n.right,r.right))}}}var ye={URI:ie,map:x},ve={URI:ie,map:x,ap:E,of:W},be={URI:ie,map:x,ap:E,of:W,chain:k},_e={URI:ie,reduce:T,foldMap:A,reduceRight:C},we={URI:ie,map:x,reduce:T,foldMap:A,reduceRight:C,traverse:O,sequence:re},Se={URI:ie,bimap:P,mapLeft:R},Ie={URI:ie,map:x,alt:N},xe={URI:ie,map:x,extend:D},Ee={URI:ie,map:x,ap:E,chain:k,chainRec:M},ke={URI:ie,map:x,ap:E,of:W,chain:k,throwError:oe};function Te(e,t){return{concat:me(e,t).concat,empty:u(t.empty)}}var Ae={URI:ie,map:x,of:W,ap:E,chain:k,reduce:T,foldMap:A,reduceRight:C,traverse:O,sequence:re,bimap:P,mapLeft:R,alt:N,extend:D,chainRec:M,throwError:oe};function Ce(e){return e instanceof Error?e:new Error(String(e))}function Oe(e){return function(t,n){return!i(n)&&e.equals(t,n.right)}}function Pe(e){return function(t){return!i(t)&&e(t.right)}}var Re=W({}),Ne=function(e){return j((0,o.HM)(e))},De=function(e,t){return q((function(n){return(0,o.zG)(t(n),j((function(t){return(0,o.mp)(n,e,t)})))}))},Me=De,je=function(e,t){return(0,o.ls)(j((function(t){return function(n){return(0,o.mp)(t,e,n)}})),F(t))},Le=je,Ue=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var o=e(r,t[r]);if("Left"===o._tag)return o;n.push(o.right)}return u(n)}},Fe=function(e){return Ue((function(t,n){return e(n)}))},Be=Fe(o.yR)},73975:(e,t,n)=>{n.d(t,{DS:()=>f,IP:()=>h,MW:()=>p,Uz:()=>i,eq:()=>v,f7:()=>o,hY:()=>u,lr:()=>l,ov:()=>a,qm:()=>y,uZ:()=>m,vD:()=>d,w4:()=>s,yv:()=>c});var r=n(57050);function o(e){return{equals:function(t,n){return t===n||e(t,n)}}}var i=function(e){return function(t){return o((function(n,r){return t.equals(e(n),e(r))}))}},a="Eq",s={equals:u};function u(e,t){return e===t}var c=s,l=s,d=s;function p(e){return o((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o((function(t,n){return e.every((function(e,r){return e.equals(t[r],n[r])}))}))}var f={equals:function(e,t){return e.valueOf()===t.valueOf()}},g={equals:function(){return!0}};function m(){return{concat:function(e,t){return o((function(n,r){return e.equals(n,r)&&t.equals(n,r)}))},empty:g}}var y={URI:a,contramap:function(e,t){return(0,r.zG)(e,i(t))}},v=y},904:(e,t,n)=>{n.d(t,{Q:()=>i});var r=n(50157),o=n(5114);function i(e,t){var n=function(e,t){var n=(0,r.o)(e,t),i={map:n.map,compact:function(n){return e.map(n,t.compact)},separate:function(e){return{left:i.compact(n.map(e,o.getLeft)),right:i.compact(n.map(e,o.getRight))}}};return i}(e,t),i={map:n.map,compact:n.compact,separate:n.separate,partitionMap:function(e,t){return{left:i.filterMap(e,(function(e){return(0,o.getLeft)(t(e))})),right:i.filterMap(e,(function(e){return(0,o.getRight)(t(e))}))}},partition:function(e,t){return{left:i.filter(e,(function(e){return!t(e)})),right:i.filter(e,t)}},filterMap:function(n,r){return e.map(n,(function(e){return t.filterMap(e,r)}))},filter:function(n,r){return e.map(n,(function(e){return t.filter(e,r)}))}};return i}},50157:(e,t,n)=>{function r(e,t){return{map:function(n,r){return e.map(n,(function(e){return t.map(e,r)}))}}}n.d(t,{o:()=>r})},11064:(e,t,n)=>{n.d(t,{UI:()=>u,a1:()=>l,ap:()=>c,io:()=>g,of:()=>d,tS:()=>p});var r=n(57050),o=function(e,t){return function(){return t(e())}},i=function(e,t){return function(){return e()(t())}},a=function(e,t){return function(){return t(e())()}},s=function(e,t){return function(){for(var n=t(e)();"Left"===n._tag;)n=t(n.left)();return n.right}},u=function(e){return function(t){return o(t,e)}},c=function(e){return function(t){return i(t,e)}},l=function(e){return(0,r.ls)(u((function(){return function(e){return e}})),c(e))},d=r.a9,p=function(e){return function(t){return a(t,e)}},h=r.yR,f="IO";var g={URI:f,map:o,of:d,ap:i,chain:a,fromIO:h,chainRec:s}},23330:(e,t,n)=>{n.d(t,{F2:()=>s,fS:()=>c,g_:()=>u,t$:()=>a});var r=n(95195),o=n(57050),i=n(11064),a=(0,o.ls)(r.left,i.of),s=(0,o.ls)(r.right,i.of);r.right,r.left;var u=(0,o.ls)(r.fold,i.tS),c=function(e){return function(t){return(0,o.zG)(t,i.tS(r.fold(e,i.of)))}};r.swap;r.bimap,i.UI},35214:(e,t,n)=>{n.r(t),n.d(t,{fold:()=>d,getDualMonoid:()=>h,getEndomorphismMonoid:()=>g,getFunctionMonoid:()=>f,getJoinMonoid:()=>v,getMeetMonoid:()=>y,getStructMonoid:()=>m,getTupleMonoid:()=>p,monoidAll:()=>i,monoidAny:()=>a,monoidProduct:()=>u,monoidString:()=>c,monoidSum:()=>s,monoidVoid:()=>l});var r=n(57050),o=n(32426),i={concat:o.semigroupAll.concat,empty:!0},a={concat:o.semigroupAny.concat,empty:!1},s={concat:o.semigroupSum.concat,empty:0},u={concat:o.semigroupProduct.concat,empty:1},c={concat:o.semigroupString.concat,empty:""},l={concat:o.semigroupVoid.concat,empty:void 0};function d(e){return o.fold(e)(e.empty)}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{concat:o.getTupleSemigroup.apply(o,e).concat,empty:e.map((function(e){return e.empty}))}}function h(e){return{concat:o.getDualSemigroup(e).concat,empty:e.empty}}function f(e){return function(){return{concat:o.getFunctionSemigroup(e)().concat,empty:function(){return e.empty}}}}function g(){return{concat:function(e,t){return function(n){return e(t(n))}},empty:r.yR}}function m(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i].empty}return{concat:o.getStructSemigroup(e).concat,empty:t}}function y(e){return{concat:o.getMeetSemigroup(e).concat,empty:e.top}}function v(e){return{concat:o.getJoinSemigroup(e).concat,empty:e.bottom}}},26328:(e,t,n)=>{n.d(t,{$6:()=>Ie,$R:()=>N,DY:()=>S,Do:()=>Oe,Eh:()=>m,Fp:()=>f,GY:()=>p,Gb:()=>d,Gk:()=>Q,IR:()=>v,JG:()=>k,Kd:()=>Ee,Kl:()=>ye,Lx:()=>X,N:()=>te,OM:()=>ie,Ot:()=>ke,QI:()=>o,Qt:()=>Ne,Rr:()=>Te,S1:()=>w,Ss:()=>i,Su:()=>ce,To:()=>de,UA:()=>Se,UI:()=>ue,VV:()=>h,Wl:()=>x,Wr:()=>D,YM:()=>l,YO:()=>Pe,Z$:()=>_,ZN:()=>c,ZQ:()=>I,a1:()=>ne,ak:()=>Re,ap:()=>ee,bw:()=>xe,cq:()=>E,dO:()=>be,fw:()=>fe,g1:()=>we,g7:()=>u,g_:()=>P,hX:()=>T,iD:()=>M,iw:()=>he,jG:()=>g,l7:()=>ae,mU:()=>oe,nI:()=>a,nq:()=>pe,of:()=>C,ov:()=>ve,pW:()=>s,r7:()=>me,ru:()=>y,sR:()=>Ae,tS:()=>re,u4:()=>le,u9:()=>_e,uW:()=>Ce,vM:()=>b,vP:()=>ge,wp:()=>Z,xH:()=>se,xP:()=>J,yL:()=>R,z7:()=>A,zo:()=>O});var r=n(17889),o=r.QI,i=r.Ss,a=r.nI,s=r.pW,u=r.g7,c=r.ZN,l=r.YM,d=r.Gb,p=r.GY,h=r.VV,f=r.Fp,g=r.jG,m=r.Eh;function y(e){return r.ru(e)}var v=r.IR,b=r.vM,_=r.Z$,w=r.S1,S=r.DY,I=r.ZQ,x=r.Wl,E=r.cq;function k(e){for(var t=e.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function T(e){return r.hX(e)}var A=r.z7,C=r.of;function O(e,t){return r.zo(e,t)}var P=r.g_,R=r.yL,N=r.$R,D=(r.Ri,r.Wr),M=r.iD,j=r.dO.map,L=r.u9.mapWithIndex,U=r.g1.ap,F=r.UA.chain,B=r.sR.extend,G=r.$6.reduce,z=r.$6.foldMap,W=r.$6.reduceRight,q=r.Kd.traverse,V=r.Rr.alt,H=r.bw.reduceWithIndex,$=r.bw.foldMapWithIndex,K=r.bw.reduceRightWithIndex,Y=r.Ot.traverseWithIndex,J=r.xP,X=r.Lx,Q=r.Gk,Z=r.wp,ee=r.ap,te=r.N,ne=r.a1,re=r.tS,oe=r.mU,ie=r.OM,ae=r.l7,se=r.xH,ue=r.UI,ce=r.Su,le=r.u4,de=r.To,pe=r.nq,he=r.iw,fe=r.fw,ge=r.vP,me=r.r7,ye=l,ve="NonEmptyArray",be={URI:ve,map:j},_e={URI:ve,map:j,mapWithIndex:L},we={URI:ve,map:j,ap:U,of:C},Se={URI:ve,map:j,ap:U,of:C,chain:F},Ie={URI:ve,reduce:G,foldMap:z,reduceRight:W},xe={URI:ve,reduce:G,foldMap:z,reduceRight:W,reduceWithIndex:H,foldMapWithIndex:$,reduceRightWithIndex:K},Ee={URI:ve,map:j,reduce:G,foldMap:z,reduceRight:W,traverse:q,sequence:ge},ke={URI:ve,map:j,mapWithIndex:L,reduce:G,foldMap:z,reduceRight:W,traverse:q,sequence:ge,reduceWithIndex:H,foldMapWithIndex:$,reduceRightWithIndex:K,traverseWithIndex:Y},Te={URI:ve,map:j,alt:V},Ae={URI:ve,map:j,extend:B,extract:ye},Ce={URI:ve,of:C,map:j,mapWithIndex:L,ap:U,chain:F,extend:B,extract:ye,reduce:G,foldMap:z,reduceRight:W,traverse:q,sequence:ge,reduceWithIndex:H,foldMapWithIndex:$,reduceRightWithIndex:K,traverseWithIndex:Y,alt:V},Oe=C({}),Pe=r.YO,Re=r.ak,Ne=r.Qt},5114:(e,t,n)=>{n.r(t),n.d(t,{Alt:()=>xe,Alternative:()=>Ee,Applicative:()=>we,Compactable:()=>Te,Do:()=>je,Extend:()=>ke,Filterable:()=>Ae,Foldable:()=>Ie,Functor:()=>_e,Monad:()=>Se,MonadThrow:()=>Pe,Traversable:()=>Ce,URI:()=>de,Witherable:()=>Oe,alt:()=>H,altW:()=>V,ap:()=>U,apFirst:()=>F,apS:()=>Fe,apSecond:()=>B,bind:()=>Ue,bindTo:()=>Le,chain:()=>z,chainFirst:()=>W,chainNullableK:()=>w,compact:()=>ee,duplicate:()=>J,elem:()=>Ne,exists:()=>De,extend:()=>Y,filter:()=>re,filterMap:()=>oe,flatten:()=>q,fold:()=>f,foldMap:()=>Q,fromEither:()=>h,fromNullable:()=>u,fromNullableK:()=>b,fromPredicate:()=>c,getApplyMonoid:()=>me,getApplySemigroup:()=>ge,getEq:()=>he,getFirstMonoid:()=>ye,getLastMonoid:()=>ve,getLeft:()=>d,getMonoid:()=>be,getOrElse:()=>v,getOrElseW:()=>y,getOrd:()=>fe,getRefinement:()=>Me,getRight:()=>p,getShow:()=>pe,isNone:()=>i,isSome:()=>o,map:()=>L,mapNullable:()=>_,none:()=>a,of:()=>G,option:()=>Re,partition:()=>ie,partitionMap:()=>ae,reduce:()=>X,reduceRight:()=>Z,separate:()=>ne,sequence:()=>ue,sequenceArray:()=>ze,some:()=>s,throwError:()=>K,toNullable:()=>g,toUndefined:()=>m,traverse:()=>se,traverseArray:()=>Ge,traverseArrayWithIndex:()=>Be,tryCatch:()=>l,wilt:()=>le,wither:()=>ce,zero:()=>$});var r=n(57050),o=function(e){return"Some"===e._tag},i=function(e){return"None"===e._tag},a={_tag:"None"},s=function(e){return{_tag:"Some",value:e}};function u(e){return null==e?a:s(e)}function c(e){return function(t){return e(t)?s(t):a}}function l(e){try{return s(e())}catch(e){return a}}function d(e){return"Right"===e._tag?a:s(e.left)}function p(e){return"Left"===e._tag?a:s(e.right)}var h=p;function f(e,t){return function(n){return i(n)?e():t(n.value)}}function g(e){return i(e)?null:e.value}function m(e){return i(e)?void 0:e.value}var y=function(e){return function(t){return i(t)?e():t.value}},v=y;function b(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return u(e.apply(void 0,t))}}var _=w;function w(e){return function(t){return i(t)?a:u(e(t.value))}}var S=function(e,t){return(0,r.zG)(e,L(t))},I=function(e,t){return(0,r.zG)(e,U(t))},x=function(e,t){return(0,r.zG)(e,z(t))},E=function(e,t,n){return(0,r.zG)(e,X(t,n))},k=function(e){var t=Q(e);return function(e,n){return(0,r.zG)(e,t(n))}},T=function(e,t,n){return(0,r.zG)(e,Z(t,n))},A=function(e){var t=se(e);return function(e,n){return(0,r.zG)(e,t(n))}},C=function(e,t){return(0,r.zG)(e,H(t))},O=function(e,t){return(0,r.zG)(e,re(t))},P=function(e,t){return(0,r.zG)(e,oe(t))},R=function(e,t){return(0,r.zG)(e,Y(t))},N=function(e,t){return(0,r.zG)(e,ie(t))},D=function(e,t){return(0,r.zG)(e,ae(t))},M=function(e){var t=ce(e);return function(e,n){return(0,r.zG)(e,t(n))}},j=function(e){var t=le(e);return function(e,n){return(0,r.zG)(e,t(n))}},L=function(e){return function(t){return i(t)?a:s(e(t.value))}},U=function(e){return function(t){return i(t)||i(e)?a:s(t.value(e.value))}},F=function(e){return(0,r.ls)(L((function(e){return function(){return e}})),U(e))},B=function(e){return(0,r.ls)(L((function(){return function(e){return e}})),U(e))},G=s,z=function(e){return function(t){return i(t)?a:e(t.value)}},W=function(e){return z((function(t){return(0,r.zG)(e(t),L((function(){return t})))}))},q=z(r.yR),V=function(e){return function(t){return i(t)?e():t}},H=V,$=function(){return a},K=function(){return a},Y=function(e){return function(t){return i(t)?a:s(e(t))}},J=Y(r.yR),X=function(e,t){return function(n){return i(n)?e:t(e,n.value)}},Q=function(e){return function(t){return function(n){return i(n)?e.empty:t(n.value)}}},Z=function(e,t){return function(n){return i(n)?e:t(n.value,e)}},ee=q,te={left:a,right:a},ne=function(e){var t=(0,r.zG)(e,L((function(e){return{left:d(e),right:p(e)}})));return i(t)?te:t.value},re=function(e){return function(t){return i(t)?a:e(t.value)?t:a}},oe=function(e){return function(t){return i(t)?a:e(t.value)}},ie=function(e){return function(t){return{left:O(t,(function(t){return!e(t)})),right:O(t,e)}}},ae=function(e){return(0,r.ls)(L(e),ne)},se=function(e){return function(t){return function(n){return i(n)?e.of(a):e.map(t(n.value),s)}}},ue=function(e){return function(t){return i(t)?e.of(a):e.map(t.value,s)}},ce=function(e){return function(t){return function(n){return i(n)?e.of(a):t(n.value)}}},le=function(e){return function(t){return function(n){return i(n)?e.of({left:a,right:a}):e.map(t(n.value),(function(e){return{left:d(e),right:p(e)}}))}}},de="Option";function pe(e){return{show:function(t){return i(t)?"none":"some("+e.show(t.value)+")"}}}function he(e){return{equals:function(t,n){return t===n||(i(t)?i(n):!i(n)&&e.equals(t.value,n.value))}}}function fe(e){return{equals:he(e).equals,compare:function(t,n){return t===n?0:o(t)?o(n)?e.compare(t.value,n.value):1:-1}}}function ge(e){return{concat:function(t,n){return o(t)&&o(n)?s(e.concat(t.value,n.value)):a}}}function me(e){return{concat:ge(e).concat,empty:s(e.empty)}}function ye(){return{concat:function(e,t){return i(e)?t:e},empty:a}}function ve(){return{concat:function(e,t){return i(t)?e:t},empty:a}}function be(e){return{concat:function(t,n){return i(t)?n:i(n)?t:s(e.concat(t.value,n.value))},empty:a}}var _e={URI:de,map:S},we={URI:de,map:S,ap:I,of:G},Se={URI:de,map:S,ap:I,of:G,chain:x},Ie={URI:de,reduce:E,foldMap:k,reduceRight:T},xe={URI:de,map:S,alt:C},Ee={URI:de,map:S,ap:I,of:G,alt:C,zero:$},ke={URI:de,map:S,extend:R},Te={URI:de,compact:ee,separate:ne},Ae={URI:de,map:S,compact:ee,separate:ne,filter:O,filterMap:P,partition:N,partitionMap:D},Ce={URI:de,map:S,reduce:E,foldMap:k,reduceRight:T,traverse:A,sequence:ue},Oe={URI:de,map:S,reduce:E,foldMap:k,reduceRight:T,traverse:A,sequence:ue,compact:ee,separate:ne,filter:O,filterMap:P,partition:N,partitionMap:D,wither:M,wilt:j},Pe={URI:de,map:S,ap:I,of:G,chain:x,throwError:K},Re={URI:de,map:S,of:G,ap:I,chain:x,reduce:E,foldMap:k,reduceRight:T,traverse:A,sequence:ue,zero:$,alt:C,extend:R,compact:ee,separate:ne,filter:O,filterMap:P,partition:N,partitionMap:D,wither:M,wilt:j,throwError:K};function Ne(e){return function(t,n){return!i(n)&&e.equals(t,n.value)}}function De(e){return function(t){return!i(t)&&e(t.value)}}function Me(e){return function(t){return o(e(t))}}var je=G({}),Le=function(e){return L((0,r.HM)(e))},Ue=function(e,t){return z((function(n){return(0,r.zG)(t(n),L((function(t){return(0,r.mp)(n,e,t)})))}))},Fe=function(e,t){return(0,r.ls)(L((function(t){return function(n){return(0,r.mp)(t,e,n)}})),U(t))},Be=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var o=e(r,t[r]);if(i(o))return a;n.push(o.value)}return s(n)}},Ge=function(e){return Be((function(t,n){return e(n)}))},ze=Ge(r.yR)},45701:(e,t,n)=>{n.r(t),n.d(t,{Contravariant:()=>k,URI:()=>x,between:()=>y,clamp:()=>m,contramap:()=>I,fromCompare:()=>v,geq:()=>h,getDualOrd:()=>S,getMonoid:()=>_,getSemigroup:()=>b,getTupleOrd:()=>w,gt:()=>d,leq:()=>p,lt:()=>l,max:()=>g,min:()=>f,ord:()=>T,ordBoolean:()=>c,ordDate:()=>E,ordNumber:()=>u,ordString:()=>s});var r=n(12444),o=n(57050);function i(e,t){return e<t?-1:e>t?1:0}function a(e,t){return e===t}var s={equals:a,compare:i},u={equals:a,compare:i},c={equals:a,compare:i};function l(e){return function(t,n){return-1===e.compare(t,n)}}function d(e){return function(t,n){return 1===e.compare(t,n)}}function p(e){return function(t,n){return 1!==e.compare(t,n)}}function h(e){return function(t,n){return-1!==e.compare(t,n)}}function f(e){return function(t,n){return 1===e.compare(t,n)?n:t}}function g(e){return function(t,n){return-1===e.compare(t,n)?n:t}}function m(e){var t=f(e),n=g(e);return function(e,r){return function(o){return n(t(o,r),e)}}}function y(e){var t=l(e),n=d(e);return function(e,r){return function(o){return!t(o,e)&&!n(o,r)}}}function v(e){var t=function(t,n){return t===n?0:e(t,n)};return{equals:function(e,n){return 0===t(e,n)},compare:t}}function b(){return{concat:function(e,t){return v((function(n,o){return r.Mv.concat(e.compare(n,o),t.compare(n,o))}))}}}function _(){return{concat:b().concat,empty:v((function(){return 0}))}}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;return v((function(t,r){for(var o=0;o<n-1;o++){var i=e[o].compare(t[o],r[o]);if(0!==i)return i}return e[o].compare(t[o],r[o])}))}function S(e){return v((function(t,n){return e.compare(n,t)}))}var I=function(e){return function(t){return v((function(n,r){return t.compare(e(n),e(r))}))}},x="Ord",E=(0,o.zG)(u,I((function(e){return e.valueOf()}))),k={URI:x,contramap:function(e,t){return(0,o.zG)(e,I(t))}},T=k},12444:(e,t,n)=>{function r(e){return e<=-1?-1:e>=1?1:0}n.d(t,{Mv:()=>o,Xx:()=>r});var o={concat:function(e,t){return 0!==e?e:t},empty:0}},19429:(e,t,n)=>{n.d(t,{Do:()=>q,I_:()=>s,Lv:()=>F,N:()=>_,NP:()=>z,PY:()=>A,Qt:()=>H,RD:()=>Y,UA:()=>M,UI:()=>y,VF:()=>a,W5:()=>V,WD:()=>L,YO:()=>G,Zl:()=>I,a1:()=>w,ak:()=>W,ap:()=>b,cK:()=>U,dO:()=>N,g1:()=>D,id:()=>C,jG:()=>P,mF:()=>i,mU:()=>E,of:()=>S,ov:()=>O,qC:()=>T,r1:()=>B,sL:()=>v,tS:()=>x,uU:()=>K,uZ:()=>R,xH:()=>k,xW:()=>$,y$:()=>j});var r=n(95195),o=n(57050),i=function(){return o.yR},a=o.yR,s=function(e){return function(t){return function(n){return t(e(n))}}},u=function(e,t){return(0,o.zG)(e,y(t))},c=function(e,t){return(0,o.zG)(e,b(t))},l=function(e,t){return(0,o.zG)(e,x(t))},d=function(e,t){return(0,o.zG)(e,T(t))},p=function(e,t,n){return(0,o.zG)(e,A(t,n))},h=function(e){return function(t){var n=t[0],r=t[1];return[e(n),r]}},f=function(e){return function(t){var n=t[0],r=t[1];return[n,e(r)]}},g=function(e){return r.fold((function(t){return r.left(e(t))}),r.right)},m=function(e){return r.fold(r.left,(function(t){return r.right(e(t))}))},y=function(e){return function(t){return function(n){return e(t(n))}}},v=function(e){return function(t){return function(n){return t(n)(e(n))}}},b=v,_=function(e){return(0,o.ls)(y((function(e){return function(){return e}})),b(e))},w=function(e){return(0,o.ls)(y((function(){return function(e){return e}})),b(e))},S=o.a9,I=function(e){return function(t){return function(n){return e(t(n))(n)}}},x=I,E=function(e){return x((function(t){return(0,o.zG)(e(t),y((function(){return t})))}))},k=x(o.yR),T=function(e){return function(t){return(0,o.ls)(e,t)}},A=function(e,t){return function(n){return function(r){return t(n(e(r)))}}},C=function(){return o.yR},O="Reader";function P(e){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}function R(e){return{concat:P(e).concat,empty:function(){return e.empty}}}var N={URI:O,map:u},D={URI:O,map:u,ap:c,of:S},M={URI:O,map:u,of:S,ap:c,chain:l},j={URI:O,map:u,promap:p},L={URI:O,compose:d,id:C},U={URI:O,map:u,promap:p,first:h,second:f},F={URI:O,map:u,promap:p,left:g,right:m},B={URI:O,map:u,of:S,ap:c,chain:l,promap:p,compose:d,id:C,first:h,second:f,left:g,right:m},G=function(e){return y((0,o.HM)(e))},z=function(e,t){return I((function(n){return(0,o.zG)(t(n),y((function(t){return(0,o.mp)(n,e,t)})))}))},W=z,q=S({}),V=function(e,t){return(0,o.ls)(y((function(t){return function(n){return(0,o.mp)(t,e,n)}})),v(t))},H=V,$=function(e){return function(t){return function(n){return t.map((function(t,r){return e(r,t)(n)}))}}},K=function(e){return $((function(t,n){return e(n)}))},Y=K(o.yR)},64015:(e,t,n)=>{n.d(t,{$6:()=>Pt,$R:()=>ee,$h:()=>N,$q:()=>y,AS:()=>g,DY:()=>Q,DZ:()=>et,EG:()=>$,Eg:()=>de,Eh:()=>d,Ew:()=>B,F8:()=>bt,G:()=>Gt,G0:()=>pe,GY:()=>Y,Gb:()=>C,Gk:()=>Ge,Hd:()=>rt,JJ:()=>_t,JO:()=>W,KB:()=>h,Kd:()=>Nt,Lx:()=>dt,MR:()=>se,N:()=>qe,N7:()=>te,OE:()=>pt,OM:()=>ut,Od:()=>S,Ot:()=>Dt,P5:()=>x,QI:()=>E,Qp:()=>U,Qt:()=>qt,Rr:()=>kt,S1:()=>O,Ss:()=>k,Su:()=>Je,To:()=>$e,U1:()=>oe,U5:()=>At,UA:()=>Et,UI:()=>Ye,Wl:()=>H,Wr:()=>ne,YM:()=>T,YO:()=>zt,YT:()=>Lt,Z$:()=>A,ZN:()=>u,ZQ:()=>V,Zh:()=>b,_$:()=>Mt,_r:()=>it,a1:()=>Ve,ag:()=>_,ak:()=>Wt,ap:()=>We,bj:()=>X,bw:()=>Rt,cS:()=>Ft,cq:()=>K,cx:()=>F,dC:()=>I,dF:()=>z,dO:()=>St,e5:()=>fe,f2:()=>G,fD:()=>Ut,fw:()=>gt,g1:()=>xt,hX:()=>Qe,hp:()=>J,iD:()=>re,iw:()=>ft,j7:()=>L,jV:()=>he,jj:()=>ae,jt:()=>Ze,ke:()=>P,l7:()=>st,lV:()=>v,lx:()=>ce,mU:()=>Ke,md:()=>j,nI:()=>a,nq:()=>ht,oA:()=>tt,of:()=>ge,oh:()=>Xe,oo:()=>jt,pO:()=>ue,pR:()=>p,pm:()=>R,qo:()=>s,qr:()=>q,r3:()=>Tt,r7:()=>yt,t9:()=>ie,tS:()=>He,tV:()=>ot,u4:()=>lt,u9:()=>It,uK:()=>nt,uU:()=>vt,uZ:()=>l,ue:()=>Ot,vP:()=>mt,w6:()=>f,wM:()=>le,wp:()=>ze,xH:()=>m,xP:()=>ct,xb:()=>w,xu:()=>Ct,yL:()=>Z,yW:()=>Bt,z7:()=>at,zT:()=>M});var r=n(57050),o=n(5114),i=n(45701);function a(e){var t=e.length;if(0===t)return Ft;for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function s(e){for(var t=e.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function u(e){return{show:function(t){return"["+t.map(e.show).join(", ")+"]"}}}var c=function(e,t){var n=e.length;if(0===n)return t;var r=t.length;if(0===r)return e;for(var o=Array(n+r),i=0;i<n;i++)o[i]=e[i];for(i=0;i<r;i++)o[i+n]=t[i];return o};function l(){return{concat:c,empty:Ft}}function d(e){return{equals:function(t,n){return t===n||t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}}}function p(e){return(0,i.fromCompare)((function(t,n){for(var r=t.length,o=n.length,a=Math.min(r,o),s=0;s<a;s++){var u=e.compare(t[s],n[s]);if(0!==u)return u}return i.ordNumber.compare(r,o)}))}function h(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}function f(e,t){return h(t-e+1,(function(t){return e+t}))}function g(e,t){return h(e,(function(){return t}))}function m(e){for(var t=0,n=e.length,r=0;r<n;r++)t+=e[r].length;var o=Array(t),i=0;for(r=0;r<n;r++){for(var a=e[r],s=a.length,u=0;u<s;u++)o[u+i]=a[u];i+=s}return o}function y(e,t){return function(n){return w(n)?e():t(n[0],n.slice(1))}}function v(e,t){return function(n){return w(n)?e():t(n.slice(0,n.length-1),n[n.length-1])}}function b(e,t){return function(n){var r=n.length,o=new Array(r+1);o[0]=e;for(var i=0;i<r;i++)o[i+1]=t(o[i],n[i]);return o}}function _(e,t){return function(n){var r=n.length,o=new Array(r+1);o[r]=e;for(var i=r-1;i>=0;i--)o[i]=t(n[i],o[i+1]);return o}}function w(e){return 0===e.length}function S(e){return e.length>0}function I(e,t){return e<0||e>=t.length}function x(e,t){return void 0===t?function(t){return x(e,t)}:I(e,t)?o.none:o.some(t[e])}function E(e,t){if(void 0===t)return function(t){return E(e,t)};for(var n=t.length,r=Array(n+1),o=0;o<n;o++)r[o+1]=t[o];return r[0]=e,r}function k(e,t){for(var n=e.length,r=Array(n+1),o=0;o<n;o++)r[o]=e[o];return r[n]=t,r}function T(e){return w(e)?o.none:o.some(e[0])}function A(e){return x(e.length-1,e)}function C(e){return w(e)?o.none:o.some(e.slice(1))}function O(e){var t=e.length;return 0===t?o.none:o.some(e.slice(0,t-1))}function P(e){return function(t){return t.slice(0,e)}}function R(e){return function(t){return 0===e?Ft:t.slice(-e)}}function N(e){return function(t){for(var n=D(t,e),r=Array(n),o=0;o<n;o++)r[o]=t[o];return r}}var D=function(e,t){for(var n=e.length,r=0;r<n&&t(e[r]);r++);return r};function M(e){return function(t){for(var n=D(t,e),r=Array(n),o=0;o<n;o++)r[o]=t[o];var i=t.length,a=Array(i-n);for(o=n;o<i;o++)a[o-n]=t[o];return{init:r,rest:a}}}function j(e){return function(t){return t.slice(e,t.length)}}function L(e){return function(t){return t.slice(0,t.length-e)}}function U(e){return function(t){for(var n=D(t,e),r=t.length,o=Array(r-n),i=n;i<r;i++)o[i-n]=t[i];return o}}function F(e){return function(t){for(var n=t.length,r=0;r<n;r++)if(e(t[r]))return o.some(r);return o.none}}function B(e){return function(t){for(var n=t.length,r=0;r<n;r++)if(e(t[r]))return o.some(t[r]);return o.none}}function G(e){return function(t){for(var n=t.length,r=0;r<n;r++){var i=e(t[r]);if(o.isSome(i))return i}return o.none}}function z(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return o.some(t[n]);return o.none}}function W(e){return function(t){for(var n=t.length-1;n>=0;n--){var r=e(t[n]);if(o.isSome(r))return r}return o.none}}function q(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return o.some(n);return o.none}}function V(e,t){return function(n){return e<0||e>n.length?o.none:o.some(jt(e,t,n))}}function H(e,t){return function(n){return I(e,n)?o.none:o.some(Lt(e,t,n))}}function $(e){return function(t){return I(e,t)?o.none:o.some(Ut(e,t))}}function K(e,t){return function(n){return I(e,n)?o.none:o.some(Lt(e,t(n[e]),n))}}function Y(e){return w(e)?e:e.slice().reverse()}function J(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e[r];"Right"===o._tag&&t.push(o.right)}return t}function X(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e[r];"Left"===o._tag&&t.push(o.left)}return t}var Q=function(e){return function(t){return t.length<=1?t:t.slice().sort(e.compare)}};function Z(e,t,n){for(var r=[],o=Math.min(e.length,t.length),i=0;i<o;i++)r[i]=n(e[i],t[i]);return r}function ee(e,t){return void 0===t?function(t){return ee(t,e)}:Z(e,t,(function(e,t){return[e,t]}))}function te(e){for(var t=[],n=[],r=0;r<e.length;r++)t[r]=e[r][0],n[r]=e[r][1];return[t,n]}var ne=function(e){return function(t){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];n.push(e,i)}return n}};function re(e){return function(t){return 0===t.length?t:E(t[0],ne(e)(t.slice(1,t.length)))}}function oe(e){return function(t){var n=t.length;return 0===e||n<=1||n===Math.abs(e)?t:e<0?oe(n+e)(t):t.slice(-e).concat(t.slice(0,n-e))}}function ie(e){return function(t,n){if(void 0===n){var r=ie(e);return function(e){return r(t,e)}}for(var o,i=0,a=n.length;i<a;i++)if(o=n[i],e.equals(o,t))return!0;return!1}}function ae(e){var t=ie(e);return function(e){var n=e.length;if(n<=1)return e;for(var r=[],o=0;o<n;o++){var i=e[o];t(i,r)||r.push(i)}return n===r.length?e:r}}function se(e){var t=(0,i.getMonoid)();return Q(e.reduce(t.concat,t.empty))}var ue=function(e){return function(t){for(var n=[],r=t;S(r);){var o=e(r),i=o[0],a=o[1];n.push(i),r=a}return n}};function ce(e){return function(t){return[t.slice(0,e),t.slice(e)]}}function le(e){var t=ue(ce(e));return function(n){return 0===n.length?Ft:I(e-1,n)?[n]:t(n)}}function de(e,t,n){void 0===n&&(n=function(){return!0});var r=function(e,o){return 0===o.length?n.apply(void 0,e)?[t.apply(void 0,e)]:Ft:_e(o[0],(function(t){return r(k(e,t),o.slice(1))}))};return r(Ft,e)}function pe(e){var t=ie(e);return function(n,r){if(void 0===r){var o=pe(e);return function(e){return o(e,n)}}return c(n,r.filter((function(e){return!t(e,n)})))}}function he(e){var t=ie(e);return function(n,r){if(void 0===r){var o=he(e);return function(e){return o(e,n)}}return n.filter((function(e){return t(e,r)}))}}function fe(e){var t=ie(e);return function(n,r){if(void 0===r){var o=fe(e);return function(e){return o(e,n)}}return n.filter((function(e){return!t(e,r)}))}}var ge=function(e){return[e]},me=function(){return Ft},ye=function(e,t){return(0,r.zG)(e,Ye(t))},ve=function(e,t){return(0,r.zG)(e,Je(t))},be=function(e,t){return(0,r.zG)(e,We(t))},_e=function(e,t){return(0,r.zG)(e,He(t))},we=function(e,t){return(0,r.zG)(e,Qe(t))},Se=function(e,t){return(0,r.zG)(e,et(t))},Ie=function(e,t){return(0,r.zG)(e,rt(t))},xe=function(e,t){return(0,r.zG)(e,nt(t))},Ee=function(e,t){return(0,r.zG)(e,ot(t))},ke=function(e,t){return(0,r.zG)(e,it(t))},Te=function(e,t){return(0,r.zG)(e,ze(t))},Ae=function(e,t,n){return(0,r.zG)(e,lt(t,n))},Ce=function(e){var t=dt(e);return function(e,n){return(0,r.zG)(e,t(n))}},Oe=function(e,t,n){return(0,r.zG)(e,ht(t,n))},Pe=function(e,t,n){for(var r=e.length,o=t,i=0;i<r;i++)o=n(i,o,e[i]);return o},Re=function(e){return function(t,n){return t.reduce((function(t,r,o){return e.concat(t,n(o,r))}),e.empty)}},Ne=function(e,t,n){return(0,r.zG)(e,ft(t,n))},De=function(e,t){return(0,r.zG)(e,Ze(t))},Me=function(e,t){return(0,r.zG)(e,at(t))},je=function(e,t){return(0,r.zG)(e,st(t))},Le=function(e){var t=gt(e);return function(e,n){return(0,r.zG)(e,t(n))}},Ue=function(e){var t=yt(e);return function(e,n){return(0,r.zG)(e,t(n))}},Fe=function(e){var t=vt(e);return function(e,n){return(0,r.zG)(e,t(n))}},Be=function(e){var t=bt(e);return function(e,n){return(0,r.zG)(e,t(n))}},Ge=function(e){return function(t){return c(t,e())}},ze=Ge,We=function(e){return He((function(t){return(0,r.zG)(e,Ye(t))}))},qe=function(e){return(0,r.ls)(Ye((function(e){return function(){return e}})),We(e))},Ve=function(e){return(0,r.ls)(Ye((function(){return function(e){return e}})),We(e))},He=function(e){return function(t){return(0,r.zG)(t,$e((function(t,n){return e(n)})))}},$e=function(e){return function(t){for(var n=0,r=t.length,o=new Array(r),i=0;i<r;i++){var a=t[i];n+=(c=e(i,a)).length,o[i]=c}var s=Array(n),u=0;for(i=0;i<r;i++){for(var c,l=(c=o[i]).length,d=0;d<l;d++)s[d+u]=c[d];u+=l}return s}},Ke=function(e){return He((function(t){return(0,r.zG)(e(t),Ye((function(){return t})))}))},Ye=function(e){return function(t){return t.map((function(t){return e(t)}))}},Je=function(e){return function(t){return t.map((function(t,n){return e(n,t)}))}},Xe=function(e){for(var t=[],n=[],r=0,o=e;r<o.length;r++){var i=o[r];"Left"===i._tag?t.push(i.left):n.push(i.right)}return{left:t,right:n}},Qe=function(e){return function(t){return t.filter(e)}},Ze=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var i=e(r,t[r]);o.isSome(i)&&n.push(i.value)}return n}},et=function(e){return Ze((function(t,n){return e(n)}))},tt=et(r.yR),nt=function(e){return rt((function(t,n){return e(n)}))},rt=function(e){return function(t){for(var n=[],r=[],o=0;o<t.length;o++){var i=t[o];e(o,i)?r.push(i):n.push(i)}return{left:n,right:r}}},ot=function(e){return it((function(t,n){return e(n)}))},it=function(e){return function(t){for(var n=[],r=[],o=0;o<t.length;o++){var i=e(o,t[o]);"Left"===i._tag?n.push(i.left):r.push(i.right)}return{left:n,right:r}}},at=function(e){return function(t){return t.filter((function(t,n){return e(n,t)}))}},st=function(e){return function(t){return t.map((function(t,n,r){return e(r.slice(n))}))}},ut=st(r.yR),ct=function(e){var t=Re(e);return function(e){return function(n){return t(n,e)}}},lt=function(e,t){return pt(e,(function(e,n,r){return t(n,r)}))},dt=function(e){var t=ct(e);return function(e){return t((function(t,n){return e(n)}))}},pt=function(e,t){return function(n){return Pe(n,e,t)}},ht=function(e,t){return ft(e,(function(e,n,r){return t(n,r)}))},ft=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}},gt=function(e){var t=yt(e);return function(e){return t((function(t,n){return e(n)}))}},mt=function(e){return function(t){return Ae(t,e.of(me()),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return k(e,t)}})),n)}))}},yt=function(e){return function(t){return pt(e.of(me()),(function(n,r,o){return e.ap(e.map(r,(function(e){return function(t){return k(e,t)}})),t(n,o))}))}},vt=function(e){var t=gt(e);return function(n){return function(o){return e.map((0,r.zG)(o,t(n)),tt)}}},bt=function(e){var t=gt(e);return function(n){return function(o){return e.map((0,r.zG)(o,t(n)),Xe)}}},_t=function(e,t){for(var n=[],r=e;;){var i=t(r);if(!o.isSome(i))break;var a=i.value,s=a[0],u=a[1];n.push(s),r=u}return n},wt="ReadonlyArray",St={URI:wt,map:ye},It={URI:wt,map:ye,mapWithIndex:ve},xt={URI:wt,map:ye,ap:be,of:ge},Et={URI:wt,map:ye,ap:be,of:ge,chain:_e},kt={URI:wt,map:ye,alt:Te},Tt={URI:wt,map:ye,ap:be,of:ge,alt:Te,zero:me},At={URI:wt,map:ye,extend:je},Ct={URI:wt,map:ye,compact:tt,separate:Xe,filter:we,filterMap:Se,partition:xe,partitionMap:Ee},Ot={URI:wt,map:ye,mapWithIndex:ve,compact:tt,separate:Xe,filter:we,filterMap:Se,partition:xe,partitionMap:Ee,partitionMapWithIndex:ke,partitionWithIndex:Ie,filterMapWithIndex:De,filterWithIndex:Me},Pt={URI:wt,reduce:Ae,foldMap:Ce,reduceRight:Oe},Rt={URI:wt,reduce:Ae,foldMap:Ce,reduceRight:Oe,reduceWithIndex:Pe,foldMapWithIndex:Re,reduceRightWithIndex:Ne},Nt={URI:wt,map:ye,reduce:Ae,foldMap:Ce,reduceRight:Oe,traverse:Le,sequence:mt},Dt={URI:wt,map:ye,mapWithIndex:ve,reduce:Ae,foldMap:Ce,reduceRight:Oe,reduceWithIndex:Pe,foldMapWithIndex:Re,reduceRightWithIndex:Ne,traverse:Le,sequence:mt,traverseWithIndex:Ue},Mt={URI:wt,map:ye,compact:tt,separate:Xe,filter:we,filterMap:Se,partition:xe,partitionMap:Ee,reduce:Ae,foldMap:Ce,reduceRight:Oe,traverse:Le,sequence:mt,wither:Fe,wilt:Be};function jt(e,t,n){var r=n.slice();return r.splice(e,0,t),r}function Lt(e,t,n){if(n[e]===t)return n;var r=n.slice();return r[e]=t,r}function Ut(e,t){var n=t.slice();return n.splice(e,1),n}var Ft=[],Bt=function(e){return function(t){return t.every(e)}},Gt=function(e){return function(t){return t.some(e)}},zt=function(e){return Ye((0,r.HM)(e))},Wt=function(e,t){return He((function(n){return(0,r.zG)(t(n),Ye((function(t){return(0,r.mp)(n,e,t)})))}))},qt=function(e,t){return(0,r.ls)(Ye((function(t){return function(n){return(0,r.mp)(t,e,n)}})),We(t))}},17889:(e,t,n)=>{n.d(t,{$6:()=>ke,$R:()=>j,DY:()=>k,Eh:()=>_,Fp:()=>v,GY:()=>m,Gb:()=>g,Gk:()=>ne,IR:()=>S,Kd:()=>Ae,Lx:()=>te,N:()=>ie,OM:()=>ce,Ot:()=>Ce,QI:()=>s,Qt:()=>De,Ri:()=>L,Rr:()=>Oe,S1:()=>E,Ss:()=>u,Su:()=>he,To:()=>ge,UA:()=>Ee,UI:()=>pe,VV:()=>y,Wl:()=>A,Wr:()=>U,YM:()=>f,YO:()=>Re,Z$:()=>x,ZN:()=>h,ZQ:()=>T,a1:()=>ae,ak:()=>Ne,ap:()=>oe,bw:()=>Te,cq:()=>C,dO:()=>Se,fw:()=>ve,g1:()=>xe,g7:()=>p,g_:()=>D,hX:()=>O,iD:()=>F,iw:()=>ye,jG:()=>b,l7:()=>le,mU:()=>ue,nI:()=>l,nq:()=>me,of:()=>R,pW:()=>d,r7:()=>_e,ru:()=>w,sR:()=>Pe,tS:()=>se,u4:()=>fe,u9:()=>Ie,vM:()=>I,vP:()=>be,wp:()=>re,xH:()=>de,xP:()=>ee,yL:()=>M,z7:()=>P,zo:()=>N});var r=n(57050),o=n(5114),i=n(64015),a=n(32426),s=i.QI,u=i.Ss;function c(e){return i.Od(e)?(0,o.some)(e):o.none}function l(e){return c(i.nI(e))}function d(e){return[e[0],e.slice(1)]}function p(e){var t=e.length-1;return[e.slice(0,t),e[t]]}var h=i.ZN;function f(e){return e[0]}function g(e){return e.slice(1)}var m=i.GY;function y(e){var t=(0,a.getMeetSemigroup)(e);return function(e){return e.reduce(t.concat)}}function v(e){var t=(0,a.getJoinSemigroup)(e);return function(e){return e.reduce(t.concat)}}function b(){return{concat:N}}var _=i.Eh;function w(e){return function(t){var n=t.length;if(0===n)return i.cS;for(var r=[],o=t[0],a=[o],s=1;s<n;s++){var u=t[s];e.equals(u,o)?a.push(u):(r.push(a),a=[o=u])}return r.push(a),r}}function S(e){var t=i.DY(e),n=w(e);return function(e){return n(t(e))}}function I(e){return function(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],a=e(i);n.hasOwnProperty(a)?n[a].push(i):n[a]=[i]}return n}}function x(e){return e[e.length-1]}function E(e){return e.slice(0,-1)}function k(e){return i.DY(e)}function T(e,t){return i.ZQ(e,t)}function A(e,t){return i.Wl(e,t)}function C(e,t){return i.cq(e,t)}function O(e){return P((function(t,n){return e(n)}))}function P(e){return function(t){return c(t.filter((function(t,n){return e(n,t)})))}}var R=i.of;function N(e,t){return e.concat(t)}function D(e){return function(t){return t.reduce(e.concat)}}var M=i.yL,j=i.$R,L=i.N7,U=i.Wr,F=i.iD,B=i.dO.map,G=i.u9.mapWithIndex,z=i.g1.ap,W=i.UA.chain,q=i.U5.extend,V=i.$6.reduce,H=i.$6.foldMap,$=i.$6.reduceRight,K=i.Kd.traverse,Y=i.Rr.alt,J=i.bw.reduceWithIndex,X=i.bw.foldMapWithIndex,Q=i.bw.reduceRightWithIndex,Z=i.Ot.traverseWithIndex,ee=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r,o){return e.concat(n,t(o+1,r))}),t(0,n[0]))}}},te=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r){return e.concat(n,t(r))}),t(n[0]))}}},ne=i.Gk,re=i.wp,oe=i.ap,ie=i.N,ae=i.a1,se=i.tS,ue=i.mU,ce=i.OM,le=i.l7,de=i.xH,pe=i.UI,he=i.Su,fe=i.u4,ge=i.OE,me=i.nq,ye=i.iw,ve=i.fw,be=i.vP,_e=i.r7,we="ReadonlyNonEmptyArray",Se={URI:we,map:B},Ie={URI:we,map:B,mapWithIndex:G},xe={URI:we,map:B,ap:z,of:R},Ee={URI:we,map:B,ap:z,of:R,chain:W},ke={URI:we,reduce:V,foldMap:H,reduceRight:$},Te={URI:we,reduce:V,foldMap:H,reduceRight:$,reduceWithIndex:J,foldMapWithIndex:X,reduceRightWithIndex:Q},Ae={URI:we,map:B,reduce:V,foldMap:H,reduceRight:$,traverse:K,sequence:be},Ce={URI:we,map:B,mapWithIndex:G,reduce:V,foldMap:H,reduceRight:$,traverse:K,sequence:be,reduceWithIndex:J,foldMapWithIndex:X,reduceRightWithIndex:Q,traverseWithIndex:Z},Oe={URI:we,map:B,alt:Y},Pe={URI:we,map:B,extend:q,extract:f},Re=function(e){return pe((0,r.HM)(e))},Ne=function(e,t){return se((function(n){return(0,r.zG)(t(n),pe((function(t){return(0,r.mp)(n,e,t)})))}))},De=function(e,t){return(0,r.ls)(pe((function(t){return function(n){return(0,r.mp)(t,e,n)}})),oe(t))}},32243:(e,t,n)=>{n.d(t,{$6:()=>Ie,AO:()=>d,Bu:()=>_,DZ:()=>pe,EG:()=>m,Eh:()=>w,F8:()=>M,G:()=>W,Hd:()=>L,KM:()=>l,Lx:()=>me,Ot:()=>Te,P5:()=>I,Su:()=>E,Sw:()=>b,To:()=>T,UI:()=>k,Wl:()=>y,XP:()=>c,ZN:()=>a,ZQ:()=>h,_$:()=>Ae,_r:()=>j,bw:()=>xe,cq:()=>v,dO:()=>we,dp:()=>s,fw:()=>R,hX:()=>de,iw:()=>C,jt:()=>U,nd:()=>p,nq:()=>ye,nr:()=>g,oA:()=>ve,oh:()=>be,r7:()=>P,ri:()=>O,sQ:()=>B,t9:()=>q,tV:()=>fe,u4:()=>ge,u9:()=>Se,uK:()=>he,uU:()=>D,uX:()=>G,uZ:()=>S,ue:()=>ke,vP:()=>N,xP:()=>A,xb:()=>u,xu:()=>Ee,yW:()=>z,z7:()=>F});var r=n(73975),o=n(57050),i=n(5114);function a(e){return{show:function(t){var n=l((function(t,n){return JSON.stringify(t)+": "+e.show(n)}))(t).join(", ");return""===n?"{}":"{ "+n+" }"}}}function s(e){return Object.keys(e).length}function u(e){return 0===Object.keys(e).length}function c(e){return Object.keys(e).sort()}function l(e){return function(t){for(var n=[],r=0,o=c(t);r<o.length;r++){var i=o[r];n.push(e(i,t[i]))}return n}}var d=l((function(e,t){return[e,t]}));function p(e){return function(t){var n=d(t),r=n.length;return e.unfold(0,(function(e){return e<r?(0,i.some)([n[e],e+1]):i.none}))}}function h(e,t){return function(n){if(n[e]===t)return n;var r=Object.assign({},n);return r[e]=t,r}}var f=Object.prototype.hasOwnProperty;function g(e,t){return f.call(void 0===t?this:t,e)}function m(e){return function(t){if(!f.call(t,e))return t;var n=Object.assign({},t);return delete n[e],n}}function y(e,t){return function(n){if(!g(e,n))return i.none;if(n[e]===t)return(0,i.some)(n);var r=Object.assign({},n);return r[e]=t,(0,i.some)(r)}}function v(e,t){return function(n){if(!g(e,n))return i.none;var r=Object.assign({},n);return r[e]=t(n[e]),(0,i.some)(r)}}function b(e){var t=m(e);return function(n){var r=I(e,n);return(0,i.isNone)(r)?i.none:(0,i.some)([r.value,t(n)])}}function _(e){return function(t,n){if(void 0===n){var r=_(e);return function(e){return r(e,t)}}for(var o in t)if(!f.call(n,o)||!e.equals(t[o],n[o]))return!1;return!0}}function w(e){var t=_(e);return(0,r.f7)((function(e,n){return t(e)(n)&&t(n)(e)}))}function S(e){return{concat:function(t,n){if(t===x)return n;if(n===x)return t;var r=Object.keys(n),o=r.length;if(0===o)return t;for(var i=Object.assign({},t),a=0;a<o;a++){var s=r[a];i[s]=f.call(t,s)?e.concat(t[s],n[s]):n[s]}return i},empty:x}}function I(e,t){return void 0===t?function(t){return I(e,t)}:f.call(t,e)?(0,i.some)(t[e]):i.none}var x={};function E(e){return function(t){for(var n={},r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n[i]=e(i,t[i])}return n}}function k(e){return E((function(t,n){return e(n)}))}function T(e,t){return function(n){for(var r=e,o=c(n),i=o.length,a=0;a<i;a++){var s=o[a];r=t(s,r,n[s])}return r}}function A(e){return function(t){return function(n){for(var r=e.empty,o=c(n),i=o.length,a=0;a<i;a++){var s=o[a];r=e.concat(r,t(s,n[s]))}return r}}}function C(e,t){return function(n){for(var r=e,o=c(n),i=o.length-1;i>=0;i--){var a=o[i];r=t(a,n[a],r)}return r}}function O(e,t){var n;return(n={})[e]=t,n}function P(e){return function(t){return function(n){var r=c(n);if(0===r.length)return e.of(x);for(var o=e.of({}),i=function(r){o=e.ap(e.map(o,(function(e){return function(t){return e[r]=t,e}})),t(r,n[r]))},a=0,s=r;a<s.length;a++){i(s[a])}return o}}}function R(e){var t=P(e);return function(e){return t((function(t,n){return e(n)}))}}function N(e){return P(e)((function(e,t){return t}))}var D=function(e){var t=R(e);return function(n){return function(r){return e.map((0,o.zG)(r,t(n)),ve)}}},M=function(e){var t=R(e);return function(n){return function(r){return e.map((0,o.zG)(r,t(n)),be)}}};function j(e){return function(t){for(var n={},r={},o=0,i=Object.keys(t);o<i.length;o++){var a=i[o],s=e(a,t[a]);switch(s._tag){case"Left":n[a]=s.left;break;case"Right":r[a]=s.right}}return{left:n,right:r}}}function L(e){return function(t){for(var n={},r={},o=0,i=Object.keys(t);o<i.length;o++){var a=i[o],s=t[a];e(a,s)?r[a]=s:n[a]=s}return{left:n,right:r}}}function U(e){return function(t){for(var n={},r=0,o=Object.keys(t);r<o.length;r++){var a=o[r],s=e(a,t[a]);(0,i.isSome)(s)&&(n[a]=s.value)}return n}}function F(e){return function(t){var n={},r=!1;for(var o in t)if(f.call(t,o)){var i=t[o];e(o,i)?n[o]=i:r=!0}return r?n:t}}function B(e,t){var n=G(e,t);return function(e){return n(e,o.yR)}}function G(e,t){return function(n,r){return t.reduce(n,{},(function(t,n){var o=r(n),i=o[0],a=o[1];return t[i]=f.call(t,i)?e.concat(t[i],a):a,t}))}}function z(e){return function(t){for(var n in t)if(!e(t[n]))return!1;return!0}}function W(e){return function(t){for(var n in t)if(e(t[n]))return!0;return!1}}function q(e){return function(t,n){if(void 0===n){var r=q(e);return function(e){return r(t,e)}}for(var o in n)if(e.equals(n[o],t))return!0;return!1}}var V=function(e,t){return(0,o.zG)(e,k(t))},H=function(e,t){return(0,o.zG)(e,E(t))},$=function(e,t,n){return(0,o.zG)(e,ge(t,n))},K=function(e){var t=me(e);return function(e,n){return(0,o.zG)(e,t(n))}},Y=function(e,t,n){return(0,o.zG)(e,ye(t,n))},J=function(e){var t=R(e);return function(e,n){return(0,o.zG)(e,t(n))}},X=function(e,t){return(0,o.zG)(e,de(t))},Q=function(e,t){return(0,o.zG)(e,pe(t))},Z=function(e,t){return(0,o.zG)(e,he(t))},ee=function(e,t){return(0,o.zG)(e,fe(t))},te=function(e,t,n){return(0,o.zG)(e,T(t,n))},ne=function(e){var t=A(e);return function(e,n){return(0,o.zG)(e,t(n))}},re=function(e,t,n){return(0,o.zG)(e,C(t,n))},oe=function(e,t){return(0,o.zG)(e,j(t))},ie=function(e,t){return(0,o.zG)(e,L(t))},ae=function(e,t){return(0,o.zG)(e,U(t))},se=function(e,t){return(0,o.zG)(e,F(t))},ue=function(e){var t=P(e);return function(e,n){return(0,o.zG)(e,t(n))}},ce=function(e){var t=D(e);return function(e,n){return(0,o.zG)(e,t(n))}},le=function(e){var t=M(e);return function(e,n){return(0,o.zG)(e,t(n))}},de=function(e){return F((function(t,n){return e(n)}))},pe=function(e){return U((function(t,n){return e(n)}))},he=function(e){return L((function(t,n){return e(n)}))},fe=function(e){return j((function(t,n){return e(n)}))},ge=function(e,t){return T(e,(function(e,n,r){return t(n,r)}))},me=function(e){var t=A(e);return function(e){return t((function(t,n){return e(n)}))}},ye=function(e,t){return C(e,(function(e,n,r){return t(n,r)}))},ve=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],a=e[o];(0,i.isSome)(a)&&(t[o]=a.value)}return t},be=function(e){for(var t={},n={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],a=e[i];switch(a._tag){case"Left":t[i]=a.left;break;case"Right":n[i]=a.right}}return{left:t,right:n}},_e="ReadonlyRecord",we={URI:_e,map:V},Se={URI:_e,map:V,mapWithIndex:H},Ie={URI:_e,reduce:$,foldMap:K,reduceRight:Y},xe={URI:_e,reduce:$,foldMap:K,reduceRight:Y,reduceWithIndex:te,foldMapWithIndex:ne,reduceRightWithIndex:re},Ee={URI:_e,map:V,compact:ve,separate:be,filter:X,filterMap:Q,partition:Z,partitionMap:ee},ke={URI:_e,map:V,mapWithIndex:H,compact:ve,separate:be,filter:X,filterMap:Q,partition:Z,partitionMap:ee,filterMapWithIndex:ae,filterWithIndex:se,partitionMapWithIndex:oe,partitionWithIndex:ie},Te={URI:_e,map:V,mapWithIndex:H,reduce:$,foldMap:K,reduceRight:Y,reduceWithIndex:te,foldMapWithIndex:ne,reduceRightWithIndex:re,traverse:J,sequence:N,traverseWithIndex:ue},Ae={URI:_e,map:V,reduce:$,foldMap:K,reduceRight:Y,traverse:J,sequence:N,compact:ve,separate:be,filter:X,filterMap:Q,partition:Z,partitionMap:ee,wither:ce,wilt:le}},60135:(e,t,n)=>{n.d(t,{$6:()=>F,GT:()=>s,Kd:()=>B,Kl:()=>k,LF:()=>a,Lx:()=>O,ML:()=>d,OM:()=>T,Pd:()=>S,RY:()=>c,UI:()=>A,Vn:()=>I,Yg:()=>i,a_:()=>j,dO:()=>M,fw:()=>R,ie:()=>L,l7:()=>E,li:()=>o,nq:()=>P,qC:()=>x,sR:()=>U,u4:()=>C,vP:()=>N,yJ:()=>p,zK:()=>l});var r=n(57050);function o(e){return e[0]}function i(e){return e[1]}function a(e){return[i(e),o(e)]}function s(e){return{URI:D,_E:void 0,map:f,ap:function(t,n){return[o(t)(o(n)),e.concat(i(t),i(n))]}}}var u=function(e){return function(t){return[t,e.empty]}};function c(e){var t=s(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,of:u(e)}}function l(e){var t=s(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,chain:function(t,n){var r=n(o(t)),a=r[0],s=r[1];return[a,e.concat(i(t),s)]}}}function d(e){var t=l(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,chain:t.chain,of:u(e)}}function p(e){var t=l(e);return{URI:D,_E:void 0,map:t.map,ap:t.ap,chain:t.chain,chainRec:function(t,n){for(var r=n(t),a=e.empty,s=o(r);"Left"===s._tag;)a=e.concat(a,i(r)),s=o(r=n(s.left));return[s.right,e.concat(a,i(r))]}}}var h=function(e,t){return(0,r.zG)(e,x(t))},f=function(e,t){return(0,r.zG)(e,A(t))},g=function(e,t,n){return(0,r.zG)(e,S(t,n))},m=function(e,t){return(0,r.zG)(e,I(t))},y=function(e,t){return(0,r.zG)(e,E(t))},v=function(e,t,n){return(0,r.zG)(e,C(t,n))},b=function(e){var t=O(e);return function(e,n){return(0,r.zG)(e,t(n))}},_=function(e,t,n){return(0,r.zG)(e,P(t,n))},w=function(e){var t=R(e);return function(e,n){return(0,r.zG)(e,t(n))}},S=function(e,t){return function(n){return[t(o(n)),e(i(n))]}},I=function(e){return function(t){return[o(t),e(i(t))]}},x=function(e){return function(t){return[o(t),i(e)]}},E=function(e){return function(t){return[e(t),i(t)]}},k=o,T=E(r.yR),A=function(e){return function(t){return[e(o(t)),i(t)]}},C=function(e,t){return function(n){return t(e,o(n))}},O=function(){return function(e){return function(t){return e(o(t))}}},P=function(e,t){return function(n){return t(o(n),e)}},R=function(e){return function(t){return function(n){return e.map(t(o(n)),(function(e){return[e,i(n)]}))}}},N=function(e){return function(t){return e.map(o(t),(function(e){return[e,i(t)]}))}},D="ReadonlyTuple",M={URI:D,map:f},j={URI:D,bimap:g,mapLeft:m},L={URI:D,compose:h},U={URI:D,map:f,extend:y,extract:k},F={URI:D,reduce:v,foldMap:b,reduceRight:_},B={URI:D,map:f,reduce:v,foldMap:b,reduceRight:_,traverse:w,sequence:N}},45614:(e,t,n)=>{n.r(t),n.d(t,{Compactable:()=>Se,Filterable:()=>Ie,FilterableWithIndex:()=>xe,Foldable:()=>_e,FoldableWithIndex:()=>we,Functor:()=>ve,FunctorWithIndex:()=>be,Traversable:()=>Ee,TraversableWithIndex:()=>ke,URI:()=>ye,Witherable:()=>Te,collect:()=>u,compact:()=>ge,deleteAt:()=>h,elem:()=>G,empty:()=>w,every:()=>F,filter:()=>ue,filterMap:()=>ce,filterMapWithIndex:()=>M,filterWithIndex:()=>j,foldMap:()=>le,foldMapWithIndex:()=>E,fromFoldable:()=>L,fromFoldableMap:()=>U,getEq:()=>v,getMonoid:()=>b,getShow:()=>o,hasOwnProperty:()=>p,insertAt:()=>d,isEmpty:()=>a,isSubrecord:()=>y,keys:()=>s,lookup:()=>_,map:()=>I,mapWithIndex:()=>S,modifyAt:()=>g,partition:()=>de,partitionMap:()=>pe,partitionMapWithIndex:()=>N,partitionWithIndex:()=>D,pop:()=>m,record:()=>Ae,reduce:()=>he,reduceRight:()=>fe,reduceRightWithIndex:()=>k,reduceWithIndex:()=>x,separate:()=>me,sequence:()=>O,singleton:()=>T,size:()=>i,some:()=>B,toArray:()=>c,toUnfoldable:()=>l,traverse:()=>C,traverseWithIndex:()=>A,updateAt:()=>f,wilt:()=>R,wither:()=>P});var r=n(32243),o=r.ZN,i=r.dp,a=r.xb,s=r.XP,u=r.KM,c=r.AO;function l(e){return r.nd(e)}function d(e,t){return r.ZQ(e,t)}var p=r.nr;function h(e){return r.EG(e)}var f=r.Wl,g=r.cq;function m(e){return r.Sw(e)}var y=r.Bu;function v(e){return r.Eh(e)}function b(e){return r.uZ(e)}var _=r.P5,w={};function S(e){return r.Su(e)}function I(e){return r.UI(e)}function x(e,t){return r.To(e,t)}function E(e){return r.xP(e)}function k(e,t){return r.iw(e,t)}var T=r.ri;function A(e){return r.r7(e)}function C(e){return r.fw(e)}function O(e){return r.vP(e)}var P=r.uU,R=r.F8;function N(e){return r._r(e)}function D(e){return r.Hd(e)}function M(e){return r.jt(e)}function j(e){return r.z7(e)}function L(e,t){return r.sQ(e,t)}function U(e,t){return r.uX(e,t)}var F=r.yW,B=r.G,G=r.t9,z=r.dO.map,W=r.u9.mapWithIndex,q=r.$6.reduce,V=r.$6.foldMap,H=r.$6.reduceRight,$=r.bw.reduceWithIndex,K=r.bw.foldMapWithIndex,Y=r.bw.reduceRightWithIndex,J=r.xu.filter,X=r.xu.filterMap,Q=r.xu.partition,Z=r.xu.partitionMap,ee=r.ue.filterWithIndex,te=r.ue.filterMapWithIndex,ne=r.ue.partitionWithIndex,re=r.ue.partitionMapWithIndex,oe=r.Ot.traverseWithIndex,ie=r._$.wither,ae=r._$.wilt,se=function(e){var t=C(e);return function(e,n){return t(n)(e)}},ue=r.hX,ce=r.DZ,le=r.Lx,de=r.uK,pe=r.tV,he=r.u4,fe=r.nq,ge=r.oA,me=r.oh,ye="Record",ve={URI:ye,map:z},be={URI:ye,map:z,mapWithIndex:W},_e={URI:ye,reduce:q,foldMap:V,reduceRight:H},we={URI:ye,reduce:q,foldMap:V,reduceRight:H,reduceWithIndex:$,foldMapWithIndex:K,reduceRightWithIndex:Y},Se={URI:ye,compact:ge,separate:me},Ie={URI:ye,map:z,compact:ge,separate:me,filter:J,filterMap:X,partition:Q,partitionMap:Z},xe={URI:ye,map:z,mapWithIndex:W,compact:ge,separate:me,filter:J,filterMap:X,partition:Q,partitionMap:Z,filterMapWithIndex:te,filterWithIndex:ee,partitionMapWithIndex:re,partitionWithIndex:ne},Ee={URI:ye,map:z,reduce:q,foldMap:V,reduceRight:H,traverse:se,sequence:O},ke={URI:ye,map:z,mapWithIndex:W,reduce:q,foldMap:V,reduceRight:H,reduceWithIndex:$,foldMapWithIndex:K,reduceRightWithIndex:Y,traverse:se,sequence:O,traverseWithIndex:oe},Te={URI:ye,map:z,reduce:q,foldMap:V,reduceRight:H,traverse:se,sequence:O,compact:ge,separate:me,filter:J,filterMap:X,partition:Q,partitionMap:Z,wither:ie,wilt:ae},Ae={URI:ye,map:z,reduce:q,foldMap:V,reduceRight:H,traverse:se,sequence:O,compact:ge,separate:me,filter:J,filterMap:X,partition:Q,partitionMap:Z,mapWithIndex:W,reduceWithIndex:$,foldMapWithIndex:K,reduceRightWithIndex:Y,filterMapWithIndex:te,filterWithIndex:ee,partitionMapWithIndex:re,partitionWithIndex:ne,traverseWithIndex:oe,wither:ie,wilt:ae}},32426:(e,t,n)=>{n.r(t),n.d(t,{fold:()=>i,getDualSemigroup:()=>c,getFirstSemigroup:()=>a,getFunctionSemigroup:()=>l,getIntercalateSemigroup:()=>w,getJoinSemigroup:()=>h,getLastSemigroup:()=>s,getMeetSemigroup:()=>p,getObjectSemigroup:()=>f,getStructSemigroup:()=>d,getTupleSemigroup:()=>u,semigroupAll:()=>g,semigroupAny:()=>m,semigroupProduct:()=>v,semigroupString:()=>b,semigroupSum:()=>y,semigroupVoid:()=>_});var r=n(57050),o=n(45701);function i(e){return function(t,n){if(void 0===n){var r=i(e);return function(e){return r(t,e)}}return n.reduce(e.concat,t)}}function a(){return{concat:r.yR}}function s(){return{concat:function(e,t){return t}}}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{concat:function(t,n){return e.map((function(e,r){return e.concat(t[r],n[r])}))}}}function c(e){return{concat:function(t,n){return e.concat(n,t)}}}function l(e){return function(){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}}function d(e){return{concat:function(t,n){for(var r={},o=0,i=Object.keys(e);o<i.length;o++){var a=i[o];r[a]=e[a].concat(t[a],n[a])}return r}}}function p(e){return{concat:(0,o.min)(e)}}function h(e){return{concat:(0,o.max)(e)}}function f(){return{concat:function(e,t){return Object.assign({},e,t)}}}var g={concat:function(e,t){return e&&t}},m={concat:function(e,t){return e||t}},y={concat:function(e,t){return e+t}},v={concat:function(e,t){return e*t}},b={concat:function(e,t){return e+t}},_={concat:function(){}};function w(e){return function(t){return{concat:function(n,r){return t.concat(n,t.concat(e,r))}}}}},22690:(e,t,n)=>{n.d(t,{_3:()=>r,p_:()=>o});var r={show:function(e){return JSON.stringify(e)}};function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{show:function(t){return"["+t.map((function(t,n){return e[n].show(t)})).join(", ")+"]"}}}},99950:(e,t,n)=>{n.r(t),n.d(t,{ApplicativePar:()=>A,ApplicativeSeq:()=>C,Do:()=>D,Functor:()=>T,Monad:()=>O,URI:()=>I,ap:()=>g,apFirst:()=>m,apS:()=>L,apSecond:()=>y,bind:()=>j,bindTo:()=>M,chain:()=>b,chainFirst:()=>_,chainIOK:()=>c,delay:()=>s,flatten:()=>w,fromIO:()=>a,fromIOK:()=>u,fromTask:()=>S,getMonoid:()=>E,getRaceMonoid:()=>k,getSemigroup:()=>x,map:()=>f,never:()=>N,of:()=>v,sequenceArray:()=>B,sequenceSeqArray:()=>W,task:()=>P,taskSeq:()=>R,traverseArray:()=>F,traverseArrayWithIndex:()=>U,traverseSeqArray:()=>z,traverseSeqArrayWithIndex:()=>G});var r=n(57050),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=function(e){return function(){return Promise.resolve(e())}};function s(e){return function(t){return function(){return new Promise((function(n){setTimeout((function(){t().then(n)}),e)}))}}}function u(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return a(e.apply(void 0,t))}}function c(e){return b(u(e))}var l=function(e,t){return(0,r.zG)(e,f(t))},d=function(e,t){return(0,r.zG)(e,g(t))},p=function(e,t){return(0,r.zG)(e,b((function(e){return(0,r.zG)(t,f(e))})))},h=function(e,t){return(0,r.zG)(e,b(t))},f=function(e){return function(t){return function(){return t().then(e)}}},g=function(e){return function(t){return function(){return Promise.all([t(),e()]).then((function(e){return(0,e[0])(e[1])}))}}},m=function(e){return(0,r.ls)(f((function(e){return function(){return e}})),g(e))},y=function(e){return(0,r.ls)(f((function(){return function(e){return e}})),g(e))},v=function(e){return function(){return Promise.resolve(e)}},b=function(e){return function(t){return function(){return t().then((function(t){return e(t)()}))}}},_=function(e){return b((function(t){return(0,r.zG)(e(t),f((function(){return t})))}))},w=b(r.yR),S=r.yR,I="Task";function x(e){return{concat:function(t,n){return function(){return t().then((function(t){return n().then((function(n){return e.concat(t,n)}))}))}}}}function E(e){return{concat:x(e).concat,empty:v(e.empty)}}function k(){return{concat:function(e,t){return function(){return Promise.race([e(),t()])}},empty:N}}var T={URI:I,map:l},A={URI:I,map:l,ap:d,of:v},C={URI:I,map:l,ap:p,of:v},O={URI:I,map:l,of:v,ap:d,chain:h},P={URI:I,map:l,of:v,ap:d,chain:h,fromIO:a,fromTask:S},R={URI:I,map:l,of:v,ap:p,chain:h,fromIO:a,fromTask:S},N=function(){return new Promise((function(e){}))},D=v({}),M=function(e){return f((0,r.HM)(e))},j=function(e,t){return b((function(n){return(0,r.zG)(t(n),f((function(t){return(0,r.mp)(n,e,t)})))}))},L=function(e,t){return(0,r.ls)(f((function(t){return function(n){return(0,r.mp)(t,e,n)}})),g(t))},U=function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return e(n,t)()})))}}},F=function(e){return U((function(t,n){return e(n)}))},B=function(e){return function(){return Promise.all(e.map((function(e){return e()})))}},G=function(e){return function(t){return function(){return o(void 0,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:n=[],r=0,i.label=1;case 1:return r<t.length?[4,e(r,t[r])()]:[3,4];case 2:o=i.sent(),n.push(o),i.label=3;case 3:return r++,[3,1];case 4:return[2,n]}}))}))}}},z=function(e){return G((function(t,n){return e(n)}))},W=z(r.yR)},62965:(e,t,n)=>{n.d(t,{$4:()=>ue,$h:()=>O,DT:()=>v,Dj:()=>A,Do:()=>Se,F2:()=>l,GI:()=>ge,Gk:()=>Z,IH:()=>ce,Ij:()=>ve,K9:()=>_e,LF:()=>x,N:()=>H,NP:()=>xe,NZ:()=>le,Op:()=>f,Pd:()=>z,QM:()=>d,Qt:()=>Te,RD:()=>Oe,Rr:()=>ye,UI:()=>G,Uo:()=>m,VU:()=>pe,Vh:()=>N,Vn:()=>W,W5:()=>ke,Y$:()=>k,Y3:()=>b,YO:()=>Ie,Yo:()=>y,Z6:()=>J,Z9:()=>Pe,Zl:()=>K,_y:()=>oe,a1:()=>$,a_:()=>me,ak:()=>Ee,ap:()=>V,dO:()=>he,de:()=>C,dg:()=>be,dk:()=>h,er:()=>R,ey:()=>de,fF:()=>re,fS:()=>S,fX:()=>P,fj:()=>g,gM:()=>se,g_:()=>_,it:()=>T,jG:()=>ae,lk:()=>p,mU:()=>X,mg:()=>Ne,of:()=>te,ov:()=>ie,pE:()=>Re,pF:()=>w,qA:()=>fe,sL:()=>q,sf:()=>E,t$:()=>c,tD:()=>ne,tS:()=>Y,uU:()=>Ce,vx:()=>I,wk:()=>we,wp:()=>ee,xH:()=>Q,xW:()=>Ae});var r=n(95195),o=n(904),i=n(57050),a=n(99950),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=(0,i.ls)(r.left,a.of),l=(0,i.ls)(r.right,a.of),d=a.map(r.right),p=a.map(r.left),h=(0,i.ls)(a.fromIO,d),f=(0,i.ls)(a.fromIO,p),g=a.fromIO,m=r.fold(c,(function(e){return l(e)})),y=function(e){return function(t){return"None"===t._tag?c(e()):l(t.value)}},v=function(e,t){return function(n){return e(n)?l(n):c(t(n))}};function b(e,t){return function(){return e().then(r.right,(function(e){return r.left(t(e))}))}}var _=(0,i.ls)(r.fold,a.chain),w=function(e){return function(t){return(0,i.zG)(t,a.chain(r.fold(e,a.of)))}},S=w,I=function(e){return a.chain(r.fold(e,l))},x=a.map(r.swap),E=function(e,t){return K((function(n){return e(n)?l(n):c(t(n))}))},k=E;function T(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return b((function(){return e.apply(void 0,n)}),t)}}function A(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return m(e.apply(void 0,t))}}function C(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return g(e.apply(void 0,t))}}var O=function(e){return K(A(e))},P=O,R=function(e){return K(C(e))},N=R,D=function(e,t){return(0,i.zG)(e,G(t))},M=function(e,t,n){return(0,i.zG)(e,z(t,n))},j=function(e,t){return(0,i.zG)(e,W(t))},L=function(e,t){return(0,i.zG)(e,V(t))},U=function(e,t){return(0,i.zG)(e,Y((function(e){return(0,i.zG)(t,G(e))})))},F=function(e,t){return(0,i.zG)(e,Y(t))},B=function(e,t){return(0,i.zG)(e,ee(t))},G=function(e){return a.map(r.map(e))},z=(0,i.ls)(r.bimap,a.map),W=function(e){return a.map(r.mapLeft(e))},q=function(e){return(0,i.ls)(a.map((function(e){return function(t){return r.apW(t)(e)}})),a.ap(e))},V=q,H=function(e){return(0,i.ls)(G((function(e){return function(){return e}})),V(e))},$=function(e){return(0,i.ls)(G((function(){return function(e){return e}})),V(e))},K=function(e){return function(t){return(0,i.zG)(t,a.chain(r.fold(c,e)))}},Y=K,J=function(e){return K((function(t){return(0,i.zG)(e(t),G((function(){return t})))}))},X=J,Q=Y(i.yR),Z=function(e){return function(t){return(0,i.zG)(t,a.chain(r.fold(e,l)))}},ee=Z,te=l,ne=h,re=d,oe=c,ie="TaskEither";function ae(e){return a.getSemigroup(r.getSemigroup(e))}function se(e){return a.getSemigroup(r.getApplySemigroup(e))}function ue(e){return{concat:se(e).concat,empty:l(e.empty)}}function ce(e,t){var n=r.getApplicativeValidation(t);return{URI:ie,_E:void 0,map:D,ap:function(t,r){return(0,i.zG)(t,(o=r,function(t){return e.ap(e.map(t,(function(e){return function(t){return n.ap(e,t)}})),o)}));var o},of:te}}function le(e){return{URI:ie,_E:void 0,map:D,alt:function(t,n){return(0,i.zG)(t,a.chain((function(t){return r.isRight(t)?a.of(t):(0,i.zG)(n(),a.map((function(n){return r.isLeft(n)?r.left(e.concat(t.left,n.left)):n})))})))}}}function de(e){var t=ce(a.ApplicativePar,e),n=le(e);return{URI:ie,_E:void 0,map:D,ap:t.ap,of:te,chain:F,bimap:M,mapLeft:j,alt:n.alt,fromIO:ne,fromTask:re,throwError:oe}}function pe(e){var t=r.getWitherable(e),n=(0,o.Q)(a.Monad,t);return{URI:ie,_E:void 0,map:D,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap}}var he={URI:ie,map:D},fe={URI:ie,map:D,ap:L,of:te},ge={URI:ie,map:D,ap:U,of:te},me={URI:ie,bimap:M,mapLeft:j},ye={URI:ie,map:D,alt:B},ve={URI:ie,bimap:M,mapLeft:j,map:D,of:te,ap:L,chain:F,alt:B,fromIO:ne,fromTask:re,throwError:oe},be={URI:ie,bimap:M,mapLeft:j,map:D,of:te,ap:U,chain:F,alt:B,fromIO:ne,fromTask:re,throwError:oe};function _e(e){return function(){var t=Array.prototype.slice.call(arguments);return function(){return new Promise((function(n){e.apply(null,t.concat((function(e,t){return n(null!=e?r.left(e):r.right(t))})))}))}}}var we=function(e,t,n){return(0,i.zG)(e,Y((function(e){return(0,i.zG)((0,i.zG)(t(e),a.map(r.right)),Y((function(t){return(0,i.zG)(n(e,t),Y((function(){return r.isLeft(t)?c(t.left):te(t.right)})))})))})))},Se=te({}),Ie=function(e){return G((0,i.HM)(e))},xe=function(e,t){return K((function(n){return(0,i.zG)(t(n),G((function(t){return(0,i.mp)(n,e,t)})))}))},Ee=xe,ke=function(e,t){return(0,i.ls)(G((function(t){return function(n){return(0,i.mp)(t,e,n)}})),q(t))},Te=ke,Ae=function(e){return function(t){return(0,i.zG)(t,a.traverseArrayWithIndex(e),a.map(r.sequenceArray))}},Ce=function(e){return Ae((function(t,n){return e(n)}))},Oe=Ce(i.yR),Pe=function(e){return function(t){return function(){return s(void 0,void 0,void 0,(function(){var n,o,i;return u(this,(function(a){switch(a.label){case 0:n=[],o=0,a.label=1;case 1:return o<t.length?[4,e(o,t[o])()]:[3,4];case 2:if(i=a.sent(),r.isLeft(i))return[2,i];n.push(i.right),a.label=3;case 3:return o++,[3,1];case 4:return[2,r.right(n)]}}))}))}}},Re=function(e){return Pe((function(t,n){return e(n)}))},Ne=Re(i.yR)},29909:(e,t,n)=>{n.d(t,{Yg:()=>o});var r=n(60135),o=(r.li,r.Yg);r.LF,r.GT,r.RY,r.zK,r.ML,r.yJ,r.dO.map,r.a_.bimap,r.a_.mapLeft,r.ie.compose,r.sR.extend,r.$6.reduce,r.$6.foldMap,r.$6.reduceRight,r.Kd.traverse,r.Pd,r.Vn,r.qC,r.OM,r.l7,r.Kl,r.Lx,r.UI,r.u4,r.nq,r.fw,r.vP},57050:(e,t,n)=>{function r(e){return e}n.d(t,{HM:()=>v,MZ:()=>o,Mj:()=>g,Q1:()=>d,W8:()=>s,a9:()=>a,bc:()=>h,ff:()=>i,gn:()=>c,jv:()=>u,ls:()=>p,mp:()=>y,nP:()=>f,r5:()=>l,yR:()=>r,zG:()=>m});var o=r;function i(e){return function(t){return!e(t)}}function a(e){return function(){return e}}var s=a(!0),u=a(!1),c=a(null),l=a(void 0),d=l;function p(e,t,n,r,o,i,a,s,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return o(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(o(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return a(i(o(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(a(i(o(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return u(s(a(i(o(r(n(t(e.apply(this,arguments)))))))))}}}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function f(e){return e+1}function g(e){return e-1}function m(e,t,n,r,o,i,a,s,u,c,l,d,p,h,f,g,m,y,v,b){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return i(o(r(n(t(e)))));case 7:return a(i(o(r(n(t(e))))));case 8:return s(a(i(o(r(n(t(e)))))));case 9:return u(s(a(i(o(r(n(t(e))))))));case 10:return c(u(s(a(i(o(r(n(t(e)))))))));case 11:return l(c(u(s(a(i(o(r(n(t(e))))))))));case 12:return d(l(c(u(s(a(i(o(r(n(t(e)))))))))));case 13:return p(d(l(c(u(s(a(i(o(r(n(t(e))))))))))));case 14:return h(p(d(l(c(u(s(a(i(o(r(n(t(e)))))))))))));case 15:return f(h(p(d(l(c(u(s(a(i(o(r(n(t(e))))))))))))));case 16:return g(f(h(p(d(l(c(u(s(a(i(o(r(n(t(e)))))))))))))));case 17:return m(g(f(h(p(d(l(c(u(s(a(i(o(r(n(t(e))))))))))))))));case 18:return y(m(g(f(h(p(d(l(c(u(s(a(i(o(r(n(t(e)))))))))))))))));case 19:return v(y(m(g(f(h(p(d(l(c(u(s(a(i(o(r(n(t(e))))))))))))))))));case 20:return b(v(y(m(g(f(h(p(d(l(c(u(s(a(i(o(r(n(t(e)))))))))))))))))))}}var y=function(e,t,n){var r;return Object.assign({},e,((r={})[t]=n,r))},v=function(e){return function(t){var n;return(n={})[e]=t,n}}},40327:(e,t,n)=>{n.r(t),n.d(t,{pipe:()=>o,pipeable:()=>i});var r=n(57050),o=r.zG;function i(e){var t={};if(function(e){return"function"==typeof e.map}(e)){t.map=function(t){return function(n){return e.map(n,t)}}}if(function(e){return"function"==typeof e.contramap}(e)){t.contramap=function(t){return function(n){return e.contramap(n,t)}}}if(function(e){return"function"==typeof e.mapWithIndex}(e)){t.mapWithIndex=function(t){return function(n){return e.mapWithIndex(n,t)}}}if(function(e){return"function"==typeof e.ap}(e)){t.ap=function(t){return function(n){return e.ap(n,t)}},t.apFirst=function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}}if(function(e){return"function"==typeof e.chain}(e)){t.chain=function(t){return function(n){return e.chain(n,t)}},t.chainFirst=function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}},t.flatten=function(t){return e.chain(t,r.yR)}}if(function(e){return"function"==typeof e.bimap}(e)){t.bimap=function(t,n){return function(r){return e.bimap(r,t,n)}},t.mapLeft=function(t){return function(n){return e.mapLeft(n,t)}}}if(function(e){return"function"==typeof e.extend}(e)){t.extend=function(t){return function(n){return e.extend(n,t)}},t.duplicate=function(t){return e.extend(t,r.yR)}}if(function(e){return"function"==typeof e.reduce}(e)){t.reduce=function(t,n){return function(r){return e.reduce(r,t,n)}},t.foldMap=function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}},t.reduceRight=function(t,n){return function(r){return e.reduceRight(r,t,n)}}}if(function(e){return"function"==typeof e.reduceWithIndex}(e)){t.reduceWithIndex=function(t,n){return function(r){return e.reduceWithIndex(r,t,n)}},t.foldMapWithIndex=function(t){var n=e.foldMapWithIndex(t);return function(e){return function(t){return n(t,e)}}},t.reduceRightWithIndex=function(t,n){return function(r){return e.reduceRightWithIndex(r,t,n)}}}if(function(e){return"function"==typeof e.alt}(e)){t.alt=function(t){return function(n){return e.alt(n,t)}}}if(function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)){t.filter=function(t){return function(n){return e.filter(n,t)}},t.filterMap=function(t){return function(n){return e.filterMap(n,t)}},t.partition=function(t){return function(n){return e.partition(n,t)}},t.partitionMap=function(t){return function(n){return e.partitionMap(n,t)}}}if(function(e){return"function"==typeof e.filterWithIndex}(e)){t.filterWithIndex=function(t){return function(n){return e.filterWithIndex(n,t)}},t.filterMapWithIndex=function(t){return function(n){return e.filterMapWithIndex(n,t)}},t.partitionWithIndex=function(t){return function(n){return e.partitionWithIndex(n,t)}},t.partitionMapWithIndex=function(t){return function(n){return e.partitionMapWithIndex(n,t)}}}if(function(e){return"function"==typeof e.promap}(e)){t.promap=function(t,n){return function(r){return e.promap(r,t,n)}}}if(function(e){return"function"==typeof e.compose}(e)){t.compose=function(t){return function(n){return e.compose(n,t)}}}if(function(e){return"function"==typeof e.throwError}(e)){t.fromOption=function(t){return function(n){return"None"===n._tag?e.throwError(t()):e.of(n.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,n){return function(r){return t(r)?e.of(r):e.throwError(n(r))}},t.filterOrElse=function(t,n){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(n(r))}))}}}return t}},78898:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?o-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,d=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*g}},32687:(e,t,n)=>{n.r(t),n.d(t,{PathReporter:()=>s,failure:()=>i,success:()=>a});var r=n(69243);function o(e){return void 0!==e.message?e.message:"Invalid value ".concat((t=e.value,"function"==typeof t?(0,r.getFunctionName)(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")," supplied to ").concat(e.context.map((function(e){var t=e.key,n=e.type;return"".concat(t,": ").concat(n.name)})).join("/"));var t}function i(e){return e.map(o)}function a(){return["No errors!"]}var s={report:(0,n(95195).fold)(i,a)}},69243:(e,t,n)=>{n.r(t),n.d(t,{AnyArrayType:()=>Q,AnyDictionaryType:()=>ee,AnyType:()=>Be,Array:()=>Z,ArrayType:()=>de,BigIntType:()=>K,BooleanType:()=>J,Dictionary:()=>ze,DictionaryType:()=>ye,ExactType:()=>Oe,Function:()=>Ne,FunctionType:()=>Re,Int:()=>ue,Integer:()=>He,InterfaceType:()=>he,IntersectionType:()=>we,KeyofType:()=>oe,LiteralType:()=>ne,NeverType:()=>Ue,NullType:()=>j,NumberType:()=>H,ObjectType:()=>We,PartialType:()=>ge,ReadonlyArrayType:()=>Te,ReadonlyType:()=>Ee,RecursiveType:()=>ce,RefinementType:()=>ae,StrictType:()=>Ke,StringType:()=>q,TaggedUnionType:()=>De,TupleType:()=>Ie,Type:()=>d,UndefinedType:()=>U,UnionType:()=>be,UnknownArray:()=>Z,UnknownRecord:()=>te,UnknownType:()=>z,VoidType:()=>B,alias:()=>Je,any:()=>Ge,appendContext:()=>g,array:()=>pe,bigint:()=>Y,boolean:()=>X,brand:()=>se,clean:()=>Ye,dictionary:()=>$e,emptyTags:()=>T,exact:()=>Pe,failure:()=>c,failures:()=>u,getContextEntry:()=>f,getDefaultContext:()=>Le,getDomainKeys:()=>S,getFunctionName:()=>h,getIndex:()=>M,getTags:()=>D,getValidationError:()=>je,identity:()=>p,interface:()=>fe,intersection:()=>Se,keyof:()=>ie,literal:()=>re,mergeAll:()=>x,never:()=>Fe,null:()=>L,nullType:()=>L,number:()=>$,object:()=>qe,partial:()=>me,readonly:()=>ke,readonlyArray:()=>Ae,record:()=>ve,recursion:()=>le,refinement:()=>Ve,strict:()=>Ce,string:()=>V,success:()=>l,taggedUnion:()=>Me,tuple:()=>xe,type:()=>fe,undefined:()=>F,union:()=>_e,unknown:()=>W,void:()=>G,voidType:()=>G});var r,o=n(95195),i=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},s=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u=o.left,c=function(e,t,n){return u([{value:e,context:t,message:n}])},l=o.right,d=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new e(n,t.is,(function(e,n){var i=r.validate(e,n);return(0,o.isLeft)(i)?i:t.validate(i.right,n)}),this.encode===p&&t.encode===p?p:function(e){return r.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),p=function(e){return e};function h(e){return e.displayName||e.name||"<function".concat(e.length,">")}function f(e,t){return{key:e,type:t}}function g(e,t,n,r){for(var o=e.length,i=Array(o+1),a=0;a<o;a++)i[a]=e[a];return i[o]={key:t,type:n,actual:r},i}function m(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var y=Object.prototype.hasOwnProperty;function v(e){return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")}function b(e){for(var t=0;t<e.length;t++)if(e[t].encode!==p)return!1;return!0}function _(e){return"{ ".concat(v(e)," }")}function w(e){return"Partial<".concat(e,">")}function S(e){var t;if(O(e)){var n=e.value;if(V.is(n))return(t={})[n]=null,t}else{if("KeyofType"===e._tag)return e.keys;if(R(e)){var r=e.types.map((function(e){return S(e)}));return r.some(F.is)?void 0:Object.assign.apply(Object,s([{}],r,!1))}}}function I(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"}function x(e,t){for(var n=!0,r=!0,o=!te.is(e),i=0,a=t;i<a.length;i++){(l=a[i])!==e&&(n=!1),te.is(l)&&(r=!1)}if(n)return e;if(r)return t[t.length-1];for(var s={},u=0,c=t;u<c.length;u++){var l=c[u];for(var d in l)y.call(s,d)&&!o&&l[d]===e[d]||(s[d]=l[d])}return s}function E(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return E(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,E(t))}),{})}}function k(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,o={},i=0;i<n.length;i++){var a=n[i];y.call(t,a)?o[a]=e[a]:r=!0}return r?o:e}var T={};function A(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];-1!==t.indexOf(i)&&n.push(i)}return n}function C(e){return"AnyType"===e._tag}function O(e){return"LiteralType"===e._tag}function P(e){return"InterfaceType"===e._tag}function R(e){return"UnionType"===e._tag}var N=[];function D(e){if(-1!==N.indexOf(e))return T;if(P(e)||function(e){return"StrictType"===e._tag}(e)){var t=T;for(var n in e.props){var r=e.props[n];O(r)&&(t===T&&(t={}),t[n]=[r.value])}return t}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return D(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,t){return function(e,t){if(e===T)return t;if(t===T)return e;var n=Object.assign({},e);for(var r in t)if(y.call(e,r)){var o=A(e[r],t[r]);if(!(o.length>0)){n=T;break}n[r]=o}else n[r]=t[r];return n}(e,D(t))}),T);if(R(e))return e.types.slice(1).reduce((function(e,t){return function(e,t){if(e===T||t===T)return T;var n=T;for(var r in e)y.call(t,r)&&0===A(e[r],t[r]).length&&(n===T&&(n={}),n[r]=e[r].concat(t[r]));return n}(e,D(t))}),D(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){N.push(e);var o=D(e.type);return N.pop(),o}return T}function M(e){for(var t=D(e[0]),n=Object.keys(t),r=e.length,o=function(n){for(var o=t[n].slice(),i=[t[n]],a=1;a<r;a++){var s=D(e[a])[n];if(void 0===s)return"continue-keys";if(s.some((function(e){return-1!==o.indexOf(e)})))return"continue-keys";o.push.apply(o,s),i.push(s)}return{value:[n,i]}},i=0,a=n;i<a.length;i++){var s=o(a[i]);if("object"==typeof s)return s.value}}var j=function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="NullType",t}return i(t,e),t}(d),L=new j,U=function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="UndefinedType",t}return i(t,e),t}(d),F=new U,B=function(e){function t(){var t=e.call(this,"void",F.is,F.validate,p)||this;return t._tag="VoidType",t}return i(t,e),t}(d),G=new B,z=function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),l,p)||this;return t._tag="UnknownType",t}return i(t,e),t}(d),W=new z,q=function(e){function t(){var t=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="StringType",t}return i(t,e),t}(d),V=new q,H=function(e){function t(){var t=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="NumberType",t}return i(t,e),t}(d),$=new H,K=function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="BigIntType",t}return i(t,e),t}(d),Y=new K,J=function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="BooleanType",t}return i(t,e),t}(d),X=new J,Q=function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="AnyArrayType",t}return i(t,e),t}(d),Z=new Q,ee=function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="AnyDictionaryType",t}return i(t,e),t}(d),te=new ee,ne=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.value=i,a._tag="LiteralType",a}return i(t,e),t}(d);function re(e,t){void 0===t&&(t=JSON.stringify(e));var n=function(t){return t===e};return new ne(t,n,(function(t,r){return n(t)?l(e):c(t,r)}),p,e)}var oe=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.keys=i,a._tag="KeyofType",a}return i(t,e),t}(d);function ie(e,t){void 0===t&&(t=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var n=function(t){return V.is(t)&&y.call(e,t)};return new oe(t,n,(function(e,t){return n(e)?l(e):c(e,t)}),p,e)}var ae=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,r,o)||this;return s.type=i,s.predicate=a,s._tag="RefinementType",s}return i(t,e),t}(d);function se(e,t,n){return Ve(e,t,n)}var ue=se($,(function(e){return Number.isInteger(e)}),"Int"),ce=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.runDefinition=i,a._tag="RecursiveType",a}return i(t,e),t}(d);function le(e,t){var n,r=function(){return n||((n=t(o)).name=e),n},o=new ce(e,(function(e){return r().is(e)}),(function(e,t){return r().validate(e,t)}),(function(e){return r().encode(e)}),r);return o}Object.defineProperty(ce.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var de=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.type=i,a._tag="ArrayType",a}return i(t,e),t}(d);function pe(e,t){return void 0===t&&(t="Array<".concat(e.name,">")),new de(t,(function(t){return Z.is(t)&&t.every(e.is)}),(function(t,n){var r=Z.validate(t,n);if((0,o.isLeft)(r))return r;for(var i=r.right,a=i.length,s=i,c=[],d=0;d<a;d++){var p=i[d],h=e.validate(p,g(n,String(d),e,p));if((0,o.isLeft)(h))m(c,h.left);else{var f=h.right;f!==p&&(s===i&&(s=i.slice()),s[d]=f)}}return c.length>0?u(c):l(s)}),e.encode===p?p:function(t){return t.map(e.encode)},e)}var he=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.props=i,a._tag="InterfaceType",a}return i(t,e),t}(d);function fe(e,t){void 0===t&&(t=_(e));var n=Object.keys(e),r=n.map((function(t){return e[t]})),i=n.length;return new he(t,(function(e){if(te.is(e)){for(var t=0;t<i;t++){var o=n[t],a=e[o];if(void 0===a&&!y.call(e,o)||!r[t].is(a))return!1}return!0}return!1}),(function(e,t){var s=te.validate(e,t);if((0,o.isLeft)(s))return s;for(var c=s.right,d=c,p=[],h=0;h<i;h++){var f=n[h],v=d[f],b=r[h],_=b.validate(v,g(t,f,b,v));if((0,o.isLeft)(_))m(p,_.left);else{var w=_.right;(w!==v||void 0===w&&!y.call(d,f))&&(d===c&&(d=a({},c)),d[f]=w)}}return p.length>0?u(p):l(d)}),b(r)?p:function(e){for(var t=a({},e),o=0;o<i;o++){var s=n[o],u=r[o].encode;u!==p&&(t[s]=u(e[s]))}return t},e)}var ge=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.props=i,a._tag="PartialType",a}return i(t,e),t}(d);function me(e,t){void 0===t&&(t=w(_(e)));var n=Object.keys(e),r=n.map((function(t){return e[t]})),i=n.length;return new ge(t,(function(t){if(te.is(t)){for(var r=0;r<i;r++){var o=n[r],a=t[o];if(void 0!==a&&!e[o].is(a))return!1}return!0}return!1}),(function(t,r){var s=te.validate(t,r);if((0,o.isLeft)(s))return s;for(var c=s.right,d=c,p=[],h=0;h<i;h++){var f=n[h],y=d[f],v=e[f],b=v.validate(y,g(r,f,v,y));if((0,o.isLeft)(b))void 0!==y&&m(p,b.left);else{var _=b.right;_!==y&&(d===c&&(d=a({},c)),d[f]=_)}}return p.length>0?u(p):l(d)}),b(r)?p:function(e){for(var t=a({},e),o=0;o<i;o++){var s=n[o],u=e[s];void 0!==u&&(t[s]=r[o].encode(u))}return t},e)}var ye=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,r,o)||this;return s.domain=i,s.codomain=a,s._tag="DictionaryType",s}return i(t,e),t}(d);function ve(e,t,n){var r=S(e);return r?function(e,t,n,r){void 0===r&&(r="{ [K in ".concat(t.name,"]: ").concat(n.name," }"));var i=e.length;return new ye(r,(function(t){return te.is(t)&&e.every((function(e){return n.is(t[e])}))}),(function(t,r){var a=te.validate(t,r);if((0,o.isLeft)(a))return a;for(var s=a.right,c={},d=[],p=!1,h=0;h<i;h++){var f=e[h],y=s[f],v=n.validate(y,g(r,f,n,y));if((0,o.isLeft)(v))m(d,v.left);else{var b=v.right;p=p||b!==y,c[f]=b}}return d.length>0?u(d):l(p||Object.keys(s).length!==i?c:s)}),n.encode===p?p:function(t){for(var r={},o=0;o<i;o++){var a=e[o];r[a]=n.encode(t[a])}return r},t,n)}(Object.keys(r),e,t,n):function(e,t,n){return void 0===n&&(n="{ [K in ".concat(e.name,"]: ").concat(t.name," }")),new ye(n,(function(n){return te.is(n)?Object.keys(n).every((function(r){return e.is(r)&&t.is(n[r])})):C(t)&&Array.isArray(n)}),(function(n,r){if(te.is(n)){for(var i={},a=[],s=Object.keys(n),d=s.length,p=!1,h=0;h<d;h++){var f=s[h],y=n[f],v=e.validate(f,g(r,f,e,f));if((0,o.isLeft)(v))m(a,v.left);else{var b=v.right;p=p||b!==f,f=b;var _=t.validate(y,g(r,f,t,y));if((0,o.isLeft)(_))m(a,_.left);else{var w=_.right;p=p||w!==y,i[f]=w}}}return a.length>0?u(a):l(p?i:n)}return C(t)&&Array.isArray(n)?l(n):c(n,r)}),e.encode===p&&t.encode===p?p:function(n){for(var r={},o=Object.keys(n),i=o.length,a=0;a<i;a++){var s=o[a];r[String(e.encode(s))]=t.encode(n[s])}return r},e,t)}(e,t,n)}var be=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.types=i,a._tag="UnionType",a}return i(t,e),t}(d);function _e(e,t){void 0===t&&(t=I(e));var n=M(e);if(void 0!==n&&e.length>0){var r=n[0],i=n[1],a=i.length,s=function(e){for(var t=0;t<a;t++)if(-1!==i[t].indexOf(e))return t};return new De(t,(function(t){if(te.is(t)){var n=s(t[r]);return void 0!==n&&e[n].is(t)}return!1}),(function(t,n){var i=te.validate(t,n);if((0,o.isLeft)(i))return i;var a=i.right,u=s(a[r]);if(void 0===u)return c(t,n);var l=e[u];return l.validate(a,g(n,String(u),l,a))}),b(e)?p:function(n){var o=s(n[r]);if(void 0===o)throw new Error("no codec found to encode value in union codec ".concat(t));return e[o].encode(n)},e,r)}return new be(t,(function(t){return e.some((function(e){return e.is(t)}))}),(function(t,n){for(var r=[],i=0;i<e.length;i++){var a=e[i],s=a.validate(t,g(n,String(i),a,t));if(!(0,o.isLeft)(s))return l(s.right);m(r,s.left)}return u(r)}),b(e)?p:function(n){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.is(n))return i.encode(n)}throw new Error("no codec found to encode value in union type ".concat(t))},e)}var we=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.types=i,a._tag="IntersectionType",a}return i(t,e),t}(d);function Se(e,t){void 0===t&&(t="(".concat(e.map((function(e){return e.name})).join(" & "),")"));var n=e.length;return new we(t,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?l:function(t,r){for(var i=[],a=[],s=0;s<n;s++){var c=e[s],d=c.validate(t,g(r,String(s),c,t));(0,o.isLeft)(d)?m(a,d.left):i.push(d.right)}return a.length>0?u(a):l(x(t,i))},0===e.length?p:function(t){return x(t,e.map((function(e){return e.encode(t)})))},e)}var Ie=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.types=i,a._tag="TupleType",a}return i(t,e),t}(d);function xe(e,t){void 0===t&&(t="[".concat(e.map((function(e){return e.name})).join(", "),"]"));var n=e.length;return new Ie(t,(function(t){return Z.is(t)&&t.length===n&&e.every((function(e,n){return e.is(t[n])}))}),(function(t,r){var i=Z.validate(t,r);if((0,o.isLeft)(i))return i;for(var a=i.right,s=a.length>n?a.slice(0,n):a,c=[],d=0;d<n;d++){var p=a[d],h=e[d],f=h.validate(p,g(r,String(d),h,p));if((0,o.isLeft)(f))m(c,f.left);else{var y=f.right;y!==p&&(s===a&&(s=a.slice()),s[d]=y)}}return c.length>0?u(c):l(s)}),b(e)?p:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)}var Ee=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.type=i,a._tag="ReadonlyType",a}return i(t,e),t}(d);function ke(e,t){return void 0===t&&(t="Readonly<".concat(e.name,">")),new Ee(t,e.is,e.validate,e.encode,e)}var Te=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.type=i,a._tag="ReadonlyArrayType",a}return i(t,e),t}(d);function Ae(e,t){void 0===t&&(t="ReadonlyArray<".concat(e.name,">"));var n=pe(e);return new Te(t,n.is,n.validate,n.encode,e)}var Ce=function(e,t){return Pe(fe(e),t)},Oe=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.type=i,a._tag="ExactType",a}return i(t,e),t}(d);function Pe(e,t){void 0===t&&(t=function(e){return P(e)?"{| ".concat(v(e.props)," |}"):function(e){return"PartialType"===e._tag}(e)?w("{| ".concat(v(e.props)," |}")):"Exact<".concat(e.name,">")}(e));var n=E(e);return new Oe(t,e.is,(function(t,r){var i=te.validate(t,r);if((0,o.isLeft)(i))return i;var a=e.validate(t,r);return(0,o.isLeft)(a)?a:(0,o.right)(k(a.right,n))}),(function(t){return e.encode(k(t,n))}),e)}var Re=function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="FunctionType",t}return i(t,e),t}(d),Ne=new Re,De=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t,n,r,o,i)||this;return s.tag=a,s}return i(t,e),t}(be),Me=function(e,t,n){void 0===n&&(n=I(t));var r=_e(t,n);return r instanceof De?r:(console.warn("[io-ts] Cannot build a tagged union for ".concat(n,", returning a de-optimized union")),new De(n,r.is,r.validate,r.encode,t,e))},je=function(e,t){return{value:e,context:t}},Le=function(e){return[{key:"",type:e}]},Ue=function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return c(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return i(t,e),t}(d),Fe=new Ue,Be=function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),l,p)||this;return t._tag="AnyType",t}return i(t,e),t}(d),Ge=new Be,ze=te,We=function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),p)||this;return t._tag="ObjectType",t}return i(t,e),t}(d),qe=new We;function Ve(e,t,n){return void 0===n&&(n="(".concat(e.name," | ").concat(h(t),")")),new ae(n,(function(n){return e.is(n)&&t(n)}),(function(n,r){var i=e.validate(n,r);if((0,o.isLeft)(i))return i;var a=i.right;return t(a)?l(a):c(a,r)}),e.encode,e,t)}var He=Ve($,Number.isInteger,"Integer"),$e=ve,Ke=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.props=i,a._tag="StrictType",a}return i(t,e),t}(d);function Ye(e){return e}function Je(e){return function(){return e}}},99129:e=>{e.exports=self.FormData},20927:(e,t,n)=>{e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return o(n||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,r){(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}function d(e){1!==c.push(e)||r||n()}t.exports=d}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self||"undefined"!=typeof self?self:{})},{}],2:[function(e,t,n){var r=e(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==o&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}function a(){t(o,r)}var s=f(a);"error"===s.status&&r(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function g(e){return e instanceof this?e:i.resolve(new this(o),e)}function m(e){var t=new this(o);return i.reject(t,e)}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(o);++u<n;)l(e[u],u);return c;function l(e,o){function u(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(c,a))}t.resolve(e).then(u,(function(e){r||(r=!0,i.reject(c,e))}))}}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(o);++a<n;)u(e[a]);return s;function u(e){t.resolve(e).then((function(e){r||(r=!0,i.resolve(s,e))}),(function(e){r||(r=!0,i.reject(s,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==u?d(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=f(p,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=g,c.reject=m,c.all=y,c.race=v},{1:1}],3:[function(e,t,r){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self||"undefined"!=typeof self?self:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=i();function s(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function u(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function l(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function d(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function h(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",g=void 0,m={},y=Object.prototype.toString,v="readonly",b="readwrite";function _(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function w(e){return new c((function(t){var n=e.transaction(f,b),r=u([""]);n.objectStore(f).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function S(e){return"boolean"==typeof g?c.resolve(g):w(e).then((function(e){return g=e}))}function I(e){var t=m[e.name],n={};n.promise=new c((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function x(e){var t=m[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function E(e,t){var n=m[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function k(e,t){return new c((function(n,r){if(m[e.name]=m[e.name]||j(),e.db){if(!t)return n(e.db);I(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=a.open.apply(a,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(f)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),x(e)}}))}function T(e){return k(e,!1)}function A(e){return k(e,!0)}function C(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function O(e){return new c((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function P(e){return u([_(atob(e.data))],{type:e.type})}function R(e){return e&&e.__local_forage_encoded_blob}function N(e){var t=this,n=t._initReady().then((function(){var e=m[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return d(n,e,e),n}function D(e){I(e);for(var t=m[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,T(e).then((function(t){return e.db=t,C(e)?A(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw E(e,t),t}))}function M(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),A(e)})).then((function(){return D(e).then((function(){M(e,t,n,r-1)}))})).catch(n);n(o)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function L(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=m[n.name];o||(o=j(),m[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=N);var i=[];function a(){return c.resolve()}for(var s=0;s<o.forages.length;s++){var u=o.forages[s];u!==t&&i.push(u._initReady().catch(a))}var l=o.forages.slice(0);return c.all(i).then((function(){return n.db=o.db,T(n)})).then((function(e){return n.db=e,C(n,t._defaultConfig.version)?A(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var i=l[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))}function U(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){M(n._dbInfo,v,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),R(e)&&(e=P(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return l(r,t),r}function F(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){M(n._dbInfo,v,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;R(r)&&(r=P(r));var o=e(r,n.key,s++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return l(r,t),r}function B(e,t,n){var r=this;e=p(e);var o=new c((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===y.call(t)?S(i.db).then((function(e){return e?t:O(t)})):t})).then((function(t){M(r._dbInfo,b,(function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return l(o,n),o}function G(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){M(n._dbInfo,b,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return l(r,t),r}function z(e){var t=this,n=new c((function(e,n){t.ready().then((function(){M(t._dbInfo,b,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return l(n,e),n}function W(e){var t=this,n=new c((function(e,n){t.ready().then((function(){M(t._dbInfo,v,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return l(n,e),n}function q(e,t){var n=this,r=new c((function(t,r){e<0?t(null):n.ready().then((function(){M(n._dbInfo,v,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,u=a.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(e){r(e)}}))})).catch(r)}));return l(r,t),r}function V(e){var t=this,n=new c((function(e,n){t.ready().then((function(){M(t._dbInfo,v,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return l(n,e),n}function H(e,t){t=h.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var i=e.name===n.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):T(e).then((function(t){var n=m[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));r=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;I(e);var r=m[e.name],o=r.forages;t.close();for(var i=0;i<o.length;i++){var s=o[i];s._dbInfo.db=null,s._dbInfo.version=n}var u=new c((function(t,r){var o=a.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return u.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,x(n._dbInfo)}})).catch((function(t){throw(E(e,t)||c.resolve()).catch((function(){})),t}))}})):i.then((function(t){I(e);var n=m[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var i=new c((function(t,n){var r=a.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return i.then((function(e){n.db=e;for(var t=0;t<r.length;t++)x(r[t]._dbInfo)})).catch((function(t){throw(E(e,t)||c.resolve()).catch((function(){})),t}))}))}else r=c.reject("Invalid arguments");return l(r,t),r}var $={_driver:"asyncStorage",_initStorage:L,_support:s(),iterate:F,getItem:U,setItem:B,removeItem:G,clear:z,length:W,key:q,keys:V,dropInstance:H};function K(){return"function"==typeof openDatabase}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,Q="__lfsc__:",Z=Q.length,ee="arbf",te="blob",ne="si08",re="ui08",oe="uic8",ie="si16",ae="si32",se="ur16",ue="ui32",ce="fl32",le="fl64",de=Z+ee.length,pe=Object.prototype.toString;function he(e){var t,n,r,o,i,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=Y.indexOf(e[t]),r=Y.indexOf(e[t+1]),o=Y.indexOf(e[t+2]),i=Y.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}function fe(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Y[n[t]>>2],r+=Y[(3&n[t])<<4|n[t+1]>>4],r+=Y[(15&n[t+1])<<2|n[t+2]>>6],r+=Y[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function ge(e,t){var n="";if(e&&(n=pe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===pe.call(e.buffer))){var r,o=Q;e instanceof ArrayBuffer?(r=e,o+=ee):(r=e.buffer,"[object Int8Array]"===n?o+=ne:"[object Uint8Array]"===n?o+=re:"[object Uint8ClampedArray]"===n?o+=oe:"[object Int16Array]"===n?o+=ie:"[object Uint16Array]"===n?o+=se:"[object Int32Array]"===n?o+=ae:"[object Uint32Array]"===n?o+=ue:"[object Float32Array]"===n?o+=ce:"[object Float64Array]"===n?o+=le:t(new Error("Failed to get type for BinaryArray"))),t(o+fe(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=J+e.type+"~"+fe(this.result);t(Q+te+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function me(e){if(e.substring(0,Z)!==Q)return JSON.parse(e);var t,n=e.substring(de),r=e.substring(Z,de);if(r===te&&X.test(n)){var o=n.match(X);t=o[1],n=n.substring(o[0].length)}var i=he(n);switch(r){case ee:return i;case te:return u([i],{type:t});case ne:return new Int8Array(i);case re:return new Uint8Array(i);case oe:return new Uint8ClampedArray(i);case ie:return new Int16Array(i);case se:return new Uint16Array(i);case ae:return new Int32Array(i);case ue:return new Uint32Array(i);case ce:return new Float32Array(i);case le:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var ye={serialize:ge,deserialize:me,stringToBuffer:he,bufferToString:fe};function ve(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function be(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new c((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){ve(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=ye,o}function _e(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?i(e,a):ve(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function we(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_e(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return l(r,t),r}function Se(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_e(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return l(r,t),r}function Ie(e,t,n,r){var o=this;e=p(e);var i=new c((function(i,a){o.ready().then((function(){void 0===t&&(t=null);var s=t,u=o._dbInfo;u.serializer.serialize(t,(function(t,c){c?a(c):u.db.transaction((function(n){_e(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(Ie.apply(o,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return l(i,n),i}function xe(e,t,n){return Ie.apply(this,[e,t,n,1])}function Ee(e,t){var n=this;e=p(e);var r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_e(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return l(r,t),r}function ke(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){_e(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,e),n}function Te(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){_e(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,e),n}function Ae(e,t){var n=this,r=new c((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_e(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return l(r,t),r}function Ce(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){_e(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,e),n}function Oe(e){return new c((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Pe(e,t){t=h.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return l(r=e.name?new c((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Oe(r))})).then((function(e){return new c((function(t,n){e.db.transaction((function(r){function o(e){return new c((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,s=e.storeNames.length;a<s;a++)i.push(o(e.storeNames[a]));c.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):c.reject("Invalid arguments"),t),r}var Re={_driver:"webSQLStorage",_initStorage:be,_support:K(),iterate:Se,getItem:we,setItem:xe,removeItem:Ee,clear:ke,length:Te,key:Ae,keys:Ce,dropInstance:Pe};function Ne(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function De(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Me(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function je(){return!Me()||localStorage.length>0}function Le(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=De(e,t._defaultConfig),je()?(t._dbInfo=n,n.serializer=ye,c.resolve()):c.reject()}function Ue(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return l(n,e),n}function Fe(e,t){var n=this;e=p(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return l(r,t),r}function Be(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(o),a++)))return c}}}));return l(r,t),r}function Ge(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return l(r,t),r}function ze(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return l(n,e),n}function We(e){var t=this.keys().then((function(e){return e.length}));return l(t,e),t}function qe(e,t){var n=this;e=p(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return l(r,t),r}function Ve(e,t,n){var r=this;e=p(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new c((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return l(o,n),o}function He(e,t){if(t=h.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return r=e.name?new c((function(t){e.storeName?t(De(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),l(r,t),r}var $e={_driver:"localStorageWrapper",_initStorage:Le,_support:Ne(),iterate:Be,getItem:Fe,setItem:Ve,removeItem:qe,clear:Ue,length:We,key:Ge,keys:ze,dropInstance:He},Ke=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ye=function(e,t){for(var n=e.length,r=0;r<n;){if(Ke(e[r],t))return!0;r++}return!1},Je=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Xe={},Qe={},Ze={INDEXEDDB:$,WEBSQL:Re,LOCALSTORAGE:$e},et=[Ze.INDEXEDDB._driver,Ze.WEBSQL._driver,Ze.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function it(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Je(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=function(){function e(t){for(var n in o(this,e),Ze)if(Ze.hasOwnProperty(n)){var r=Ze[n],i=r._driver;this[n]=i,Xe[i]||this.defineDriver(r)}this._defaultConfig=it({},rt),this._config=it({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new c((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=nt.concat("_initStorage"),a=0,s=i.length;a<s;a++){var u=i[a];if((!Ye(tt,u)||e[u])&&"function"!=typeof e[u])return void n(o)}var d=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return l(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var o=tt[n];e[o]||(e[o]=t(o))}};d();var p=function(n){Xe[r]&&console.info("Redefining LocalForage driver: "+r),Xe[r]=e,Qe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(p,n):p(!!e._support):p(!0)}catch(e){n(e)}}));return d(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Xe[e]?c.resolve(Xe[e]):c.reject(new Error("Driver not found."));return d(r,t,n),r},e.prototype.getSerializer=function(e){var t=c.resolve(ye);return d(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return d(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Je(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}function s(e){return function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var s=new Error("No available storage method found.");return r._driverSet=c.reject(s),r._driverSet}return n()}}var u=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=u.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=s(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=c.reject(e),r._driverSet})),d(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Qe[e]},e.prototype._extend=function(e){it(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)ot(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),st=new at;t.exports=st},{3:3}]},{},[4])(4)},82545:(e,t,n)=>{var r=n(81822)(n(77400),"DataView");e.exports=r},96586:(e,t,n)=>{var r=n(57753),o=n(82452),i=n(22115),a=n(38256),s=n(67426);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},36301:(e,t,n)=>{var r=n(69417),o=n(72470),i=n(66165),a=n(71873),s=n(52556);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},44538:(e,t,n)=>{var r=n(81822)(n(77400),"Map");e.exports=r},74554:(e,t,n)=>{var r=n(39448),o=n(7738),i=n(66575),a=n(7238),s=n(38738);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},64825:(e,t,n)=>{var r=n(81822)(n(77400),"Promise");e.exports=r},46151:(e,t,n)=>{var r=n(81822)(n(77400),"Set");e.exports=r},52485:(e,t,n)=>{var r=n(74554),o=n(38639),i=n(88379);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},23694:(e,t,n)=>{var r=n(36301),o=n(7354),i=n(5863),a=n(12367),s=n(90748),u=n(97569);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},96539:(e,t,n)=>{var r=n(77400).Symbol;e.exports=r},59942:(e,t,n)=>{var r=n(77400).Uint8Array;e.exports=r},66902:(e,t,n)=>{var r=n(81822)(n(77400),"WeakMap");e.exports=r},10263:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},98213:(e,t,n)=>{var r=n(24701),o=n(2900),i=n(19785),a=n(43854),s=n(42383),u=n(48519),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),p=!n&&!l&&!d&&u(e),h=n||l||d||p,f=h?r(e.length,String):[],g=f.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}},66070:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},97141:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},6446:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},90756:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},85630:e=>{e.exports=function(e){return e.split("")}},40585:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},71928:(e,t,n)=>{var r=n(88799),o=n(85638),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},93382:(e,t,n)=>{var r=n(85638);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},88799:(e,t,n)=>{var r=n(42630);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},49819:(e,t,n)=>{var r=n(18911)();e.exports=r},26194:(e,t,n)=>{var r=n(49819),o=n(50098);e.exports=function(e,t){return e&&r(e,t,o)}},79867:(e,t,n)=>{var r=n(76747),o=n(37948);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},11324:(e,t,n)=>{var r=n(97141),o=n(19785);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},99736:(e,t,n)=>{var r=n(96539),o=n(34840),i=n(21258),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},30124:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},21610:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},55829:(e,t,n)=>{var r=n(99736),o=n(92360);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},32866:(e,t,n)=>{var r=n(12772),o=n(92360);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},12772:(e,t,n)=>{var r=n(23694),o=n(27042),i=n(370),a=n(39584),s=n(3533),u=n(19785),c=n(43854),l=n(48519),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=u(e),b=u(t),_=v?p:s(e),w=b?p:s(t),S=(_=_==d?h:_)==h,I=(w=w==d?h:w)==h,x=_==w;if(x&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(x&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,_,n,g,m,y);if(!(1&n)){var E=S&&f.call(e,"__wrapped__"),k=I&&f.call(t,"__wrapped__");if(E||k){var T=E?e.value():e,A=k?t.value():t;return y||(y=new r),m(T,A,n,g,y)}}return!!x&&(y||(y=new r),a(e,t,n,g,m,y))}},19850:(e,t,n)=>{var r=n(23694),o=n(32866);e.exports=function(e,t,n,i){var a=n.length,s=a,u=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],d=e[l],p=c[1];if(u&&c[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r;if(i)var f=i(d,p,l,e,t,h);if(!(void 0===f?o(p,d,3,i,h):f))return!1}}return!0}},46729:(e,t,n)=>{var r=n(28338),o=n(99678),i=n(11611),a=n(76532),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},26972:(e,t,n)=>{var r=n(99736),o=n(84194),i=n(92360),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},89278:(e,t,n)=>{var r=n(71410),o=n(57518),i=n(31137),a=n(19785),s=n(96001);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},20186:(e,t,n)=>{var r=n(56016),o=n(50962),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},71410:(e,t,n)=>{var r=n(19850),o=n(68125),i=n(65042);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},57518:(e,t,n)=>{var r=n(32866),o=n(99729),i=n(79749),a=n(40318),s=n(68302),u=n(65042),c=n(37948);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},50517:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},10301:(e,t,n)=>{var r=n(79867);e.exports=function(e){return function(t){return r(t,e)}}},17646:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},78859:(e,t,n)=>{var r=n(71928),o=n(76747),i=n(42383),a=n(11611),s=n(37948);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=o(t,e)).length,d=l-1,p=e;null!=p&&++c<l;){var h=s(t[c]),f=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=d){var g=p[h];void 0===(f=u?u(g,h,p):void 0)&&(f=a(g)?g:i(t[c+1])?[]:{})}r(p,h,f),p=p[h]}return e}},75733:e=>{e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},24701:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},34282:(e,t,n)=>{var r=n(96539),o=n(66070),i=n(19785),a=n(55193),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},39334:e=>{e.exports=function(e){return function(t){return e(t)}}},65581:e=>{e.exports=function(e,t){return e.has(t)}},76747:(e,t,n)=>{var r=n(19785),o=n(40318),i=n(23419),a=n(65567);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},39158:(e,t,n)=>{var r=n(75733);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},64937:(e,t,n)=>{var r=n(77400)["__core-js_shared__"];e.exports=r},18911:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}},62690:(e,t,n)=>{var r=n(39158),o=n(25348),i=n(63528),a=n(65567);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},68267:(e,t,n)=>{var r=n(6446),o=n(69689),i=n(93254),a=RegExp("[']","g");e.exports=function(e){return function(t){return r(i(o(t).replace(a,"")),e,"")}}},4248:(e,t,n)=>{var r=n(17646)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});e.exports=r},42630:(e,t,n)=>{var r=n(81822),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},27042:(e,t,n)=>{var r=n(52485),o=n(90756),i=n(65581);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var p=u.get(e),h=u.get(t);if(p&&h)return p==t&&h==e;var f=-1,g=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++f<l;){var y=e[f],v=t[f];if(a)var b=c?a(v,y,f,t,e,u):a(y,v,f,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,u)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},370:(e,t,n)=>{var r=n(96539),o=n(59942),i=n(85638),a=n(27042),s=n(19383),u=n(43735),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=u),e.size!=t.size&&!f)return!1;var g=p.get(e);if(g)return g==t;r|=2,p.set(e,t);var m=a(h(e),h(t),r,c,d,p);return p.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},39584:(e,t,n)=>{var r=n(51385),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var d=l;d--;){var p=c[d];if(!(u?p in t:o.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=u;++d<l;){var y=e[p=c[d]],v=t[p];if(i)var b=u?i(v,y,p,t,e,s):i(y,v,p,e,t,s);if(!(void 0===b?y===v||a(y,v,n,i,s):b)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},39120:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},51385:(e,t,n)=>{var r=n(11324),o=n(83080),i=n(50098);e.exports=function(e){return r(e,i,o)}},95899:(e,t,n)=>{var r=n(54479);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},68125:(e,t,n)=>{var r=n(68302),o=n(50098);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},81822:(e,t,n)=>{var r=n(46729),o=n(15371);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},34840:(e,t,n)=>{var r=n(96539),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},83080:(e,t,n)=>{var r=n(10263),o=n(15937),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},3533:(e,t,n)=>{var r=n(82545),o=n(44538),i=n(64825),a=n(46151),s=n(66902),u=n(99736),c=n(76532),l="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",g=c(r),m=c(o),y=c(i),v=c(a),b=c(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=f||o&&_(new o)!=l||i&&_(i.resolve())!=d||a&&_(new a)!=p||s&&_(new s)!=h)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return f;case m:return l;case y:return d;case v:return p;case b:return h}return t}),e.exports=_},15371:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},731:(e,t,n)=>{var r=n(76747),o=n(2900),i=n(19785),a=n(42383),s=n(84194),u=n(37948);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,d=!1;++c<l;){var p=u(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(p,l)&&(i(e)||o(e))}},25348:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},73909:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},57753:(e,t,n)=>{var r=n(35718);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},82452:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},22115:(e,t,n)=>{var r=n(35718),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},38256:(e,t,n)=>{var r=n(35718),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},67426:(e,t,n)=>{var r=n(35718);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},42383:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},40318:(e,t,n)=>{var r=n(19785),o=n(55193),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},54479:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},99678:(e,t,n)=>{var r,o=n(64937),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},56016:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},68302:(e,t,n)=>{var r=n(11611);e.exports=function(e){return e==e&&!r(e)}},69417:e=>{e.exports=function(){this.__data__=[],this.size=0}},72470:(e,t,n)=>{var r=n(93382),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},66165:(e,t,n)=>{var r=n(93382);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},71873:(e,t,n)=>{var r=n(93382);e.exports=function(e){return r(this.__data__,e)>-1}},52556:(e,t,n)=>{var r=n(93382);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},39448:(e,t,n)=>{var r=n(96586),o=n(36301),i=n(44538);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},7738:(e,t,n)=>{var r=n(95899);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},66575:(e,t,n)=>{var r=n(95899);e.exports=function(e){return r(this,e).get(e)}},7238:(e,t,n)=>{var r=n(95899);e.exports=function(e){return r(this,e).has(e)}},38738:(e,t,n)=>{var r=n(95899);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},19383:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},65042:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},2941:(e,t,n)=>{var r=n(16651);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},35718:(e,t,n)=>{var r=n(81822)(Object,"create");e.exports=r},50962:(e,t,n)=>{var r=n(58023)(Object.keys,Object);e.exports=r},18125:(e,t,n)=>{e=n.nmd(e);var r=n(39120),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},21258:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},58023:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},77400:(e,t,n)=>{var r=n(39120),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},38639:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},88379:e=>{e.exports=function(e){return this.__data__.has(e)}},43735:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7354:(e,t,n)=>{var r=n(36301);e.exports=function(){this.__data__=new r,this.size=0}},5863:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},12367:e=>{e.exports=function(e){return this.__data__.get(e)}},90748:e=>{e.exports=function(e){return this.__data__.has(e)}},97569:(e,t,n)=>{var r=n(36301),o=n(44538),i=n(74554);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},63528:(e,t,n)=>{var r=n(85630),o=n(25348),i=n(84890);e.exports=function(e){return o(e)?i(e):r(e)}},23419:(e,t,n)=>{var r=n(2941),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},37948:(e,t,n)=>{var r=n(55193);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},76532:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},84890:e=>{var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+s+("(?:\\u200d(?:"+[o,i,a].join("|")+")"+u+s+")*"),l="(?:"+[o+n+"?",n,i,a,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(d)||[]}},97025:e=>{var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+o+"]",a="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",c="[^\\ud800-\\udfff"+o+a+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+r+"]",h="(?:"+u+"|"+c+")",f="(?:"+p+"|"+c+")",g="(?:['](?:d|ll|m|re|s|t|ve))?",m="(?:['](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",b=v+y+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,d].join("|")+")"+v+y+")*"),_="(?:"+[s,l,d].join("|")+")"+b,w=RegExp([p+"?"+u+"+"+g+"(?="+[i,p,"$"].join("|")+")",f+"+"+m+"(?="+[i,p+h,"$"].join("|")+")",p+"?"+h+"+"+g,p+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,_].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},97429:(e,t,n)=>{var r=n(98052),o=n(68267)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},98052:(e,t,n)=>{var r=n(65567),o=n(76744);e.exports=function(e){return o(r(e).toLowerCase())}},69689:(e,t,n)=>{var r=n(4248),o=n(65567),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,r).replace(a,"")}},85638:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},99729:(e,t,n)=>{var r=n(79867);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},54957:(e,t,n)=>{var r=n(30124),o=n(731);e.exports=function(e,t){return null!=e&&o(e,t,r)}},79749:(e,t,n)=>{var r=n(21610),o=n(731);e.exports=function(e,t){return null!=e&&o(e,t,r)}},31137:e=>{e.exports=function(e){return e}},2900:(e,t,n)=>{var r=n(55829),o=n(92360),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},19785:e=>{var t=Array.isArray;e.exports=t},80068:(e,t,n)=>{var r=n(28338),o=n(84194);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},43854:(e,t,n)=>{e=n.nmd(e);var r=n(77400),o=n(57714),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u},28338:(e,t,n)=>{var r=n(99736),o=n(11611);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},84194:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},11611:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},55193:(e,t,n)=>{var r=n(99736),o=n(92360);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},48519:(e,t,n)=>{var r=n(26972),o=n(39334),i=n(18125),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},50098:(e,t,n)=>{var r=n(98213),o=n(20186),i=n(80068);e.exports=function(e){return i(e)?r(e):o(e)}},83180:(e,t,n)=>{var r=n(88799),o=n(26194),i=n(89278);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,t(e,o,i),e)})),n}},25389:(e,t,n)=>{var r=n(88799),o=n(26194),i=n(89278);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},16651:(e,t,n)=>{var r=n(74554);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},96001:(e,t,n)=>{var r=n(50517),o=n(10301),i=n(40318),a=n(37948);e.exports=function(e){return i(e)?r(a(e)):o(e)}},47215:(e,t,n)=>{var r=n(78859);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},32526:(e,t,n)=>{var r=n(68267)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},15937:e=>{e.exports=function(){return[]}},57714:e=>{e.exports=function(){return!1}},65567:(e,t,n)=>{var r=n(34282);e.exports=function(e){return null==e?"":r(e)}},76744:(e,t,n)=>{var r=n(62690)("toUpperCase");e.exports=r},93254:(e,t,n)=>{var r=n(40585),o=n(73909),i=n(65567),a=n(97025);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?o(e)?a(e):r(e):e.match(t)||[]}},99930:(e,t,n)=>{n.d(t,{CG:()=>L,p1:()=>F});var r=n(35214),o=n(5114),i=n(57050),a=function(e,t){return(0,i.zG)(e,m(t))},s=function(e,t){return(0,i.zG)(e,y(t))},u=function(e,t){return(0,i.zG)(e,b(t))},c=function(e,t,n){return(0,i.zG)(e,S(t,n))},l=function(e){return function(t,n){return(0,i.zG)(t,I(e)(n))}},d=function(e,t,n){return(0,i.zG)(e,x(t,n))},p=function(e,t){return(0,i.zG)(e,T(t))},h=function(e,t){return(0,i.zG)(e,_(t))},f=function(e){var t=E(e);return function(e,n){return(0,i.zG)(e,t(n))}},g=n(45241)._,m=function(e){return function(t){return e(t)}},y=function(e){return function(t){return t(e)}},v=i.yR,b=function(e){return function(t){return e(t)}},_=function(e){return function(t){return e(t)}},w=i.yR,S=function(e,t){return function(n){return t(e,n)}},I=function(){return function(e){return function(t){return e(t)}}},x=function(e,t){return function(n){return t(n,e)}},E=function(e){return function(t){return function(n){return e.map(t(n),i.yR)}}},k=function(e){return function(t){return e.map(t,i.yR)}},T=function(){return i.yR},A="Identity",C={URI:A,map:a,ap:s,of:v,chain:u,reduce:c,foldMap:l,reduceRight:d,traverse:f,sequence:k,alt:p,extract:w,extend:h,chainRec:g},O=i.MZ;function P(e){var t,n=(t=e,{URI:D,_E:void 0,map:R,ap:function(e,n){return O(t.concat(e,n))}});return{URI:D,_E:void 0,map:n.map,ap:n.ap,of:function(){return O(e.empty)}}}var R=function(e,t){return(0,i.zG)(e,N(t))},N=function(){return i.MZ},D="Const",M=n(71249),j=function(e,t,n){var r;return n===e[t]?e:Object.assign({},e,((r={})[t]=n,r))},L=function(){function e(e,t){this.get=e,this.reverseGet=t,this._tag="Iso",this.unwrap=this.get,this.to=this.get,this.wrap=this.reverseGet,this.from=this.reverseGet}return e.prototype.reverse=function(){return new e(this.reverseGet,this.get)},e.prototype.modify=function(e){var t=this;return function(n){return t.reverseGet(e(t.get(n)))}},e.prototype.asLens=function(){var e=this;return new U(this.get,(function(t){return function(n){return e.reverseGet(t)}}))},e.prototype.asPrism=function(){var e=this;return new F((function(t){return(0,o.some)(e.get(t))}),this.reverseGet)},e.prototype.asOptional=function(){var e=this;return new G((function(t){return(0,o.some)(e.get(t))}),(function(t){return function(n){return e.reverseGet(t)}}))},e.prototype.asTraversal=function(){var e=this;return new z((function(t){return function(n){return function(r){return t.map(n(e.get(r)),(function(t){return e.reverseGet(t)}))}}}))},e.prototype.asFold=function(){var e=this;return new q((function(t){return function(t){return function(n){return t(e.get(n))}}}))},e.prototype.asGetter=function(){var e=this;return new W((function(t){return e.get(t)}))},e.prototype.asSetter=function(){var e=this;return new V((function(t){return e.modify(t)}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return t.get(n.get(e))}),(function(e){return n.reverseGet(t.reverseGet(e))}))},e.prototype.composeIso=function(e){return this.compose(e)},e.prototype.composeLens=function(e){return this.asLens().compose(e)},e.prototype.composePrism=function(e){return this.asPrism().compose(e)},e.prototype.composeOptional=function(e){return this.asOptional().compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeGetter=function(e){return this.asGetter().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e}(),U=function(){function e(e,t){this.get=e,this.set=t,this._tag="Lens"}return e.fromPath=function(){var t=e.fromProp();return function(e){var n=t(e[0]);return e.slice(1).reduce((function(e,n){return e.compose(t(n))}),n)}},e.fromProp=function(){return function(t){return new e((function(e){return e[t]}),(function(e){return function(n){return j(n,t,e)}}))}},e.fromProps=function(){return function(t){var n=t.length;return new e((function(e){for(var r={},o=0;o<n;o++){var i=t[o];r[i]=e[i]}return r}),(function(e){return function(r){for(var o=0;o<n;o++){var i=t[o];if(e[i]!==r[i])return Object.assign({},r,e)}return r}}))}},e.fromNullableProp=function(){return function(t,n){return new e((function(e){var r=(0,o.fromNullable)(e[t]);return(0,o.isNone)(r)?n:r.value}),(function(e){return function(n){return j(n,t,e)}}))}},e.prototype.modify=function(e){var t=this;return function(n){var r=t.get(n),o=e(r);return r===o?n:t.set(o)(n)}},e.prototype.asOptional=function(){var e=this;return new G((function(t){return(0,o.some)(e.get(t))}),this.set)},e.prototype.asTraversal=function(){var e=this;return new z((function(t){return function(n){return function(r){return t.map(n(e.get(r)),(function(t){return e.set(t)(r)}))}}}))},e.prototype.asSetter=function(){var e=this;return new V((function(t){return e.modify(t)}))},e.prototype.asGetter=function(){var e=this;return new W((function(t){return e.get(t)}))},e.prototype.asFold=function(){var e=this;return new q((function(t){return function(t){return function(n){return t(e.get(n))}}}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return t.get(n.get(e))}),(function(e){return function(r){return n.set(t.set(e)(n.get(r)))(r)}}))},e.prototype.composeLens=function(e){return this.compose(e)},e.prototype.composeGetter=function(e){return this.asGetter().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeOptional=function(e){return this.asOptional().compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeIso=function(e){return this.compose(e.asLens())},e.prototype.composePrism=function(e){return this.asOptional().compose(e.asOptional())},e}(),F=function(){function e(e,t){this.getOption=e,this.reverseGet=t,this._tag="Prism"}return e.fromPredicate=function(t){return new e((function(e){return t(e)?(0,o.some)(e):o.none}),i.yR)},e.some=function(){return B},e.prototype.modify=function(e){var t=this;return function(n){var r=t.modifyOption(e)(n);return(0,o.isNone)(r)?n:r.value}},e.prototype.modifyOption=function(e){var t=this;return function(n){return o.option.map(t.getOption(n),(function(r){var o=e(r);return o===r?n:t.reverseGet(o)}))}},e.prototype.set=function(e){return this.modify((function(){return e}))},e.prototype.asOptional=function(){var e=this;return new G(this.getOption,(function(t){return e.set(t)}))},e.prototype.asTraversal=function(){var e=this;return new z((function(t){return function(n){return function(r){var i=e.getOption(r);return(0,o.isNone)(i)?t.of(r):t.map(n(i.value),(function(t){return e.set(t)(r)}))}}}))},e.prototype.asSetter=function(){var e=this;return new V((function(t){return e.modify(t)}))},e.prototype.asFold=function(){var e=this;return new q((function(t){return function(n){return function(r){var i=e.getOption(r);return(0,o.isNone)(i)?t.empty:n(i.value)}}}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return o.option.chain(n.getOption(e),(function(e){return t.getOption(e)}))}),(function(e){return n.reverseGet(t.reverseGet(e))}))},e.prototype.composePrism=function(e){return this.compose(e)},e.prototype.composeOptional=function(e){return this.asOptional().compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeIso=function(e){return this.compose(e.asPrism())},e.prototype.composeLens=function(e){return this.asOptional().compose(e.asOptional())},e.prototype.composeGetter=function(e){return this.asFold().compose(e.asFold())},e}(),B=new F(i.yR,o.some),G=function(){function e(e,t){this.getOption=e,this.set=t,this._tag="Optional"}return e.fromNullableProp=function(){return function(t){return new e((function(e){return(0,o.fromNullable)(e[t])}),(function(e){return function(n){return j(n,t,e)}}))}},e.fromOptionProp=function(){var e=U.fromProp();return function(t){return e(t).composePrism(B)}},e.prototype.modify=function(e){var t=this;return function(n){var r=t.modifyOption(e)(n);return(0,o.isNone)(r)?n:r.value}},e.prototype.modifyOption=function(e){var t=this;return function(n){return o.option.map(t.getOption(n),(function(r){var o=e(r);return o===r?n:t.set(o)(n)}))}},e.prototype.asTraversal=function(){var e=this;return new z((function(t){return function(n){return function(r){var i=e.getOption(r);return(0,o.isNone)(i)?t.of(r):t.map(n(i.value),(function(t){return e.set(t)(r)}))}}}))},e.prototype.asFold=function(){var e=this;return new q((function(t){return function(n){return function(r){var i=e.getOption(r);return(0,o.isNone)(i)?t.empty:n(i.value)}}}))},e.prototype.asSetter=function(){var e=this;return new V((function(t){return e.modify(t)}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return o.option.chain(n.getOption(e),(function(e){return t.getOption(e)}))}),(function(e){return n.modify(t.set(e))}))},e.prototype.composeOptional=function(e){return this.compose(e)},e.prototype.composeTraversal=function(e){return this.asTraversal().compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeLens=function(e){return this.compose(e.asOptional())},e.prototype.composePrism=function(e){return this.compose(e.asOptional())},e.prototype.composeIso=function(e){return this.compose(e.asOptional())},e.prototype.composeGetter=function(e){return this.asFold().compose(e.asFold())},e}(),z=function(){function e(e){this.modifyF=e,this._tag="Traversal"}return e.prototype.modify=function(e){var t=this;return function(n){return t.modifyF(C)(e)(n)}},e.prototype.set=function(e){return this.modify((0,i.a9)(e))},e.prototype.filter=function(e){return this.composePrism(F.fromPredicate(e))},e.prototype.asFold=function(){var e=this;return new q((function(t){return function(n){return function(r){return e.modifyF(P(t))((function(e){return O(n(e))}))(r)}}}))},e.prototype.asSetter=function(){var e=this;return new V((function(t){return e.modify(t)}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return function(r){return n.modifyF(e)(t.modifyF(e)(r))}}))},e.prototype.composeTraversal=function(e){return this.compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeSetter=function(e){return this.asSetter().compose(e)},e.prototype.composeOptional=function(e){return this.compose(e.asTraversal())},e.prototype.composeLens=function(e){return this.compose(e.asTraversal())},e.prototype.composePrism=function(e){return this.compose(e.asTraversal())},e.prototype.composeIso=function(e){return this.compose(e.asTraversal())},e.prototype.composeGetter=function(e){return this.asFold().compose(e.asFold())},e}(),W=(function(){function e(e){this.at=e,this._tag="At"}e.prototype.fromIso=function(t){var n=this;return new e((function(e){return t.composeLens(n.at(e))}))}}(),function(){function e(e){this.index=e,this._tag="Index"}e.fromAt=function(t){return new e((function(e){return t.at(e).composePrism(F.some())}))},e.prototype.fromIso=function(t){var n=this;return new e((function(e){return t.composeOptional(n.index(e))}))}}(),function(){function e(e){this.get=e,this._tag="Getter"}return e.prototype.asFold=function(){var e=this;return new q((function(t){return function(t){return function(n){return t(e.get(n))}}}))},e.prototype.compose=function(t){var n=this;return new e((function(e){return t.get(n.get(e))}))},e.prototype.composeGetter=function(e){return this.compose(e)},e.prototype.composeFold=function(e){return this.asFold().compose(e)},e.prototype.composeLens=function(e){return this.compose(e.asGetter())},e.prototype.composeIso=function(e){return this.compose(e.asGetter())},e.prototype.composeTraversal=function(e){return this.asFold().compose(e.asFold())},e.prototype.composeOptional=function(e){return this.asFold().compose(e.asFold())},e.prototype.composePrism=function(e){return this.asFold().compose(e.asFold())},e}()),q=function(){function e(e){this.foldMap=e,this._tag="Fold",this.getAll=e((0,M.uZ)())((function(e){return[e]})),this.exist=e(r.monoidAny),this.all=e(r.monoidAll),this.foldMapFirst=e((0,o.getFirstMonoid)())}return e.prototype.compose=function(t){var n=this;return new e((function(e){return function(r){return n.foldMap(e)(t.foldMap(e)(r))}}))},e.prototype.composeFold=function(e){return this.compose(e)},e.prototype.composeGetter=function(e){return this.compose(e.asFold())},e.prototype.composeTraversal=function(e){return this.compose(e.asFold())},e.prototype.composeOptional=function(e){return this.compose(e.asFold())},e.prototype.composeLens=function(e){return this.compose(e.asFold())},e.prototype.composePrism=function(e){return this.compose(e.asFold())},e.prototype.composeIso=function(e){return this.compose(e.asFold())},e.prototype.find=function(e){return this.foldMapFirst((0,o.fromPredicate)(e))},e.prototype.headOption=function(e){return this.find((function(){return!0}))(e)},e}(),V=function(){function e(e){this.modify=e,this._tag="Setter"}return e.prototype.set=function(e){return this.modify((0,i.a9)(e))},e.prototype.compose=function(t){var n=this;return new e((function(e){return n.modify(t.modify(e))}))},e.prototype.composeSetter=function(e){return this.compose(e)},e.prototype.composeTraversal=function(e){return this.compose(e.asSetter())},e.prototype.composeOptional=function(e){return this.compose(e.asSetter())},e.prototype.composeLens=function(e){return this.compose(e.asSetter())},e.prototype.composePrism=function(e){return this.compose(e.asSetter())},e.prototype.composeIso=function(e){return this.compose(e.asSetter())},e}()},64681:(e,t,n)=>{n.d(t,{Eh:()=>a,MS:()=>d,k4:()=>l,pR:()=>s,uZ:()=>u});var r=n(57050),o=n(5114),i=n(99930);const a=e=>e,s=e=>e,u=e=>e,c=new i.CG(r.MZ,r.MZ);function l(){return c}function d(e){return new i.p1((t=>e(t)?(0,o.some)(t):o.none),r.yR)}},39335:(e,t,n)=>{var r={superfasthash:n(11028),murmurhash3:n(13786)};e.exports={createHash:function(e){e=e.replace(/![a-zA-z0-9]/g,"").toLowerCase();try{return r[e]}catch(e){throw new Error(e)}}}},13786:(e,t,n)=>{var r=n(81314);function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function i(e,t){return e<<t|e>>>32-t}function a(e){return e=o(e^=e>>>16,2246822507),e=o(e^=e>>>13,3266489909),e^=e>>>16}function s(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function l(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=d(e,[0,e[0]>>>1]),e=d(e=u(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=d(e=u(e,[3301882366,444984403]),[0,e[0]>>>1])}var h=function(e,t){e=""+e||"";var n=r.toU8IntArray(e);t=t||0;for(var o=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%16,i=e.length-o,a=[0,t],h=[0,t],f=[0,0],g=[0,0],m=[2277735313,289559509],y=[1291169091,658871167],v=0;v<i;v+=16)f=[255&e.charCodeAt(v+4)|(255&e.charCodeAt(v+5))<<8|(255&e.charCodeAt(v+6))<<16|(255&e.charCodeAt(v+7))<<24,255&e.charCodeAt(v)|(255&e.charCodeAt(v+1))<<8|(255&e.charCodeAt(v+2))<<16|(255&e.charCodeAt(v+3))<<24],g=[255&e.charCodeAt(v+12)|(255&e.charCodeAt(v+13))<<8|(255&e.charCodeAt(v+14))<<16|(255&e.charCodeAt(v+15))<<24,255&e.charCodeAt(v+8)|(255&e.charCodeAt(v+9))<<8|(255&e.charCodeAt(v+10))<<16|(255&e.charCodeAt(v+11))<<24],f=c(f=u(f,m),31),a=s(a=c(a=d(a,f=u(f,y)),27),h),a=s(u(a,[0,5]),[0,1390208809]),g=c(g=u(g,y),33),h=s(h=c(h=d(h,g=u(g,m)),31),a),h=s(u(h,[0,5]),[0,944331445]);switch(f=[0,0],g=[0,0],o){case 15:g=d(g,l([0,e.charCodeAt(v+14)],48));case 14:g=d(g,l([0,e.charCodeAt(v+13)],40));case 13:g=d(g,l([0,e.charCodeAt(v+12)],32));case 12:g=d(g,l([0,e.charCodeAt(v+11)],24));case 11:g=d(g,l([0,e.charCodeAt(v+10)],16));case 10:g=d(g,l([0,e.charCodeAt(v+9)],8));case 9:g=u(g=d(g,[0,e.charCodeAt(v+8)]),y),h=d(h,g=u(g=c(g,33),m));case 8:f=d(f,l([0,e.charCodeAt(v+7)],56));case 7:f=d(f,l([0,e.charCodeAt(v+6)],48));case 6:f=d(f,l([0,e.charCodeAt(v+5)],40));case 5:f=d(f,l([0,e.charCodeAt(v+4)],32));case 4:f=d(f,l([0,e.charCodeAt(v+3)],24));case 3:f=d(f,l([0,e.charCodeAt(v+2)],16));case 2:f=d(f,l([0,e.charCodeAt(v+1)],8));case 1:f=u(f=d(f,[0,e.charCodeAt(v)]),m),a=d(a,f=u(f=c(f,31),y))}return a=s(a=d(a,[0,e.length]),h=d(h,[0,e.length])),h=s(h,a),a=s(a=p(a),h=p(h)),h=s(h,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(h[0]>>>0).toString(16)).slice(-8)+("00000000"+(h[1]>>>0).toString(16)).slice(-8)};e.exports={x86Hash32:function(e,t){e=""+e||"";var n=r.toU8IntArray(e);t=t||0;for(var s=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%4,u=e.length-s,c=t,l=0,d=3432918353,p=461845907,h=0;h<u;h+=4)l=o(l=255&e.charCodeAt(h)|(255&e.charCodeAt(h+1))<<8|(255&e.charCodeAt(h+2))<<16|(255&e.charCodeAt(h+3))<<24,d),l=o(l=i(l,15),p),c=o(c=i(c^=l,13),5)+3864292196;switch(l=0,s){case 3:l^=(255&e.charCodeAt(h+2))<<16;case 2:l^=(255&e.charCodeAt(h+1))<<8;case 1:l=o(l^=255&e.charCodeAt(h),d),c^=l=o(l=i(l,15),p)}return((c=a(c^=e.length))>>>0).toString(16)},x86Hash128:function(e,t){e=""+e||"";var n=r.toU8IntArray(e);t=t||0;for(var s=(e={charCodeAt:function(e){return n[e]},length:n.length}).length%16,u=e.length-s,c=t,l=t,d=t,p=t,h=0,f=0,g=0,m=0,y=597399067,v=2869860233,b=951274213,_=2716044179,w=0;w<u;w+=16)h=255&e.charCodeAt(w)|(255&e.charCodeAt(w+1))<<8|(255&e.charCodeAt(w+2))<<16|(255&e.charCodeAt(w+3))<<24,f=255&e.charCodeAt(w+4)|(255&e.charCodeAt(w+5))<<8|(255&e.charCodeAt(w+6))<<16|(255&e.charCodeAt(w+7))<<24,g=255&e.charCodeAt(w+8)|(255&e.charCodeAt(w+9))<<8|(255&e.charCodeAt(w+10))<<16|(255&e.charCodeAt(w+11))<<24,m=255&e.charCodeAt(w+12)|(255&e.charCodeAt(w+13))<<8|(255&e.charCodeAt(w+14))<<16|(255&e.charCodeAt(w+15))<<24,h=i(h=o(h,y),15),c=i(c^=h=o(h,v),19),c=o(c+=l,5)+1444728091,f=i(f=o(f,v),16),l=i(l^=f=o(f,b),17),l=o(l+=d,5)+197830471,g=i(g=o(g,b),17),d=i(d^=g=o(g,_),15),d=o(d+=p,5)+2530024501,m=i(m=o(m,_),18),p=i(p^=m=o(m,y),13),p=o(p+=c,5)+850148119;switch(h=0,f=0,g=0,m=0,s){case 15:m^=e.charCodeAt(w+14)<<16;case 14:m^=e.charCodeAt(w+13)<<8;case 13:m=o(m^=e.charCodeAt(w+12),_),p^=m=o(m=i(m,18),y);case 12:g^=e.charCodeAt(w+11)<<24;case 11:g^=e.charCodeAt(w+10)<<16;case 10:g^=e.charCodeAt(w+9)<<8;case 9:g=o(g^=e.charCodeAt(w+8),b),d^=g=o(g=i(g,17),_);case 8:f^=e.charCodeAt(w+7)<<24;case 7:f^=e.charCodeAt(w+6)<<16;case 6:f^=e.charCodeAt(w+5)<<8;case 5:f=o(f^=e.charCodeAt(w+4),v),l^=f=o(f=i(f,16),b);case 4:h^=e.charCodeAt(w+3)<<24;case 3:h^=e.charCodeAt(w+2)<<16;case 2:h^=e.charCodeAt(w+1)<<8;case 1:h=o(h^=e.charCodeAt(w),y),c^=h=o(h=i(h,15),v)}return c^=e.length,c+=l^=e.length,c+=d^=e.length,l+=c+=p^=e.length,d+=c,p+=c,c=a(c),c+=l=a(l),c+=d=a(d),l+=c+=p=a(p),d+=c,p+=c,("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(p>>>0).toString(16)).slice(-8)},x64Hash64:function(e,t){return h(e,t).slice(8)},x64Hash128:h,hash:function(e,t){return h(e,t)}}},11028:(e,t,n)=>{var r=n(81314);function o(e,t){return e[t]<<8|e[t+1]}e.exports={hash:function(e){var t,n=r.toU8IntArray(e+""),i=0;if(!e)return i.toString(16);var a=n.length,s=0;t=3&a,a>>>=2;for(var u=0;u<a;u++)i=(i+=o(n,s))<<16^(o(n,s+2)<<11^i),s+=4,i+=i>>11;switch(t){case 3:i+=o(n,s),i^=i<<16,i^=n[s+2]<<18,i+=i>>11;break;case 2:i+=o(n,s),i^=i<<11,i+=i>>17;break;case 1:i+=n[s],i^=i<<10,i+=i>>1}return i^=i<<3,i+=i>>5,i^=i<<4,i+=i>>17,i^=i<<25,i+=i>>6,r.intToUnsignedHex(i)}}},81314:e=>{e.exports={toU8IntArray:function(e){for(var t=[],n=[],r=0;r<e.length;r++){var o,i=e.charCodeAt(r);for(n.length=0;(o=255&i)||i;)n.push(o),i>>>=8;t=t.concat(n.reverse())}return t},intToUnsignedHex:function(e){for(var t,n=[];(t=65535&e)||e;)t=t.toString(16),t="0000".slice(t.length)+t,n.push(t),e>>>=16;return n.reverse().join("")}}},62525:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,s,u=o(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(u[s[d]]=a[s[d]])}}return u}},54347:module=>{var e;self,e=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.checkInputsShape=void 0;var a=i(n(13)),s=n(9),u=n(1);t.checkInputsShape=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].dims||e[r].dims.length!==t[r])return!1;return!0};var c=function(){function e(){}return e.preprocessInputShapes=function(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]},e.postprocessOutputShape=function(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()},e.calcMatMulShape=function(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]},e}();t.MatMulUtil=c;var l=function(){function e(){}return e.calcShape=function(e,t,n){var o;void 0===n&&(n=!1);var i=e.length,a=t.length;if(0===i)return t;if(0===a)return e;var s=Math.max(e.length,t.length),u=new Array(s);if(n){if(i<2||a<2)return;var l=c.calcMatMulShape([e[i-2],e[i-1]],[t[a-2],t[a-1]]);if(void 0===l)return;o=r(l,2),u[s-2]=o[0],u[s-1]=o[1]}for(var d=n?3:1;d<=s;d++){var p=i-d<0?1:e[i-d],h=a-d<0?1:t[a-d];if(p!==h&&p>1&&h>1)return;u[s-d]=Math.max(p,h)}return u},e.index=function(t,n){var r=new Array(n.length);return e.fillIndex(t,n,r),r},e.fillIndex=function(e,t,n){for(var r=e.length-t.length,o=0;o<t.length;o++)n[o]=e[r+o]%t[o]},e.calc=function(t,n,r,o,i){var a=e.calcShape(t.dims,n.dims);if(a){if(o&&!f.areEqual(a,t.dims))return;var s=f.size(a),c=o?t:new u.Tensor(a,i||t.type);if(0===a.length)c.set([],r(t.get([]),n.get([])));else{var l=new Array(a.length),d=new Array(t.dims.length),p=new Array(n.dims.length),h=0,g=0,m=!1,y=!1;0===t.dims.length&&(h=t.get([]),m=!0),0===n.dims.length&&(g=n.get([]),y=!0);for(var v=void 0,b=0;b<s;b++){v=b;for(var _=a.length-1;_>=0;_--)l[_]=v%a[_],v=Math.floor(v/a[_]);m||(e.fillIndex(l,t.dims,d),h=t.get(d)),y||(e.fillIndex(l,n.dims,p),g=n.get(p)),c.set(l,r(h,g))}}return c}},e.isValidBroadcast=function(e,t){var n=e.length,r=t.length;if(n>r)return!1;for(var o=1;o<=n;o++)if(1!==e[n-o]&&e[n-o]!==t[r-o])return!1;return!0},e}();t.BroadcastUtil=l,t.arrayCopyHelper=function(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)e[n+i]=t[r+i]};var d=function(){function e(){}return e.getShapeOfGemmResult=function(e,t,n,r,o){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");var i,a,s;t?(i=e[1],a=e[0]):(i=e[0],a=e[1]);var u=-1;if(r?(s=n[0],u=1):(s=n[1],u=0),n[u]!==a)throw new Error("dimension mismatch");if(i<=0||s<=0||a<=0)throw new Error("invalid shape specified");if(o&&!l.isValidBroadcast(o,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,a]},e}();t.GemmUtil=d;var p=function(){function e(){}return e.tensorDataTypeFromProto=function(e){switch(e){case s.onnx.TensorProto.DataType.INT8:return"int8";case s.onnx.TensorProto.DataType.UINT8:return"uint8";case s.onnx.TensorProto.DataType.BOOL:return"bool";case s.onnx.TensorProto.DataType.INT16:return"int16";case s.onnx.TensorProto.DataType.UINT16:return"uint16";case s.onnx.TensorProto.DataType.INT32:return"int32";case s.onnx.TensorProto.DataType.UINT32:return"uint32";case s.onnx.TensorProto.DataType.FLOAT:return"float32";case s.onnx.TensorProto.DataType.DOUBLE:return"float64";case s.onnx.TensorProto.DataType.STRING:return"string";case s.onnx.TensorProto.DataType.INT64:return"int32";case s.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: "+s.onnx.TensorProto.DataType[e])}},e.tensorDimsFromProto=function(e){return e.map((function(e){return a.default.isLong(e)?e.toNumber():e}))},e.tensorValueTypeFromProto=function(t){return{tensorType:e.tensorDataTypeFromProto(t.elemType),shape:{dims:e.tensorDimsFromProto(t.shape.dim.map((function(e){return e.dimValue})))}}},e}();t.ProtoUtil=p;var h=function(){function e(){}return e.longToNumber=function(e){return a.default.isLong(e)?e.toNumber():e},e}();t.LongUtil=h;var f=function(){function e(){}return e.size=function(t){return e.getSizeFromDimensionRange(t,0,t.length)},e.sizeFromDimension=function(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of "+n+" for sizeFromDimension as Tensor has "+t.length+" dimensions.");return e.getSizeFromDimensionRange(t,n,t.length)},e.sizeToDimension=function(t,n){if(n<0||n>t.length)throw new Error("invalid dimension of "+n+" for sizeToDimension as Tensor has "+t.length+" dimensions.");return e.getSizeFromDimensionRange(t,0,n)},e.getSizeFromDimensionRange=function(e,t,n){for(var r=1,o=t;o<n;o++){if(e[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[o]}return r},e.computeStrides=function(e){var t=e.length;if(0===t)return[];if(1===t)return[1];var n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n},e.transpose=function(e){return e.slice().reverse()},e.indicesToOffset=function(e,t,n){void 0===n&&(n=e.length);for(var r=0,o=0;o<n;++o)r+=t[o]*e[o];return r},e.offsetToIndices=function(e,t){var n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];for(var r=new Array(t.length),o=0;o<r.length-1;++o)r[o]=Math.floor(e/t[o]),e-=r[o]*t[o];return r[r.length-1]=e,r},e.normalizeAxis=function(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e},e.normalizeAxes=function(e,t){var n=this;return e.map((function(e){return n.normalizeAxis(e,t)}))},e.incrementIndex=function(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(var r=n-1;r>=0&&(e[r]++,!(e[r]<t[r]));--r)e[r]=0},e.calculateReshapedDims=function(t,n){if(0===n.length){if(0===t.length||1===e.size(t))return[];throw new Error("cannot reshape to a scalar Tensor")}for(var r=n.length,o=new Array(r),i=-1,a=1,s=0;s<r;s++){if(n[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===n[s]){if(-1!==i)throw new Error("at most one dimension in shape hints can be -1");i=s}else{if(0===n[s]){if(s>=t.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");o[s]=t[s]}else o[s]=n[s];a*=o[s]}}var u=e.size(t);if(-1!==i){if(u%a!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: ["+t+"] Output shape: ["+n+"]");o[i]=u/a}else if(a!==u)throw new Error("reshapedDims and originalDims don't have matching sizes");return o},e.sortBasedOnPerm=function(e,t){return t?t.map((function(t){return e[t]})):e.slice().reverse()},e.padShape=function(e,t){var n=e.length;return e.map((function(e,r){return e+t[r]+t[r+n]}))},e.areEqual=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},e.validateDimsAndCalcSize=function(e){var t,n;if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");var r=1;try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(!Number.isInteger(s))throw new TypeError("Invalid shape: "+s+" is not an integer");if(s<0||s>2147483647)throw new TypeError("Invalid shape: length "+s+" is not allowed");r*=s}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.flattenShape=function(e,t){t<0&&(t+=e.length);var n=e.reduce((function(e,t){return e*t}),1),r=e.slice(t).reduce((function(e,t){return e*t}),1);return[n/r,r]},e.squeezeShape=function(t,n){var r=new Array;n=e.normalizeAxes(n,t.length);for(var o=0;o<t.length;o++){var i=n.indexOf(o)>=0;if(i&&1!==t[o])throw new Error("squeeze an axis of size different than 1");(0===n.length&&t[o]>1||n.length>0&&!i)&&r.push(t[o])}return r},e.unsqueezeShape=function(t,n){var r=new Array(t.length+n.length);r.fill(0);for(var o=0;o<n.length;o++){var i=e.normalizeAxis(n[o],t.length);if(i>=r.length)throw new Error("'axes' has an out of range axis");if(0!==r[i])throw new Error("'axes' has a duplicate axis");r[i]=1}var a=0;for(o=0;o<r.length;o++)0===r[o]&&(r[o]=t[a++]);if(a!==t.length)throw new Error("the unsqueezed dimension could not be established");return r},e}();t.ShapeUtil=f;var g=function(){function e(){}return e.sqr=function(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)e[n+i]+=Math.pow(t[r+i],2)},e.axpy=function(e,t,n,r,o,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)e[n+a]+=i*t[r+a]},e.powx=function(e,t,n,r,o,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)e[n+a]=Math.pow(t[r+a],i)},e.mul=function(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)e[n+i]=t[r+i]*e[n+i]},e}();t.MathUtil=g;var m=function(){function e(){}return e.splitShape=function(t,n,r,o){if(0===r.length){if(!o)throw new Error("need to know number of outputs when the 'split' attribute is not specified");e.determineSplit(t[n],o,r)}for(var i=[],a=[0],s=0;s<r.length;++s){0!==s&&a.push(a[s-1]+r[s-1]);var u=t.slice();u[n]=r[s],i.push(u)}return[i,a]},e.determineSplit=function(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(var r=0;r<t;++r)n.push(e/t)},e}();t.SplitUtil=m;var y=function(){function e(){}return e.calcReduce=function(t,n,r,o,i){var a=t.dims.slice(0);0===n.length&&a.forEach((function(e,t){return n.push(t)}));for(var s=e.calcReduceShape(a,n,!0),c=f.size(s),d=new u.Tensor(s,t.type),p=f.computeStrides(s),h=f.computeStrides(a),g=new Array(a.length),m=0;m<c;m++){var y=f.offsetToIndices(m,p);l.fillIndex(y,a,g),d.set(y,e.calcReduceByAxis(t.numberData,n,a,0,f.indicesToOffset(g,h),o,i))}return r?d:new u.Tensor(e.calcReduceShape(a,n,r),d.type,void 0,void 0,d.data,d.dataId)},e.calcReduceByAxis=function(t,n,r,o,i,a,s){var u=0;if(o>=n.length)return a(t[i]);for(var c=n[o],l=c>=r.length?1:f.size(r.slice(c+1)),d=0;d<r[c];d++)u=0===d?e.calcReduceByAxis(t,n,r,o+1,i,a,s):s(u,e.calcReduceByAxis(t,n,r,o+1,i,a,s)),i+=l;return u},e.calcReduceShape=function(e,t,n){for(var r=e.slice(),o=0;o<t.length;o++)r[t[o]]=n?1:0;return r.filter((function(e){return 0!==e}))},e}();t.ReduceUtil=y;var v=function(){function e(){}return e.adjustPoolAttributes=function(e,t,n,r,o){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(var i=0;i<t.length-2;i++)i>=n.length?n.push(t[i+2]):n[i]=t[i+2];for(i=0;i<n.length;i++)if(i<r.length){if(r[i]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(i=0;i<2*n.length;i++)if(i<o.length){if(o[i]<0)throw new Error("pad should be greater than or equal to 1")}else o.push(0);for(i=0;i<n.length;i++){if(n[i]<=0)throw new Error("kernel shapes need to be greater than 0");if(o[i]>=n[i]||o[i+n.length]>=n[i])throw new Error("pads should be smaller than kernel")}},e.adjustPadsBasedOnAutoPad=function(t,n,r,o,i,a){if(a){if(i.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(o.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(var s=0;s<t.length-2;s++)e.adjustPadAndReturnShape(t[s+2],n[s],r[s],o[s],i,s,s+t.length-2,a)}},e.computePoolOutputShape=function(t,n,r,o,i,a){if(n.length<=0)throw new Error("input shape must be of size greater than 0");var s=[n[0],n[1]],u=new Array(o.length).fill(1);return e.computeShapeHelper(t,n,s,r,u,o,i,a),s},e.computeConvOutputShape=function(t,n,r,o,i,a,s){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");var u=[t[0],n[0]];return e.computeShapeHelper(!1,t,u,r,o,i,a,s),u},e.computeShapeHelper=function(t,n,r,o,i,a,s,u){if(t)for(var c=0;c<n.length-2;c++)r.push(1);else for(c=0;c<n.length-2;c++)r.push(e.adjustPadAndReturnShape(n[c+2],o[c],i[c],a[c],s,c,c+n.length-2,u))},e.adjustPadAndReturnShape=function(e,t,n,r,o,i,a,s){var u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+o[i]+o[a]-u)/t+1);switch(s){case"VALID":return o[i]=0,o[a]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");var c=((e+t-1)/t-1)*t+r-e;return o[i]="SAME_LOWER"===s?Math.floor((c+1)/2):Math.floor(c/2),o[a]=c-o[i],Math.floor((e+c-r)/t+1);default:throw new Error("Unsupported AutoPad type")}},e}();t.PoolConvUtil=v},function(e,t,n){(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;var a=i(n(13)),s=n(9),u=n(0),c=function(){function t(e,t,n,r,o,i){void 0===i&&(i={}),this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=r,this.cache=o,this.dataId=i,this.size=u.ShapeUtil.validateDimsAndCalcSize(e);var a=this.size,s=void 0===n&&void 0===r&&void 0===o;if(void 0!==o&&o.length!==a)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===o||Array.isArray(o)&&o.every((function(e){return"string"==typeof e}))))throw new TypeError("cache should be a string array");s&&(o=new Array(a))}else{if(void 0!==o){var c=l(t);if(!(o instanceof c))throw new TypeError("cache should be type "+c.name)}if(s){var d=new ArrayBuffer(a*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type "+e)}}(t));this.cache=function(e,t){return new(l(t))(e)}(d,t)}}}return Object.defineProperty(t.prototype,"data",{get:function(){if(void 0===this.cache){var e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stringData",{get:function(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"integerData",{get:function(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"floatData",{get:function(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberData",{get:function(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")},enumerable:!1,configurable:!0}),t.prototype.get=function(e){return this.data[u.ShapeUtil.indicesToOffset(e,this.strides)]},t.prototype.set=function(e,t){this.data[u.ShapeUtil.indicesToOffset(e,this.strides)]=t},t.prototype.getData=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return void 0!==this.cache?[3,2]:(e=this,[4,this.asyncDataProvider(this.dataId)]);case 1:e.cache=t.sent(),t.label=2;case 2:return[2,this.cache]}}))}))},Object.defineProperty(t.prototype,"strides",{get:function(){return this._strides||(this._strides=u.ShapeUtil.computeStrides(this.dims)),this._strides},enumerable:!1,configurable:!0}),t.fromProto=function(n){if(!n)throw new Error("cannot construct Value from an empty tensor");var r=u.ProtoUtil.tensorDataTypeFromProto(n.dataType),o=new t(u.ProtoUtil.tensorDimsFromProto(n.dims),r);if("string"===r)n.stringData.forEach((function(t,n){var r=e.from(t.buffer,t.byteOffset,t.byteLength);o.data[n]=r.toString()}));else if(n.rawData&&"number"==typeof n.rawData.byteLength&&n.rawData.byteLength>0){var i=o.data,c=new DataView(n.rawData.buffer,n.rawData.byteOffset,n.rawData.byteLength),l=function(e){switch(e){case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.BOOL:return 1;case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT16:return 2;case s.onnx.TensorProto.DataType.FLOAT:case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.UINT32:return 4;case s.onnx.TensorProto.DataType.INT64:case s.onnx.TensorProto.DataType.DOUBLE:case s.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type "+s.onnx.TensorProto.DataType[e])}}(n.dataType),h=n.rawData.byteLength/l;if(n.rawData.byteLength%l!=0)throw new Error("invalid buffer length");if(i.length!==h)throw new Error("buffer length mismatch");for(var f=0;f<h;f++){var g=p(c,n.dataType,f*l);i[f]=g}}else{var m=void 0;switch(n.dataType){case s.onnx.TensorProto.DataType.FLOAT:m=n.floatData;break;case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.INT16:case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.BOOL:m=n.int32Data;break;case s.onnx.TensorProto.DataType.INT64:m=n.int64Data;break;case s.onnx.TensorProto.DataType.DOUBLE:m=n.doubleData;break;case s.onnx.TensorProto.DataType.UINT32:case s.onnx.TensorProto.DataType.UINT64:m=n.uint64Data;break;default:throw new Error("unspecific error")}if(null==m)throw new Error("failed to populate data from a tensorproto value");var y=o.data;if(y.length!==m.length)throw new Error("array length mismatch");for(f=0;f<m.length;f++){var v=m[f];a.default.isLong(v)?y[f]=d(v,n.dataType):y[f]=v}}return o},t.fromData=function(e,n,r){return new t(n,r,void 0,void 0,e)},t}();function l(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function d(e,t){if(t===s.onnx.TensorProto.DataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==s.onnx.TensorProto.DataType.UINT32&&t!==s.onnx.TensorProto.DataType.UINT64)throw new TypeError("not a LONG type: "+s.onnx.TensorProto.DataType[t]);if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function p(e,t,n){switch(t){case s.onnx.TensorProto.DataType.BOOL:case s.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case s.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case s.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case s.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case s.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case s.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case s.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case s.onnx.TensorProto.DataType.INT64:return d(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case s.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case s.onnx.TensorProto.DataType.UINT64:return d(a.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error("cannot read from DataView for type "+s.onnx.TensorProto.DataType[t])}}t.Tensor=c}).call(this,n(12).Buffer)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;var r={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},o={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function i(e){return 1===e?r:o}t.getGlsl=i,t.getVertexShaderSource=function(e){var t=i(e);return t.version+"\n      precision highp float;\n      "+t.attribute+" vec3 position;\n      "+t.attribute+" vec2 textureCoord;\n\n      "+t.varyingVertex+" vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }"},t.getFragShaderPreamble=function(e){var t=i(e);return t.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+t.varyingFrag+" vec2 TexCoords;\n    "+t.outputDeclaration+"\n\n    "},t.getDefaultFragShaderMain=function(e,t){return"\n  void main() {\n    int indices["+t+"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    "+i(e).output+" = result;\n  }\n  "}},function(e,t,n){var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;var i=function(){function e(){}return e.prototype.log=function(e,t,n){},e}(),a=function(){function e(){}return e.prototype.log=function(e,t,n){console.log(this.color(e)+" "+(n?"[35m"+n+"[0m ":"")+t)},e.prototype.color=function(e){switch(e){case"verbose":return"[34;40mv[0m";case"info":return"[32mi[0m";case"warning":return"[30;43mw[0m";case"error":return"[31;40me[0m";default:throw new Error("unsupported severity: "+e)}},e}(),s={verbose:1e3,info:2e3,warning:4e3,error:5e3},u=((r={}).none=new i,r.console=new a,r),c={provider:"console",minimalSeverity:"info",logDateTime:!0,logSourceLocation:!1},l=((o={})[""]=c,o);function d(e,t,n,r){if(void 0===t)return o=e,{verbose:d.verbose.bind(null,o),info:d.info.bind(null,o),warning:d.warning.bind(null,o),error:d.error.bind(null,o)};if(void 0===n)p(e,t);else if("number"==typeof n&&void 0===r)p(e,t);else if("string"==typeof n&&void 0===r)p(e,n,0,t);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");p(e,n,0,t)}var o}function p(e,t,n,r){var o=l[r||""]||l[""];s[e]<s[o.minimalSeverity]||(o.logDateTime&&(t=(new Date).toISOString()+"|"+t),o.logSourceLocation,u[o.provider].log(e,t,r))}!function(e){function t(e){l={},n("",e||{})}function n(e,n){if("*"===e)t(n);else{var r=l[e]||c;l[e]={provider:n.provider||r.provider,minimalSeverity:n.minimalSeverity||r.minimalSeverity,logDateTime:void 0===n.logDateTime?r.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?r.logSourceLocation:n.logSourceLocation}}}e.verbose=function(t,n){e("verbose",t,n)},e.info=function(t,n){e("info",t,n)},e.warning=function(t,n){e("warning",t,n)},e.error=function(t,n){e("error",t,n)},e.reset=t,e.set=n}(d||(d={})),t.Logger=d;var h=function(){function e(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endCallback=r}return e.prototype.end=function(){this.endCallback(this)},e}(),f=function(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endTime=r},g=function(){function e(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n}return e.create=function(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)},e.prototype.start=function(){this._started=!0,this._timingEvents=[],this._flushTime=t.now(),this._flushPointer=0},e.prototype.stop=function(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])},e.prototype.event=function(e,t,n){var r=this._started?this.begin(e,t):void 0,o=!1;try{var i=n();return i&&"function"==typeof i.then?(o=!0,new Promise((function(e,t){i.then((function(t){e(t),r&&r.end()}),(function(e){t(e),r&&r.end()}))}))):i}finally{!o&&r&&r.end()}},e.prototype.begin=function(e,n){var r=this;if(!this._started)throw new Error("profiler is not started yet");var o=t.now();return this.flush(o),new h(e,n,o,(function(e){return r.end(e)}))},e.prototype.end=function(e){if(this._timingEvents.length<this._maxNumberEvents){var n=t.now();this._timingEvents.push(new f(e.category,e.name,e.startTime,n)),this.flush(n)}},e.prototype.logOneEvent=function(e){t.Logger.verbose("Profiler."+e.category,(e.endTime-e.startTime).toFixed(2)+"ms on event '"+e.name+"' at "+e.endTime.toFixed(2))},e.prototype.flush=function(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(var n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=t.now()}},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!1,configurable:!0}),e}();t.Profiler=g,t.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WasmBinding=t.init=void 0;var u,c,l,d=n(3),p=s(n(103)),h=!1,f=!1;t.init=function(e,t){if(h)return Promise.resolve();if(f)throw new Error("multiple calls to 'init()' detected.");return f=!0,new Promise((function(r,o){var i,a=function(){void 0!==i&&(clearTimeout(i),i=void 0)},s=function(){a(),r(),f=!1,h=!0},g=p.init(),m=new Promise((function(e,n){i=setTimeout((function(){n("Wasm init promise failed to be resolved within set timeout")}),t)}));e>0?(d.Logger.verbose("WebAssembly-Workers","User has requested "+e+" Workers."),"undefined"==typeof self||void 0===self.Worker?(d.Logger.error("WebAssembly-Workers","Environment does not support usage of Workers. Will not spawn workers."),c=0):(d.Logger.verbose("WebAssembly-Workers","Environment supports usage of Workers. Will spawn "+e+" Workers"),c=e)):(d.Logger.verbose("WebAssembly-Workers","User has disabled usage of Workers. Will not spawn workers."),c=0);var y=new Array(c);u=new Array(c),l=new Array(c);for(var v=function(e){var t=new Promise((function(t,r){var o=n(105).default();u[e]=o,l[e]=[],o.onerror=function(t){d.Logger.error("WebAssembly-Workers","worker-"+e+" ERR: "+t),h||r()},o.onmessage=function(n){if(!(n&&n.data&&n.data.type))throw new Error("missing message type from worker");if("init-success"===n.data.type)t();else{if("ccall"!==n.data.type)throw new Error("unknown message type from worker: "+n.data.type);var r=n.data.perfData;l[e].shift()(n.data.buffer,r)}}}));y[e]=t},b=0;b<c;b++)v(b);Promise.race([g,m]).then((function(){Promise.all(y).then(s,(function(e){d.Logger.warning("WebAssembly-Workers","Unable to get all requested workers initialized. Will use Wasm backend with 0 workers. ERR: "+e),c=0,s()}))}),(function(e){a(),o(e),f=!1}))}))};var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},Object.defineProperty(t,"workerNumber",{get:function(){return c},enumerable:!1,configurable:!0}),t.prototype.ccallRemote=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!h)throw new Error("wasm not initialized. please ensure 'init()' is called.");if(e<0||e>=c)throw new Error("invalid worker ID "+e+". should be in range [0, "+c+")");var i=[],a=t.calculateOffsets(i,r),s=new ArrayBuffer(a);t.ccallSerialize(new Uint8Array(s),i,r);var d=p.now();return u[e].postMessage({type:"ccall",func:n,buffer:s},[s]),new Promise((function(n,o){l[e].push((function(e,o){o.startTimeWorker=o.startTime,o.endTimeWorker=o.endTime,o.startTime=d,o.endTime=p.now(),t.ccallDeserialize(new Uint8Array(e),i,r),n(o)}))}))},t}(p.WasmBinding);t.WasmBinding=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,function(e){e[e.ValueBased=0]="ValueBased",e[e.Positional=1]="Positional"}(t.FunctionType||(t.FunctionType={})),t.GlslContext=function(e,t){this.glContext=e,this.programInfo=t},t.GlslLib=function(e){this.context=e},t.GlslLibRoutine=function(e,t){this.routineBody=e,this.dependencies=t};var r=function(){function e(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t)}return e.prototype.addDependency=function(e){e&&this.dependencies.push(e)},e}();t.GlslLibRoutineNode=r;var o=function(){function e(){}return e.returnOrderedNodes=function(e){if(!e||0===e.length)return[];if(1===e.length)return e;var t=new Set,n=new Set,r=new Array;return this.createOrderedNodes(e,t,n,r),r},e.createOrderedNodes=function(e,t,n,r){for(var o=0;o<e.length;++o)this.dfsTraverse(e[o],t,n,r)},e.dfsTraverse=function(e,t,n,r){if(e&&!n.has(e.name)){if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);var o=e.dependencies;if(o&&o.length>0)for(var i=0;i<o.length;++i)this.dfsTraverse(o[i],t,n,r);r.push(e),n.add(e.name),t.delete(e.name)}},e}();t.TopologicalSortGlslRoutines=o},function(e,t,n){(function(e){var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(64),r.base64=n(65),r.EventEmitter=n(66),r.float=n(67),r.inquire=n(68),r.utf8=n(69),r.pool=n(70),r.LongBits=n(71),r.global="undefined"!=typeof self&&self||void 0!==e&&e||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(8))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof self&&(n=self)}e.exports=n},function(e,t,n){var r=n(62),o=r.Reader,i=r.Writer,a=r.util,s=r.roots.default||(r.roots.default={});s.onnx=function(){var e,t,n={};return n.Version=(e={},(t=Object.create(e))[e[0]="_START_VERSION"]=0,t[e[1]="IR_VERSION_2017_10_10"]=1,t[e[2]="IR_VERSION_2017_10_30"]=2,t[e[3]="IR_VERSION_2017_11_3"]=3,t[e[4]="IR_VERSION_2019_1_22"]=4,t[e[5]="IR_VERSION"]=5,t),n.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.s=a.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=a.emptyArray,e.prototype.ints=a.emptyArray,e.prototype.strings=a.emptyArray,e.prototype.tensors=a.emptyArray,e.prototype.graphs=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&s.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&s.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)s.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)s.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.AttributeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=s.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=s.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(s.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(s.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!a.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!a.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(a.isInteger(e.i)||e.i&&a.isInteger(e.i.low)&&a.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||a.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=s.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=s.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(a.isInteger(e.ints[t])||e.ints[t]&&a.isInteger(e.ints[t].low)&&a.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||a.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=s.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=s.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},e.fromObject=function(e){if(e instanceof s.onnx.AttributeProto)return e;var t=new s.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(a.Long?(t.i=a.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new a.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?a.base64.decode(e.s,t.s=a.newBuffer(a.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=s.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=s.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)a.Long?(t.ints[n]=a.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new a.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?a.base64.decode(e.strings[n],t.strings[n]=a.newBuffer(a.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=s.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=s.onnx.GraphProto.fromObject(e.graphs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),t.defaults){if(n.name="",n.f=0,a.Long){var r=new a.Long(0,0,!1);n.i=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=a.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=t.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?a.Long.prototype.toString.call(e.i):t.longs===Number?new a.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?a.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=s.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=s.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var o=0;o<e.floats.length;++o)n.floats[o]=t.json&&!isFinite(e.floats[o])?String(e.floats[o]):e.floats[o]}if(e.ints&&e.ints.length)for(n.ints=[],o=0;o<e.ints.length;++o)"number"==typeof e.ints[o]?n.ints[o]=t.longs===String?String(e.ints[o]):e.ints[o]:n.ints[o]=t.longs===String?a.Long.prototype.toString.call(e.ints[o]):t.longs===Number?new a.LongBits(e.ints[o].low>>>0,e.ints[o].high>>>0).toNumber():e.ints[o];if(e.strings&&e.strings.length)for(n.strings=[],o=0;o<e.strings.length;++o)n.strings[o]=t.bytes===String?a.base64.encode(e.strings[o],0,e.strings[o].length):t.bytes===Array?Array.prototype.slice.call(e.strings[o]):e.strings[o];if(e.tensors&&e.tensors.length)for(n.tensors=[],o=0;o<e.tensors.length;++o)n.tensors[o]=s.onnx.TensorProto.toObject(e.tensors[o],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],o=0;o<e.graphs.length;++o)n.graphs[o]=s.onnx.GraphProto.toObject(e.graphs[o],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?s.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t}(),e}(),n.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&s.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.ValueInfoProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.type=s.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=s.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!a.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof s.onnx.ValueInfoProto)return e;var t=new s.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=s.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=s.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),n.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=a.emptyArray,e.prototype.output=a.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=a.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)s.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.NodeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(s.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!a.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!a.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!a.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!a.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=s.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!a.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof s.onnx.NodeProto)return e;var t=new s.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=s.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r]}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=s.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),n.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.irVersion=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=a.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&s.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)s.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)s.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.ModelProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(s.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=s.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(s.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(a.isInteger(e.irVersion)||e.irVersion&&a.isInteger(e.irVersion.low)&&a.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=s.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!a.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!a.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!a.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(a.isInteger(e.modelVersion)||e.modelVersion&&a.isInteger(e.modelVersion.low)&&a.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!a.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=s.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=s.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},e.fromObject=function(e){if(e instanceof s.onnx.ModelProto)return e;var t=new s.onnx.ModelProto;if(null!=e.irVersion&&(a.Long?(t.irVersion=a.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new a.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=s.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(a.Long?(t.modelVersion=a.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new a.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=s.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=s.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[]),t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.irVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",a.Long?(r=new a.Long(0,0,!1),n.modelVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?a.Long.prototype.toString.call(e.irVersion):t.longs===Number?new a.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?a.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new a.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=s.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var o=0;o<e.opsetImport.length;++o)n.opsetImport[o]=s.onnx.OperatorSetIdProto.toObject(e.opsetImport[o],t)}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],o=0;o<e.metadataProps.length;++o)n.metadataProps[o]=s.onnx.StringStringEntryProto.toObject(e.metadataProps[o],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),n.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.StringStringEntryProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!a.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!a.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof s.onnx.StringStringEntryProto)return e;var t=new s.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),n.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)s.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.TensorAnnotation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(s.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!a.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=s.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(e){if(e instanceof s.onnx.TensorAnnotation)return e;var t=new s.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=s.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=s.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),n.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=a.emptyArray,e.prototype.name="",e.prototype.initializer=a.emptyArray,e.prototype.docString="",e.prototype.input=a.emptyArray,e.prototype.output=a.emptyArray,e.prototype.valueInfo=a.emptyArray,e.prototype.quantizationAnnotation=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)s.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)s.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)s.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)s.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)s.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)s.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.GraphProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(s.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(s.onnx.TensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(s.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(s.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(s.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(s.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=s.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=s.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!a.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=s.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=s.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=s.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=s.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},e.fromObject=function(e){if(e instanceof s.onnx.GraphProto)return e;var t=new s.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=s.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=s.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=s.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=s.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=s.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=s.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=s.onnx.NodeProto.toObject(e.node[r],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=s.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=s.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=s.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=s.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=s.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),n.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dims=a.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=a.emptyArray,e.prototype.int32Data=a.emptyArray,e.prototype.stringData=a.emptyArray,e.prototype.int64Data=a.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=a.newBuffer([]),e.prototype.externalData=a.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=a.emptyArray,e.prototype.uint64Data=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&s.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)s.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.TensorProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=s.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(s.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(a.isInteger(e.dims[t])||e.dims[t]&&a.isInteger(e.dims[t].low)&&a.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!a.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=s.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!a.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||a.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(a.isInteger(e.int64Data[t])||e.int64Data[t]&&a.isInteger(e.int64Data[t].low)&&a.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!a.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||a.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=s.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(a.isInteger(e.uint64Data[t])||e.uint64Data[t]&&a.isInteger(e.uint64Data[t].low)&&a.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof s.onnx.TensorProto)return e;var t=new s.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)a.Long?(t.dims[n]=a.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new a.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=s.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?a.base64.decode(e.stringData[n],t.stringData[n]=a.newBuffer(a.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)a.Long?(t.int64Data[n]=a.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new a.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?a.base64.decode(e.rawData,t.rawData=a.newBuffer(a.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=s.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)a.Long?(t.uint64Data[n]=a.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new a.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=a.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?a.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new a.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=s.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?a.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?a.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new a.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?a.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?a.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new a.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=s.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?s.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.begin=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.end=a.Long?a.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.TensorProto.Segment;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(a.isInteger(e.begin)||e.begin&&a.isInteger(e.begin.low)&&a.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(a.isInteger(e.end)||e.end&&a.isInteger(e.end.low)&&a.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof s.onnx.TensorProto.Segment)return e;var t=new s.onnx.TensorProto.Segment;return null!=e.begin&&(a.Long?(t.begin=a.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new a.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(a.Long?(t.end=a.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new a.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.begin=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.begin=t.longs===String?"0":0;a.Long?(r=new a.Long(0,0,!1),n.end=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?a.Long.prototype.toString.call(e.begin):t.longs===Number?new a.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?a.Long.prototype.toString.call(e.end):t.longs===Number?new a.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e}(),n.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)s.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.TensorShapeProto;e.pos<n;){var i=e.uint32();i>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(s.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=s.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},e.fromObject=function(e){if(e instanceof s.onnx.TensorShapeProto)return e;var t=new s.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=s.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=s.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.dimValue=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:a.oneOfGetter(t=["dimValue","dimParam"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.TensorShapeProto.Dimension;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(a.isInteger(e.dimValue)||e.dimValue&&a.isInteger(e.dimValue.low)&&a.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!a.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!a.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof s.onnx.TensorShapeProto.Dimension)return e;var t=new s.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(a.Long?(t.dimValue=a.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new a.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?a.Long.prototype.toString.call(e.dimValue):t.longs===Number?new a.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),n.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:a.oneOfGetter(t=["tensorType"]),set:a.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&s.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.TypeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorType=s.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=s.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!a.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof s.onnx.TypeProto)return e;var t=new s.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=s.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=s.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&s.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.TypeProto.Tensor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=s.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!a.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=s.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof s.onnx.TypeProto.Tensor)return e;var t=new s.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=s.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=s.onnx.TensorShapeProto.toObject(e.shape,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),n.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.domain="",e.prototype.version=a.Long?a.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.onnx.OperatorSetIdProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!a.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(a.isInteger(e.version)||e.version&&a.isInteger(e.version.low)&&a.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof s.onnx.OperatorSetIdProto)return e;var t=new s.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(a.Long?(t.version=a.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new a.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",a.Long){var r=new a.Long(0,0,!1);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?a.Long.prototype.toString.call(e.version):t.longs===Number?new a.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),n}(),e.exports=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=t.WebGLReshape=void 0;var i=n(37),a=n(0),s=n(50),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=a.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return[c(e,t[0],n)]},t}(i.Reshape);function c(e,t,n){var r=e.getOrCreateTextureData(t),o=n;4===r.channels&&(o=s.getPackedShape(n));var i={channels:r.channels,height:r.height,width:r.width,shape:0!==o.length?o:[1],strides:a.ShapeUtil.computeStrides(o),unpackedShape:n};return e.createSharedTextureData(i,t.type,r.texture,t.dataId).tensor}t.WebGLReshape=u,t.reshape=c},function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(e,t){if(t.endsWith("+")){var n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e}if(2===t.split("-").length){var r=t.split("-"),o=(n=Number.parseInt(r[0],10),Number.parseInt(r[1],10));return!isNaN(n)&&!isNaN(o)&&n<=e&&e<=o}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,n){var i,a,s,u;try{for(var c=r(n),l=c.next();!l.done;l=c.next()){var d=l.value,p=d[0],h=d[1],f=d[2],g=d[3];if(e.opType===p)try{for(var m=(s=void 0,r(t)),y=m.next();!y.done;y=m.next()){var v=y.value;if((v.domain===h||"ai.onnx"===v.domain&&""===h)&&o(v.version,f))return g(e)}}catch(e){s={error:e}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}throw new TypeError("cannot resolve operator '"+e.opType+"' with opsets: "+t.map((function(e){return(e.domain||"ai.onnx")+" v"+e.version})).join(", "))}},function(e,t,n){(function(e){var r=n(59),o=n(60),i=n(61);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var d=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return z(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return w(e,t,n,r)}function I(e,t,n,r){return z(G(t),e,n,r)}function x(e,t,n,r){return z(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){i=c[d],a=l[d];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:B(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(8))},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function o(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=o;var i={},a={};function s(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=c(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function u(e,t){if(isNaN(e))return t?v:y;if(t){if(e<0)return v;if(e>=f)return I}else{if(e<=-g)return x;if(e+1>=g)return S}return e<0?u(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=u,r.fromBits=c;var l=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var o=u(l(n,8)),i=y,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+s),n);if(s<8){var p=u(l(n,s));i=i.mul(p).add(u(c))}else i=(i=i.mul(o)).add(u(c))}return i.unsigned=t,i}function p(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?d(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=p;var h=4294967296,f=h*h,g=f/2,m=s(1<<24),y=s(0);r.ZERO=y;var v=s(0,!0);r.UZERO=v;var b=s(1);r.ONE=b;var _=s(1,!0);r.UONE=_;var w=s(-1);r.NEG_ONE=w;var S=c(-1,2147483647,!1);r.MAX_VALUE=S;var I=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=I;var x=c(0,-2147483648,!1);r.MIN_VALUE=x;var E=r.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=u(l(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),c=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return o(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(o(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(b)},E.neg=E.negate,E.add=function(e){o(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,l=0,d=0,h=0,f=0;return h+=(f+=i+(65535&e.low))>>>16,d+=(h+=r+u)>>>16,l+=(d+=n+s)>>>16,l+=t+a,c((h&=65535)<<16|(f&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},E.subtract=function(e){return o(e)||(e=p(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return y;if(o(e)||(e=p(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(x))return e.isOdd()?x:y;if(e.eq(x))return this.isOdd()?x:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,d=e.low>>>16,h=65535&e.low,f=0,g=0,v=0,b=0;return v+=(b+=a*h)>>>16,g+=(v+=i*h)>>>16,v&=65535,g+=(v+=a*d)>>>16,f+=(g+=r*h)>>>16,g&=65535,f+=(g+=i*d)>>>16,g&=65535,f+=(g+=a*l)>>>16,f+=t*h+r*d+i*l+a*s,c((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(o(e)||(e=p(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return _;i=v}else{if(this.eq(x))return e.eq(b)||e.eq(w)?x:e.eq(x)?b:(t=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:w:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(x))return this.unsigned?v:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=y}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:l(2,a-48),d=u(t),h=d.mul(e);h.isNegative()||h.gt(r);)h=(d=u(t-=s,this.unsigned)).mul(e);d.isZero()&&(d=b),i=i.add(d),r=r.sub(h)}return i},E.div=E.divide,E.modulo=function(e){return o(e)||(e=p(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return c(~this.low,~this.high,this.unsigned)},E.and=function(e){return o(e)||(e=p(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return o(e)||(e=p(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return o(e)||(e=p(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BatchNormalization=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.epsilon=e.getFloat("epsilon",1e-5),this.momentum=e.getFloat("momentum",.9),this.spatial=e.getInt("spatial",1)},e.prototype.checkInputs=function(e){return!(!e||5!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4];return!(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length||n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1]||"float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==i.type&&"float64"!==i.type)},e}();t.BatchNormalization=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryOp=void 0;var r=function(){function e(e,t,n){this.typeConstraint=e,this.opType=t,this.resultType=n}return e.prototype.initialize=function(e){},e.prototype.checkInputs=function(e){return!(!e||2!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return-1!==this.typeConstraint.indexOf(e[0].type)&&e[0].type===e[1].type},e}();t.BinaryOp=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Conv=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.autoPad=e.getString("auto_pad","NOTSET"),this.dilations=e.getInts("dilations",[1,1]),this.group=e.getInt("group",1),this.kernelShape=e.getInts("kernel_shape",[]),this.pads=e.getInts("pads",[0,0,0,0]),this.strides=e.getInts("strides",[1,1])},e.prototype.checkInputs=function(e){if(!e||2!==e.length&&3!==e.length)return!1;if(4!==e[0].dims.length||4!==e[1].dims.length)return!1;if(e[0].dims[1]!==e[1].dims[1]*this.group)return!1;if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))return!1;var t=e[0].dims.length-2;return this.dilations.length===t&&this.strides.length===t&&this.pads.length===2*t&&(0===this.kernelShape.length||this.kernelShape.length===e[1].dims.length-2)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type&&"float32"===e[1].type&&(3!==e.length||"float32"===e[2].type)},e}();t.Conv=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.matMul2d=t.matMul=t.CpuMatMul=void 0;var a=n(18),s=n(1),u=n(0),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[l(t[0],t[1])]},t}(a.MatMul);function l(e,t){var n=i(u.MatMulUtil.preprocessInputShapes(e.dims,t.dims),2),r=n[0],o=n[1],a=[r[r.length-2],o[o.length-1]],c=u.BroadcastUtil.calcShape(r,o,!0);if(!c)throw new Error("input dimensions do not match the requirement");for(var l=u.ShapeUtil.size(c)/(a[0]*a[1]),p=new s.Tensor(c,"float64"===e.type||"float64"===t.type?"float64":"float32"),h=0,f=new Array(c.length),g=new Array(e.dims.length),m=new Array(t.dims.length),y=0;y<l;y++){f[c.length-2]=0,f[c.length-1]=0;for(var v=y,b=c.length-3;b>=0;b--)f[b]=v%c[b],v=Math.floor(v/c[b]);u.BroadcastUtil.fillIndex(f,e.dims,g),u.BroadcastUtil.fillIndex(f,t.dims,m);var _=g.length<=2?0:u.ShapeUtil.indicesToOffset(g,e.strides,c.length-2),w=m.length<=2?0:u.ShapeUtil.indicesToOffset(m,t.strides,c.length-2);d(e.floatData.subarray(_),t.floatData.subarray(w),p.floatData.subarray(h),!1,!1,1,0,a[0],a[1],r[r.length-1]),h+=a[0]*a[1]}return p}function d(e,t,n,r,o,i,a,s,u,c){return r&&o?function(e,t,n,r,o,i,a,s){for(var u=0,c=0,l=0,d=0;d<i;d++){for(var p=0;p<a;p++){for(var h=0,f=0;f<s;f++)h+=e[u]*t[c],u+=i,c+=1;u-=i*s,c-=s,n[l]=r*h+o*n[l],l++,c+=s}c-=a*s,u++}}(e,t,n,i,a,s,u,c):r?function(e,t,n,r,o,i,a,s){for(var u=0,c=0,l=0,d=0;d<i;d++){for(var p=0;p<a;p++){for(var h=0,f=0;f<s;f++)h+=e[u]*t[c],u+=i,c+=a;u-=i*s,c-=a*s,n[l]=r*h+o*n[l],l++,c++}c-=a,u++}}(e,t,n,i,a,s,u,c):o?function(e,t,n,r,o,i,a,s){for(var u=0,c=0,l=0,d=0;d<i;d++){for(var p=0;p<a;p++){for(var h=0,f=0;f<s;f++)h+=e[u]*t[c],u+=1,c+=1;u-=s,c-=s,n[l]=r*h+o*n[l],l++,c+=s}c-=a*s,u+=s}}(e,t,n,i,a,s,u,c):function(e,t,n,r,o,i,a,s){for(var u=0,c=0,l=0,d=0;d<i;d++){for(var p=0;p<a;p++){for(var h=0,f=0;f<s;f++)h+=e[u]*t[c],u+=1,c+=a;u-=s,c-=a*s,n[l]=r*h+o*n[l],l++,c++}c-=a,u+=s}}(e,t,n,i,a,s,u,c)}t.CpuMatMul=c,t.matMul=l,t.matMul2d=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MatMul=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){},e.prototype.checkInputs=function(e){return!(!e||2!==e.length)&&e[0].dims[e[0].dims.length-1]===e[1].dims[e[1].dims.length-2]&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return!("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||e[0].type!==e[1].type)},e}();t.MatMul=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Gemm=void 0;var r=function(){function e(e){this.isOptionalC=e}return e.prototype.initialize=function(e){this.transA=0!==e.getInt("transA",0),this.transB=0!==e.getInt("transB",0),this.alpha=e.getFloat("alpha",1),this.beta=e.getFloat("beta",1)},e.prototype.checkInputs=function(e){return!!e&&(!this.isOptionalC||!(e.length<2||e.length>3))&&!(!this.isOptionalC&&3!==e.length)&&(3!==e.length||1===e[2].dims.length||2===e[2].dims.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return!("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type||e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)},e}();t.Gemm=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceNormalization=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.epsilon=e.getFloat("epsilon",1e-5)},e.prototype.checkInputs=function(e){return!(!e||3!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){var t=e[0],n=e[1],r=e[2];return!(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||"float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)},e}();t.InstanceNormalization=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalMaxPool=t.MaxPool=t.GlobalAveragePool=t.AveragePool=void 0;var i=function(){function e(){}return e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.initialize=function(e){if(this.autoPad=e.getString("auto_pad","NOTSET"),this.kernelShape=e.getInts("kernel_shape"),this.strides=e.getInts("strides",[]),this.pads=e.getInts("pads",[]),this.countIncludePad=0!==e.getInt("count_include_pad",0),this.ceilMode=e.getInt("ceil_mode",0),0!==this.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool")},t}(i);t.AveragePool=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.initialize=function(e){this.countIncludePad=0!==e.getInt("count_include_pad",0)},t}(i);t.GlobalAveragePool=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.initialize=function(e){if(this.autoPad=e.getString("auto_pad","NOTSET"),this.kernelShape=e.getInts("kernel_shape"),this.strides=e.getInts("strides",[]),this.pads=e.getInts("pads",[]),this.ceilMode=e.getInt("ceil_mode",0),this.storageOrder=e.getInt("storage_order",0),0!==this.storageOrder)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==this.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool")},t}(i);t.MaxPool=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.initialize=function(e){},t}(i);t.GlobalMaxPool=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Softmax=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.axis=e.getInt("axis",1)},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Softmax=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sum=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){},e.prototype.checkInputs=function(e){if(!e||0===e.length)return!1;for(var t=e[0].dims.length,n=1;n<e.length;n++){if(t!==e[n].dims.length)return!1;for(var r=0;r<t;r++)if(e[0].dims[r]!==e[n].dims[r])return!1}return this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){if("float32"!==e[0].type&&"float64"!==e[0].type)return!1;for(var t=1;t<e.length;t++)if(e[0].type!==e[t].type)return!1;return!0},e}();t.Sum=r},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;var a=i(n(46)),s=i(n(26));t.env=new function(){this.onnx=s,this.backend=s.backend,this.platform=a,this.debug=!1}},function(e,t,n){(function(t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=(this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t})(n(53)),a=i;("undefined"!=typeof self?self:t).onnx=a,e.exports=i}).call(this,n(8))},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CPU_OP_RESOLVE_RULES=void 0;var a=n(7),s=n(57),u=n(77),c=n(78),l=n(79),d=n(80),p=n(81),h=n(82),f=n(83),g=n(84),m=n(85),y=n(86),v=n(87),b=n(17),_=n(89),w=n(90),S=i(n(91)),I=n(92),x=n(93),E=n(94),k=n(95),T=n(96),A=n(97),C=n(98),O=i(n(42)),P=n(42),R=n(99),N=n(100);t.CPU_OP_RESOLVE_RULES=[["Abs","","6+",function(){return new P.CpuUnaryOp(a.NUMBER_TYPES,O.abs)}],["Acos","","7+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.acos)}],["Acosh","","9+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.acosh)}],["Add","","7+",function(){return new c.CpuBinaryOp(a.NUMBER_TYPES,(function(e,t){return e+t}))}],["And","","7+",function(){return new c.CpuBinaryOp(["bool"],(function(e,t){return e&&t}))}],["ArgMax","","1-11",function(){return new s.CpuArgMax}],["Asin","","7+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.asin)}],["Asinh","","9+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.asinh)}],["Atan","","7+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.atan)}],["Atanh","","9+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.atanh)}],["AveragePool","","7-10",function(){return new w.CpuAveragePool}],["BatchNormalization","","7+",function(){return new u.CpuBatchNormalization}],["Ceil","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.ceil)}],["Clip","","6-10",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.clip,O.clipInitializer)}],["Concat","","4+",function(){return new l.CpuConcat}],["Conv","","1+",function(){return new d.CpuConv}],["Cos","","7+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.cos)}],["Cosh","","9+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.cosh)}],["Div","","7+",function(){return new c.CpuBinaryOp(a.NUMBER_TYPES,(function(e,t){return e/t}))}],["Dropout","","7+",function(){return new p.CpuDropout}],["Elu","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.elu,O.eluInitializer)}],["Exp","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.exp)}],["Flatten","","1+",function(){return new h.CpuFlatten}],["Floor","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.floor)}],["Gather","","1+",function(){return new f.CpuGather}],["Gemm","","7-10",function(){return new g.CpuGemm(!1)}],["Gemm","","11+",function(){return new g.CpuGemm(!0)}],["GlobalAveragePool","","1+",function(){return new w.CpuGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new w.CpuGlobalMaxPool}],["ImageScaler","","1+",function(){return new m.CpuImageScaler}],["InstanceNormalization","","6+",function(){return new y.CpuInstanceNormalization}],["IsNaN","","9+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.isNan,void 0,"bool")}],["LeakyRelu","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.leakyRelu,O.leakyReluInitializer)}],["Log","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.log)}],["LRN","","1+",function(){return new v.CpuLrn}],["MatMul","","1+",function(){return new b.CpuMatMul}],["MaxPool","","1-9",function(){return new w.CpuMaxPool}],["Mul","","7+",function(){return new c.CpuBinaryOp(a.NUMBER_TYPES,(function(e,t){return e*t}))}],["Neg","","6+",function(){return new P.CpuUnaryOp(a.NUMBER_TYPES,O.neg)}],["Not","","1+",function(){return new P.CpuUnaryOp(["bool"],O.not,void 0,"bool")}],["Or","","7+",function(){return new c.CpuBinaryOp(["bool"],(function(e,t){return e||t}))}],["PRelu","","7+",function(){return new c.CpuBinaryOp(a.NUMBER_TYPES,(function(e,t){return e>=0?e:e*t}))}],["Pad","","2-10",function(){return new _.CpuPad}],["Reciprocal","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.reciprocal)}],["ReduceLogSum","","1+",function(){return new S.CpuReduceLogSum}],["ReduceMax","","1+",function(){return new S.CpuReduceMax}],["ReduceMean","","1+",function(){return new S.CpuReduceMean}],["ReduceMin","","1+",function(){return new S.CpuReduceMin}],["ReduceProd","","1+",function(){return new S.CpuReduceProd}],["ReduceSum","","1+",function(){return new S.CpuReduceSum}],["ReduceSumSquare","","1+",function(){return new S.CpuReduceSumSquare}],["Relu","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.relu)}],["Reshape","","5+",function(){return new I.CpuReshape}],["Sigmoid","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.sigmoid)}],["Sign","","9+",function(){return new P.CpuUnaryOp(a.NUMBER_TYPES,O.sign)}],["Sin","","7+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.sin)}],["Sinh","","9+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.sinh)}],["Slice","","10+",function(){return new x.CpuSliceV10}],["Slice","","1-9",function(){return new x.CpuSlice}],["Softmax","","1+",function(){return new E.CpuSoftmax}],["Sqrt","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.sqrt)}],["Squeeze","","1+",function(){return new k.CpuSqueeze}],["Sub","","7+",function(){return new c.CpuBinaryOp(a.NUMBER_TYPES,(function(e,t){return e-t}))}],["Sum","","6+",function(){return new T.CpuSum}],["Tan","","7+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.tan)}],["Tanh","","6+",function(){return new P.CpuUnaryOp(a.FLOAT_TYPES,O.tanh)}],["Tile","","6+",function(){return new A.CpuTile}],["Transpose","","1+",function(){return new C.CpuTranspose}],["Unsqueeze","","1+",function(){return new R.CpuUnsqueeze}],["Upsample","","7-8",function(){return new N.CpuUpsample}],["Xor","","7+",function(){return new c.CpuBinaryOp(["bool"],(function(e,t){return e^t}))}]]},function(e,t,n){e.exports=d;var r,o=n(6),i=o.LongBits,a=o.base64,s=o.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=p(),d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},f.prototype=Object.create(u.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=p(),r._configure()}},function(e,t,n){e.exports=u;var r,o=n(6),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},d=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}u.create=d(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=d(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Concat=void 0;var o=function(){function e(){}return e.prototype.initialize=function(e){this.axis=e.getInt("axis")},e.prototype.checkInputs=function(e){return!(!e||e.length<1)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){var t,n,o=e[0].type,i=e[0].dims.length;if("string"===o)return!1;try{for(var a=r(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.type!==o)return!1;if(u.dims.length!==i)return!1}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},e}();t.Concat=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Dropout=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.ratio=e.getFloat("ratio",.5),this.testMode=!0},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Dropout=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Flatten=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.axis=e.getInt("axis",1)},e.prototype.checkInputs=function(e){if(!e||1!==e.length)return!1;var t=e[0].dims.length;return 0!==t&&!(this.axis<-t||this.axis>t)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"string"!==e[0].type},e}();t.Flatten=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Gather=void 0;var r=n(7),o=function(){function e(){}return e.prototype.initialize=function(e){this.axis=e.getInt("axis",0)},e.prototype.checkInputs=function(e){if(!e||2!==e.length)return!1;var t=e[0].dims.length;return!(t<1)&&!(this.axis<-t||this.axis>t-1)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return-1!==r.NUMBER_TYPES.indexOf(e[0].type)&&("int32"===e[1].type||"int16"===e[1].type)},e}();t.Gather=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ImageScaler=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.scale=e.getFloat("scale"),this.bias=e.getFloats("bias")},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&4===e[0].dims.length&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.ImageScaler=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Pad=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.mode=e.getString("mode","constant"),this.value=e.getFloat("value",0),this.pads=e.getInts("pads")},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Pad=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ReduceBase=void 0;var r=n(7),o=function(){function e(){}return e.prototype.initialize=function(e){this.axes=e.getInts("axes",[]),this.keepDims=1===e.getInt("keepdims",1)},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return-1!==r.NUMBER_TYPES.indexOf(e[0].type)},e}();t.ReduceBase=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Reshape=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){},e.prototype.checkInputs=function(e){return!(!e||2!==e.length||1!==e[1].dims.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return("float32"===e[0].type||"float64"===e[0].type)&&"int32"===e[1].type},e}();t.Reshape=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliceV10=t.Slice=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.starts=e.getInts("starts"),this.ends=e.getInts("ends"),this.axes=e.getInts("axes",[])},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Slice=r;var o=function(){function e(){}return e.prototype.initialize=function(e){},e.prototype.checkInputs=function(e){return!(!e||e.length<3||e.length>5)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return!("int32"!==e[1].type||1!==e[1].dims.length||"int32"!==e[2].type||1!==e[2].dims.length||e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length)||e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))},e}();t.SliceV10=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Squeeze=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.axes=e.getInts("axes")},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"string"!==e[0].type},e}();t.Squeeze=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Tile=void 0;var r=n(7),o=function(){function e(){}return e.prototype.initialize=function(e){},e.prototype.checkInputs=function(e){return!(!e||2!==e.length)&&1===e[1].dims.length&&e[1].dims[0]===e[0].dims.length&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return-1!==r.NUMBER_TYPES.indexOf(e[0].type)&&("int32"===e[1].type||"int16"===e[1].type)},e}();t.Tile=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Transpose=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.perm=e.getInts("perm",[])},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Transpose=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sinh=t.sin=t.sign=t.sigmoid=t.relu=t.reciprocal=t.not=t.neg=t.log=t.leakyRelu=t.leakyReluInitializer=t.isNan=t.floor=t.exp=t.elu=t.eluInitializer=t.cosh=t.cos=t.clip=t.clipInitializer=t.ceil=t.atanh=t.atan=t.asinh=t.asin=t.acosh=t.acos=t.abs=t.unaryOp=t.CpuUnaryOp=void 0;var i=n(43),a=n(1),s=function(e){function t(t,n,r,o){var i=e.call(this,t,o)||this;return i.func=n,i.attributesInitializer=r,i}return o(t,e),t.prototype.initialize=function(e){this.attributesInitializer&&(this.attributes=this.attributesInitializer(e))},t.prototype.run=function(e,t){return[u(t[0],this.func,this.attributes,this.resultType)]},t}(i.UnaryOp);function u(e,t,n,r){var o=new a.Tensor(e.dims,r||e.type);return t(e.data,o.data,n),o}t.CpuUnaryOp=s,t.unaryOp=u,t.abs=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.abs(e[n])},t.acos=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.acos(e[n])},t.acosh=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.acosh(e[n])},t.asin=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.asin(e[n])},t.asinh=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.asinh(e[n])},t.atan=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.atan(e[n])},t.atanh=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.atanh(e[n])},t.ceil=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.ceil(e[n])},t.clipInitializer=function(e){return{min:e.getFloat("min",-34028234663852886e22),max:e.getFloat("max",34028234663852886e22)}},t.clip=function(e,t,n){for(var r=n.min,o=n.max,i=0;i<e.length;i++){var a=e[i];t[i]=a<r?r:a>o?o:a}},t.cos=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.cos(e[n])},t.cosh=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.cosh(e[n])},t.eluInitializer=function(e){return e.getFloat("alpha",1)},t.elu=function(e,t,n){for(var r=n,o=0;o<e.length;o++){var i=e[o];t[o]=i>=0?i:r*(Math.exp(i)-1)}},t.exp=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.exp(e[n])},t.floor=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.floor(e[n])},t.isNan=function(e,t){for(var n=0;n<e.length;n++)t[n]=Number.isNaN(e[n])?1:0},t.leakyReluInitializer=function(e){return e.getFloat("alpha",.01)},t.leakyRelu=function(e,t,n){for(var r=n,o=0;o<e.length;o++){var i=e[o];t[o]=i>=0?i:r*i}},t.log=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.log(e[n])},t.neg=function(e,t){for(var n=0;n<e.length;n++)t[n]=-e[n]},t.not=function(e,t){for(var n=0;n<e.length;n++)t[n]=e[n]?0:1},t.reciprocal=function(e,t){for(var n=0;n<e.length;n++)t[n]=1/e[n]},t.relu=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.max(0,e[n])},t.sigmoid=function(e,t){for(var n=0;n<e.length;n++)t[n]=1/(1+Math.exp(-e[n]))},t.sign=function(e,t){for(var n=0;n<e.length;n++)t[n]=e[n]>0?1:e[n]<0?-1:0},t.sin=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.sin(e[n])},t.sinh=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.sinh(e[n])},t.sqrt=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.sqrt(e[n])},t.tan=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.tan(e[n])},t.tanh=function(e,t){for(var n=0;n<e.length;n++)t[n]=Math.tanh(e[n])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UnaryOp=void 0;var r=function(){function e(e,t){this.typeConstraint=e,this.resultType=t}return e.prototype.initialize=function(e){},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return-1!==this.typeConstraint.indexOf(e[0].type)},e}();t.UnaryOp=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Unsqueeze=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.axes=e.getInts("axes")},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"string"!==e[0].type},e}();t.Unsqueeze=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Upsample=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){if(this.mode=e.getString("mode","nearest"),this.scales=e.getFloats("scales"),"nearest"!==this.mode&&"linear"!==this.mode)throw new Error("unrecognized mode: "+this.mode);if("linear"===this.mode&&2!==this.scales.length&&4!==this.scales.length)throw new Error("only support 2-D or 4-D upsampling for linear mode");this.roi=new Array(2*this.scales.length).fill(0)},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&e[0].dims.length===this.scales.length&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"string"!==e[0].type},e}();t.Upsample=r},function(e,t,n){(function(e,r){var o;(function(){var i={function:!0,object:!0},a=i[typeof self]&&self||this,s=i[typeof t]&&t,u=i[typeof e]&&e&&!e.nodeType&&e,c=s&&u&&"object"==typeof r&&r;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);var l=Math.pow(2,53)-1,d=/\bOpera/,p=Object.prototype,h=p.hasOwnProperty,f=p.toString;function g(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=w(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:g(e)}function y(e,t){for(var n in e)h.call(e,n)&&t(e[n],n,e)}function v(e){return null==e?g(e):f.call(e).slice(8,-1)}function b(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function _(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=l)for(;++n<r;)t(e[n],n);else y(e,t)}(e,(function(r,o){n=t(n,r,o,e)})),n}function w(e){return String(e).replace(/^ +| +$/g,"")}var S=function e(t){var n=a,r=t&&"object"==typeof t&&"String"!=v(t);r&&(n=t,t=null);var o=n.navigator||{},i=o.userAgent||"";t||(t=i);var s,u,c,l,p,h=r?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(f.toString()),g=r?"Object":"ScriptBridgingProxyObject",S=r?"Object":"Environment",I=r&&n.java?"JavaPackage":v(n.java),x=r?"Object":"RuntimeObject",E=/\bJava/.test(I)&&n.java,k=E&&v(n.environment)==S,T=E?"a":"",A=E?"b":"",C=n.document||{},O=n.operamini||n.opera,P=d.test(P=r&&O?O["[[Class]]"]:v(O))?P:O=null,R=t,N=[],D=null,M=t==i,j=M&&O&&"function"==typeof O.version&&O.version(),L=_([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})),U=_(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})),F=z([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=_({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,n,r){return e||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+b(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r})),G=_(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}));function z(e){return _(e,(function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function W(e){return _(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(L&&(L=[L]),/\bAndroid\b/.test(G)&&!F&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(F=w(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),B&&!F?F=z([B]):B&&F&&(F=F.replace(RegExp("^("+b(B)+")[-_.\\s]","i"),B+" ").replace(RegExp("^("+b(B)+")[-_.]?(\\w)","i"),B+" $2")),(s=/\bGoogle TV\b/.exec(F))&&(F=s[0]),/\bSimulator\b/i.test(t)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==U&&/\bOPiOS\b/.test(t)&&N.push("running in Turbo/Uncompressed mode"),"IE"==U&&/\blike iPhone OS\b/.test(t)?(B=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,F=s.product):/^iP/.test(F)?(U||(U="Safari"),G="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==U&&/^Linux\b/i.test(G)?G="Kubuntu":B&&"Google"!=B&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(F))||/\bAndroid\b/.test(G)&&/^Chrome/.test(U)&&/\bVersion\//i.test(t)?(U="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==U?(/\bMobi/i.test(t)||(G="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&N.unshift("accelerated")):"UC Browser"==U&&/\bUCWEB\b/.test(t)?N.push("speed mode"):"PaleMoon"==U&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?N.push("identifying as Firefox "+s[1]):"Firefox"==U&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(G||(G="Firefox OS"),F||(F=s[1])):!U||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(U))?(U&&!F&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(U=null),(s=F||B||G)&&(F||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:s)+" Browser")):"Electron"==U&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&N.push("Chromium "+s),j||(j=W(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",b(U),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==L&&parseFloat(j)>3?"WebKit":/\bOpera\b/.test(U)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(L)&&"WebKit"||!L&&/\bMSIE\b/i.test(t)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==L&&/\bPlayStation\b(?! Vita\b)/i.test(U)&&"NetFront")&&(L=[s]),"IE"==U&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(U+=" Mobile",G="Windows Phone "+(/\+$/.test(s)?s:s+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(U="IE Mobile",G="Windows Phone 8.x",N.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=U&&"Trident"==L&&(s=/\brv:([\d.]+)/.exec(t))&&(U&&N.push("identifying as "+U+(j?" "+j:"")),U="IE",j=s[1]),M){if(l="global",p=null!=(c=n)?typeof c[l]:"number",/^(?:boolean|number|string|undefined)$/.test(p)||"object"==p&&!c[l])v(s=n.runtime)==g?(U="Adobe AIR",G=s.flash.system.Capabilities.os):v(s=n.phantom)==x?(U="PhantomJS",j=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof C.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(j=[j,C.documentMode],(s=+s[1]+4)!=j[1]&&(N.push("IE "+j[1]+" mode"),L&&(L[1]=""),j[1]=s),j="IE"==U?String(j[1].toFixed(1)):j[0]):"number"==typeof C.documentMode&&/^(?:Chrome|Firefox)\b/.test(U)&&(N.push("masking as "+U+" "+j),U="IE",j="11.0",L=["Trident"],G="Windows");else if(E&&(R=(s=E.lang.System).getProperty("os.arch"),G=G||s.getProperty("os.name")+" "+s.getProperty("os.version")),k){try{j=n.require("ringo/engine").version.join("."),U="RingoJS"}catch(e){(s=n.system)&&s.global.system==n.system&&(U="Narwhal",G||(G=s[0].os||null))}U||(U="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(N.push("Node "+s.versions.node),U="Electron",j=s.versions.electron):"string"==typeof s.versions.nw&&(N.push("Chromium "+j,"Node "+s.versions.node),U="NW.js",j=s.versions.nw)),U||(U="Node.js",R=s.arch,G=s.platform,j=(j=/[\d.]+/.exec(s.version))?j[0]:null));G=G&&m(G)}if(j&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(M&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(D=/b/i.test(s)?"beta":"alpha",j=j.replace(RegExp(s+"\\+?$"),"")+("beta"==D?A:T)+(/\d+\+?/.exec(s)||"")),"Fennec"==U||"Firefox"==U&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(G))U="Firefox Mobile";else if("Maxthon"==U&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(G=null),"Xbox 360"==F&&/\bIEMobile\b/.test(t)&&N.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||F||/Browser|Mobi/.test(U))||"Windows CE"!=G&&!/Mobi/i.test(t))if("IE"==U&&M)try{null===n.external&&N.unshift("platform preview")}catch(e){N.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(t))&&(s=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||j)?(G=((s=[s,/BB10/.test(t)])[1]?(F=null,B="BlackBerry"):"Device Software")+" "+s[0],j=null):this!=y&&"Wii"!=F&&(M&&O||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==U&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==U&&(G&&!/^Win/.test(G)&&j>5.5||/\bWindows XP\b/.test(G)&&j>8||8==j&&!/\bTrident\b/.test(t)))&&!d.test(s=e.call(y,t.replace(d,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),d.test(U)?(/\bIE\b/.test(s)&&"Mac OS"==G&&(G=null),s="identify"+s):(s="mask"+s,U=P?m(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(G=null),M||(j=null)),L=["Presto"],N.push(s));else U+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==U&&"+"==s[1].slice(-1)?(U="WebKit Nightly",D="alpha",j=s[1].slice(0,-1)):j!=s[1]&&j!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(j=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==L&&(L=["Blink"]),M&&(h||s[1])?(L&&(L[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=L?"27":"28")):(L&&(L[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),L&&(L[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==U&&(!j||parseInt(j)>45)?j=s:"Chrome"==U&&/\bHeadlessChrome/i.test(t)&&N.unshift("headless")),"Opera"==U&&(s=/\bzbov|zvav$/.exec(G))?(U+=" ",N.unshift("desktop mode"),"zvav"==s?(U+="Mini",j=null):U+="Mobile",G=G.replace(RegExp(" *"+s+"$"),"")):"Safari"==U&&/\bChrome\b/.exec(L&&L[1])?(N.unshift("desktop mode"),U="Chrome Mobile",j=null,/\bOS X\b/.test(G)?(B="Apple",G="iOS 4.3+"):G=null):/\bSRWare Iron\b/.test(U)&&!j&&(j=W("Chrome")),j&&0==j.indexOf(s=/[\d.]+$/.exec(G))&&t.indexOf("/"+s+"-")>-1&&(G=w(G.replace(s,""))),G&&-1!=G.indexOf(U)&&!RegExp(U+" OS").test(G)&&(G=G.replace(RegExp(" *"+b(U)+" *"),"")),L&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||"Safari"!=U&&/^iOS/.test(G)&&/\bSafari\b/.test(L[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(U)&&L[1])&&(s=L[L.length-1])&&N.push(s),N.length&&(N=["("+N.join("; ")+")"]),B&&F&&F.indexOf(B)<0&&N.push("on "+B),F&&N.push((/^on /.test(N[N.length-1])?"":"on ")+F),G&&(s=/ ([\d.+]+)$/.exec(G),u=s&&"/"==G.charAt(G.length-s[0].length-1),G={architecture:32,family:s&&!u?G.replace(s[0],""):G,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(R))&&!/\bi686\b/i.test(R)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+s),"")),U&&(/\bWOW64\b/i.test(t)||M&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&N.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==U&&parseFloat(j)>=39&&(G.architecture=64),t||(t=null);var q={};return q.description=t,q.layout=L&&L[0],q.manufacturer=B,q.name=U,q.prerelease=D,q.product=F,q.ua=t,q.version=U&&j,q.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},q.parse=e,q.toString=function(){return this.description||""},q.version&&N.unshift(j),q.name&&N.unshift(U),G&&U&&(G!=String(G).split(" ")[0]||G!=U.split(" ")[0]&&!F)&&N.push(F?"("+G+")":"on "+G),N.length&&(q.description=N.join(" ")),q}();a.platform=S,void 0===(o=function(){return S}.call(t,n,t,e))||(e.exports=o)}).call(this)}).call(this,n(102)(e),n(8))},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o=function(e,t,n){return e.substr(t,n)}}).call(this,n(24))},function(e,t){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Clip=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.min=e.getFloat("min",-34028234663852886e22),this.max=e.getFloat("max",34028234663852886e22)},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Clip=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getPackedShape=void 0,t.getPackedShape=function(e){var t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)}},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;var u=n(1),c=i(n(52)),l=function(){function e(e,t,n){var r=n||[e.length];if(0===e.length)throw new RangeError("Tensor data should contain at least one element.");Array.isArray(e)&&"string"!==t?"float32"===t?this.data=Float32Array.from(e):"bool"===t?this.data=new Uint8Array(e):"int32"===t&&(this.data=Int32Array.from(e)):this.data=e,this.dims=r,this.type=t,this.internalTensor=new u.Tensor(this.dims,this.type,void 0,void 0,this.data),this.size=this.internalTensor.size}return e.prototype.get=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=[];if("number"==typeof e)o=s([e],n);else{if(!e)throw new Error("Input index array is undefined. ");o=e}if(c.validateIndices(o),o.length!==this.dims.length)throw new RangeError("Input index array dims don't match the tensor dims.");o.forEach((function(e,n){if(e>=t.dims[n])throw new RangeError("Input index array dims don't match the tensor dims.")}));var i=this.internalTensor.get(o);return"bool"===this.type?1===i:i},e.prototype.set=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];c.matchElementType(this.type,e);var i=[];if("number"==typeof t)i=s([t],r);else{if(!t)throw new Error("Input index array is undefined.");i=t}if(c.validateIndices(i),i.length!==this.dims.length)throw new RangeError("Input index array dims don't match the tensor dims.");i.forEach((function(e,t){if(e>=n.dims[t])throw new RangeError("Input index array dims don't match the tensor dims.")})),"boolean"==typeof e?this.internalTensor.set(i,e?1:0):this.internalTensor.set(i,e)},e}();t.Tensor=l},function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.validateIndices=t.matchElementType=t.toInternalTensor=t.fromInternalTensor=void 0;var o=n(1),i=n(51);t.fromInternalTensor=function(e){switch(e.type){case"bool":return new i.Tensor(new Uint8Array(e.integerData),"bool",e.dims);case"float32":return new i.Tensor(e.floatData,"float32",e.dims);case"float64":return new i.Tensor(new Float32Array(e.floatData),"float32",e.dims);case"string":return new i.Tensor(e.stringData,"string",e.dims);case"int8":return new i.Tensor(new Int32Array(e.integerData),"int32",e.dims);case"int32":return new i.Tensor(e.integerData,"int32",e.dims);default:throw new TypeError("Tensor type is not supported. ")}},t.toInternalTensor=function(e){return new o.Tensor(e.dims,e.type,void 0,void 0,e.data)},t.matchElementType=function(e,t){switch(typeof t){case"string":if("string"!==e)throw new TypeError("The new element type doesn't match the tensor data type.");break;case"number":if("float32"!==e&&"int32"!==e)throw new TypeError("The new element type doesn't match the tensor data type.");if("float32"===e&&Number.isInteger(t))throw new TypeError("The new element type doesn't match the tensor data type.");if("int32"===e&&!Number.isInteger(t))throw new TypeError("The new element type doesn't match the tensor data type.");break;case"boolean":if("bool"!==e)throw new TypeError("The new element type doesn't match the tensor data type.");break;default:throw new TypeError("The new element type is not supported.")}},t.validateIndices=function(e){var t,n;if(e.length<0||e.length>6)throw new RangeError("Only rank 0 to 6 is supported for tensor shape.");try{for(var o=r(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(!Number.isInteger(a))throw new TypeError("Invalid index: "+a+" is not an integer");if(a<0||a>2147483647)throw new TypeError("Invalid index: length "+a+" is not allowed")}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ENV=t.backend=void 0;var i=n(54),a=n(101),s=n(119),u=n(168);o(n(169),t),o(n(170),t),o(n(171),t),o(n(172),t),t.backend={cpu:new i.CpuBackend,wasm:new a.WasmBackend,webgl:new s.WebGLBackend},t.ENV=u.envImpl},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CpuBackend=void 0;var r=n(55),o=function(){function e(){}return e.prototype.initialize=function(){return!0},e.prototype.createSessionHandler=function(e){return new r.CpuSessionHandler(this,e)},e.prototype.dispose=function(){},e}();t.CpuBackend=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CpuSessionHandler=void 0;var r=n(11),o=n(56),i=n(27),a=function(){function e(e,t){this.backend=e,this.context=t}return e.prototype.createInferenceHandler=function(){return new o.CpuInferenceHandler(this,this.context.profiler)},e.prototype.dispose=function(){},e.prototype.resolve=function(e,t){var n=r.resolveOperator(e,t,i.CPU_OP_RESOLVE_RULES);return n.initialize(e.attributes),n},e}();t.CpuSessionHandler=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CpuInferenceHandler=void 0;var r=function(){function e(e,t){this.session=e,this.profiler=t}return e.prototype.dispose=function(){},e}();t.CpuInferenceHandler=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.argMax=t.CpuArgMax=void 0;var i=n(58),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],this.axis,this.keepDims)]},t}(i.ArgMax);function c(e,t,n){var r=e.dims?e.dims.length:1;t=s.ShapeUtil.normalizeAxis(t,r);for(var o=s.ReduceUtil.calcReduceShape(e.dims,[t],!0),i=e.data,u=new Int32Array(s.ShapeUtil.size(o)),c=s.ShapeUtil.sizeFromDimension(e.dims,t+1),l=s.ShapeUtil.computeStrides(o),d=s.ShapeUtil.computeStrides(e.dims),p=new Array(e.dims.length),h=0;h<u.length;h++){var f=s.ShapeUtil.offsetToIndices(h,l);s.BroadcastUtil.fillIndex(f,e.dims,p);for(var g=s.ShapeUtil.indicesToOffset(p,d),m=e.data[g],y=0,v=0;v<e.dims[t];++v){var b=i[g+v*c];b>m&&(m=b,y=v)}u[h]=y}return new a.Tensor(n?o:s.ReduceUtil.calcReduceShape(e.dims,[t],n),"int32",void 0,void 0,u)}t.CpuArgMax=u,t.argMax=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ArgMax=void 0;var r=n(7),o=function(){function e(){}return e.prototype.initialize=function(e){this.axis=e.getInt("axis",0),this.keepDims=1===e.getInt("keepdims",1)},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return-1!==r.NUMBER_TYPES.indexOf(e[0].type)},e}();t.ArgMax=o},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?o-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,d=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(63)},function(e,t,n){var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(28),r.BufferWriter=n(72),r.Reader=n(29),r.BufferReader=n(73),r.util=n(6),r.rpc=n(74),r.roots=n(76),r.configure=o,o()},function(e,t,n){e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,a(e))}}))}},function(e,t,n){var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,i=null,a=[],s=0,u=0;t<n;){var c=e[t++];switch(u){case 0:a[s++]=o[c>>2],r=(3&c)<<4,u=1;break;case 1:a[s++]=o[r|c>>4],r=(15&c)<<2,u=2;break;case 2:a[s++]=o[r|c>>6],a[s++]=o[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=o[r],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))},r.decode=function(e,t,n){for(var r,o=n,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(a){case 0:r=u,a=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,a=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,a=3;break;case 3:t[n++]=(3&r)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return n-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function n(e,t,n,r,o){var i=e(r,o+t),a=e(r,o+n),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function i(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],a=0;t<n;)(r=e[t++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(e,t,n){for(var r,o,i=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},function(e,t,n){e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return e(n);a+n>r&&(i=e(r),a=0);var s=t.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},function(e,t,n){e.exports=o;var r=n(6);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){e.exports=i;var r=n(28);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(6);function i(){r.call(this)}function a(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},function(e,t,n){e.exports=i;var r=n(29);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(6);function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,n){t.Service=n(75)},function(e,t,n){e.exports=o;var r=n(6);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){e.exports={}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.batchNormalization=t.CpuBatchNormalization=void 0;var i=n(14),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[u(t[0],t[1],t[2],t[3],t[4],this.epsilon,this.momentum,this.spatial)]},t}(i.BatchNormalization);function u(e,t,n,r,o,i,s,u){for(var c=e.dims,l=c[0],d=c[1],p=1,h=2;h<c.length;h++)p*=c[h];for(var f=new a.Tensor(e.dims,e.type),g=e.floatData,m=f.floatData,y=t.numberData,v=n.numberData,b=r.numberData,_=o.numberData,w=0;w<l*d;w++){var S=w*p;for(h=0;h<p;h++)m[S+h]=y[w%d]*((g[S+h]-b[w%d])/Math.sqrt(_[w%d]+i))+v[w%d]}return f}t.CpuBatchNormalization=s,t.batchNormalization=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CpuBinaryOp=void 0;var i=n(15),a=n(0),s=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.opLambda=n,i}return o(t,e),t.prototype.initialize=function(e){if(!this.opType&&!this.opLambda)throw new Error("Both opType and opLambda cannot be missing for a binary op");if(!this.opLambda)throw this.opType,new Error("Binary op could not be initialized. Missing op lambda.")},t.prototype.run=function(e,t){return[function(e,t,n,r,o){var i=a.BroadcastUtil.calc(e,t,n,!1,o);if(!i)throw new Error("not broadcastable");return i}(t[0],t[1],this.opLambda,0,this.resultType)]},t}(i.BinaryOp);t.CpuBinaryOp=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.CpuConcat=void 0;var u=n(30),c=n(1),l=s(n(0)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[p(t,this.axis)]},t}(u.Concat);function p(e,t){var n=e[0],r=n.dims;if(t>=r.length||t<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");t<0&&(t=r.length+t);for(var o=r[t],i=new Array(r.length),a=1;a<e.length;a++)for(var s=(m=e[a]).dims,u=0;u<r.length;u++){if(u===t)o+=s[u];else if(r[u]!==s[u])throw new Error("non concat dimensions must match");i[u]=s[u]}i[t]=o;var d=new c.Tensor(i,n.type),p=d.numberData,h=1;for(a=i.length-1;a>=t;a--)h*=i[a];for(var f=0,g=0;g<e.length;g++){var m,y=1;for(a=(m=e[g]).dims.length-1;a>=t;a--)y*=m.dims[a];for(var v=m.numberData,b=l.ShapeUtil.size(m.dims),_=f,w=(a=0,0);a<b;a++)p[_+a]=v[a],++w===y&&(_+=h-y,w=0);f+=y}return d}t.CpuConcat=d,t.concat=p},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.conv2d=t.CpuConv=void 0;var i=n(16),a=n(1),s=n(0),u=n(17),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=t[0],r=t[1],o=3===t.length?t[2]:void 0;if(0===this.kernelShape.length)for(var i=t[1].dims,u=2;u<i.length;++u)this.kernelShape.push(i[u]);var c=s.PoolConvUtil.computeConvOutputShape(n.dims,r.dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),d=new a.Tensor(c,n.type);return l(d,n,r,o,this.dilations,this.group,this.pads,this.strides),[d]},t}(i.Conv);function l(e,t,n,r,o,i,a,s){for(var c=t.dims[0],l=t.dims[1],p=t.dims[2],h=t.dims[3],f=n.dims[0],g=n.dims[1],m=n.dims[2],y=n.dims[3],v=f*g*m*y,b=[m,y],_=e.dims[0],w=e.dims[1],S=e.dims[2],I=e.dims[3],x=S*I,E=l/i*(p*h),k=_*w*S*I/_/i,T=v/i,A=l/i*(b[0]*b[1]),C=new Float32Array(A*x),O=0;O<c;++O){for(var P=0,R=0,N=0;N<i;++N)d(t.floatData.subarray(P+N*E),C,l/i,p,h,b[0],b[1],o[0],o[1],a[0],a[1],a[2],a[3],s[0],s[1]),u.matMul2d(n.floatData.subarray(N*T),C,e.floatData.subarray(R+N*k),!1,!1,1,0,f/i,x,A);P+=E*i,R+=k*i}if(r)for(var D=r.floatData,M=e.floatData,j=e.dims[0],L=e.dims[1],U=e.dims[2]*e.dims[3],F=L*U,B=0;B<j;++B)for(var G=0;G<L;++G)for(var z=B*F+G*U,W=0;W<U;++W)M[z+W]+=D[G]}function d(e,t,n,r,o,i,a,s,u,c,l,d,p,h,f){var g=1+~~((r+d+c-(s*(i-1)+1))/h),m=1+~~((o+l+p-(u*(a-1)+1))/f);if(1!==s||1!==u||0!==l||0!==p||0!==c||0!==d)for(var y=1+~~((r+c+d-(s*(i-1)+1))/h),v=1+~~((o+l+p-(u*(a-1)+1))/f),b=n*i*a,_=0;_<b;++_)for(var w=_%a,S=~~(_/a)%i,I=~~(_/(i*a)),x=0;x<y;++x)for(var E=0;E<v;++E){var k=x*h-c+S*s,T=E*f-l+w*u;t[(_*y+x)*v+E]=k>=0&&k<r&&T>=0&&T<o?e[(I*r+k)*o+T]:0}else for(var A=0;A<n*i*a;A++)for(var C=~~(A/(i*a)),O=A%(i*a),P=~~(O/a),R=O%a,N=C*(i*a*g*m)+P*(a*g*m)+R*(g*m),D=C*(r*o),M=0;M<g;M++){var j=M*h+P,L=R;if(1===f)t.set(e.subarray(D+j*o+L,D+j*o+L+m),N+M*m);else for(var U=0;U<m;U++)t[N+(M*m+U)]=e[D+(j*o+L+U*f)]}}t.CpuConv=c,t.conv2d=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.dropout=t.CpuDropout=void 0;var i=n(31),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[u(t[0],this.ratio,this.testMode)]},t}(i.Dropout);function u(e,t,n){if(!n)throw new Error("only test mode is supported");var r=new a.Tensor(e.dims,e.type),o=e.floatData;return r.numberData.set(o),r}t.CpuDropout=s,t.dropout=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=t.CpuFlatten=void 0;var i=n(32),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],this.axis)]},t}(i.Flatten);function c(e,t){var n=s.ShapeUtil.flattenShape(e.dims,t),r=new a.Tensor(n,e.type),o=e.numberData;return r.numberData.set(o),r}t.CpuFlatten=u,t.flatten=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.gather=t.CpuGather=void 0;var i=n(33),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],t[1],this.axis)]},t}(i.Gather);function c(e,t,n){n=s.ShapeUtil.normalizeAxis(n,e.dims.length);var r=e.dims.slice(),o=r.slice(),i=t.data;o[n]=i.length;for(var u=s.ShapeUtil.computeStrides(r),c=s.ShapeUtil.computeStrides(o),l=new a.Tensor(o,e.type).numberData,d=e.data,p=0;p<l.length;++p){var h=s.ShapeUtil.offsetToIndices(p,c),f=h.slice(),g=i[h[n]];f[n]=g<0?g+r[n]:g;var m=s.ShapeUtil.indicesToOffset(f,u);l[p]=d[m]}var y=r.slice(0,n).concat(t.dims).concat(r.slice(n+1));return new a.Tensor(y,e.type,void 0,void 0,l)}t.CpuGather=u,t.gather=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.gemm=t.CpuGemm=void 0;var c=n(19),l=n(1),d=s(n(0)),p=n(17),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[f(t[0],t[1],this.alpha,this.beta,this.transA,this.transB,3===t.length?t[2]:void 0)]},t}(c.Gemm);function f(e,t,n,r,o,i,a){var s=u(d.GemmUtil.getShapeOfGemmResult(e.dims,o,t.dims,i,null==a?void 0:a.dims),3),c=s[0],h=s[1],f=s[2],g=new l.Tensor([c,h],e.type);if(a&&d.BroadcastUtil.calc(g,a,(function(e,t){return t}),!0)!==g)throw new Error("tensor C is not broadcastable to [M,N]");return p.matMul2d(e.floatData,t.floatData,g.floatData,o,i,n,r,c,h,f),g}t.CpuGemm=h,t.gemm=f},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.imageScaler=t.CpuImageScaler=void 0;var a=n(34),s=n(1),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],this.bias,this.scale)]},t}(a.ImageScaler);function c(e,t,n){for(var r=i(e.dims,4),o=r[0],a=r[1],u=r[2],c=r[3],l=new s.Tensor([o,a,u,c],e.type),d=e.floatData,p=l.floatData,h=0;h<o*a;h++)for(var f=0;f<u*c;f++){var g=h*u*c+f;p[g]=d[g]*n+t[h%a]}return l}t.CpuImageScaler=u,t.imageScaler=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.instanceNormalization=t.CpuInstanceNormalization=void 0;var i=n(20),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[u(t[0],t[1],t[2],this.epsilon)]},t}(i.InstanceNormalization);function u(e,t,n,r){for(var o=e.dims,i=o[0],s=o[1],u=1,c=2;c<o.length;c++)u*=o[c];for(var l,d,p,h,f,g,m=new a.Tensor(e.dims,e.type),y=e.floatData,v=m.floatData,b=t.numberData,_=n.numberData,w=0;w<i*s;w++){for(f=(h=w*u)+u,g=w%s,l=0,c=h;c<f;++c)l+=y[c];for(d=l/u,l=0,c=h;c<f;++c)l+=Math.pow(y[c]-d,2);for(p=l/u,c=h;c<f;++c)v[c]=b[g]*((y[c]-d)/Math.sqrt(p+r))+_[g]}return m}t.CpuInstanceNormalization=s,t.instanceNormalization=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.lrn=t.CpuLrn=void 0;var u=n(88),c=n(1),l=s(n(0)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[p(t[0],this.alpha,this.beta,this.bias,this.size)]},t}(u.Lrn);function p(e,t,n,r,o){for(var i=e.dims[0],a=e.dims[1],s=e.floatData,u=1,d=2;d<e.dims.length;++d)u*=e.dims[d];var p=u*a,h=new c.Tensor(e.dims,e.type),f=new Array(l.ShapeUtil.size(e.dims));for(d=0;d<f.length;++d)f[d]=r;for(var g=new Float64Array((a+o-1)*u),m=t/o,y=(o-1)/2,v=0;v<i;++v){l.MathUtil.sqr(g,s,y*u,p*v,p);for(var b=0;b<o;++b)l.MathUtil.axpy(f,g,p*v,b*u,u,m);for(b=1;b<a;++b){var _=v*p+b*u;l.arrayCopyHelper(f,f,_,_-u,u),l.MathUtil.axpy(f,g,_,(b+o-1)*u,u,m),l.MathUtil.axpy(f,g,_,(b-1)*u,u,-m)}}return l.MathUtil.powx(f,f,0,0,l.ShapeUtil.size(e.dims),-n),l.MathUtil.mul(f,s,0,0,l.ShapeUtil.size(e.dims)),h.floatData.set(f),h}t.CpuLrn=d,t.lrn=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Lrn=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.alpha=e.getFloat("alpha",1e-4),this.beta=e.getFloat("beta",.75),this.bias=e.getFloat("bias",1),this.size=e.getInt("size")},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&!(e[0].dims.length<3)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Lrn=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.pad=t.CpuPad=void 0;var s=n(35),u=n(1),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[l(t[0],this.mode,this.value,this.pads)]},t}(s.Pad);function l(e,t,n,r){var o=e.dims,i=function(e,t){var n=Array(e.length);Object.assign(n,e);for(var r=0;r<e.length;r++)n[r]+=t[r]+t[r+n.length];return n}(o,r),a=new u.Tensor(i,e.type);switch(t){case"constant":for(var s=0;s<i.reduce((function(e,t){return e*t}),1);s++){var c=h(s,i);a.set(c,n)}for(s=0;s<o.reduce((function(e,t){return e*t}),1);s++)c=h(s,o),a.set(c.map((function(e,t){return e+r[t]})),e.get(c));break;case"reflect":for(s=0;s<i.reduce((function(e,t){return e*t}),1);s++)c=h(s,i),a.set(c,e.get(c.map((function(e,t){return d(e,r[t],o[t])}))));break;case"edge":for(s=0;s<i.reduce((function(e,t){return e*t}),1);s++)c=h(s,i),a.set(c,e.get(c.map((function(e,t){return p(e,r[t],o[t])}))));break;default:throw Error("Illegal pad mode.")}return a}function d(e,t,n){if(e<t){var r=(t-e-1)%(n-1);return 1==Math.floor((t-e-1)/(n-1))%2?n-r-2:r+1}return e<t+n?e-t:(r=(e-(t+n))%(n-1),0==Math.floor((e-(t+n))/(n-1))%2?n-r-2:r+1)}function p(e,t,n){return e<t?0:e<t+n?e-t:n-1}function h(e,t){if(e<0||t.some((function(e){return e<0})))throw Error("Array index out of range");var n=a(t);return n.reverse(),n.map((function(t,n,r){return Math.floor(e/function(e){return e.reduce((function(e,t){return e*t}),1)}(r.slice(0,n)))%t})).reverse()}t.CpuPad=c,t.pad=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.globalMaxPool=t.maxPool=t.globalAveragePool=t.averagePool=t.CpuGlobalMaxPool=t.CpuMaxPool=t.CpuGlobalAveragePool=t.CpuAveragePool=void 0;var i=n(21),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[p(t[0],this.autoPad,this.countIncludePad,this.kernelShape,this.pads,this.strides)]},t}(i.AveragePool);t.CpuAveragePool=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[h(t[0])]},t}(i.GlobalAveragePool);t.CpuGlobalAveragePool=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[f(t[0],this.autoPad,this.kernelShape,this.pads,this.strides)]},t}(i.MaxPool);t.CpuMaxPool=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[g(t[0])]},t}(i.GlobalMaxPool);function p(e,t,n,r,o,i){return m(!1,e,t,n,r,o,i,0,(function(e,t){return e+t}),(function(e,t){return e/t}))}function h(e){return m(!0,e,"NOTSET",!1,[],[],[],0,(function(e,t){return e+t}),(function(e,t){return e/t}))}function f(e,t,n,r,o){return m(!1,e,t,!1,n,r,o,Number.MIN_SAFE_INTEGER,(function(e,t){return Math.max(e,t)}),(function(e,t){return e}))}function g(e){return m(!0,e,"NOTSET",!1,[],[],[],Number.MIN_SAFE_INTEGER,(function(e,t){return Math.max(e,t)}),(function(e,t){return e}))}function m(e,t,n,r,o,i,u,c,l,d){s.PoolConvUtil.adjustPoolAttributes(e,t.dims,o,u,i);for(var p=s.PoolConvUtil.computePoolOutputShape(e,t.dims,u,o,i,n),h=s.ShapeUtil.size(o),f=s.ShapeUtil.computeStrides(o),g=f.length,m=p.length,y=s.ShapeUtil.size(p),v=new a.Tensor(p,t.type),b=s.ShapeUtil.computeStrides(p),_=0;_<y;_++){for(var w=s.ShapeUtil.offsetToIndices(_,b),S=w.slice(0),I=w.slice(0),x=0;x<g;x++)S[m-g+x]=w[m-g+x]*u[x];var E=c,k=0,T=!1;for(x=0;x<h;x++){var A=s.ShapeUtil.offsetToIndices(x,f);T=!1;for(var C=m-g;C<m;C++)if(I[C]=S[C]+A[C-m+g]-i[C-2],I[C]>=t.dims[C]||I[C]<0){k++,T=!0;break}E=T?E:l(E,t.get(I))}E=d(E,r?h:h-k),v.set(w,E)}return v}t.CpuGlobalMaxPool=d,t.averagePool=p,t.globalAveragePool=h,t.maxPool=f,t.globalMaxPool=g,t.pool=m},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.reduceProd=t.reduceMean=t.reduceMin=t.reduceMax=t.reduceLogSum=t.reduceSumSquare=t.reduceSum=t.CpuReduceProd=t.CpuReduceMean=t.CpuReduceMin=t.CpuReduceMax=t.CpuReduceLogSum=t.CpuReduceSumSquare=t.CpuReduceSum=void 0;var i=n(36),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[f(t[0],a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),this.keepDims)]},t}(i.ReduceBase);t.CpuReduceSum=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[g(t[0],a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),this.keepDims)]},t}(i.ReduceBase);t.CpuReduceSumSquare=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[m(t[0],a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),this.keepDims)]},t}(i.ReduceBase);t.CpuReduceLogSum=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[y(t[0],a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),this.keepDims)]},t}(i.ReduceBase);t.CpuReduceMax=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[v(t[0],a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),this.keepDims)]},t}(i.ReduceBase);t.CpuReduceMin=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[b(t[0],a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),this.keepDims)]},t}(i.ReduceBase);t.CpuReduceMean=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[_(t[0],a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),this.keepDims)]},t}(i.ReduceBase);function f(e,t,n){return a.ReduceUtil.calcReduce(e,t,n,(function(e){return e}),(function(e,t){return e+t}))}function g(e,t,n){return a.ReduceUtil.calcReduce(e,t,n,(function(e){return e*e}),(function(e,t){return e+t}))}function m(e,t,n){for(var r=a.ReduceUtil.calcReduce(e,t,n,(function(e){return e}),(function(e,t){return e+t})),o=r.floatData.length,i=0;i<o;i++)r.floatData[i]=Math.log(r.floatData[i]);return r}function y(e,t,n){return a.ReduceUtil.calcReduce(e,t,n,(function(e){return e}),(function(e,t){return Math.max(e,t)}))}function v(e,t,n){return a.ReduceUtil.calcReduce(e,t,n,(function(e){return e}),(function(e,t){return Math.min(e,t)}))}function b(e,t,n){for(var r=a.ReduceUtil.calcReduce(e,t,n,(function(e){return e}),(function(e,t){return e+t})),o=a.ReduceUtil.calcReduceShape(e.dims,t,n),i=a.ShapeUtil.size(e.dims)/a.ShapeUtil.size(o),s=r.floatData.length,u=0;u<s;u++)r.floatData[u]=r.floatData[u]/i;return r}function _(e,t,n){return a.ReduceUtil.calcReduce(e,t,n,(function(e){return e}),(function(e,t){return e*t}))}t.CpuReduceProd=h,t.reduceSum=f,t.reduceSumSquare=g,t.reduceLogSum=m,t.reduceMax=y,t.reduceMin=v,t.reduceMean=b,t.reduceProd=_},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=t.CpuReshape=void 0;var i=n(37),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],t[1])]},t}(i.Reshape);function c(e,t){var n=s.ShapeUtil.calculateReshapedDims(e.dims,t.integerData),r=new a.Tensor(n,e.type);return r.floatData.set(e.floatData),r}t.CpuReshape=u,t.reshape=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.slice=t.CpuSliceV10=t.CpuSlice=void 0;var i=n(38),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[l(t[0],this.starts,this.ends,this.axes)]},t}(i.Slice);t.CpuSlice=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){if(t.length>=5&&t[4].integerData.some((function(e){return 1!==e})))throw new Error("currently non-1 steps is not supported for Slice");var n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),o=t.length>=4?Array.from(t[3].integerData):[];return[l(t[0],n,r,o)]},t}(i.SliceV10);function l(e,t,n,r){0===r.length&&(r=e.dims.map((function(e,t){return t}))),r=s.ShapeUtil.normalizeAxes(r,e.dims.length),t=t.map((function(t,n){return t>e.dims[r[n]]-1?e.dims[r[n]]:s.ShapeUtil.normalizeAxis(t,e.dims[r[n]])})),n=n.map((function(t,n){return t>e.dims[r[n]]-1?e.dims[r[n]]:s.ShapeUtil.normalizeAxis(t,e.dims[r[n]])}));var o=[],i=[];r.forEach((function(e,r){o[e]=n[r]-t[r],i[e]=t[r]}));for(var u=0;u<e.dims.length;u++)o[u]=o[u]||e.dims[u],i[u]=i[u]||0;var c=s.ShapeUtil.computeStrides(o),l=s.ShapeUtil.computeStrides(e.dims?e.dims:[e.data.length]),d=e.data,p=new a.Tensor(o,e.type),h=p.data;for(u=0;u<h.length;++u){var f=s.ShapeUtil.offsetToIndices(u,c).map((function(e,t){return e+i[t]})),g=s.ShapeUtil.indicesToOffset(f,l);h[u]=d[g]}return p}t.CpuSliceV10=c,t.slice=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.softmax=t.CpuSoftmax=void 0;var u=n(22),c=n(1),l=s(n(0)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[p(t[0],this.axis)]},t}(u.Softmax);function p(e,t){var n=e.dims,r=n.length;t=l.ShapeUtil.normalizeAxis(t,r);for(var o=l.ShapeUtil.sizeToDimension(n,t),i=l.ShapeUtil.sizeFromDimension(n,t),a=e.numberData,s=new c.Tensor(e.dims,e.type),u=s.numberData,d=0;d<o;d++){for(var p=d*i,h=Number.MIN_VALUE,f=0;f<i;f++)a[p+f]>h&&(h=a[p+f]);var g=0;for(f=0;f<i;f++){var m=a[p+f]-h;u[p+f]=Math.exp(m),g+=Math.exp(m)}for(f=0;f<i;f++)0===g?u[p+f]=0:u[p+f]/=g}return s}t.CpuSoftmax=d,t.softmax=p},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.squeeze=t.CpuSqueeze=void 0;var i=n(39),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],this.axes)]},t}(i.Squeeze);function c(e,t){var n=s.ShapeUtil.squeezeShape(e.dims,t),r=new a.Tensor(n,e.type),o=e.numberData;return r.numberData.set(o),r}t.CpuSqueeze=u,t.squeeze=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.sum=t.CpuSum=void 0;var i=n(23),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[u(t)]},t}(i.Sum);function u(e){for(var t=new a.Tensor(e[0].dims,e[0].type),n=e[0].floatData.length,r=t.floatData,o=0;o<e.length;o++)for(var i=e[o].floatData,s=0;s<n;++s)r[s]+=i[s];return t}t.CpuSum=s,t.sum=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.tile=t.CpuTile=void 0;var i=n(40),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],t[1])]},t}(i.Tile);function c(e,t){for(var n=e.dims?e.dims:[e.data.length],r=n.length,o=new Array(r),i=0;i<r;i++)o[i]=n[i]*t.numberData[i];var u=s.ShapeUtil.computeStrides(n),c=s.ShapeUtil.computeStrides(o),l=new a.Tensor(o,e.type),d=l.numberData,p=e.data;for(i=0;i<d.length;++i){for(var h=s.ShapeUtil.offsetToIndices(i,c),f=new Array(r),g=0;g<r;++g)f[g]=h[g]%e.dims[g];var m=s.ShapeUtil.indicesToOffset(f,u);d[i]=p[m]}return l}t.CpuTile=u,t.tile=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.transpose=t.CpuTranspose=void 0;var i=n(41),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],this.perm)]},t}(i.Transpose);function c(e,t){var n=e.dims,r=n.length,o=new Array(r);if(t.length===r)o=t;else for(var i=0;i<r;i++)o[i]=r-i-1;var u=new Array(r),c=new Array(r);for(i=0;i<r;i++){var l=o[i];u[i]=n[l],c[i]=l+1<r?s.ShapeUtil.sizeFromDimension(n,l+1):1}var d,p,h,f=new a.Tensor(u,e.type),g=e.floatData,m=f.floatData,y=0,v=1,b=1,_=!0;for(i=r-1;i>=0;--i){var w=o[i];_&&w===i?v*=n[w]:(_=!1,b*=n[w],++y)}return 1===b?(d=v,p=m,h=g,s.arrayCopyHelper(p,h,0,0,d)):1===v?function(e,t,n,r,o,i){for(var a=new Array(e).fill(0),u=0,c=0;c<n;++c){var l=s.ShapeUtil.indicesToOffset(a,r,e);o[u++]=i[l],s.ShapeUtil.incrementIndex(a,t,e)}}(y,u,b,c,m,g):function(e,t,n,r,o,i,a){for(var u=new Array(e).fill(0),c=0,l=0;l<n;++l){var d=s.ShapeUtil.indicesToOffset(u,o,e);s.arrayCopyHelper(i,a,c,0+d,r),s.ShapeUtil.incrementIndex(u,t,e),c+=r}}(y,u,b,v,c,m,g),f}t.CpuTranspose=u,t.transpose=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.unsqueeze=t.CpuUnsqueeze=void 0;var i=n(44),a=n(1),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return[c(t[0],this.axes)]},t}(i.Unsqueeze);function c(e,t){var n=s.ShapeUtil.unsqueezeShape(e.dims,t),r=new a.Tensor(n,e.type),o=e.numberData;return r.numberData.set(o),r}t.CpuUnsqueeze=u,t.unsqueeze=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CpuUpsample=void 0;var i=n(45),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=this,r=t[0].dims,o=r.map((function(e,t){return Math.floor(e*n.scales[t])})),i=new a.Tensor(o,t[0].type);return"nearest"===this.mode?function(e,t,n,r,o){var i=n.length,a=new Array(i);a.fill(0);var s=new Array(i);s[i-1]=1;for(var c=i-2;c>=0;c--)s[c]=s[c+1]*n[c+1];var l=new Array(i);l.fill(0),l[i-1]=-1;for(var d=0,p=0;d<t.length;d++){for(var h=i-1;h>=0;h--){if(++l[h]<r[h]){var f=0,g=u(l[h],o[h]);f=Math.floor(g),(f=Math.max(0,Math.min(f,n[h]-1)))!==a[h]&&(p+=(f-a[h])*s[h],a[h]=f);break}l[h]=0,p+=(0-a[h])*s[h],a[h]=0}t[d]=e[p]}}(t[0].data,i.data,r,o,this.scales):function(e,t,n,r,o){var i=2===n.length;!function(e,t,n,r,o,i,a,s,c,l){for(var d=[],p=[],h=new Array(a),f=new Array(a),g=new Array(s),m=new Array(s),y=new Array(a),v=new Array(a),b=new Array(s),_=new Array(s),w=0;w<a;++w){var S=u(w,c);d.push(S),S=Math.max(0,Math.min(S,o-1));var I=Math.min(Math.floor(S),o-1),x=Math.min(I+1,o-1);I===x?(y[w]=.5,v[w]=.5):(y[w]=Math.abs(S-I),v[w]=Math.abs(S-x)),h[w]=i*I,f[w]=i*x}for(var E=0;E<s;++E){var k=u(E,l);p.push(k),k=Math.max(0,Math.min(k,i-1)),g[E]=Math.min(Math.floor(k),i-1),m[E]=Math.min(g[E]+1,i-1),g[E]===m[E]?(b[E]=.5,_[E]=.5):(b[E]=Math.abs(k-g[E]),_[E]=Math.abs(k-m[E]))}for(var T=0,A=0,C=0;C<n;++C)for(var O=0;O<r;++O){for(w=0;w<a;++w)for(E=0;E<s;++E){var P=e[T+h[w]+g[E]],R=e[T+h[w]+m[E]],N=e[T+f[w]+g[E]],D=e[T+f[w]+m[E]];t[A+s*w+E]=_[E]*v[w]*P+b[E]*v[w]*R+_[E]*y[w]*N+b[E]*y[w]*D}T+=o*i,A+=s*a}}(e,t,i?1:n[0],i?1:n[1],i?n[0]:n[2],i?n[1]:n[3],i?r[0]:r[2],i?r[1]:r[3],i?o[0]:o[2],i?o[1]:o[3])}(t[0].data,i.data,r,o,this.scales),[i]},t}(i.Upsample);function u(e,t){return e/t}t.CpuUpsample=s},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WasmBackend=t.bindingInitPromise=void 0;var u=i(n(46)),c=n(3),l=i(n(4)),d=n(106),p=function(){function e(){this.cpuFallback=!0,this.worker=function(){if("undefined"!=typeof navigator&&navigator){if("number"==typeof navigator.hardwareConcurrency)return Math.max(Math.ceil(navigator.hardwareConcurrency/2)-1,0);if("Safari"===u.name&&u.os&&("iOS"===u.os.family||"OS X"===u.os.family))return 1}return 0}(),this.initTimeout=5e3}return e.prototype.initialize=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return function(e){if(!Number.isFinite(e)||Number.isNaN(e))throw new Error(e+" is not valid number of workers");if(!Number.isInteger(e))throw new Error(e+" is not an integer and hence not valid number of workers")}(this.worker),[4,this.isWasmSupported()];case 1:return e.sent()?[2,!0]:[2,!1]}}))}))},e.prototype.createSessionHandler=function(e){return new d.WasmSessionHandler(this,e,this.cpuFallback)},e.prototype.dispose=function(){},e.prototype.isWasmSupported=function(){return a(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,l.init(this.worker,this.initTimeout)];case 1:return t.sent(),[2,!0];case 2:return e=t.sent(),c.Logger.warning("WebAssembly","Unable to initialize WebAssembly backend. "+e),[2,!1];case 3:return[2]}}))}))},e}();t.WasmBackend=p},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.WasmBinding=t.init=void 0;var o=!1,i=!1;t.init=function(){if(o)return Promise.resolve();if(i)throw new Error("multiple calls to 'init()' detected.");return i=!0,new Promise((function(e,t){(r=n(104))(r).then((function(){e(),i=!1,o=!0}),(function(e){i=!1,t(e)}))}))};var a=function(){function e(){this.ptr8=0,this.numBytesAllocated=0}return e.prototype.ccall=function(n){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(!o)throw new Error("wasm not initialized. please ensure 'init()' is called.");var s=t.now(),u=[],c=e.calculateOffsets(u,i);c>this.numBytesAllocated&&this.expandMemory(c),e.ccallSerialize(r.HEAPU8.subarray(this.ptr8,this.ptr8+c),u,i);var l=t.now();this.func(n,this.ptr8);var d=t.now();e.ccallDeserialize(r.HEAPU8.subarray(this.ptr8,this.ptr8+c),u,i);var p=t.now();return{startTime:s,endTime:p,startTimeFunc:l,endTimeFunc:d}},e.prototype.ccallRaw=function(e,n){if(!o)throw new Error("wasm not initialized. please ensure 'init()' is called.");var i=t.now(),a=n.byteLength;a>this.numBytesAllocated&&this.expandMemory(a),r.HEAPU8.subarray(this.ptr8,this.ptr8+a).set(n);var s=t.now();this.func(e,this.ptr8);var u=t.now();return n.set(r.HEAPU8.subarray(this.ptr8,this.ptr8+a)),{startTime:i,endTime:t.now(),startTimeFunc:s,endTimeFunc:u}},e.prototype.func=function(e,t){(0,r[e])(t)},e.calculateOffsets=function(e,t){for(var n=4+4*t.length,r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=0;switch(a){case"bool":case"int32":case"float32":u=4;break;case"float64":u=8;break;case"boolptr":if(!i){e.push(0);continue}if(!Array.isArray(i)&&!ArrayBuffer.isView(i))throw new Error("boolptr requires boolean array or Uint8Array");u=4*Math.ceil(i.length/4);break;case"int32ptr":case"float32ptr":if(!i){e.push(0);continue}if(Array.isArray(i)){if("inout"===s||"out"===s)throw new TypeError("inout/out parameters must be ArrayBufferView for ptr types.");u=4*i.length}else{if(!ArrayBuffer.isView(i))throw new TypeError("unsupported data type in 'ccall()'");u=i.byteLength}break;default:throw new Error("not supported parameter type: "+a)}e.push(n),n+=u}return n},e.ccallSerialize=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset),o=new Uint32Array(e.buffer,e.byteOffset),i=new Float32Array(e.buffer,e.byteOffset);o[0]=n.length;for(var a=0;a<n.length;a++){var s=n[a],u=s[0],c=s[1],l=s[2],d=t[a],p=d>>2;if(o[a+1]=d,"out"!==l&&0!==d)switch(c){case"bool":e[d]=!0===u?1:0;break;case"int32":r[p]=u;break;case"float32":i[p]=u;break;case"boolptr":var h=u;e.subarray(d,d+h.length).set(u);break;case"int32ptr":var f=u;r.subarray(p,p+f.length).set(f);break;case"float32ptr":var g=u;i.subarray(p,p+g.length).set(g);break;default:throw new Error("not supported parameter type: "+c)}}},e.ccallDeserialize=function(e,t,n){for(var r=new Float32Array(e.buffer,e.byteOffset),o=new Uint8Array(e.buffer,e.byteOffset),i=0;i<n.length;i++){var a=n[i],s=a[0],u=a[1],c=a[2],l=t[i],d=l>>2;if("out"===c||"inout"===c)switch(u){case"float32ptr":var p=s;p.set(r.subarray(d,d+p.length));break;case"boolptr":var h=s;h.set(o.subarray(l,l+h.length));break;default:throw new Error("not supported parameter type: "+u)}}},e.prototype.expandMemory=function(e){if(0!==this.ptr8&&r._free(this.ptr8),this.numBytesAllocated=2*e,this.ptr8=r._malloc(this.numBytesAllocated),0===this.ptr8)throw new Error("Unable to allocate requested amount of memory. Failing.")},e.prototype.dispose=function(){if(!o)throw new Error("wasm not initialized. please ensure 'init()' is called.");0!==this.ptr8&&r._free(this.ptr8)},e}();t.WasmBinding=a,t.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now},function(e,t,n){(function(t,r,o){var i,a=(i=(i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||t,function(e){e=void 0!==(e=e||{})?e:{};var t,a={};for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);var s=[],u=!1,c=!1,l=!1,d=!1;u="object"==typeof self,c="function"==typeof importScripts,l="object"==typeof r&&"object"==typeof r.versions&&"string"==typeof r.versions.node,d=!u&&!l&&!c;var p,h,f,g,m="";function y(t){return e.locateFile?e.locateFile(t,m):m+t}l?(m=c?n(47).dirname(m)+"/":o+"/",p=function(e,t){return f||(f=n(48)),g||(g=n(47)),e=g.normalize(e),f.readFileSync(e,t?null:"utf8")},h=function(e){var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),E(t.buffer),t},r.argv.length>1&&r.argv[1].replace(/\\/g,"/"),s=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof Pe))throw e})),r.on("unhandledRejection",te),e.inspect=function(){return"[Emscripten Module object]"}):d?("undefined"!=typeof read&&(p=function(e){return read(e)}),h=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(E("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?s=scriptArgs:void 0!==arguments&&(s=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(u||c)&&(c?m=self.location.href:document.currentScript&&(m=document.currentScript.src),i&&(m=i),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c&&(h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var v=e.print||console.log.bind(console),b=e.printErr||console.warn.bind(console);for(t in a)a.hasOwnProperty(t)&&(e[t]=a[t]);a=null,e.arguments&&(s=e.arguments),e.thisProgram&&e.thisProgram,e.quit&&e.quit;var _,w,S=function(e){};e.wasmBinary&&(_=e.wasmBinary),e.noExitRuntime&&e.noExitRuntime,"object"!=typeof WebAssembly&&b("no native wasm support detected");var I=new WebAssembly.Table({initial:31,maximum:31,element:"anyfunc"}),x=!1;function E(e,t){e||te("Assertion failed: "+t)}var k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function T(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&k)return k.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function A(e,t){return e?T(O,e,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var C,O,P,R=65536;function N(e,t){return e%t>0&&(e+=t-e%t),e}function D(t){C=t,e.HEAP8=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=P=new Int32Array(t),e.HEAPU8=O=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var M=5248800,j=5760,L=e.INITIAL_MEMORY||16777216;function U(t){for(;t.length>0;){var n=t.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?e.dynCall_v(r):e.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n()}}(w=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:L/R}))&&(C=w.buffer),L=C.byteLength,D(C),P[j>>2]=M;var F=[],B=[],G=[],z=[],W=[];function q(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)K(e.preRun.shift());U(F)}function V(){U(B)}function H(){U(G)}function $(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)Y(e.postRun.shift());U(W)}function K(e){F.unshift(e)}function Y(e){W.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var J=0,X=null,Q=null;function Z(t){J++,e.monitorRunDependencies&&e.monitorRunDependencies(J)}function ee(t){if(J--,e.monitorRunDependencies&&e.monitorRunDependencies(J),0==J&&(null!==X&&(clearInterval(X),X=null),Q)){var n=Q;Q=null,n()}}function te(t){throw e.onAbort&&e.onAbort(t),v(t+=""),b(t),x=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}e.preloadedImages={},e.preloadedAudios={};var ne="data:application/octet-stream;base64,";function re(e){return String.prototype.startsWith?e.startsWith(ne):0===e.indexOf(ne)}var oe="onnx-wasm.wasm";function ie(){try{if(_)return new Uint8Array(_);if(h)return h(oe);throw"both async and sync fetching of the wasm failed"}catch(e){te(e)}}function ae(){return _||!u&&!c||"function"!=typeof fetch?new Promise((function(e,t){e(ie())})):fetch(oe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+oe+"'";return e.arrayBuffer()})).catch((function(){return ie()}))}function se(){var t={env:Ee,wasi_snapshot_preview1:Ee};function n(t,n){var r=t.exports;e.asm=r,ee()}function r(e){n(e.instance)}function o(e){return ae().then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){b("failed to asynchronously prepare wasm: "+e),te(e)}))}if(Z(),e.instantiateWasm)try{return e.instantiateWasm(t,n)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(_||"function"!=typeof WebAssembly.instantiateStreaming||re(oe)||"function"!=typeof fetch)return o(r);fetch(oe,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(e){b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),o(r)}))}))}(),{}}function ue(e,t,n,r){te("Assertion failed: "+A(e)+", at: "+[t?A(t):"unknown filename",n,r?A(r):"unknown function"])}function ce(e){return Ce(e)}re(oe)||(oe=y(oe)),B.push({func:function(){Ae()}});var le={};function de(){return de.uncaught_exceptions>0}function pe(e,t,n){throw le[e]={ptr:e,adjusted:[e],type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in de?de.uncaught_exceptions++:de.uncaught_exceptions=1,e}function he(){te()}function fe(){return O.length}function ge(){return 5760}function me(e,t,n){O.copyWithin(e,t,t+n)}function ye(e){try{return w.grow(e-C.byteLength+65535>>16),D(w.buffer),1}catch(e){}}function ve(e){var t=fe();if(e>2147418112)return!1;for(var n=1;n<=4;n*=2){var r=t*(1+.2/n);if(r=Math.min(r,e+100663296),ye(Math.min(2147418112,N(Math.max(16777216,e,r),65536))))return!0}return!1}var be={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=be.buffers[e];0===t||10===t?((1===e?v:b)(T(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return be.varargs+=4,P[be.varargs-4>>2]},getStr:function(e){return A(e)},get64:function(e,t){return e}};function _e(e){return 0}function we(e,t,n,r,o){}function Se(){void 0!==Oe&&Oe(0);var e=be.buffers;e[1].length&&be.printChar(1,10),e[2].length&&be.printChar(2,10)}function Ie(e,t,n,r){for(var o=0,i=0;i<n;i++){for(var a=P[t+8*i>>2],s=P[t+(8*i+4)>>2],u=0;u<s;u++)be.printChar(e,O[a+u]);o+=s}return P[r>>2]=o,0}function xe(e){S(0|e)}z.push(Se);var Ee={__assert_fail:ue,__cxa_allocate_exception:ce,__cxa_throw:pe,abort:he,emscripten_get_sbrk_ptr:ge,emscripten_memcpy_big:me,emscripten_resize_heap:ve,fd_close:_e,fd_seek:we,fd_write:Ie,memory:w,setTempRet0:xe,table:I},ke=se();e.asm=ke;var Te,Ae=e.___wasm_call_ctors=function(){return(Ae=e.___wasm_call_ctors=e.asm.__wasm_call_ctors).apply(null,arguments)},Ce=(e._batch_normalization_f32=function(){return(e._batch_normalization_f32=e.asm.batch_normalization_f32).apply(null,arguments)},e._add_f32=function(){return(e._add_f32=e.asm.add_f32).apply(null,arguments)},e._sub_f32=function(){return(e._sub_f32=e.asm.sub_f32).apply(null,arguments)},e._mul_f32=function(){return(e._mul_f32=e.asm.mul_f32).apply(null,arguments)},e._div_f32=function(){return(e._div_f32=e.asm.div_f32).apply(null,arguments)},e._prelu_f32=function(){return(e._prelu_f32=e.asm.prelu_f32).apply(null,arguments)},e._xor_u8=function(){return(e._xor_u8=e.asm.xor_u8).apply(null,arguments)},e._or_u8=function(){return(e._or_u8=e.asm.or_u8).apply(null,arguments)},e._and_u8=function(){return(e._and_u8=e.asm.and_u8).apply(null,arguments)},e._clip_f32=function(){return(e._clip_f32=e.asm.clip_f32).apply(null,arguments)},e._conv_f32=function(){return(e._conv_f32=e.asm.conv_f32).apply(null,arguments)},e._gemm_f32=function(){return(e._gemm_f32=e.asm.gemm_f32).apply(null,arguments)},e._free=function(){return(e._free=e.asm.free).apply(null,arguments)},e._malloc=function(){return(Ce=e._malloc=e.asm.malloc).apply(null,arguments)}),Oe=(e._instance_normalization_f32=function(){return(e._instance_normalization_f32=e.asm.instance_normalization_f32).apply(null,arguments)},e._matmul_f32=function(){return(e._matmul_f32=e.asm.matmul_f32).apply(null,arguments)},e._average_pool_f32=function(){return(e._average_pool_f32=e.asm.average_pool_f32).apply(null,arguments)},e._max_pool_f32=function(){return(e._max_pool_f32=e.asm.max_pool_f32).apply(null,arguments)},e._softmax_f32=function(){return(e._softmax_f32=e.asm.softmax_f32).apply(null,arguments)},e._sum_f32=function(){return(e._sum_f32=e.asm.sum_f32).apply(null,arguments)},e.___errno_location=function(){return(e.___errno_location=e.asm.__errno_location).apply(null,arguments)},e._fflush=function(){return(Oe=e._fflush=e.asm.fflush).apply(null,arguments)});function Pe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Re(t){function n(){Te||(Te=!0,e.calledRun=!0,x||(V(),H(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),$()))}t=t||s,J>0||(q(),J>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n()))}if(e._setThrew=function(){return(e._setThrew=e.asm.setThrew).apply(null,arguments)},e.stackSave=function(){return(e.stackSave=e.asm.stackSave).apply(null,arguments)},e.stackAlloc=function(){return(e.stackAlloc=e.asm.stackAlloc).apply(null,arguments)},e.stackRestore=function(){return(e.stackRestore=e.asm.stackRestore).apply(null,arguments)},e.__growWasmMemory=function(){return(e.__growWasmMemory=e.asm.__growWasmMemory).apply(null,arguments)},e.dynCall_ii=function(){return(e.dynCall_ii=e.asm.dynCall_ii).apply(null,arguments)},e.dynCall_iiii=function(){return(e.dynCall_iiii=e.asm.dynCall_iiii).apply(null,arguments)},e.dynCall_jiji=function(){return(e.dynCall_jiji=e.asm.dynCall_jiji).apply(null,arguments)},e.dynCall_iidiiii=function(){return(e.dynCall_iidiiii=e.asm.dynCall_iidiiii).apply(null,arguments)},e.dynCall_vii=function(){return(e.dynCall_vii=e.asm.dynCall_vii).apply(null,arguments)},e.dynCall_vi=function(){return(e.dynCall_vi=e.asm.dynCall_vi).apply(null,arguments)},e.dynCall_viiiiii=function(){return(e.dynCall_viiiiii=e.asm.dynCall_viiiiii).apply(null,arguments)},e.dynCall_viiiii=function(){return(e.dynCall_viiiii=e.asm.dynCall_viiiii).apply(null,arguments)},e.dynCall_viiii=function(){return(e.dynCall_viiii=e.asm.dynCall_viiii).apply(null,arguments)},e.asm=ke,e.then=function(t){if(Te)t(e);else{var n=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){n&&n(),t(e)}}return e},Q=function e(){Te||Re(),Te||(Q=e)},e.run=Re,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Re(),e});e.exports=a}).call(this,"/index.js",n(24),"/")},function(e,t,n){n.r(t),t.default=function(){return new Worker(n.p+"onnx-worker.js")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WasmSessionHandler=void 0;var r=n(11),o=n(27),i=n(107),a=n(108),s=function(){function e(e,t,n){this.backend=e,this.context=t,this.opResolveRules=n?a.WASM_OP_RESOLVE_RULES.concat(o.CPU_OP_RESOLVE_RULES):a.WASM_OP_RESOLVE_RULES}return e.prototype.createInferenceHandler=function(){return new i.WasmInferenceHandler(this,this.context.profiler)},e.prototype.dispose=function(){},e.prototype.resolve=function(e,t){var n=r.resolveOperator(e,t,this.opResolveRules);return n.initialize(e.attributes),n},e}();t.WasmSessionHandler=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WasmInferenceHandler=void 0;var r=function(){function e(e,t){this.session=e,this.profiler=t}return e.prototype.dispose=function(){},e}();t.WasmInferenceHandler=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WASM_OP_RESOLVE_RULES=void 0;var r=n(109),o=n(110),i=n(111),a=n(112),s=n(113),u=n(114),c=n(115),l=n(116),d=n(117),p=n(118);t.WASM_OP_RESOLVE_RULES=[["Add","","7+",function(){return new o.WasmBinaryOp(["float32"],"Add")}],["And","","7+",function(){return new o.WasmBinaryOp(["bool"],"And")}],["AveragePool","","7-10",function(){return new l.WasmAveragePool}],["BatchNormalization","","7+",function(){return new r.WasmBatchNormalization}],["Clip","","6-10",function(){return new i.WasmClip}],["Conv","","1+",function(){return new a.WasmConv}],["Div","","7+",function(){return new o.WasmBinaryOp(["float32"],"Div")}],["Gemm","","7-10",function(){return new s.WasmGemm(!1)}],["Gemm","","11+",function(){return new s.WasmGemm(!0)}],["GlobalAveragePool","","1+",function(){return new l.WasmGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new l.WasmGlobalMaxPool}],["InstanceNormalization","","6+",function(){return new u.WasmInstanceNormalization}],["MatMul","","1+",function(){return new c.WasmMatMul}],["MaxPool","","1-9",function(){return new l.WasmMaxPool}],["Mul","","7+",function(){return new o.WasmBinaryOp(["float32"],"Mul")}],["Or","","7+",function(){return new o.WasmBinaryOp(["bool"],"Or")}],["PRelu","","7+",function(){return new o.WasmBinaryOp(["float32"],"PRelu")}],["Softmax","","1+",function(){return new d.WasmSoftmax}],["Sub","","7+",function(){return new o.WasmBinaryOp(["float32"],"Sub")}],["Sum","","6+",function(){return new p.WasmSum}],["Xor","","7+",function(){return new o.WasmBinaryOp(["bool"],"Xor")}]]},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WasmBatchNormalization=void 0;var i=n(14),a=n(1),s=n(4),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){for(var n=t[0],r=t[1],o=t[2],i=t[3],u=t[4],c=1,l=2;l<n.dims.length;l++)c*=n.dims[l];var d=new a.Tensor(n.dims,n.type);return s.WasmBinding.getInstance().ccall("_batch_normalization_f32",[n.floatData,"float32ptr"],[d.floatData,"float32ptr","out"],[n.dims[0],"int32"],[n.dims[1],"int32"],[c,"int32"],[r.floatData,"float32ptr"],[o.floatData,"float32ptr"],[i.floatData,"float32ptr"],[u.floatData,"float32ptr"],[this.epsilon,"float32"]),[d]},t.prototype.checkInputTypes=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4];return!(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length)&&n.dims[0]===t.dims[1]&&r.dims[0]===t.dims[1]&&o.dims[0]===t.dims[1]&&i.dims[0]===t.dims[1]&&"float32"===t.type&&"float32"===n.type&&"float32"===r.type&&"float32"===o.type&&"float32"===i.type},t}(i.BatchNormalization);t.WasmBatchNormalization=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WasmBinaryOp=void 0;var i=n(15),a=n(1),s=n(0),u=n(4),c=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return o(t,e),t.prototype.run=function(e,t){var n=s.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!n)throw new Error("not broadcastable");var r,o="",i="";switch(this.opType){case"Add":"float32"===t[0].type&&(o="_add_f32",i="float32InFloat32Out");break;case"Sub":"float32"===t[0].type&&(o="_sub_f32",i="float32InFloat32Out");break;case"Mul":"float32"===t[0].type&&(o="_mul_f32",i="float32InFloat32Out");break;case"Div":"float32"===t[0].type&&(o="_div_f32",i="float32InFloat32Out");break;case"PRelu":"float32"===t[0].type&&(o="_prelu_f32",i="float32InFloat32Out");break;case"Xor":o="_xor_u8",i="boolInBoolOut";break;case"Or":o="_or_u8",i="boolInBoolOut";break;case"And":o="_and_u8",i="boolInBoolOut";break;default:throw Error("unsupported binary op by the Wasm backend")}if("float32InFloat32Out"===i)r=new a.Tensor(n,"float32"),u.WasmBinding.getInstance().ccall(o,[t[0].floatData,"float32ptr"],[t[0].dims.length,"int32"],[t[0].dims,"int32ptr"],[t[1].floatData,"float32ptr"],[t[1].dims.length,"int32"],[t[1].dims,"int32ptr"],[r.floatData,"float32ptr","out"],[r.floatData.length,"int32"],[n.length,"int32"],[n,"int32ptr"]);else{if("boolInBoolOut"!==i)throw new Error("Unsupported binary op format. Probably unsupported data types.");r=new a.Tensor(n,"bool"),u.WasmBinding.getInstance().ccall(o,[t[0].integerData,"boolptr"],[t[0].dims.length,"int32"],[t[0].dims,"int32ptr"],[t[1].integerData,"boolptr"],[t[1].dims.length,"int32"],[t[1].dims,"int32ptr"],[r.integerData,"boolptr","out"],[r.integerData.length,"int32"],[n.length,"int32"],[n,"int32ptr"])}return[r]},t}(i.BinaryOp);t.WasmBinaryOp=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WasmClip=void 0;var i=n(49),a=n(1),s=n(4),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=new a.Tensor(t[0].dims,t[0].type),r=n.floatData.length;if("float32"!==t[0].type)throw new Error("Unsupported input type for Clip operator.");return s.WasmBinding.getInstance().ccall("_clip_f32",[t[0].floatData,"float32ptr"],[n.floatData,"float32ptr","out"],[r,"int32"],[this.min,"float32"],[this.max,"float32"]),[n]},t.prototype.checkInputTypes=function(e){return"float32"===e[0].type},t}(i.Clip);t.WasmClip=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WasmConv=void 0;var s=n(16),u=n(1),c=n(0),l=n(4),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var e,n,r,o,i,s,d,p,h,f,g,m,y,v,b,_,w,S;return a(this,(function(a){switch(a.label){case 0:if(e=t[0],n=t[1],r=3===t.length?t[2]:void 0,0===this.kernelShape.length)for(o=t[1].dims,S=2;S<o.length;++S)this.kernelShape.push(o[S]);return i=c.PoolConvUtil.computeConvOutputShape(e.dims,n.dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),s=new u.Tensor(i,e.type),1!==(d=function(e,t,n,r){return 1!==e||1!==t||1===n||r<=0?1:Math.min(n,r+1)}(e.dims[0],this.group,n.dims[0],l.WasmBinding.workerNumber))?[3,1]:(l.WasmBinding.getInstance().ccall("_conv_f32",[e.floatData,"float32ptr"],[e.dims,"int32ptr"],[n.floatData,"float32ptr"],[n.dims,"int32ptr"],[s.floatData,"float32ptr","out"],[s.dims,"int32ptr"],[r?r.floatData:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"]),[2,[s]]);case 1:for((p=n.dims.slice(0))[0]=Math.floor(n.dims[0]/d),h=p[0]*p[1]*p[2]*p[3],(f=n.dims.slice(0))[0]=n.dims[0]-(d-1)*p[0],g=[1,p[0],i[2],i[3]],m=p[0]*i[2]*i[3],y=[1,f[0],i[2],i[3]],v=new Array(d),b=new Array(d),_=new Array(d),w=new Array(d-1),S=0;S<d;++S)S!==d-1?(v[S]=n.floatData.subarray(S*h,(S+1)*h),b[S]=s.floatData.subarray(S*m,(S+1)*m),r&&(_[S]=r.floatData.subarray(S*p[0],(S+1)*p[0])),w[S]=l.WasmBinding.getInstance().ccallRemote(S,"_conv_f32",[e.floatData,"float32ptr"],[e.dims,"int32ptr"],[v[S],"float32ptr"],[p,"int32ptr"],[b[S],"float32ptr","out"],[g,"int32ptr"],[_.length>0?_[S]:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"])):(v[S]=n.floatData.subarray(S*h),b[S]=s.floatData.subarray(S*m),r&&(_[S]=r.floatData.subarray(S*p[0])),l.WasmBinding.getInstance().ccall("_conv_f32",[e.floatData,"float32ptr"],[e.dims,"int32ptr"],[v[S],"float32ptr"],[f,"int32ptr"],[b[S],"float32ptr","out"],[y,"int32ptr"],[_.length>0?_[S]:null,"float32ptr"],[this.dilations,"int32ptr"],[this.group,"int32"],[this.pads,"int32ptr"],[this.strides,"int32ptr"]));return[4,Promise.all(w)];case 2:return a.sent(),[2,[s]]}}))}))},t.prototype.checkInputTypes=function(e){return"float32"===e[0].type&&"float32"===e[1].type&&(3!==e.length||"float32"===e[2].type)},t}(s.Conv);t.WasmConv=d},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.WasmGemm=void 0;var a=n(19),s=n(1),u=n(0),c=n(4),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=t[0],r=t[1],o=t[2],a=i(u.GemmUtil.getShapeOfGemmResult(n.dims,this.transA,r.dims,this.transB,null==o?void 0:o.dims),2),l=a[0],d=a[1],p=new s.Tensor([l,d],n.type);if(o&&!u.BroadcastUtil.calc(p,o,(function(e,t){return t}),!0))throw new Error("c is not broadcastable to the shape of the result of the Gemm operator");return c.WasmBinding.getInstance().ccall("_gemm_f32",[this.transA,"bool"],[this.transB,"bool"],[this.transA?n.dims[1]:n.dims[0],"int32"],[this.transB?r.dims[0]:r.dims[1],"int32"],[this.transA?n.dims[0]:n.dims[1],"int32"],[this.alpha,"float32"],[n.floatData,"float32ptr"],[r.floatData,"float32ptr"],[this.beta,"float32"],[p.floatData,"float32ptr","inout"]),[p]},t.prototype.checkInputTypes=function(e){return"float32"===e[0].type&&"float32"===e[1].type&&"float32"===e[2].type&&e[0].type===e[1].type&&e[0].type===e[2].type},t}(a.Gemm);t.WasmGemm=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WasmInstanceNormalization=void 0;var i=n(20),a=n(1),s=n(4),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){for(var n=t[0],r=t[1],o=t[2],i=1,u=2;u<n.dims.length;u++)i*=n.dims[u];var c=new a.Tensor(n.dims,n.type);return s.WasmBinding.getInstance().ccall("_instance_normalization_f32",[n.floatData,"float32ptr"],[c.floatData,"float32ptr","out"],[n.dims[0],"int32"],[n.dims[1],"int32"],[i,"int32"],[r.floatData,"float32ptr"],[o.floatData,"float32ptr"],[this.epsilon,"float32"]),[c]},t.prototype.checkInputTypes=function(e){var t=e[0],n=e[1],r=e[2];return!(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)&&n.dims[0]===t.dims[1]&&r.dims[0]===t.dims[1]&&"float32"===t.type&&"float32"===n.type&&"float32"===r.type},t}(i.InstanceNormalization);t.WasmInstanceNormalization=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.WasmMatMul=void 0;var a=n(18),s=n(1),u=n(0),c=n(4),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=i(u.MatMulUtil.preprocessInputShapes(t[0].dims,t[1].dims),2),r=n[0],o=n[1],a=u.BroadcastUtil.calcShape(r,o,!0);if(!a)throw new Error("input dimensions do not match the requirement");var l=u.ShapeUtil.size(a),d=new Float32Array(l);c.WasmBinding.getInstance().ccall("_matmul_f32",[t[0].floatData,"float32ptr"],[t[0].dims,"int32ptr"],[t[0].dims.length,"int32"],[t[1].floatData,"float32ptr"],[t[1].dims,"int32ptr"],[t[1].dims.length,"int32"],[d,"float32ptr","out"],[d.length,"int32"],[a,"int32ptr"],[a.length,"int32"]),u.MatMulUtil.postprocessOutputShape(a,t[0].dims.length,t[1].dims.length);var p=new s.Tensor(a,t[0].type);return p.floatData.set(d),[p]},t.prototype.checkInputTypes=function(e){return"float32"===e[0].type&&"float32"===e[1].type&&e[0].type===e[1].type},t}(a.MatMul);t.WasmMatMul=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WasmGlobalMaxPool=t.WasmMaxPool=t.WasmGlobalAveragePool=t.WasmAveragePool=void 0;var s=n(21),u=n(1),c=n(0),l=n(4),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.checkInputTypes=function(e){return g(e)},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,m(t[0],this.autoPad,this.countIncludePad,this.kernelShape,this.pads,this.strides)]}))}))},t}(s.AveragePool);t.WasmAveragePool=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.checkInputTypes=function(e){return g(e)},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,y(t[0])]}))}))},t}(s.GlobalAveragePool);t.WasmGlobalAveragePool=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.checkInputTypes=function(e){return g(e)},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,v(t[0],this.autoPad,this.kernelShape,this.pads,this.strides)]}))}))},t}(s.MaxPool);t.WasmMaxPool=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.checkInputTypes=function(e){return g(e)},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){return a(this,(function(e){return[2,b(t[0])]}))}))},t}(s.GlobalMaxPool);function g(e){return"float32"===e[0].type}function m(e,t,n,r,o,s){return i(this,void 0,void 0,(function(){return a(this,(function(i){return[2,_(!1,1,e,t,n,r,o,s)]}))}))}function y(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,_(!0,1,e,"NOTSET",!1,[],[],[])]}))}))}function v(e,t,n,r,o){return i(this,void 0,void 0,(function(){return a(this,(function(i){return[2,_(!1,2,e,t,!1,n,r,o)]}))}))}function b(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,_(!0,2,e,"NOTSET",!1,[],[],[])]}))}))}function _(e,t,n,r,o,s,d,p){return i(this,void 0,void 0,(function(){var i,h,f,g,m,y,v,b,_,w,S,I,x,E;return a(this,(function(a){switch(a.label){case 0:switch(i="",t){case 1:i="_average_pool_f32";break;case 2:i="_max_pool_f32";break;default:throw new Error("unknown pool type")}return c.PoolConvUtil.adjustPoolAttributes(e,n.dims,s,p,d),h=c.PoolConvUtil.computePoolOutputShape(e,n.dims,p,s,d,r),f=new u.Tensor(h,n.type),1!==(g=function(e,t,n){return 1!==e||1===t||n<=0?1:Math.min(t,n+1)}(n.dims[0],n.dims[1],l.WasmBinding.workerNumber))?[3,1]:(l.WasmBinding.getInstance().ccall(i,[s.length,"int32"],[e,"bool"],[n.floatData,"float32ptr"],[n.dims,"int32ptr"],[f.floatData,"float32ptr","out"],[f.dims,"int32ptr"],[s,"int32ptr"],[d,"int32ptr"],[p,"int32ptr"],[o,"bool"]),[3,3]);case 1:for((m=n.dims.slice(0))[1]=Math.floor(n.dims[1]/g),y=c.ShapeUtil.size(m),(v=n.dims.slice(0))[1]=n.dims[1]-(g-1)*m[1],(b=h.slice(0))[1]=m[1],_=c.ShapeUtil.size(b),(w=h.slice(0))[1]=v[1],S=new Array(g-1),I=n.floatData,x=f.floatData,E=0;E<g;++E)E!==g-1?S[E]=l.WasmBinding.getInstance().ccallRemote(E,i,[s.length,"int32"],[e,"bool"],[I.subarray(E*y,(E+1)*y),"float32ptr"],[m,"int32ptr"],[x.subarray(E*_,(E+1)*_),"float32ptr","out"],[b,"int32ptr"],[s,"int32ptr"],[d,"int32ptr"],[p,"int32ptr"],[o,"bool"]):l.WasmBinding.getInstance().ccall(i,[s.length,"int32"],[e,"bool"],[I.subarray((g-1)*y),"float32ptr"],[v,"int32ptr"],[x.subarray((g-1)*_),"float32ptr","out"],[w,"int32ptr"],[s,"int32ptr"],[d,"int32ptr"],[p,"int32ptr"],[o,"bool"]);return[4,Promise.all(S)];case 2:a.sent(),a.label=3;case 3:return[2,[f]]}}))}))}t.WasmGlobalMaxPool=f},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WasmSoftmax=void 0;var i=n(22),a=n(1),s=n(0),u=n(4),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=t[0],r=s.ShapeUtil.normalizeAxis(this.axis,n.dims.length),o=s.ShapeUtil.sizeToDimension(n.dims,r),i=s.ShapeUtil.sizeFromDimension(n.dims,r),c=new a.Tensor(n.dims,n.type);return u.WasmBinding.getInstance().ccall("_softmax_f32",[n.floatData,"float32ptr"],[c.floatData,"float32ptr","out"],[o,"int32"],[i,"int32"]),[c]},t.prototype.checkInputTypes=function(e){return"float32"===e[0].type},t}(i.Softmax);t.WasmSoftmax=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.WasmSum=void 0;var s=n(23),u=n(1),c=n(4),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){for(var n,r=new u.Tensor(t[0].dims,t[0].type),o=t[0].floatData.length,i=new Array(t.length),s=0;s<t.length;s++)i[s]=[t[s].floatData,"float32ptr"];return(n=c.WasmBinding.getInstance()).ccall.apply(n,a(["_sum_f32",[t.length,"int32"],[o,"int32"],[r.floatData,"float32ptr","inout"]],i)),[r]},t.prototype.checkInputTypes=function(e){if("float32"!==e[0].type)return!1;for(var t=1;t<e.length;t++)if(e[0].type!==e[t].type)return!1;return!0},t}(s.Sum);t.WasmSum=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;var r=n(3),o=n(120),i=n(165),a=function(){function e(){}return e.prototype.initialize=function(){try{return this.glContext=i.createWebGLContext(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),r.Logger.verbose("WebGLBackend","Created WebGLContext: "+typeof this.glContext),!0}catch(e){return r.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. "+e),!1}},e.prototype.createSessionHandler=function(e){return new o.WebGLSessionHandler(this,e)},e.prototype.dispose=function(){this.glContext.dispose()},e}();t.WebGLBackend=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;var r=n(3),o=n(11),i=n(121),a=n(123),s=n(154),u=n(163),c=n(164),l=function(){function e(e,t){this.backend=e,this.context=t,this.programManager=new s.ProgramManager(this.context.profiler,e.glContext),this.layoutStrategy=new u.AlwaysKeepOriginalSizeStrategy(e.glContext.maxTextureSize),this.textureManager=new c.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.textureDataCache=new Map}return e.prototype.createInferenceHandler=function(){return new i.WebGLInferenceHandler(this)},e.prototype.onGraphInitialized=function(e){var t=e.getValues().filter((function(e){return-1===e.from&&e.tensor})).map((function(e){return e.tensor.dataId}));this.initializers=new Set(t)},e.prototype.isInitializer=function(e){return!!this.initializers&&this.initializers.has(e)},e.prototype.getTextureData=function(e){return this.textureDataCache.get(e)},e.prototype.setTextureData=function(e,t){r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),this.textureDataCache.set(e,t)},e.prototype.dispose=function(){var e=this;this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.textureDataCache.forEach((function(t){return e.textureManager.releaseTexture(t,!0)})),this.textureDataCache=new Map},e.prototype.resolve=function(e,t){var n=o.resolveOperator(e,t,a.WEBGL_OP_RESOLVE_RULES);return n.initialize(e.attributes),n},e}();t.WebGLSessionHandler=l},function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;var i=n(3),a=n(1),s=n(0),u=n(122),c=n(50),l=function(){function e(e){this.session=e,this.textureDataCache=new Map}return e.prototype.run=function(e,t){var n=this.session.programManager.getArtifact(e);if(!n){var r=e.createProgramInfo(this,t);n=this.session.programManager.build(r),this.session.programManager.setArtifact(e,n)}var o=e.createRunData(this,n.programInfo,t);return this.session.programManager.run(n,o),[o.outputTextureData.tensor]},e.prototype.getOrCreateTextureData=function(e,t){var n=this.getTextureData(e.dataId);return n?i.Logger.verbose("InferenceHandler","Retrieving TextureData from cache: ["+e.dims+"]"):(i.Logger.verbose("InferenceHandler","Creating new TextureData for dims: ["+e.dims+"]"),t||(t=this.createTextureLayoutFromShape(e.dims.slice())),n=this.createTextureData(t,e.type,e.numberData,e,1)),n},e.prototype.createTextureDataFromLayout=function(e,t){return this.createTextureData(e,t)},e.prototype.createTextureDataFromLayoutBindTensor=function(e,t,n,r){return this.createTextureData(e,t,n,r,1)},e.prototype.createTextureData=function(e,t,n,r,o){i.Logger.verbose("InferenceHandler","Creating TextureData: layout:["+JSON.stringify(e)+"]");var a=this.session.textureManager.createTextureFromLayout(t,e,n,o);return this.createTextureDataFromTexture(e,t,a,r)},e.prototype.createSharedTextureData=function(e,t,n,r){return this.createTextureDataFromTexture(e,t,n,void 0,r)},e.prototype.createTextureDataFromTexture=function(e,t,n,o,i){var s=this,u=r(r({},e),{tensor:o||new a.Tensor(e.unpackedShape,t,(function(e){return s.readTexture(u)}),void 0,void 0,i),texture:n});return this.setTextureData(u.tensor.dataId,u),u},e.prototype.getTextureData=function(e){return this.session.isInitializer(e)?this.session.getTextureData(e):this.textureDataCache.get(e)},e.prototype.setTextureData=function(e,t){this.session.isInitializer(e)?this.session.setTextureData(e,t):this.textureDataCache.set(e,t)},e.prototype.getOrCreateTextureLayout=function(e,t,n){return void 0===t&&(t=1),this.getTextureData(e.dataId)||this.createTextureLayoutFromShape(1===t?e.dims.slice():c.getPackedShape(e.dims.slice()),t,n)},e.prototype.createTextureLayoutFromShape=function(e,t,n,r){void 0===t&&(t=1);var i=o(this.session.layoutStrategy.computeTextureWH(e,r),2),a=i[0],u=i[1],c=e;if(0===e.length&&(c=[1]),1===t)n=e;else if(!n)throw new Error("Unpacked shape is needed when using channels > 1");return{width:a,height:u,channels:t||1,shape:c,strides:s.ShapeUtil.computeStrides(c),unpackedShape:n}},e.prototype.dispose=function(){var e=this;this.session.textureManager.clearActiveTextures(),this.textureDataCache.forEach((function(t){return e.session.textureManager.releaseTexture(t)})),this.textureDataCache=new Map},e.prototype.readTexture=function(e){if(!this.session.backend.glContext.isFloat32DownloadSupported){var t=(new u.WebGLUint8Encode).runInternal(this,e);return this.session.textureManager.readUint8TextureAsFloat(t)}return this.session.textureManager.readTexture(e,e.tensor.type,e.channels)},e}();t.WebGLInferenceHandler=l},function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUint8Encode=void 0;var o=n(0),i=n(2),a=function(){function e(){}return e.prototype.runInternal=function(e,t){var n=t.shape,a=r(e.session.layoutStrategy.computeTextureWH(t.shape),2),s={width:a[0],height:a[1],channels:4,shape:n,strides:o.ShapeUtil.computeStrides(n),unpackedShape:n},u=i.getGlsl(e.session.backend.glContext.version),c={inputLayouts:[t],outputLayout:s,samplers:["X"],shaderSource:"\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      bool isNaN(float val) {\n        return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n      }\n\n      highp vec4 encodeAsUint8(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float value = "+u.texture2D+"(X,TexCoords).r;\n        "+u.output+" = encodeAsUint8(value);\n      }",hasMain:!0},l=e.session.programManager.build(c),d=e.session.backend.glContext.getEncoder("byte",4),p=e.session.backend.glContext.allocateTexture(s.width,s.height,d),h={inputTextureDatas:[t],outputTextureData:e.createSharedTextureData(s,"uint8",p,{}),uniformData:{}};return e.session.programManager.run(l,h),h.outputTextureData},e}();t.WebGLUint8Encode=a},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;var a=n(7),s=n(124),u=i(n(125)),c=n(126),l=n(127),d=n(128),p=n(129),h=n(130),f=n(132),g=n(133),m=n(134),y=n(135),v=n(136),b=n(137),_=n(139),w=n(140),S=n(141),I=i(n(142)),x=n(10),E=n(143),k=n(144),T=n(145),A=n(147),C=n(148),O=n(149),P=n(150),R=i(n(151)),N=n(152),D=n(153);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",function(){return new R.WebGLUnaryOp(a.NUMBER_TYPES,R.glslAbs())}],["Acos","","7+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslAcos())}],["Add","","7+",function(){return new u.WebGLBinaryOp(a.NUMBER_TYPES,u.glslAdd())}],["And","","7+",function(){return new u.WebGLBinaryOp(["bool"],u.glslAnd())}],["Asin","","7+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslAsin())}],["Atan","","7+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslAtan())}],["AveragePool","","7-10",function(){return new S.WebGLAveragePool}],["BatchNormalization","","7+",function(){return new s.WebGLBatchNormalization}],["Ceil","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslCeil())}],["Clip","","6-10",function(){return new c.WebGLClip}],["Concat","","4+",function(){return new l.WebGLConcat}],["Conv","","1+",function(){return new d.WebGLConv}],["Cos","","7+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslCos())}],["Div","","7+",function(){return new u.WebGLBinaryOp(a.NUMBER_TYPES,u.glslDiv())}],["Dropout","","7+",function(){return new p.WebGLDropout}],["Equal","","7+",function(){return new u.WebGLBinaryOp(a.NUMBER_TYPES,u.glslEqual(),void 0,"bool")}],["Elu","","6+",function(){return new h.WebGLElu}],["Exp","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslExp())}],["Flatten","","1+",function(){return new f.WebGLFlatten}],["Floor","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslFloor())}],["Gather","","1+",function(){return new g.WebGLGather}],["Gemm","","7-10",function(){return new m.WebGLGemm(!1)}],["Gemm","","11+",function(){return new m.WebGLGemm(!0)}],["GlobalAveragePool","","1+",function(){return new S.WebGLGlobalAveragePool}],["GlobalMaxPool","","1+",function(){return new S.WebGLGlobalMaxPool}],["Greater","","7+",function(){return new u.WebGLBinaryOp(a.NUMBER_TYPES,u.glslGreater(),void 0,"bool")}],["Identity","","1+",function(){return new R.WebGLUnaryOp(a.NUMBER_TYPES,R.glslIdentity())}],["ImageScaler","","1+",function(){return new y.WebGLImageScaler}],["InstanceNormalization","","6+",function(){return new v.WebGLInstanceNormalization}],["LeakyRelu","","6+",function(){return new b.WebGLLeakyRelu}],["Less","","7+",function(){return new u.WebGLBinaryOp(a.NUMBER_TYPES,u.glslLess(),void 0,"bool")}],["Log","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslLog())}],["MatMul","","1+",function(){return new _.WebGLMatMul}],["MaxPool","","1-9",function(){return new S.WebGLMaxPool}],["Mul","","7+",function(){return new u.WebGLBinaryOp(a.NUMBER_TYPES,u.glslMul())}],["Neg","","6+",function(){return new R.WebGLUnaryOp(a.NUMBER_TYPES,R.glslNeg())}],["Not","","1+",function(){return new R.WebGLUnaryOp(["bool"],R.glslNot())}],["Or","","7+",function(){return new u.WebGLBinaryOp(["bool"],u.glslOr())}],["Pad","","2-10",function(){return new w.WebGLPad}],["Pow","","7+",function(){return new u.WebGLBinaryOp(a.FLOAT_TYPES,u.glslPow())}],["PRelu","","7+",function(){return new u.WebGLBinaryOp(a.FLOAT_TYPES,u.glslPRelu())}],["ReduceLogSum","","1+",function(){return new I.WebGLReduceLogSum}],["ReduceMax","","1+",function(){return new I.WebGLReduceMax}],["ReduceMean","","1+",function(){return new I.WebGLReduceMean}],["ReduceMin","","1+",function(){return new I.WebGLReduceMin}],["ReduceProd","","1+",function(){return new I.WebGLReduceProd}],["ReduceSum","","1+",function(){return new I.WebGLReduceSum}],["ReduceSumSquare","","1+",function(){return new I.WebGLReduceSumSquare}],["Relu","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslRelu())}],["Reshape","","5+",function(){return new x.WebGLReshape}],["Sigmoid","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslSigmoid())}],["Sin","","7+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslSin())}],["Slice","","10+",function(){return new E.WebGLSliceV10}],["Slice","","1-9",function(){return new E.WebGLSlice}],["Softmax","","1+",function(){return new k.WebGLSoftmax}],["Split","","2+",function(e){return new T.WebGLSplit(e.outputs.length)}],["Sqrt","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslSqrt())}],["Squeeze","","1+",function(){return new A.WebGLSqueeze}],["Sub","","7+",function(){return new u.WebGLBinaryOp(a.NUMBER_TYPES,u.glslSub())}],["Sum","","6+",function(){return new C.WebGLSum}],["Tan","","7+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslTan())}],["Tanh","","6+",function(){return new R.WebGLUnaryOp(a.FLOAT_TYPES,R.glslTanh())}],["Tile","","6+",function(){return new O.WebGLTile}],["Transpose","","1+",function(){return new P.WebGLTranspose}],["Upsample","","7-8",function(){return new D.WebGLUpsample}],["Unsqueeze","","1+",function(){return new N.WebGLUnsqueeze}],["Xor","","7+",function(){return new u.WebGLBinaryOp(["bool"],u.glslXor())}]]},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBatchNormalization=void 0;var i=n(14),a=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t.map((function(t){return e.getOrCreateTextureLayout(t)})),r=t[0].dims.slice(),o=r.length,i=n[1],s=a.getGlsl(e.session.backend.glContext.version),u="\n      float process(int["+o+"] indices) {\n        vec2 position = offsetToCoords(indices[1], "+i.width+", "+i.height+");\n        float scale = getColorAsFloat("+s.texture2D+"(Scale, position));\n        float mean = getColorAsFloat("+s.texture2D+"(Mean, position));\n        float variance = getColorAsFloat("+s.texture2D+"(Variance, position));\n        float b = getColorAsFloat("+s.texture2D+"(B, position));\n\n        return scale * ( (_A(indices) - mean) / sqrt(variance + float("+this.epsilon+")) ) + b;\n      }";return{inputLayouts:n,outputLayout:e.createTextureLayoutFromShape(r),samplers:["A","Scale","B","Mean","Variance"],shaderSource:u}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];n.slice(1).forEach((function(t){return r.push(e.getOrCreateTextureData(t))}));var o=e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type);return{inputTextureDatas:r,outputTextureData:o,uniformData:{}}},t}(i.BatchNormalization);t.WebGLBatchNormalization=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=t.WebGLBinaryOp=void 0;var i=n(15),a=n(0),s=n(5),u=n(2),c=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.glslFunc=n,i}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t.map((function(t){return e.getOrCreateTextureLayout(t)}));if(!a.ShapeUtil.areEqual(t[0].dims,t[1].dims)){var r=a.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!r)throw new Error("Can't perform binary op on the given tensors");var o=r.length,i=0!==t[0].dims.length?t[0].dims.length:1,s=0!==t[1].dims.length?t[1].dims.length:1,c=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",l=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",d="\n      "+this.glslFunc.body+"\n      float process(int indices["+o+"]) {\n        int aindices["+i+"];\n        int bindices["+s+"];\n        "+c+"\n        "+l+"\n        return "+this.glslFunc.name+"(_A(aindices), _B(bindices));\n    }";return{inputLayouts:n,outputLayout:e.createTextureLayoutFromShape(r),samplers:["A","B"],shaderSource:d}}var p=u.getGlsl(e.session.backend.glContext.version),h="\n    "+this.glslFunc.body+"\n    void main() {\n      vec4 v1 = "+p.texture2D+"(A, TexCoords);\n      vec4 v2 = "+p.texture2D+"(B, TexCoords);\n      vec4 result = "+this.glslFunc.name+"(v1, v2);\n      "+p.output+" = result;\n    }\n    ";return{hasMain:!0,inputLayouts:n,outputLayout:e.createTextureLayoutFromShape(t[0].dims),samplers:["A","B"],shaderSource:h}},t.prototype.createRunData=function(e,t,n){return{inputTextureDatas:n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])})),outputTextureData:e.createTextureDataFromLayout(t.outputLayout,this.resultType?this.resultType:n[0].type),uniformData:{}}},t}(i.BinaryOp);t.WebGLBinaryOp=c,t.glslAdd=function(){return{body:"\n  float add_(float a, float b) {\n    return a + b;\n  }\n  vec4 add_(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  ",name:"add_",type:s.FunctionType.ValueBased}},t.glslDiv=function(){return{body:"\n  float div_(float a, float b) {\n    return a / b;\n  }\n  vec4 div_(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  ",name:"div_",type:s.FunctionType.ValueBased}},t.glslMul=function(){return{body:"\n  float mul_(float a, float b) {\n    return a * b;\n  }\n  vec4 mul_(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  ",name:"mul_",type:s.FunctionType.ValueBased}},t.glslSub=function(){return{body:"\n  float sub_(float a, float b) {\n    return a - b;\n  }\n  vec4 sub_(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  ",name:"sub_",type:s.FunctionType.ValueBased}},t.glslEqual=function(){return{body:"\n  float equal_(float a, float b) {\n    return float(a == b);\n  }\n  vec4 equal_(vec4 v1, vec4 v2) {\n    return vec4( v1 == v2 );\n  }\n  ",name:"equal_",type:s.FunctionType.ValueBased}},t.glslGreater=function(){return{body:"\n  float greater_(float a, float b) {\n    return float(a > b);\n  }\n  vec4 greater_(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  ",name:"greater_",type:s.FunctionType.ValueBased}},t.glslLess=function(){return{body:"\n  float less_(float a, float b) {\n    return float(a < b);\n  }\n  vec4 less_(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  ",name:"less_",type:s.FunctionType.ValueBased}},t.glslAnd=function(){return{body:"\n  float and_(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 and_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  ",name:"and_",type:s.FunctionType.ValueBased}},t.glslOr=function(){return{body:"\n  float or_(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 or_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  ",name:"or_",type:s.FunctionType.ValueBased}},t.glslXor=function(){return{body:"\n  float xor_(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 xor_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  ",name:"xor_",type:s.FunctionType.ValueBased}},t.glslPow=function(){return function(e){var t=e+"_";return{body:"\n  float pow_(float a, float b) {\n    return pow(a, b);\n  }\n  vec4 pow_(vec4 v1, vec4 v2) {\n    return pow(v1, v2);\n  }\n  ",name:t,type:s.FunctionType.ValueBased}}("pow")},t.glslPRelu=function(){return{body:"\n  float prelu_(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 prelu_(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  ",name:"prelu_",type:s.FunctionType.ValueBased}}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLClip=void 0;var i=n(49),a=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice(),r=a.getGlsl(e.session.backend.glContext.version),o="\n      const float min = float("+this.min+");\n      const float max = float("+this.max+");\n      void main() {\n        float v = "+r.texture2D+"(A, TexCoords).r;\n        "+r.output+" = vec4(clamp(v, min, max));\n      }\n      ";return{inputLayouts:[e.getOrCreateTextureLayout(t[0])],outputLayout:e.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:o,hasMain:!0}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.Clip);t.WebGLClip=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLConcat=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice();if(this.axis>=n.length||this.axis<-1*n.length)throw new Error("axis specified for concat doesn't match input dimensionality");this.axis<0&&(this.axis=n.length+this.axis);for(var r=n.slice(0),o=1;o<t.length;o++)for(var i=t[o].dims.slice(),a=0;a<n.length;a++)if(a===this.axis)r[this.axis]+=i[a];else if(n[a]!==i[a])throw new Error("non concat dimensions must match");var s,u=r.length;s=t.length<5?this.getTextureIndexWhereDataResidesLinearSearch(t.length):this.getTextureIndexWhereDataResidesBinarySearch(t.length);var c=this.fetchDataFromCorrectTextureMethod(t.length,u),l=this.getValueFromArrayIndexMethod(t.length),d=t.map((function(e,t){return"X"+t})),p="\n      "+c+"\n      "+l+"\n      "+s+"\n      float process(int indices["+u+"]) {\n        int textureIndex = getTextureWhereDataResides (indices["+this.axis+"]);\n\n        if(textureIndex != 0) {\n          indices["+this.axis+"] = indices["+this.axis+"] - int(getValueFromArrayIndex(sizeInConcatAxis, textureIndex-int(1)));\n        }\n\n        return fetchDataFromCorrectTexture(textureIndex, indices);\n      }";return{inputLayouts:t.map((function(t){return e.getOrCreateTextureLayout(t)})),outputLayout:e.createTextureLayoutFromShape(r),samplers:d,variables:[{name:"sizeInConcatAxis",type:"int",arrayLength:t.length}],shaderSource:p}},t.prototype.createRunData=function(e,t,n){for(var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])})),o=new Array(t.inputLayouts.length),i=0,a=0;a<t.inputLayouts.length;++a)i+=t.inputLayouts[a].shape[this.axis],o[a]=i;var s={sizeInConcatAxis:o};return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:s}},t.prototype.getTextureIndexWhereDataResidesLinearSearch=function(e){return"int getTextureWhereDataResides(int index) {\n      for(int i=0; i<"+e+"; i++) {\n          if(index < int(sizeInConcatAxis[i])){\n              return i;\n          }\n        }\n      }"},t.prototype.getTextureIndexWhereDataResidesBinarySearch=function(e){return this.getTextureIndexWhereDataResidesLinearSearch(e)},t.prototype.fetchDataFromCorrectTextureMethod=function(e,t){for(var n=["float fetchDataFromCorrectTexture(int textureIndex, int indices["+t+"]) {"],r=0;r<e;++r)0===r?n.push("\tif (textureIndex == "+r+") { return _X"+r+"(indices); }"):r===e-1?n.push("\telse { return _X"+r+"(indices); }"):n.push("\telse if (textureIndex == "+r+") { return _X"+r+"(indices); }");return n.push("\t}"),n.join("\n")},t.prototype.getValueFromArrayIndexMethod=function(e){for(var t=["int getValueFromArrayIndex(int arr["+e+"], int index) {"],n=0;n<e;++n)0===n?t.push("\tif (index == "+n+") { return arr["+n+"]; }"):n===e-1?t.push("\telse { return arr["+n+"]; }"):t.push("\telse if (index == "+n+") { return arr["+n+"]; }");return t.push("\t}"),t.join("\n")},t}(n(30).Concat);t.WebGLConcat=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLConv=void 0;var s=n(3),u=n(16),c=n(0),l=n(2),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.readSize=8,t.blockSize=64,t}return o(t,e),t.prototype.run=function(e,t){var n=e.session.programManager;if(!this.artifacts){this.artifacts=[];for(var r=this.createProgramInfos(e,t),o=0;o<r.length;++o){var i=e.session.programManager.build(r[o]);this.artifacts.push(i)}}var a=this.createRunDatas(e,this.artifacts.map((function(e){return e.programInfo})),t);return n.run(this.artifacts[0],a[0]),n.run(this.artifacts[1],a[1]),[a[1].outputTextureData.tensor]},t.prototype.createProgramInfos=function(e,n){var r=n[0].dims.slice(),o=n[1].dims.slice();if(0===this.kernelShape.length)for(var i=n[1].dims,a=2;a<i.length;++a)this.kernelShape.push(i[a]);c.PoolConvUtil.adjustPadsBasedOnAutoPad(n[0].dims,this.strides,this.dilations,this.kernelShape,this.pads,this.autoPad),s.Logger.verbose("Conv","autpPad:"+this.autoPad+", dilations:"+this.dilations+", group:"+this.group+", kernelShape:"+this.kernelShape+", pads:"+this.pads+", strides:"+this.strides);var u=t.calcOutputShape(r,o,this.dilations,this.pads,this.strides),l=this.createIm2ColProgramInfo(e,n,u);return[l,this.createDotProductProgramInfo(e,l.outputLayout,n,u)]},t.prototype.createRunDatas=function(e,n,r){var o=r[1],i=r.length>=3?r[2]:void 0,a=e.getTextureData(o.dataId);if(!a){s.Logger.verbose("Conv","Did not find the adjustedKernel texture in the cache. Creating rew.");var u=t.prepKernelForDotProduct(o.dims.slice(),this.group,4,o.floatData);a=e.createTextureDataFromLayoutBindTensor(n[1].inputLayouts[1],o.type,u,o)}var c={inputTextureDatas:[e.getOrCreateTextureData(r[0])],outputTextureData:e.createTextureDataFromLayout(n[0].outputLayout,r[0].type),uniformData:{}},l=[c.outputTextureData,a];return i&&l.push(e.getOrCreateTextureData(i)),[c,{inputTextureDatas:l,outputTextureData:e.createTextureDataFromLayout(n[1].outputLayout,r[0].type),uniformData:{},draw:function(e,t){for(var n=e.gl,r=t.programInfo.params.sharedDim,o=t.programInfo.params.sharedDimReadSize,i=t.uniformLocations.find((function(e){return"sharedDimOffset"===e.name})).location,a=!1,u=0;u<r;u+=o)s.Logger.verbose("MatMul2D","k = "+u+", sharedDim: "+r+", readSize = "+o),u===o&&(a=!0,n.enable(n.BLEND),e.checkError(),n.blendEquation(n.FUNC_ADD),e.checkError(),n.blendFunc(n.ONE,n.ONE),e.checkError()),n.uniform1i(i,u),e.checkError(),e.draw();a&&(n.disable(n.BLEND),e.checkError())}}]},t.prototype.createIm2ColProgramInfo=function(e,n,r){var o=n[0].dims.slice(),i=n[1].dims.slice(),a=r.length,s=t.calcIm2ColDims(o,i,r,4),u=e.createTextureLayoutFromShape(s,4,[s[0],s[1],s[2],4*s[3]],{breakAxis:3}),c="\n      const int XC = "+o[1]+";\n      const int XH = "+o[2]+";\n      const int XW = "+o[3]+";\n      const int KH = "+this.kernelShape[0]+";\n      const int KW = "+this.kernelShape[1]+";\n      const int dilationH = "+this.dilations[0]+";\n      const int dilationW = "+this.dilations[1]+";\n      const int strideH = "+this.strides[0]+";\n      const int strideW = "+this.strides[1]+";\n      const int padH = "+this.pads[0]+";\n      const int padW = "+this.pads[1]+";\n      const int KHKW = KH*KW;\n      const int XCKHKW = XC * KHKW;\n      const int outputChannels = 4;\n\n      vec4 process(int indices["+a+"]) {\n        int b  = indices[0]; // batch size\n        int oh = indices[1] * strideH - padH; //output height\n        int ow = indices[2] * strideW - padW; //output width\n        int p = indices[3] * outputChannels; //patch\n        vec4 v = vec4(0.0);\n        for(int i=0; i < outputChannels; ++i) {\n          if(p < XCKHKW) {\n            int patchC = p / KHKW;\n            int patchH = (p - patchC*KHKW) / KW;\n            int patchW = (p - patchC*KHKW) - patchH * KW;\n            int xh2 = oh + patchH * dilationH;\n            int xw2 = ow + patchW * dilationW;\n            int x["+o.length+"];\n            x[0] = b;\n            x[1] = patchC;\n            x[2] = xh2;\n            x[3] = xw2;\n            if(xh2 >= 0 &&\n                xh2 < XH &&\n                xw2 >= 0 &&\n                xw2 < XW) {\n              v[i] = _X(x);\n            }\n          }\n          ++p;\n        }\n        return v;\n      }\n      ";return{inputLayouts:[e.createTextureLayoutFromShape(o)],outputLayout:u,samplers:["X"],shaderSource:c}},t.prototype.createDotProductProgramInfo=function(e,t,n,r){var o,i=n[0].dims.slice(),a=n[1].dims.slice(),s=[a[0],Math.ceil(i[1]*a[2]*a[3]/4)],u=e.createTextureLayoutFromShape(s,4,[s[0],4*s[1]],{breakAxis:1}),c=r.length,d=[t,u];3===n.length&&(o=e.createTextureLayoutFromShape(n[2].dims.slice()),d.push(o));var p=e.createTextureLayoutFromShape(r),h=n.length<3?"0.0":"_B(b)",f=t.shape[3],g=e.session.backend.glContext.isBlendSupported&&e.session.backend.matmulMaxBatchSize?this.calcSharedDimReadSize(e.session.backend.matmulMaxBatchSize,f):f,m=["Im2Col","K"];3===n.length&&m.push("B");var y=l.getGlsl(e.session.backend.glContext.version),v="\n    float process(int indices["+c+"]) {\n      int b[1];\n      b[0] = indices[1];\n      int im2col["+t.shape.length+"];\n      im2col[0] = indices[0];\n      im2col[1] = indices[2];\n      im2col[2] = indices[3];\n      int im2colOffset = im2col[0] * "+t.strides[0]+" + im2col[1] * "+t.strides[1]+" + im2col[2] * "+t.strides[2]+" + sharedDimOffset;\n      int kernelOffset = indices[1] * "+u.strides[0]+" + sharedDimOffset;\n      float sum = sharedDimOffset == 0 ? "+h+" : 0.0;\n      for (int i = 0; i < "+g+"; ++i) {\n        vec2 im2colCoords = offsetToCoords(im2colOffset, "+t.width+", "+t.height+");\n        vec2 kernelCoords = offsetToCoords(kernelOffset, "+u.width+", "+u.height+");\n        sum += dot("+y.texture2D+"(Im2Col, im2colCoords), "+y.texture2D+"(K, kernelCoords));\n        ++im2colOffset;\n        ++kernelOffset;\n      }\n      return sum;\n    }";return{inputLayouts:3===n.length?[t,u,o]:[t,u],outputLayout:p,shaderSource:v,samplers:m,variables:[{name:"sharedDimOffset",type:"int"}],params:{sharedDim:f,sharedDimReadSize:g}}},t.prepKernelForDotProduct=function(e,t,n,r){if(1===t&&(1===n||e[2]*e[3]%n==0))return r;for(var o=e[0],i=e[1]*e[2]*e[3],a=Math.ceil(i*t/n)*n,s=new Float32Array(o*a),u=0;u<o;++u){var c=u*i,l=u*a+u%t*i;s.set(r.subarray(c,c+i),l)}return s},t.calcIm2ColDims=function(e,t,n,r){return void 0===r&&(r=1),[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)]},t.calcOutputShape=function(e,t,n,r,o){var i,s=e[0],u=e.slice(2),c=u.length,l=t[0],d=t.slice(2).map((function(e,t){return e+(e-1)*(n[t]-1)})),p=u.map((function(e,t){return e+r[t]+r[t+c]})).map((function(e,t){return Math.floor((e-d[t]+o[t])/o[t])}));return(i=[s,l]).concat.apply(i,a(p))},t.prototype.calcSharedDimReadSize=function(e,t){return e<=0||t<e||t%e!=0?t:e},t.prototype.calcBlockSize=function(e){if(!(e.height<64))return[64,64]},t}(u.Conv);t.WebGLConv=d},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLDropout=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){if(this.testMode)return[t[0]];throw new Error("Non test mode Dropout is not implemented yet")},t.prototype.createProgramInfo=function(e,t){throw new Error("Non test mode Dropout is not implemented yet")},t.prototype.createRunData=function(e,t,n){throw new Error("Non test mode Dropout is not implemented yet")},t}(n(31).Dropout);t.WebGLDropout=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLElu=void 0;var i=n(131),a=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice(),r=a.getGlsl(e.session.backend.glContext.version),o="\n      void main() {\n        float v = "+r.texture2D+"(A, TexCoords).r;\n        "+r.output+" = vec4(v >= 0.0 ? v: (exp(v) - 1.0) * "+this.alpha.toExponential()+"); /* float number format */\n      }\n      ";return{inputLayouts:[e.getOrCreateTextureLayout(t[0])],outputLayout:e.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:o,hasMain:!0}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.Elu);t.WebGLElu=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Elu=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.alpha=e.getFloat("alpha",1)},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.Elu=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLFlatten=void 0;var i=n(32),a=n(0),s=n(10),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=a.ShapeUtil.flattenShape(t[0].dims,this.axis);return[s.reshape(e,t[0],n)]},t}(i.Flatten);t.WebGLFlatten=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLGather=void 0;var i=n(33),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice(),r=t[1].dims.slice(),o=new Array(n.length+r.length-1);if(0===o.length)throw Error("A scalar tensor output has not been supported");for(var i=a.ShapeUtil.normalizeAxis(this.axis,n.length),s=[],u=0;u<o.length;u++)u<i?(o[u]=n[u],s.push("inputIdx["+u+"] = outputIdx["+u+"];")):u<i+r.length?(o[u]=r[u-i],s.push("indexDataIdx["+(u-i)+"] = outputIdx["+u+"];")):(o[u]=n[u-r.length+1],s.push("inputIdx["+(u-r.length+1)+"] = outputIdx["+u+"];"));var c="\n      float process(int outputIdx["+o.length+"]) {\n        int inputIdx["+n.length+"];\n        int indexDataIdx["+r.length+"];\n        "+s.join("\n        ")+"\n        int idx = int(_B(indexDataIdx));\n        inputIdx["+i+"] = idx < 0 ? idx + "+n[i]+" : idx;\n        return _A(inputIdx);\n      }";return{inputLayouts:t.map((function(t){return e.getOrCreateTextureLayout(t)})),outputLayout:e.createTextureLayoutFromShape(o),samplers:["A","B"],shaderSource:c}},t.prototype.createRunData=function(e,t,n){var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.Gather);t.WebGLGather=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLGemm=void 0;var a=n(19),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice(),r=t[1].dims.slice(),o=i(s.GemmUtil.getShapeOfGemmResult(n,this.transA,r,this.transB,3===t.length?t[2].dims:void 0),2),a=[o[0],o[1]];if(!a)throw new Error("Can't use gemm on the given tensors");var u=n[n.length-1],c="";this.transA&&(u=n[0]),this.transA&&this.transB?c="value += _A_T(a) * _B_T(b);":this.transA&&!this.transB?c="value += _A_T(a) * _B(b);":!this.transA&&this.transB?c="value += _A(a) * _B_T(b);":this.transA||this.transB||(c="value += _A(a) * _B(b);");var l=a.length,d="\n      float process(int indices["+l+"]) {\n          int a["+l+"];\n          int b["+l+"];\n          "+(3===t.length?"int c["+t[2].dims.length+"];":"")+"\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          "+(3===t.length?"bcastIndices_C(indices, c);":"")+"\n\n          float value = 0.0;\n          for (int k=0; k<"+u+"; ++k) {\n              a["+(l-1)+"] = k;\n              b["+(l-2)+"] = k;\n              "+c+"\n          }\n\n          value = value * alpha;\n          "+(3===t.length?"value += beta * _C(c);":"")+"\n          return value;\n      }";return{inputLayouts:t.map((function(t){return e.getOrCreateTextureLayout(t)})),outputLayout:e.createTextureLayoutFromShape(a),samplers:3===t.length?["A","B","C"]:["A","B"],variables:[{name:"alpha",type:"float"},{name:"beta",type:"float"}],shaderSource:d}},t.prototype.createRunData=function(e,t,n){var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{alpha:this.alpha,beta:this.beta}}},t}(a.Gemm);t.WebGLGemm=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLImageScaler=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice(),r=n.length,o="\n      "+this.createGetBiasMethod(this.bias.length)+"\n      float process(int indices["+r+"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }";return{inputLayouts:[e.getOrCreateTextureLayout(t[0])],outputLayout:e.createTextureLayoutFromShape(n),samplers:["X"],variables:[{name:"bias",type:"float",arrayLength:this.bias.length},{name:"scale",type:"float"}],shaderSource:o}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{bias:this.bias,scale:this.scale}}},t.prototype.createGetBiasMethod=function(e){for(var t=["float getBias(float bias["+e+"], int channel) {"],n=0;n<e;++n)0===n?t.push("\tif (channel == "+n+") { return bias["+n+"]; }"):n===e-1?t.push("\telse { return bias["+n+"]; }"):t.push("\telse if (channel == "+n+") { return bias["+n+"]; }");return t.push("\t}"),t.join("\n")},t}(n(34).ImageScaler);t.WebGLImageScaler=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInstanceNormalization=void 0;var i=n(20),a=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=this;this.artifacts||(this.artifacts=[],this.createProgramInfos(e,t).forEach((function(t,r){var o=e.session.programManager.build(t);n.artifacts.push(o)})));var r=this.createRunDatas(e,this.artifacts.map((function(e){return e.programInfo})),t);return r.forEach((function(t,r){return e.session.programManager.run(n.artifacts[r],t)})),[r[1].outputTextureData.tensor]},t.prototype.checkInputTypes=function(t){return!!e.prototype.checkInputTypes.call(this,t)&&4===t[0].dims.length},t.prototype.createMeanAndVarianceProgramInfo=function(e,t){var n=t.shape,r=n[1],o=n[2]*n[3],i=[n[0],r],a=[n[0],4*r],s="\n    vec4 process(int[2] indices) {\n      vec4 v = vec4(0.0);\n      int a[4];\n      a[0] = indices[0];\n      a[1] = indices[1];\n      float temp = 0.0;\n      for(int a2=0; a2<"+n[2]+"; a2++) {\n        a[2] = a2;\n        for(int a3=0; a3<"+n[3]+"; a3++) {\n          a[3] = a3;\n          float x = _X(a);\n          temp += x;\n        }\n      }\n      float mean = temp / float("+o+");\n      temp = 0.0;\n      for(int a2=0; a2<"+n[2]+"; a2++) {\n        a[2] = a2;\n        for(int a3=0; a3<"+n[3]+"; a3++) {\n          a[3] = a3;\n          float x = _X(a);\n          temp += (x - mean) * (x - mean);\n        }\n      }\n      v.r = mean;\n      v.g = temp / float("+o+");\n\n      return v;\n    }";return{inputLayouts:[t],outputLayout:e.createTextureLayoutFromShape(i,4,a),samplers:["X"],shaderSource:s}},t.prototype.createComputOutputProgramInfo=function(e,t,n,r,o){var i=a.getGlsl(e.session.backend.glContext.version),s="\n    vec4 getMeanAndVariance(int[2] mv) {\n      int offset = indicesToOffset_MeanAndVariance(mv);\n      vec2 coords = offsetToCoords(offset, "+o.width+", "+o.height+");\n      return "+i.texture2D+"(MeanAndVariance, coords);\n    }\n\n    float process(int[4] indices) {\n\n          int mv[2];\n          mv[0] = indices[0];\n          mv[1] = indices[1];\n          vec4 mean_and_variance = getMeanAndVariance(mv);\n          float mean = mean_and_variance.r;\n          float variance = mean_and_variance.g;\n\n          int sb[1];\n          sb[0] = indices[1];\n          float scale = _Scale(sb);\n          float b = _B(sb);\n\n          return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n        }";return{inputLayouts:[t,o,n,r],outputLayout:e.createTextureLayoutFromShape(t.shape),samplers:["X","MeanAndVariance","Scale","B"],variables:[{name:"epsilon",type:"float"}],shaderSource:s}},t.prototype.createProgramInfos=function(e,t){var n=e.getOrCreateTextureLayout(t[0]),r=e.getOrCreateTextureLayout(t[1]),o=e.getOrCreateTextureLayout(t[2]),i=this.createMeanAndVarianceProgramInfo(e,n);return[i,this.createComputOutputProgramInfo(e,n,r,o,i.outputLayout)]},t.prototype.createRunDatas=function(e,t,n){var r=n[0].type,o=e.getOrCreateTextureData(n[0],t[0].inputLayouts[0]),i=e.getOrCreateTextureData(n[1],t[1].inputLayouts[2]),a=e.getOrCreateTextureData(n[2],t[1].inputLayouts[3]),s=[];return s.push({inputTextureDatas:[o],outputTextureData:e.createTextureDataFromLayout(t[0].outputLayout,r),uniformData:{}}),s.push({inputTextureDatas:[o,s[0].outputTextureData,i,a],outputTextureData:e.createTextureDataFromLayout(t[1].outputLayout,r),uniformData:{epsilon:this.epsilon}}),s},t}(i.InstanceNormalization);t.WebGLInstanceNormalization=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLLeakyRelu=void 0;var i=n(138),a=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice(),r=a.getGlsl(e.session.backend.glContext.version),o="\n      void main() {\n        float v = "+r.texture2D+"(A, TexCoords).r;\n        "+r.output+" = vec4(v < 0.0 ? v * float("+this.alpha+") : v);\n      }\n      ";return{hasMain:!0,inputLayouts:[e.getOrCreateTextureLayout(t[0])],outputLayout:e.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:o}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.LeakyRelu);t.WebGLLeakyRelu=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.LeakyRelu=void 0;var r=function(){function e(){}return e.prototype.initialize=function(e){this.alpha=e.getFloat("alpha",.01)},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"float32"===e[0].type||"float64"===e[0].type},e}();t.LeakyRelu=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLMatMul=void 0;var i=n(18),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims,r=t[1].dims,o=a.BroadcastUtil.calcShape(n,r,!0);if(!o)throw new Error("Can't use matmul on the given tensors");var i=o.length,s=n.length,u=r.length,c="\n      float process(int indices["+i+"]) {\n          int a["+s+"];\n          int b["+u+"];\n          bcastMatmulIndices_A(indices, a);\n          bcastMatmulIndices_B(indices, b);\n\n          float value;\n          for (int k=0; k<"+n[n.length-1]+"; ++k) {\n              a["+(s-1)+"] = k;\n              b["+(u-2)+"] = k;\n              value += _A(a) * _B(b);\n          }\n          return value;\n      }";return{inputLayouts:t.map((function(t){return e.getOrCreateTextureLayout(t)})),outputLayout:e.createTextureLayoutFromShape(o),samplers:["A","B"],shaderSource:c}},t.prototype.createRunData=function(e,t,n){var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.MatMul);t.WebGLMatMul=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.getPadFunction=t.WebGLPad=void 0;var i=n(35),a=n(0),s=n(2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=a.ShapeUtil.padShape(t[0].dims.slice(),this.pads),r=n.length,o=e.getOrCreateTextureLayout(t[0]),i="\n      "+c(s.getGlsl(e.session.backend.glContext.version),"A",o,this.mode,this.pads,this.value)+"\n      float process(int["+r+"] indices) {\n          return padA(indices);\n      }";return{inputLayouts:[o],outputLayout:e.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:i}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.Pad);function c(e,t,n,r,o,i){switch(r){case"constant":return function(e,t,n,r,o,i,a,s){for(var u=n.length,c="",l=u-1;l>=0;--l)c+="\n          k = m["+l+"] - "+a[l]+";\n          if (k < 0)  return constant;\n          if (k >= "+n[l]+") return constant;\n          offset += k * "+r[l]+";\n          ";return"\n        float pad"+t+"(int m["+u+"]) {\n          const float constant = float("+s+");\n          int offset = 0;\n          int k = 0;\n          "+c+"\n          vec2 coords = offsetToCoords(offset, "+o+", "+i+");\n          float value = getColorAsFloat("+e.texture2D+"("+t+", coords));\n          return value;\n        }\n        "}(e,t,n.shape,n.strides,n.width,n.height,o,i);case"reflect":return function(e,t,n,r,o,i,a){for(var s=n.length,u="",c=s-1;c>=0;--c)u+="\n        k = m["+c+"] - "+a[c]+";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = "+2*(n[c]-1)+";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= "+n[c]+") { k = _2n_1 - k; }\n        }\n        offset += k * "+r[c]+";\n        ";return"\n      float pad"+t+"(int m["+s+"]) {\n        int offset = 0;\n        int k = 0;\n        "+u+"\n        vec2 coords = offsetToCoords(offset, "+o+", "+i+");\n        float value = getColorAsFloat("+e.texture2D+"("+t+", coords));\n        return value;\n      }\n      "}(e,t,n.shape,n.strides,n.width,n.height,o);case"edge":return function(e,t,n,r,o,i,a){for(var s=n.length,u="",c=s-1;c>=0;--c)u+="\n      k = m["+c+"] - "+a[c]+";\n      if (k < 0)  k = 0;\n      if (k >= "+n[c]+") k = "+(n[c]-1)+";\n      offset += k * "+r[c]+";\n      ";return"\n    float pad"+t+"(int m["+s+"]) {\n      int offset = 0;\n      int k = 0;\n      "+u+"\n      vec2 coords = offsetToCoords(offset, "+o+", "+i+");\n      float value = getColorAsFloat("+e.texture2D+"("+t+", coords));\n      return value;\n    }\n    "}(e,t,n.shape,n.strides,n.width,n.height,o);default:throw new Error("Invalid mode")}}t.WebGLPad=u,t.getPadFunction=c},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.offsetToIndices=t.copyArray=t.GeneratePoolingCode=t.WebGLMaxPool=t.WebGLGlobalMaxPool=t.WebGLAveragePool=t.WebGLGlobalAveragePool=void 0;var i=n(21),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){return c(e,t,!0,this.kernelShape,this.autoPad,this.strides,this.pads,this.countIncludePad)},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.GlobalAveragePool);t.WebGLGlobalAveragePool=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){return c(e,t,!1,this.kernelShape,this.autoPad,this.strides,this.pads,this.countIncludePad)},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.AveragePool);function c(e,t,n,r,o,i,s,u){void 0===r&&(r=[]),void 0===o&&(o=""),void 0===i&&(i=[]),void 0===s&&(s=[]);var c=t[0].dims.slice();a.PoolConvUtil.adjustPoolAttributes(n,c,r,i,s);var l=a.PoolConvUtil.computePoolOutputShape(n,c,i,r,s,o),d=a.ShapeUtil.size(r),p="";p+=u?"value /= float("+d+");":"value /= float("+d+" - pad);";var f=e.getOrCreateTextureLayout(t[0]),g="\n      "+h(f,r,s,i,"value += _X(x);",p,"0.0")+"\n    ";return{inputLayouts:[f],outputLayout:e.createTextureLayoutFromShape(l),samplers:["X"],shaderSource:g}}t.WebGLAveragePool=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){return p(e,t,!0,this.kernelShape,this.autoPad,this.strides,this.pads)},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.GlobalMaxPool);t.WebGLGlobalMaxPool=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){return p(e,t,!1,this.kernelShape,this.autoPad,this.strides,this.pads)},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.MaxPool);function p(e,t,n,r,o,i,s){void 0===r&&(r=[]),void 0===o&&(o=""),void 0===i&&(i=[]),void 0===s&&(s=[]);var u=t[0].dims.slice();a.PoolConvUtil.adjustPoolAttributes(n,u,r,i,s);var c=a.PoolConvUtil.computePoolOutputShape(n,u,i,r,s,o),l=e.createTextureLayoutFromShape(u),d="\n    "+h(l,r,s,i,"\n              value = max(_X(x), value);\n      ","","-1e5")+"\n  ";return{inputLayouts:[l],outputLayout:e.createTextureLayoutFromShape(c),samplers:["X"],shaderSource:d}}function h(e,t,n,r,o,i,s){var u=e.shape,c=e.shape.length;if(t.length<=2){var l,d=t[t.length-1],p=r[r.length-1],h=n[n.length/2-1],m=n[n.length-1],y=u[c-1],v="",b="";if(l=h+m!==0?"\n                for (int i = 0; i < "+d+"; i++) {\n                  x["+c+" - 1] = indices["+c+" - 1] * "+p+" - "+h+" + i;\n                  if (x["+c+" - 1] < 0 || x["+c+" - 1] >= "+y+") {\n                    pad++;\n                    continue;\n                  }\n                  "+o+"\n                }":"\n                for (int i = 0; i < "+d+"; i++) {\n                  x["+c+" - 1] = indices["+c+" - 1] * "+p+" - "+h+" + i;\n                  "+o+"\n                }",2===t.length){var _=t[t.length-2],w=r[r.length-2],S=n[n.length/2-2],I=n[n.length-2],x=u[c-2];v=S+I!==0?"\n              for (int j = 0; j < "+_+"; j++) {\n                x["+c+" - 2] = indices["+c+" - 2] * "+w+" - "+S+" + j;\n                if (x["+c+" - 2] < 0 || x["+c+" - 2] >= "+x+") {\n                  pad+= "+d+";\n                  continue;\n                }\n            ":"\n                for (int j = 0; j < "+_+"; j++) {\n                  x["+c+" - 2] = indices["+c+" - 2] * "+w+" - "+S+" + j;\n                ",b="\n              }\n            "}return"\n            float process(int indices["+c+"]) {\n              int x["+c+"];\n              copyVec(indices, x);\n\n              float value = "+s+";\n              int pad = 0;\n              "+v+"\n              "+l+"\n              "+b+"\n              "+i+"\n              return value;\n            }\n          "}var E=a.ShapeUtil.size(t),k=a.ShapeUtil.computeStrides(t),T=k.length,A=n.length,C=g(T),O=f(u,"inputDims"),P=f(n,"pads"),R=f(k,"kernelStrides");return"\n            "+C+"\n            float process(int indices["+c+"]) {\n                int x["+c+"];\n                copyVec(indices, x);\n                int offset["+T+"];\n                int pads["+A+"];\n                int inputDims["+c+"];\n                int kernelStrides["+T+"];\n                int strides["+T+"];\n                "+P+"\n                "+O+"\n                "+f(r,"strides")+"\n                "+R+"\n\n                float value = "+s+";\n                int pad = 0;\n                bool isPad = false;\n                for (int i = 0; i < "+E+"; i++) {\n                    offsetToIndices(i, kernelStrides, offset);\n                    isPad = false;\n                    for (int j = "+c+" - "+T+"; j < "+c+"; j++) {\n                      x[j] = indices[j] * strides[j - "+c+" + "+T+"]\n                        + offset[j - "+c+" + "+T+"] - pads[j - 2];\n                      "+(n.reduce((function(e,t){return e+t}))?"\n                if (x[j] >= inputDims[j] || x[j] < 0) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                "+o+"\n              }":"\n                  }\n                  "+o)+"\n                }\n                "+i+"\n\n                return value;\n            }"}function f(e,t){for(var n="",r=0;r<e.length;r++)n+="\n      "+t+"["+r+"] = "+e[r]+";\n    ";return n}function g(e){return"\n    void offsetToIndices(int offset, int["+e+"] strides, out int["+e+"] indices) {\n      if ("+e+" == 0) {\n        return;\n      }\n      for (int i = 0; i < "+e+" - 1; ++i) {\n        indices[i] = offset / strides[i];\n        offset -= indices[i] * strides[i];\n      }\n      indices["+e+" - 1] = offset;\n    }"}t.WebGLMaxPool=d,t.GeneratePoolingCode=h,t.copyArray=f,t.offsetToIndices=g},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLReduceSumSquare=t.WebGLReduceLogSum=t.WebGLReduceProd=t.WebGLReduceMin=t.WebGLReduceMax=t.WebGLReduceMean=t.WebGLReduceSum=void 0;var i=n(36),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){for(var n=[],r=t[0].dims.length||1,o=[],i=a.ShapeUtil.normalizeAxes(this.axes,t[0].dims.length),s=this.getOps(t,i),u=s[1],c=0;c<t[0].dims.length;c++)i.indexOf(c)>=0||0===i.length?(this.keepDims&&n.push(1),u="\n        for(int j"+c+" = 0; j"+c+" < "+t[0].dims[c]+"; j"+c+"++) {\n          inputIdx["+c+"] = j"+c+";\n          "+u+"\n        }\n        "):(o.push("inputIdx["+c+"] = outputIdx["+n.length+"];"),n.push(t[0].dims[c]));var l="\n      float process(int outputIdx["+(n.length||1)+"]) {\n        float value;                 // final result\n        int inputIdx["+r+"];      // addressing input data\n        "+o.join("\n")+"\n        "+s[0]+"       // init ops for reduce max/min\n        "+u+"\n        "+s[2]+"       // final computation for reduce mean\n        return value;\n      }";return{inputLayouts:t.map((function(t){return e.getOrCreateTextureLayout(t)})),outputLayout:e.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:l}},t.prototype.createRunData=function(e,t,n){var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.ReduceBase),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getOps=function(e){return["value = 0.0;","value += _A(inputIdx);",""]},t}(s);t.WebGLReduceSum=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getOps=function(e,t){for(var n=1,r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&(n*=e[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);","value /= "+n+".;"]},t}(s);t.WebGLReduceMean=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getOps=function(e,t){for(var n=[],r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx["+r+"] = 0;");return[n.join("\n")+"\nvalue = _A(inputIdx);","value = max(value, _A(inputIdx));",""]},t}(s);t.WebGLReduceMax=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getOps=function(e,t){for(var n=[],r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push("inputIdx["+r+"] = 0;");return[n.join("\n")+"\nvalue = _A(inputIdx);","value = min(value, _A(inputIdx));",""]},t}(s);t.WebGLReduceMin=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getOps=function(e){return["value = 1.0;","value *= _A(inputIdx);",""]},t}(s);t.WebGLReduceProd=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getOps=function(e){return["value = 0.0;","value += _A(inputIdx);","value = log(value);"]},t}(s);t.WebGLReduceLogSum=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getOps=function(e){return["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]},t}(s);t.WebGLReduceSumSquare=f},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSliceV10=t.WebGLSlice=void 0;var i=n(38),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){return c(e,t[0],this.starts,this.ends,this.axes)},t.prototype.createRunData=function(e,t,n){return l(e,t,n)},t}(i.Slice);t.WebGLSlice=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some((function(e){return 1!==e})))throw new Error("currently non-1 steps is not supported for Slice");var n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),o=t.length>=4?Array.from(t[3].integerData):[];return c(e,t[0],n,r,o)},t.prototype.createRunData=function(e,t,n){return l(e,t,n)},t}(i.SliceV10);function c(e,t,n,r,o){0===o.length&&(o=t.dims.slice(0).map((function(e,t){return t}))),o=a.ShapeUtil.normalizeAxes(o,t.dims.length),n=n.map((function(e,n){return e>t.dims[o[n]]-1?t.dims[o[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[o[n]])})),r=r.map((function(e,n){return e>t.dims[o[n]]-1?t.dims[o[n]]:a.ShapeUtil.normalizeAxis(e,t.dims[o[n]])}));for(var i=t.dims.slice(),s=[],u=0;u<o.length;u++)i[o[u]]=r[u]-n[u],n[u]>0&&s.push("outputIdx["+o[u]+"] += "+n[u]+";");var c="\n      float process(int outputIdx["+i.length+"]) {\n        "+s.join("\n      ")+"\n        return _A(outputIdx);\n      }";return{inputLayouts:[e.getOrCreateTextureLayout(t)],outputLayout:e.createTextureLayoutFromShape(i),samplers:["A"],shaderSource:c}}function l(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}}t.WebGLSliceV10=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSoftmax=void 0;var s=n(22),u=n(0),c=n(2),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.run=function(e,t){var n=this;this.artifacts||(this.artifacts=[],this.createProgramInfos(e,t).forEach((function(t,r){var o=e.session.programManager.build(t);n.artifacts.push(o)})));var r=this.createRunDatas(e,this.artifacts.map((function(e){return e.programInfo})),t);return r.forEach((function(t,r){return e.session.programManager.run(n.artifacts[r],t)})),[r[r.length-1].outputTextureData.tensor]},t.prototype.createSoftMaxProgramInfo=function(e,t,n,r,o,i){var a=t.dims.slice(),s=e.createTextureLayoutFromShape(a),u=a,c=u.length,l=s.width,d=s.height;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.shape.length||1!==i.shape.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o.shape[0]!==n||i.shape[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var p="\n    float process(int["+c+"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, "+l+", "+d+");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / "+r+";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }";return{inputLayouts:[s,o,i],outputLayout:e.createTextureLayoutFromShape(u),samplers:["A","Max","Norm"],shaderSource:p}},t.prototype.createComputScaleProgramInfo=function(e,t,n,r,o,i){var a=e.createTextureLayoutFromShape(t.dims.slice()),s=i.length,u=a.width,l=a.height;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length)throw new Error("Dimensionality of the output should be 1");if(i[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==o.shape.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o.shape[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var d="\n    float process(int["+s+"] indices) {\n\n      int logical_row_start_offset = indices[0] * "+r+";\n\n      float norm_factor = 0.0;\n      float max = _Max(indices);\n      for(int i=0; i<"+r+"; ++i)\n      {\n        norm_factor += exp(getColorAsFloat("+c.getGlsl(e.session.backend.glContext.version).texture2D+"(A, offsetToCoords(logical_row_start_offset + i, "+u+", "+l+"))) - max);\n      }\n\n      return norm_factor;\n    }";return{inputLayouts:[a,o],outputLayout:e.createTextureLayoutFromShape(i),samplers:["A","Max"],shaderSource:d}},t.prototype.createComputeMaxProgramInfo=function(e,t,n,r,o){var i=e.createTextureLayoutFromShape(t.dims.slice()),a=o.length,s=i.width,u=i.height;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");var l=c.getGlsl(e.session.backend.glContext.version),d="\n        float process(int["+a+"] indices) {\n\n          int logical_row_start_offset = indices[0] * "+r+";\n\n          float max = getColorAsFloat("+l.texture2D+"(A, offsetToCoords(logical_row_start_offset, "+s+", "+u+" )));\n          for(int i=1; i<"+r+"; ++i)\n          {\n            float current = getColorAsFloat("+l.texture2D+"(A, offsetToCoords(logical_row_start_offset + i, "+s+", "+u+")));\n            if(current > max)\n              max = current;\n          }\n\n          return max;\n        }";return{inputLayouts:[i],outputLayout:e.createTextureLayoutFromShape(o),samplers:["A"],shaderSource:d}},t.prototype.createProgramInfos=function(e,t){var n=t[0].dims.slice(),r=u.ShapeUtil.normalizeAxis(this.axis,n.length),o=u.ShapeUtil.sizeToDimension(n,r),i=u.ShapeUtil.sizeFromDimension(n,r),a=this.createComputeMaxProgramInfo(e,t[0],o,i,[o]),s=this.createComputScaleProgramInfo(e,t[0],o,i,a.outputLayout,[o]);return[a,s,this.createSoftMaxProgramInfo(e,t[0],o,i,a.outputLayout,s.outputLayout)]},t.prototype.createRunDatas=function(e,t,n){var r=n[0].type,o=e.getOrCreateTextureData(n[0],t[0].inputLayouts[0]),i=[];i.push({inputTextureDatas:[o],outputTextureData:e.createTextureDataFromLayout(t[0].outputLayout,r),uniformData:{}});for(var s=1;s<t.length;++s)i.push({inputTextureDatas:a(i[s-1].inputTextureDatas,[i[s-1].outputTextureData]),outputTextureData:e.createTextureDataFromLayout(t[s].outputLayout,r),uniformData:{}});return i},t}(s.Softmax);t.WebGLSoftmax=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSplit=void 0;var a=n(146),s=n(0),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=this;if(!this.artifacts){this.artifacts=[];for(var r=s.ShapeUtil.normalizeAxis(this.axis,t[0].dims.length),o=this.getProgramCount(e,t,r),i=0;i<o;++i){var a=this.createProgramInfo(e,t[0],r,i),u=e.session.programManager.build(a);this.artifacts.push(u)}}var c=[];return this.artifacts.forEach((function(r){var o=n.createRunData(e,r.programInfo,t);e.session.programManager.run(r,o),c.push(o.outputTextureData.tensor)})),c},t.prototype.getProgramCount=function(e,t,n){return i(s.SplitUtil.splitShape(t[0].dims,n,this.split,this.numOutputs),2)[1].length},t.prototype.createProgramInfo=function(e,t,n,r){var o=i(s.SplitUtil.splitShape(t.dims,n,this.split,this.numOutputs),2),a=o[0],u=o[1][r],c=a[r],l="\n      float process(int indices["+c.length+"]) {\n        indices["+n+"] += "+u+";\n        return _A(indices);\n      }";return{inputLayouts:[e.getOrCreateTextureLayout(t)],outputLayout:e.createTextureLayoutFromShape(c),samplers:["A"],shaderSource:l}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(a.Split);t.WebGLSplit=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Split=void 0;var r=function(){function e(e){this.numOutputs=e}return e.prototype.initialize=function(e){this.axis=e.getInt("axis",0),this.split=e.getInts("split",[])},e.prototype.checkInputs=function(e){return!(!e||1!==e.length)&&this.checkInputTypes(e)},e.prototype.checkInputTypes=function(e){return"int8"===e[0].type||"uint8"===e[0].type||"int16"===e[0].type||"uint16"===e[0].type||"int32"===e[0].type||"uint32"===e[0].type||"float32"===e[0].type||"float64"===e[0].type||"bool"===e[0].type},e}();t.Split=r},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSqueeze=void 0;var i=n(39),a=n(0),s=n(10),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=a.ShapeUtil.squeezeShape(t[0].dims,this.axes);return[s.reshape(e,t[0],n)]},t}(i.Squeeze);t.WebGLSqueeze=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSum=void 0;var i=n(23),a=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=a.getGlsl(e.session.backend.glContext.version),r=t[0].dims.slice(),o=t.map((function(e,t){return n.texture2D+"(X"+t+",TexCoords)"})).join(" + "),i=t.map((function(e,t){return"X"+t}));return{inputLayouts:t.map((function(t){return e.getOrCreateTextureLayout(t)})),outputLayout:e.createTextureLayoutFromShape(r),samplers:i,shaderSource:"\n      void main() {\n        vec4 result = "+o+";\n        "+n.output+" = result;\n      }",hasMain:!0}},t.prototype.createRunData=function(e,t,n){var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.Sum);t.WebGLSum=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLTile=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){for(var n=t[0].dims.slice(),r=new Array(n.length),o=[],i=0;i<n.length;i++)r[i]=n[i]*t[1].numberData[i],o.push("inputIdx["+i+"] = int(mod(float(outputIdx["+i+"]), "+n[i]+".));");var a=r.length,s="\n    float process(int outputIdx["+a+"]) {\n      int inputIdx["+a+"];\n      "+o.join("\n")+"\n      return _A(inputIdx);\n    }";return{inputLayouts:t.map((function(t){return e.getOrCreateTextureLayout(t)})),outputLayout:e.createTextureLayoutFromShape(r),samplers:["A"],shaderSource:s}},t.prototype.createRunData=function(e,t,n){var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(n(40).Tile);t.WebGLTile=i},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLTranspose=void 0;var s=n(41),u=n(0),c=n(5),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.getOutputShape=function(e){var t=this.getAdjustedPerm(e[0]);return u.ShapeUtil.sortBasedOnPerm(e[0],t)},t.prototype.createProgramInfo=function(e,t){var n=t.map((function(e){return e.dims.slice()})),r=this.getAdjustedPerm(n[0]),o=this.getOutputShape(n),i=t[0].dims.length,a="\n      "+this.getPermFunctionBody("perm",r,i)+"\n      float process(int indices["+i+"]) {\n        int a["+i+"];\n        perm(a, indices);\n        return _A(a);\n      }",s=e.createTextureLayoutFromShape(o,1,o);return{inputLayouts:[e.getOrCreateTextureLayout(t[0])],outputLayout:s,samplers:["A"],shaderSource:a}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t.prototype.getPositionalFunction=function(e,t,n){var r=this.getOutputShape([t]);return n||(n="perm"),{name:n,body:this.getPermFunctionBody(n,this.getAdjustedPerm(t),r.length),type:c.FunctionType.Positional,inputShape:t,outputShape:r}},t.prototype.getAdjustedPerm=function(e){var t=this.perm;return t&&t.length!==e.length&&(t=a(e.keys()).reverse()),t},t.prototype.getPermFunctionBody=function(e,t,n){var r=[];r.push("void "+e+"(out int a["+n+"], int src["+n+"]) {");for(var o=0;o<n;++o)r.push("\ta["+t[o]+"]=src["+o+"];");return r.push("\t}"),r.join("\n")},t}(s.Transpose);t.WebGLTranspose=l},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslIdentity=t.glslFloor=t.glslExp=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=t.WebGLUnaryOp=void 0;var i=n(43),a=n(5),s=n(2),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.typeConstraint=t,r.glslFunc=n,r}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){var n=t[0].dims.slice(),r=e.getOrCreateTextureLayout(t[0]),o=s.getGlsl(e.session.backend.glContext.version),i="\n      "+this.glslFunc.body+"\n      void main() {\n        vec4 v = "+o.texture2D+"(A, TexCoords);\n        v = "+this.glslFunc.name+"(v);\n        "+o.output+" = v;\n      }\n      ";return{inputLayouts:[r],outputLayout:e.createTextureLayoutFromShape(n),samplers:["A"],shaderSource:i,hasMain:!0}},t.prototype.createRunData=function(e,t,n){var r=[e.getOrCreateTextureData(n[0],t.inputLayouts[0])];return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{}}},t}(i.UnaryOp);function c(e){var t=e+"_";return{body:"\n  float "+t+"(float a) {\n    return "+e+"(a);\n  }\n  vec4 "+t+"(vec4 v) {\n    return "+e+"(v);\n  }\n  ",name:t,type:a.FunctionType.ValueBased}}t.WebGLUnaryOp=u,t.glslAbs=function(){return c("abs")},t.glslAcos=function(){return c("acos")},t.glslAsin=function(){return c("asin")},t.glslAtan=function(){return c("atan")},t.glslCeil=function(){return c("ceil")},t.glslCos=function(){return c("cos")},t.glslExp=function(){return c("exp")},t.glslFloor=function(){return c("floor")},t.glslIdentity=function(){return{body:"\n  float indentity_(float a) {\n    return a;\n  }\n  vec4 indentity_(vec4 v) {\n    return v;\n  }\n  ",name:"indentity_",type:a.FunctionType.ValueBased}},t.glslLog=function(){return c("log")},t.glslNeg=function(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg_",type:a.FunctionType.ValueBased}},t.glslNot=function(){return{body:"\n  float not_(float a) {\n    return float( ! bool(a) );\n  }\n  bool not_(bool a) {\n    return !a;\n  }\n  vec4 not_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 not_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  ",name:"not_",type:a.FunctionType.ValueBased}},t.glslSin=function(){return c("sin")},t.glslRelu=function(){return{body:"\n  float relu_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 relu_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  ",name:"relu_",type:a.FunctionType.ValueBased}},t.glslSigmoid=function(){return{body:"\n  float sigmoid_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 sigmoid_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  ",name:"sigmoid_",type:a.FunctionType.ValueBased}},t.glslSqrt=function(){return c("sqrt")},t.glslTan=function(){return c("tan")},t.glslTanh=function(){return{body:"\n  float tanh_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 tanh_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  ",name:"tanh_",type:a.FunctionType.ValueBased}}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUnsqueeze=void 0;var i=n(44),a=n(0),s=n(10),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){var n=a.ShapeUtil.unsqueezeShape(t[0].dims,this.axes);return[s.reshape(e,t[0],n)]},t}(i.Unsqueeze);t.WebGLUnsqueeze=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUpsample=void 0;var i=n(45),a=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.run=function(e,t){return e.run(this,t)},t.prototype.createProgramInfo=function(e,t){for(var n=this,r=e.getOrCreateTextureLayout(t[0]),o=t[0].dims.map((function(e,t){return Math.floor(e*n.scales[t])})),i=e.createTextureLayoutFromShape(o),s=o.length,u=a.getGlsl(e.session.backend.glContext.version),c=new Array(s),l=new Array(s),d="\n      int output_pitches["+s+"];\n      int input_pitches["+s+"];\n      ",p=s-1;p>=0;p--)c[p]=p===s-1?1:c[p+1]*o[p+1],l[p]=p===s-1?1:l[p+1]*t[0].dims[p+1],d+="\n      output_pitches["+p+"] = "+c[p]+";\n      input_pitches["+p+"] = "+l[p]+";\n      ";var h="\n    float getInputFloat(int index) {\n      vec2 coords = offsetToCoords(index, "+r.width+", "+r.height+");\n      float value = getColorAsFloat("+u.texture2D+"(X, coords));\n      return value;\n    }\n    ";return{inputLayouts:[r],outputLayout:i,samplers:["X"],shaderSource:"nearest"===this.mode?"\n      "+h+"\n      float process(int indices["+s+"]) {\n        int input_index = 0;\n        int output_index = coordsToOffset(TexCoords, "+i.width+", "+i.height+");\n\n        "+d+"\n\n        int d, m;\n        for (int dim = 0; dim < "+s+"; ++dim) {\n          d = output_index / output_pitches[dim];\n          m = output_index - d * output_pitches[dim];\n          output_index = m;\n\n          if (scales[dim] != 1 && d > 0) {\n            int d2 = d / scales[dim];\n            m = d - d2 * scales[dim];\n            d = d2;\n          }\n          input_index += input_pitches[dim] * d;\n        }\n\n        return getInputFloat(input_index);\n      }":4===s?"\n      "+h+"\n      float process(int indices[4]) {\n        int input_index = 0;\n        int output_index = coordsToOffset(TexCoords, "+i.width+", "+i.height+");\n\n        "+d+"\n\n        int m;\n        int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n        index_of_dim0 = output_index / output_pitches[0];\n        m = output_index - index_of_dim0 * output_pitches[0];\n        index_of_dim1 = m / output_pitches[1];\n        m = m - index_of_dim1 * output_pitches[1];\n        index_of_dim2 = m / output_pitches[2];\n        m = m - index_of_dim2 * output_pitches[2];\n        index_of_dim3 = m;\n\n        int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n        index_of_input_dim2 = index_of_dim2 / scales[2];\n        y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n        index_of_input_dim3 = index_of_dim3 / scales[3];\n        x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n        input_index = index_of_dim0 * input_pitches[0] +\n                      index_of_dim1 * input_pitches[1] +\n                      index_of_input_dim2 * input_pitches[2] +\n                      index_of_input_dim3;\n\n        float x00 = getInputFloat(input_index);\n        float x10, x01, x11;\n\n        bool end_of_dim2 = false;\n        if (index_of_input_dim2 == ("+t[0].dims[2]+" - 1)) {\n          // It's the end in dimension 2\n          x01 = x00;\n          end_of_dim2 = true;\n        } else {\n          x01 = getInputFloat(input_index + input_pitches[2]);\n        }\n\n        if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n          // It's the end in dimension 3\n          x10 = x00;\n          x11 = x01;\n        }\n        else {\n          x10 = getInputFloat(input_index + 1);\n          x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n        }\n\n        float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n        float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n        return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n      }":"\n      "+h+"\n      float process(int indices[2]) {\n        int input_index = 0;\n        int output_index = coordsToOffset(TexCoords, "+i.width+", "+i.height+");\n\n        "+d+"\n\n        int m;\n        int index_of_dim0, index_of_dim1;\n        index_of_dim0 = output_index / output_pitches[0];\n        m = output_index - index_of_dim0 * output_pitches[0];\n        index_of_dim1 = m;\n\n        int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n        index_of_input_dim0 = index_of_dim0 / scales[0];\n        y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n        index_of_input_dim1 = index_of_dim1 / scales[1];\n        x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n        input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n        float x00 = getInputFloat(input_index);\n        float x10, x01, x11;\n\n        bool end_of_dim0 = false;\n        if (index_of_input_dim0 == ("+t[0].dims[0]+" - 1)) {\n          // It's the end in dimension 0\n          x01 = x00;\n          end_of_dim0 = true;\n        } else {\n          x01 = getInputFloat(input_index + input_pitches[0]);\n        }\n\n        if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n          // It's the end in dimension 1\n          x10 = x00;\n          x11 = x01;\n        }\n        else {\n          x10 = getInputFloat(input_index + 1);\n          x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n        }\n\n        float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n        float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n        return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n      }",variables:[{name:"scales",type:"int",arrayLength:this.scales.length}]}},t.prototype.createRunData=function(e,t,n){var r=n.map((function(n,r){return e.getOrCreateTextureData(n,t.inputLayouts[r])}));return{inputTextureDatas:r,outputTextureData:e.createTextureDataFromLayout(t.outputLayout,r[0].tensor.type),uniformData:{scales:this.scales.map((function(e){return Math.ceil(e)}))}}},t}(i.Upsample);t.WebGLUpsample=s},function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;var i=n(25),a=n(3),s=n(155),u=n(2),c=function(){function e(e,t){this.profiler=e,this.glContext=t,this.repo=new Map,this.attributesBound=!1}return e.prototype.getArtifact=function(e){return this.repo.get(e)},e.prototype.setArtifact=function(e,t){this.repo.set(e,t)},e.prototype.run=function(e,t){var n=this;this.profiler.event("backend","ProgramManager.run",(function(){var r=n.glContext.gl,o=e.program;r.useProgram(o);try{n.bindOutput(t.outputTextureData),n.attributesBound||n.bindAttributes(e.attribLocations),n.bindUniforms(e.uniformLocations,t.uniformData,t.inputTextureDatas)}catch(t){throw a.Logger.error("ProgramManager",e.programInfo.shaderSource),t}n.profiler.event("backend","GlContext.draw()",(function(){n.doDraw(e,t),r.flush()}))}))},e.prototype.dispose=function(){var e=this;this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((function(t){return e.glContext.deleteProgram(t.program)}))},e.prototype.build=function(e){var t=this;return this.profiler.event("backend","ProgramManager.build",(function(){var n=new s.GlslPreprocessor(t.glContext,e),r=n.preprocess(),o=t.compile(r);return{programInfo:e,program:o,uniformLocations:t.getUniformLocations(o,n.context.programInfo.samplers,n.context.programInfo.variables),attribLocations:t.getAttribLocations(o)}}))},e.prototype.doDraw=function(e,t){t.draw?(a.Logger.verbose("ProgramManager","Custom draw function"),t.draw(this.glContext,e)):this.glContext.draw()},e.prototype.compile=function(e){if(!this.vertexShader){a.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");var t=u.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(t,this.glContext.gl.VERTEX_SHADER)}i.env.debug&&a.Logger.verbose("ProrgramManager","FragShader:\n"+e+"\n");var n=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),r=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),r},e.prototype.bindOutput=function(e){a.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h="+e.width+"/"+e.height+", shape="+e.shape+", type="+e.tensor.type),this.glContext.attachFramebuffer(e.texture,e.width,e.height)},e.prototype.bindAttributes=function(e){var t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0},e.prototype.bindUniforms=function(e,t,n){var r,i,a=this.glContext.gl,s=0;try{for(var u=o(e),c=u.next();!c.done;c=u.next()){var l=c.value,d=l.name,p=l.type,h=l.location,f=l.arrayLength;switch(p){case"sampler2D":this.bindTexture(n[s],h,s),s++;break;case"float":f?a.uniform1fv(h,t[d]):a.uniform1f(h,t[d]);break;case"int":f?a.uniform1iv(h,t[d]):a.uniform1i(h,t[d]);break;default:throw new Error("Uniform not implemented: "+p)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},e.prototype.bindTexture=function(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)},e.prototype.getAttribLocations=function(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}},e.prototype.getUniformLocations=function(e,t,n){var i,a,s,u,c=[];if(t)try{for(var l=o(t),d=l.next();!d.done;d=l.next()){var p=d.value;c.push({name:p,type:"sampler2D",location:this.getUniformLocation(e,p)})}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(n)try{for(var h=o(n),f=h.next();!f.done;f=h.next()){var g=f.value;c.push(r(r({},g),{location:this.getUniformLocation(e,g.name)}))}}catch(e){s={error:e}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}return c},e.prototype.getUniformLocation=function(e,t){var n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error("Uniform "+t+" not found.");return n},e.prototype.getAttribLocation=function(e,t){return this.glContext.gl.getAttribLocation(e,t)},e}();t.ProgramManager=c},function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;var o=n(5),i=n(156),a=n(157),s=n(2),u=function(){function e(e,t){var n=this;this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new o.GlslContext(e,t),Object.keys(a.glslRegistry).forEach((function(e){var t=new a.glslRegistry[e](n.context);n.libs[e]=t}));var r=this.glslLibRoutineDependencyGraph;for(var i in this.libs){var s=this.libs[i].getFunctions();for(var u in s){var c=i+"."+u,l=void 0;r[c]?(l=r[c]).routineBody=s[u].routineBody:(l=new o.GlslLibRoutineNode(c,s[u].routineBody),r[c]=l);var d=s[u].dependencies;if(d)for(var p=0;p<d.length;++p)if(r[d[p]])l.addDependency(r[d[p]]);else{var h=new o.GlslLibRoutineNode(d[p]);r[d[p]]=h,l.addDependency(h)}}}}return e.prototype.preprocess=function(){var e=this.context.programInfo,t=e.shaderSource;return this.context.programInfo.hasMain||(t=t+"\n      "+s.getDefaultFragShaderMain(this.context.glContext.version,e.outputLayout.shape.length)),t=i.replaceInlines(t),s.getFragShaderPreamble(this.context.glContext.version)+"\n    "+this.getUniforms(e.samplers,e.variables)+"\n    "+this.getImports(t)+"\n    "+t},e.prototype.getImports=function(e){var t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";for(var n="",r=0;r<t.length;++r){if(!t[r].routineBody)throw new Error("Missing body for the Glsl Library routine: "+t[r].name);n+=t[r].routineBody+"\n"}return n},e.prototype.selectGlslLibRoutinesToBeIncluded=function(e){var t=this,n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((function(r){var o=r.split(".")[1];-1!==e.indexOf(o)&&n.push(t.glslLibRoutineDependencyGraph[r])})),o.TopologicalSortGlslRoutines.returnOrderedNodes(n)},e.prototype.getUniforms=function(e,t){var n,o,i,a,s=[];if(e)try{for(var u=r(e),c=u.next();!c.done;c=u.next()){var l=c.value;s.push("uniform sampler2D "+l+";")}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}if(t)try{for(var d=r(t),p=d.next();!p.done;p=d.next()){var h=p.value;s.push("uniform "+h.type+" "+h.name+(h.arrayLength?"["+h.arrayLength+"]":"")+";")}}catch(e){i={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return s.join("\n")},e}();t.GlslPreprocessor=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;var r=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){for(var t,n={};null!==(t=r.exec(e));){var o=t[3].split(",").map((function(e){var t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null})).filter((function(e){return null!==e}));n[t[2]]={params:o,body:t[4]}}for(var i in n)for(var a="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",i),s=new RegExp(a,"gm"),u=function(){var r=t[1],o=t[2],a=t[3].split(","),s=r?r+" "+o+";":"",u=n[i].body,c="";n[i].params.forEach((function(e,t){e&&(c+=e.type+" "+e.name+" = "+a[t]+";\n")}));var l="\n      "+s+"\n      {\n        "+(u=(u=c+"\n "+u).replace("return",o+" = "))+"\n      }\n      ";e=e.replace(t[0],l)};null!==(t=s.exec(e));)u();return e=e.replace(r,"")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;var r=n(158),o=n(159),i=n(160),a=n(161),s=n(162);t.glslRegistry={encoding:o.EncodingGlslLib,fragcolor:i.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:a.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;var a=n(5),s=n(2),u=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getFunctions=function(){return i(i(i(i({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom())},t.prototype.getCustomTypes=function(){return{}},t.prototype.offsetToCoords=function(){return{offsetToCoords:new a.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}},t.prototype.coordsToOffset=function(){return{coordsToOffset:new a.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}},t.prototype.toVec=function(){for(var e=this.context.programInfo.outputLayout,t=e.shape.length,n=e.strides,r=e.width,o=e.height,i=[],s=0;s<t-1;++s)i.push("\n        c["+s+"] = offset / "+n[s]+";"),i.push("\n        offset -= c["+s+"] * "+n[s]+";");i.push("\n        c["+(t-1)+"] = offset;");var u="\n      void toVec(vec2 texCoords, out int c["+t+"]) {\n        int offset = coordsToOffset(texCoords, "+r+", "+o+");\n        "+i.join("")+"\n      }\n      void toVec(int offset, out int c["+t+"]) {\n        "+i.join("")+"\n      }\n    ";return{toVec:new a.GlslLibRoutine(u,["coordinates.coordsToOffset"])}},t.prototype.valueFrom=function(){var e=this,t=this.context.programInfo,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=t.inputLayouts[o],s=i.shape.length,u="_"+r;n[u]=new a.GlslLibRoutine(e.getValueFromSingle(r,s,i.width,i.height,!1),["shapeUtils.indicesToOffset"+u,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),n[u+="_T"]=new a.GlslLibRoutine(e.getValueFromSingle(r,s,i.width,i.height,!0),["shapeUtils.indicesToOffset"+u,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),n},t.prototype.getValueFromSingle=function(e,t,n,r,o){var i="_"+e;return o&&(i+="_T"),"\n        float "+i+"(int m["+t+"]) {\n          int offset = indicesToOffset"+i+"(m);\n          vec2 coords = offsetToCoords(offset, "+n+", "+r+");\n          float value = getColorAsFloat("+s.getGlsl(this.context.glContext.version).texture2D+"("+e+", coords));\n          return value;\n        }\n        "},t}(a.GlslLib);t.CoordsGlslLib=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;var a=n(5),s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getFunctions=function(){return i(i({},this.encodeFloat32()),this.decodeFloat32())},t.prototype.getCustomTypes=function(){return{}},t.prototype.encodeFloat32=function(){return{encode:new a.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}},t.prototype.decodeFloat32=function(){return{decode:new a.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}},t.prototype.encodeUint8=function(){var e=t.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        "+e+"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        ")}},t.prototype.decodeUint8=function(){var e=t.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          "+e+"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        ")}},t.isLittleEndian=function(){var e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")},t}(a.GlslLib);t.EncodingGlslLib=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;var a=n(5),s=n(2),u=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getFunctions=function(){return i(i({},this.setFragColor()),this.getColorAsFloat())},t.prototype.getCustomTypes=function(){return{}},t.prototype.setFragColor=function(){var e=s.getGlsl(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine("\n        void setFragColor(float value) {\n            "+e.output+" = encode(value);\n        }\n        ",["encoding.encode"])}},t.prototype.getColorAsFloat=function(){return{getColorAsFloat:new a.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}},t}(a.GlslLib);t.FragColorGlslLib=u},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;var a=n(5),s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getFunctions=function(){return i(i(i(i(i({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())},t.prototype.getCustomTypes=function(){return{}},t.prototype.bcastIndex=function(){var e=this.context.programInfo,t=e.outputLayout.shape.length,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=e.inputLayouts[o].shape;if(i.length<=t){for(var s=i.length,u=t-s,c="bcastIndices_"+r,l="",d=0;d<s;++d)l+="\n          realIndices["+d+"] = int( mod(float(bcastedIndices["+(u+d)+"]), "+i[d]+".0) );\n          ";var p="\n        void "+c+" (int bcastedIndices["+t+"], out int realIndices["+s+"]) {\n          "+l+"\n        }\n        ";n[c]=new a.GlslLibRoutine(p)}})),n},t.prototype.bcastMatmulIndex=function(){var e=this.context.programInfo,t=e.outputLayout.shape.length,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=e.inputLayouts[o].shape;if(!(i.length<2||i.length>t)){for(var s=i.length,u=t-s,c="bcastMatmulIndices_"+r,l="",d=0;d<s-2;++d)l+="\n          realIndices["+d+"] = int( mod(float(bcastedIndices["+(u+d)+"]), "+i[d]+".0) );\n          ";var p="\n        void "+c+"(int bcastedIndices["+t+"], out int realIndices["+s+"]) {\n          "+l+"\n          realIndices["+(s-1)+"] = bcastedIndices["+(t-1)+"];\n          realIndices["+(s-2)+"] = bcastedIndices["+(t-2)+"];\n        }\n        ";n[c]=new a.GlslLibRoutine(p)}})),n},t.prototype.indicesToOffset=function(){var e=this.context.programInfo,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=e.inputLayouts[o].shape,s=e.inputLayouts[o].strides,u=i.length,c="indicesToOffset_"+r;n[c]=new a.GlslLibRoutine(t.indexToOffsetSingle(c,u,s)),n[c="indicesToOffset_"+r+"_T"]=new a.GlslLibRoutine(t.indexToOffsetSingle(c,u,s.slice().reverse()))})),n},t.indexToOffsetSingle=function(e,t,n){for(var r="",o=t-1;o>=0;--o)r+="\n        offset += indices["+o+"] * "+n[o]+";\n        ";return"\n      int "+e+"(int indices["+t+"]) {\n        int offset = 0;\n        "+r+"\n        return offset;\n      }\n      "},t.prototype.offsetToIndices=function(){var e=this.context.programInfo,n={};return this.context.programInfo.samplers.forEach((function(r,o){var i=e.inputLayouts[o].shape,s=e.inputLayouts[o].strides,u=i.length,c="offsetToIndices_"+r;n[c]=new a.GlslLibRoutine(t.offsetToIndicesSingle(c,u,s)),n[c="offsetToIndices_"+r+"_T"]=new a.GlslLibRoutine(t.offsetToIndicesSingle(c,u,s.slice().reverse()))})),n},t.offsetToIndicesSingle=function(e,t,n){for(var r=[],o=0;o<t-1;++o)r.push("\n      indices["+o+"] = offset / "+n[o]+";"),r.push("\n        offset -= indices["+o+"] * "+n[o]+";");return r.push("\n      indices["+(t-1)+"] = offset;"),"\n      void "+e+"(int offset, out int indices["+t+"]) {\n        "+r.join("")+"\n      }\n      "},t.prototype.incrementIndices=function(){var e=this.context.programInfo,t={};return this.context.programInfo.samplers.forEach((function(n,r){for(var o=e.inputLayouts[r].shape,i=o.length,s="incrementIndices_"+n,u="",c=0;c<i;++c)u+="\n        shape["+c+"] = "+o[c]+";";var l="\n        void "+s+"(int axis, out int indices["+i+"]) {\n          int shape["+i+"];\n          "+u+";\n          for(int i = "+i+" -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ";t[s]=new a.GlslLibRoutine(l)})),t},t}(a.GlslLib);t.ShapeUtilsGlslLib=s},function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;var a=n(5),s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getCustomTypes=function(){return{}},t.prototype.getFunctions=function(){return i(i(i(i({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())},t.prototype.binaryVecFunctions=function(){var e=this.context.programInfo.outputLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(var r in t){for(var o=r+"Vec",i="",s=0;s<e;++s)i+="\n          dest["+s+"] "+t[r]+" src["+s+"];\n          ";var u="\n        void "+o+"(int src["+e+"], out int dest["+e+"]) {\n          "+i+"\n        }\n        ";n[o]=new a.GlslLibRoutine(u)}return n},t.prototype.copyVec=function(){for(var e=this.context.programInfo.outputLayout.shape.length,t="",n=0;n<e;++n)t+="\n        dest["+n+"] = src["+n+"];\n        ";var r="\n      void copyVec(int src["+e+"], out int dest["+e+"]) {\n        "+t+"\n      }\n      ";return{copyVec:new a.GlslLibRoutine(r)}},t.prototype.setVecItem=function(){for(var e=this.context.programInfo.outputLayout.shape.length,t="\n        if(index < 0)\n            index ="+e+" + index;\n        if (index == 0)\n            m[0] = value;\n        ",n=1;n<e-1;++n)t+="\n        else if (index == "+n+")\n            m["+n+"] = value;\n            ";var r="\n      void setVecItem(out int m["+e+"], int index, int value) {\n        "+(t+="\n        else\n            m["+(e-1)+"] = value;\n        ")+"\n      }\n        ";return{setVecItem:new a.GlslLibRoutine(r)}},t.prototype.getVecItem=function(){for(var e=this.context.programInfo.outputLayout.shape.length,t="\n        if(index < 0)\n            index = "+e+" + index;\n        if (index == 0)\n            return m[0];\n      ",n=1;n<e-1;++n)t+="\n        else if (index == "+n+")\n            return m["+n+"];\n      ";var r="\n      int getVecItem(int m["+e+"], int index) {\n        "+(t+="\n        else\n            return m["+(e-1)+"];\n        ")+"\n      }\n    ";return{getVecItem:new a.GlslLibRoutine(r)}},t}(a.GlslLib);t.VecGlslLib=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysKeepOriginalSizeStrategy=void 0;var r=n(3),o=function(){function e(e){this.maxTextureSize=e}return e.prototype.computeTextureWH=function(e,t){if(0===e.length)return[1,1];var n=this.maxTextureSize;if(t){var o=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((function(e,t){return e*t})),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((function(e,t){return e*t}));if(!(o>n||i>n))return[o,i];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:"+e+", breakAxis:"+t.breakAxis)}for(var a=e.reduce((function(e,t){return e*t})),s=Math.floor(Math.sqrt(a));s<n&&s<a&&a%s!=0;s++);if(s>=n||a%s!=0)throw new Error("The given dimensions are outside this GPU's boundaries: "+e);return[s,a/s]},e}();t.AlwaysKeepOriginalSizeStrategy=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;var r=n(3),o=function(){function e(e,t,n,r){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=r,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}return e.prototype.createTextureFromLayout=function(e,t,n,o){var i,a,s=this.toEncoderType(e),u=this.glContext.getEncoder(s,t.channels||1,o);if(this.config.reuseTextures){i=t.width+"x"+t.height+"_"+u.format+"_"+u.internalFormat+"_"+u.textureType,(a=this.inUseTextures.get(i))||(a=[],this.inUseTextures.set(i,a));var c=this.idleTextures.get(i);if(c&&c.length>0){var l=c.pop();return a.push(l),1===o&&this.glContext.updateTexture(l,t.width,t.height,u,this.toTextureData(e,n)),l}}r.Logger.verbose("TextureManager","Creating new texture of size "+t.width+"x"+t.height);var d=this.glContext.allocateTexture(t.width,t.height,u,this.toTextureData(e,n));return this.config.reuseTextures&&(a.push(d),this.textureLookup.set(d,i)),d},e.prototype.readTexture=function(e,t,n){var r=this;return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(function(){var o=e.shape.reduce((function(e,t){return e*t}))*n,i=r.glContext.readTexture(e.texture,e.width,e.height,o,r.toEncoderType(t),n);return r.toTensorData(t,i)}))},e.prototype.readUint8TextureAsFloat=function(e){var t=this;return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(function(){var n=e.shape.reduce((function(e,t){return e*t})),r=t.glContext.readTexture(e.texture,e.width,e.height,4*n,"byte",4);return new Float32Array(r.buffer,r.byteOffset,n)}))},e.prototype.releaseTexture=function(e,t){var n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture))){t&&this.textureLookup.delete(n);var o=this.inUseTextures.get(n);if(o){var i=o.indexOf(e.texture);if(-1!==i){o.splice(i,1);var a=this.idleTextures.get(n);a||(a=[],this.idleTextures.set(n,a)),a.push(e.texture)}}}n&&!t||(r.Logger.verbose("TextureManager","Deleting texture of size "+e.width+"x"+e.height),this.glContext.deleteTexture(e.texture))},e.prototype.toTensorData=function(e,t){return t instanceof Float32Array?t:new Float32Array(t)},e.prototype.toTextureData=function(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)},e.prototype.toEncoderType=function(e){return"float"},e.prototype.clearActiveTextures=function(){this.glContext.clearActiveTextures()},e}();t.TextureManager=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;var r=n(3),o=n(166),i={};function a(e){var t,n=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,e}(),i={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(t=n.getContext("webgl2",i)))try{return new o.WebGLContext(t,2)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: "+e)}if((!e||"webgl"===e)&&(t=n.getContext("webgl",i)||n.getContext("experimental-webgl",i)))try{return new o.WebGLContext(t,1)}catch(e){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: "+e)}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){var n;t&&"webgl2"!==t||!("webgl2"in i)?t&&"webgl"!==t||!("webgl"in i)||(n=i.webgl):n=i.webgl2,n=n||a(t),t=t||1===n.version?"webgl":"webgl2";var r=n.gl;return i[t]=n,r.isContextLost()?(delete i[t],e(t)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},t.createNewWebGLContext=a},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var a=n(25),s=i(n(167)),u=function(){function e(e,t){this.frameBufferBound=!1,this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}return e.prototype.allocateTexture=function(e,t,n,r){var o=this.gl,i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);var a=r?n.encode(r,e*t):null;return o.texImage2D(o.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,a),this.checkError(),i},e.prototype.updateTexture=function(e,t,n,r,o){var i=this.gl;i.bindTexture(i.TEXTURE_2D,e);var a=r.encode(o,t*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,a),this.checkError()},e.prototype.attachFramebuffer=function(e,t,n){var r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n)},e.prototype.readTexture=function(e,t,n,r,o,i){var a=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);var s=this.getEncoder(o,i),u=s.allocate(t*n);return a.bindTexture(a.TEXTURE_2D,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.readPixels(0,0,t,n,a.RGBA,s.textureType,u),this.checkError(),s.decode(u,r)},e.prototype.isFramebufferReady=function(){return!0},e.prototype.getActiveTexture=function(){var e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)},e.prototype.getTextureBinding=function(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)},e.prototype.getFramebufferBinding=function(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)},e.prototype.setVertexAttributes=function(e,t){var n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()},e.prototype.createProgram=function(e,t){var n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r},e.prototype.compileShader=function(e,t){var n=this.gl,r=n.createShader(t);if(!r)throw new Error("createShader() returned null with type "+t);if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: "+n.getShaderInfoLog(r));return r},e.prototype.deleteShader=function(e){this.gl.deleteShader(e)},e.prototype.bindTextureToUniform=function(e,t,n){var r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError()},e.prototype.draw=function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()},e.prototype.checkError=function(){if(a.env.debug){var e=this.gl,t=e.getError(),n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: "+t.toString(16)}throw new Error(n)}},e.prototype.deleteTexture=function(e){this.gl.deleteTexture(e)},e.prototype.deleteProgram=function(e){this.gl.deleteProgram(e)},e.prototype.getEncoder=function(e,t,n){if(void 0===n&&(n=0),2===this.version)return new s.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,t):new s.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,t);default:throw new Error("Invalid dataType: "+e)}},e.prototype.clearActiveTextures=function(){for(var e=this.gl,t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)},e.prototype.dispose=function(){if(!this.disposed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}},e.prototype.createDefaultGeometry=function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])},e.prototype.createVertexbuffer=function(){var e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");var n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t},e.prototype.createFramebuffer=function(){var e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e},e.prototype.queryVitalParameters=function(){var e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version},e.prototype.getExtensions=function(){2===this.version?this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))},e.prototype.checkFloatTextureAttachableToFrameBuffer=function(){var e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);var n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),o},e.prototype.checkRenderFloat32=function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer},e.prototype.checkFloat32Download=function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer},e.prototype.checkFloat32Blend=function(){var e,t,n,r,o,i=this.gl;try{e=i.createTexture(),t=i.createFramebuffer(),i.bindTexture(i.TEXTURE_2D,e);var a=2===this.version?i.RGBA32F:i.RGBA;return i.texImage2D(i.TEXTURE_2D,0,a,1,1,0,i.RGBA,i.FLOAT,null),i.bindFramebuffer(i.FRAMEBUFFER,t),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0),i.enable(i.BLEND),!!(n=i.createShader(i.VERTEX_SHADER))&&(i.shaderSource(n,"void main(){}"),i.compileShader(n),!!(r=i.createShader(i.FRAGMENT_SHADER))&&(i.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),i.compileShader(r),!!(o=i.createProgram())&&(i.attachShader(o,n),i.attachShader(o,r),i.linkProgram(o),i.useProgram(o),i.drawArrays(i.POINTS,0,1),i.getError()===i.NO_ERROR)))}finally{i.disable(i.BLEND),o&&i.deleteProgram(o),n&&i.deleteShader(n),r&&i.deleteShader(r),t&&(i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(t)),e&&(i.bindTexture(i.TEXTURE_2D,null),i.deleteTexture(e))}},e}();t.WebGLContext=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;var r=n(3),o=function(){function e(e,t){if(void 0===t&&(t=1),1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: "+t);this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t}}return e.prototype.encode=function(e,t){var n,o;return e.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),o=new Float32Array(e)),t*this.channelSize>e.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),o=e,n=this.allocate(t*this.channelSize),o.forEach((function(e,t){return n[t]=e}))):n=o=e,n},e.prototype.allocate=function(e){return new Float32Array(4*e)},e.prototype.decode=function(e,t){return 1===this.channelSize?e.filter((function(e,t){return t%4==0})).subarray(0,t):e.subarray(0,t)},e}();t.RedFloat32DataEncoder=o;var i=function(){function e(e,t,n){if(void 0===t&&(t=1),1!==t&&4!==t)throw new Error("Invalid number of channels: "+t);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT}return e.prototype.encode=function(e,t){var n=e;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach((function(e,t){return n[4*t]=e}))),n},e.prototype.allocate=function(e){return new Float32Array(4*e)},e.prototype.decode=function(e,t){return 1===this.channelSize?e.filter((function(e,t){return t%4==0})).subarray(0,t):e.subarray(0,t)},e}();t.RGBAFloatDataEncoder=i;var a=function(){function e(e,t){if(void 0===t&&(t=1),this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error("Invalid number of channels: "+t);this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}}return e.prototype.encode=function(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},e.prototype.allocate=function(e){return new Uint8Array(e*this.channelSize)},e.prototype.decode=function(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error("Invalid array type: "+e.constructor)},e}();t.Uint8DataEncoder=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.envImpl=void 0;var r=n(25),o=function(){function e(){}return Object.defineProperty(e.prototype,"debug",{get:function(){return r.env.debug},set:function(e){r.env.debug=e},enumerable:!1,configurable:!0}),e}();t.envImpl=new o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;var a=i(n(51));t.Tensor=a.Tensor},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InferenceSession=void 0;var a=i(n(173));t.InferenceSession=a.InferenceSession},function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.InferenceSession=void 0;var u=n(174),c=i(n(52)),l=function(){function e(e){this.session=new u.Session(e)}return e.prototype.loadModel=function(e,t,n){if("string"==typeof e)return this.session.loadModel(e);if("undefined"!=typeof Blob&&e instanceof Blob){var r=URL.createObjectURL(e);return this.session.loadModel(r)}if(e instanceof ArrayBuffer)return this.session.loadModel(e,t,n);if(ArrayBuffer.isView(e))return this.session.loadModel(e);throw new Error("Model type is not supported.")},e.prototype.run=function(e,t){return a(this,void 0,void 0,(function(){var t,n,r,o,i,a;return s(this,(function(s){switch(s.label){case 0:return t=new Map,e instanceof Map?(n=new Map,e.forEach((function(e,t){n.set(t,e.internalTensor)})),[4,this.session.run(n)]):[3,2];case 1:return t=s.sent(),[3,5];case 2:return Array.isArray(e)?(r=[],e.forEach((function(e){r.push(e.internalTensor)})),[4,this.session.run(r)]):[3,4];case 3:return t=s.sent(),[3,5];case 4:for(i in o=new Map,e)o.set(i,e[i].internalTensor);s.label=5;case 5:return a=new Map,t.forEach((function(e,t){a.set(t,c.fromInternalTensor(e))})),[2,a]}}))}))},e.prototype.startProfiling=function(){this.session.startProfiling()},e.prototype.endProfiling=function(){this.session.endProfiling()},e}();t.InferenceSession=l},function(e,t,n){(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;var i=n(48),a=n(175),s=n(178),u=n(179),c=n(3),l=n(180),d=function(){function t(e){void 0===e&&(e={}),this._initialized=!1,this.backendHint=e.backendHint,this.profiler=c.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}return t.prototype.startProfiling=function(){this.profiler.start()},t.prototype.endProfiling=function(){this.profiler.stop()},t.prototype.loadModel=function(t,n,u){return r(this,void 0,void 0,(function(){var c=this;return o(this,(function(d){switch(d.label){case 0:return[4,this.profiler.event("session","Session.loadModel",(function(){return r(c,void 0,void 0,(function(){var r,c,d;return o(this,(function(o){switch(o.label){case 0:return[4,s.Backend(this.backendHint)];case 1:return r=o.sent(),this.sessionHandler=r.createSessionHandler(this.context),this._model=new l.Model,"string"!=typeof t?[3,7]:"undefined"!=typeof fetch?[3,3]:[4,a.promisify(i.readFile)(t)];case 2:return c=o.sent(),this.initialize(e.from(c)),[3,6];case 3:return[4,fetch(t)];case 4:return[4,o.sent().arrayBuffer()];case 5:c=o.sent(),this.initialize(e.from(c)),o.label=6;case 6:return[3,8];case 7:ArrayBuffer.isView(t)?this.initialize(e.from(t)):(d=new Uint8Array(t,n||0,u||t.byteLength),this.initialize(e.from(d))),o.label=8;case 8:return[2]}}))}))}))];case 1:return d.sent(),[2]}}))}))},t.prototype.initialize=function(e){var t=this;if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(function(){var n=t.sessionHandler.transformGraph?t.sessionHandler:void 0;t._model.load(e,n),t.sessionHandler.onGraphInitialized&&t.sessionHandler.onGraphInitialized(t._model.graph),t.initializeOps(t._model.graph),t._executionPlan=new u.ExecutionPlan(t._model.graph,t._ops,t.profiler)})),this._initialized=!0},t.prototype.run=function(e){var t=this;if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(function(){return r(t,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t=this.normalizeAndValidateInputs(e),[4,this._executionPlan.execute(this.sessionHandler,t)];case 1:return n=r.sent(),[2,this.createOutput(n)]}}))}))}))},t.prototype.normalizeAndValidateInputs=function(e){var t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error("incorrect input array length: expected "+t.length+" but got "+e.length)}else{if(e.size!==t.length)throw new Error("incorrect input map size: expected "+t.length+" but got "+e.size);for(var n=new Array(e.size),r=0,o=0;o<t.length;++o){var i=e.get(t[o]);if(!i)throw new Error("missing input tensor for: '"+name+"'");n[r++]=i}e=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{var a=this._model.graph.getInputIndices(),s=this._model.graph.getValues(),u=new Array(a.length);for(o=0;o<a.length;++o){var c=s[a[o]];u[o]=c.type.shape.dims,this.context.graphInputTypes.push(c.type.tensorType),this.context.graphInputDims.push(e[o].dims)}this.validateInputTensorDims(u,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e},t.prototype.validateInputTensorTypes=function(e,t){for(var n=0;n<t.length;n++){var r=e[n],o=t[n].type;if(r!==o)throw new Error("input tensor["+n+"] check failed: expected type '"+r+"' but got "+o)}},t.prototype.validateInputTensorDims=function(e,t,n){for(var r=0;r<t.length;r++){var o=e[r],i=t[r].dims;if(!this.compareTensorDims(o,i,n))throw new Error("input tensor["+r+"] check failed: expected shape '["+o.join(",")+"]' but got ["+i.join(",")+"]")}},t.prototype.compareTensorDims=function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r]&&(!n||0!==e[r]))return!1;return!0},t.prototype.createOutput=function(e){var t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");for(var n=new Map,r=0;r<t.length;++r)n.set(t[r],e[r]);return n},t.prototype.initializeOps=function(e){var t=e.getNodes();this._ops=new Array(t.length);for(var n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets)},t}();t.Session=d}).call(this,n(12).Buffer)},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<i;u=r[++n])g(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&I(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=l(e,o,r)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(I(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return d(n)}var c,_="",x=!1,E=["{","}"];return h(n)&&(x=!0,E=["[","]"]),I(n)&&(_=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),S(n)&&(_=" "+d(n)),0!==a.length||x&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=x?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)A(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return p(e,n,r,s,t,x)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,E)):E[0]+_+E[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===x(e)}function S(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function I(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=S,t.isFunction=I,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(176);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(177),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(O,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(24))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Backend=void 0;var a=new Map;function s(e){return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return void 0!==(t=onnx.backend)[e]&&function(e){var t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(t[e])?t[e].disabled?[3,3]:(n=t[e],"object"==typeof(r=n.initialize())&&"then"in r?[4,r]:[3,2]):[3,3];case 1:r=o.sent(),o.label=2;case 2:if(r)return a.set(e,n),[2,n];o.label=3;case 3:return[2,void 0]}}))}))}t.Backend=function e(t){return r(this,void 0,void 0,(function(){var n,r,u,c,l,d,p,h,f;return o(this,(function(o){switch(o.label){case 0:return t?[3,1]:[2,e(["webgl","wasm","cpu"])];case 1:n="string"==typeof t?[t]:t,o.label=2;case 2:o.trys.push([2,7,8,9]),r=i(n),u=r.next(),o.label=3;case 3:return u.done?[3,6]:(c=u.value,(l=a.get(c))?[2,l]:[4,s(c)]);case 4:if(d=o.sent())return[2,d];o.label=5;case 5:return u=r.next(),[3,3];case 6:return[3,9];case 7:return p=o.sent(),h={error:p},[3,9];case 8:try{u&&!u.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}return[7];case 9:throw new Error("no available backend to use")}}))}))}},function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;var u=n(3),c=function(e,t){this.op=e,this.node=t},l=function(){function e(e,t,n){this.graph=e,this.profiler=n,this.initialize(t)}return e.prototype.initialize=function(e){var t=this;this.profiler.event("session","ExecutionPlan.initialize",(function(){var n=t.graph.getNodes();if(n.length!==e.length)throw new Error("The size of nodes and OPs do not match.");t._ops=e.map((function(e,t){return new c(e,n[t])})),t.reset(),t._starter=[],t._ops.forEach((function(e,n){var r,o,a=!0;try{for(var s=i(e.node.inputs),u=s.next();!u.done;u=s.next()){var c=u.value;if(!t._values[c]&&-1===t.graph.getInputIndices().indexOf(c)){a=!1;break}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}a&&t._starter.push(n)}))}))},e.prototype.reset=function(){this._values=this.graph.getValues().map((function(e){return e.tensor}))},e.prototype.execute=function(e,t){var n=this;return this.profiler.event("session","ExecutionPlan.execute",(function(){return r(n,void 0,void 0,(function(){var n,a,c,l,d,p,h,f,g,m=this;return o(this,(function(y){switch(y.label){case 0:if(this.reset(),n=e.createInferenceHandler(),a=this.graph.getInputIndices(),t.length!==a.length)throw new Error("number of input tensors don't match the number of inputs to the model: actual: "+t.length+" expected: "+a.length);t.forEach((function(e,t){var n=a[t];m._values[n]=e})),c=this._starter.slice(0),l=this.graph.getValues(),d=this.graph.getNodes(),p=0,h=function(){var e,t,a,h,g,y;return o(this,(function(v){switch(v.label){case 0:if(e=c[p++],t=f._ops[e],-1!==(a=t.node.inputs.map((function(e){return m._values[e]}))).indexOf(void 0))throw new Error("unresolved input detected: op: "+t.node);return h=a,u.Logger.verbose("ExecPlan","Runing op:"+t.node.name+" ("+h.map((function(e,n){return"'"+t.node.inputs[n]+"': "+e.type+"["+e.dims.join(",")+"]"})).join(", ")+")"),[4,f.profiler.event("node",t.node.name,(function(){return r(m,void 0,void 0,(function(){var e;return o(this,(function(r){if(!(e=t.op).checkInputs(h))throw new Error("invalid inputs detected; op: "+t.node.name);return[2,e.run(n,h)]}))}))}))];case 1:if((g=v.sent()).length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");return g.forEach((function(e,n){var r=t.node.outputs[n];if(m._values[r])throw new Error("output ["+r+"] already has value: op:"+t.node.name);m._values[r]=e})),y=new Set,g.forEach((function(e,n){var r,o,a,s,u=t.node.outputs[n];try{for(var c=(r=void 0,i(l[u].to)),p=c.next();!p.done;p=c.next()){var h=p.value,f=d[h],g=!0;try{for(var v=(a=void 0,i(f.inputs)),b=v.next();!b.done;b=v.next()){var _=b.value;if(!m._values[_]){g=!1;break}}}catch(e){a={error:e}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}g&&y.add(h)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}})),c.push.apply(c,s(y)),[2]}}))},f=this,y.label=1;case 1:return p<c.length?[5,h()]:[3,3];case 2:return y.sent(),[3,1];case 3:return g=[],this.graph.getOutputIndices().forEach((function(e,t){var n=m._values[e];if(void 0===n)throw new Error("required output ["+e+"] does not have value");n.data,g.push(n)})),u.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),[2,g]}}))}))}))},e}();t.ExecutionPlan=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var r=n(9),o=n(181),i=n(0),a=function(){function e(){}return e.prototype.load=function(e,t){var n=r.onnx.ModelProto.decode(e);if(i.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((function(e){return{domain:e.domain,version:i.LongUtil.longToNumber(e.version)}})),this._graph=o.Graph.from(n.graph,t)},Object.defineProperty(e.prototype,"graph",{get:function(){return this._graph},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opsets",{get:function(){return this._opsets},enumerable:!1,configurable:!0}),e}();t.Model=a},function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;var o=n(182),i=n(1),a=n(0);t.Graph={from:function(e,t){return new c(e,t)}};var s=function(){function e(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=a.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}return Object.defineProperty(e.prototype,"from",{get:function(){return this._from},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return this._to},enumerable:!1,configurable:!0}),e}(),u=function(e){this.name=e.name,this.opType=e.opType,this.inputs=[],this.outputs=[],this.attributes=new o.Attribute(e.attribute),this.executeNode=!0},c=function(){function e(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}return e.prototype.getInputIndices=function(){return this._allInputIndices},e.prototype.getInputNames=function(){return this._allInputNames},e.prototype.getOutputIndices=function(){return this._allOutputIndices},e.prototype.getOutputNames=function(){return this._allOutputNames},e.prototype.getValues=function(){return this._allData},e.prototype.getNodes=function(){return this._nodes},e.prototype.buildGraph=function(e){var t,n,o,c,l,d,p,h,f,g,m,y,v=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];var b=new Map;if(!e.input)throw new Error("missing information in graph: input");var _=[];try{for(var w=r(e.input),S=w.next();!S.done;S=w.next()){var I=S.value;if(v.has(I.name))throw new Error("duplicated input name: "+I.name);var x=this._allData.push(new s(I))-1;v.set(I.name,x),_.push(I.name)}}catch(e){t={error:e}}finally{try{S&&!S.done&&(n=w.return)&&n.call(w)}finally{if(t)throw t.error}}if(!e.initializer)throw new Error("missing information in graph: initializer");try{for(var E=r(e.initializer),k=E.next();!k.done;k=E.next()){I=k.value;var T=v.get(I.name);if(void 0===T){var A=new s;A.type={shape:{dims:a.ProtoUtil.tensorDimsFromProto(I.dims)},tensorType:a.ProtoUtil.tensorDataTypeFromProto(I.dataType)},T=this._allData.push(A)-1,v.set(I.name,T)}this._allData[T]._from=-1,this._allData[T].tensor=i.Tensor.fromProto(I)}}catch(e){o={error:e}}finally{try{k&&!k.done&&(c=E.return)&&c.call(E)}finally{if(o)throw o.error}}for(I=0;I<this._allData.length;I++)this._allData[I].tensor||(this._allInputIndices.push(I),this._allInputNames.push(_[I]));if(!e.output)throw new Error("missing information in graph: output");try{for(var C=r(e.output),O=C.next();!O.done;O=C.next()){if(I=O.value,v.has(I.name))throw new Error("duplicated output name: "+I.name);x=this._allData.push(new s(I))-1,v.set(I.name,x),this._allOutputIndices.push(x),this._allOutputNames.push(I.name)}}catch(e){l={error:e}}finally{try{O&&!O.done&&(d=C.return)&&d.call(C)}finally{if(l)throw l.error}}if(!e.node)throw new Error("missing information in graph: node");try{for(var P=r(e.node),R=P.next();!R.done;R=P.next()){if(!(F=R.value).name)for(var N=0;;N++){var D="unnamed_"+F.opType+"_"+N;if(!b.has(D)){F.name=D;break}}if(b.has(F.name))throw new Error("duplicated node name: "+F.name);x=this._nodes.push(new u(F))-1,b.set(F.name,x)}}catch(e){p={error:e}}finally{try{R&&!R.done&&(h=P.return)&&h.call(P)}finally{if(p)throw p.error}}for(I=0;I<this._nodes.length;I++){var M=this._nodes[I];if(!(F=e.node[I]).output)throw new Error("missing output for node: "+F.name);try{for(var j=(f=void 0,r(F.output)),L=j.next();!L.done;L=j.next()){var U=L.value;if(void 0===(z=v.get(U))&&(z=this._allData.push(new s)-1,v.set(U,z)),M.outputs.push(z),void 0!==this._allData[z]._from)throw new Error("multiple nodes output to one data value: "+z);if(this._allData[z]._from=I,"Constant"===F.opType){if(!F.attribute||1!==F.attribute.length||!F.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!F.output||1!==F.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");M.outputs.pop(),M.executeNode=!1,this._allData[z]._from=-1,this._allData[z].tensor=i.Tensor.fromProto(F.attribute[0].t)}}}catch(e){f={error:e}}finally{try{L&&!L.done&&(g=j.return)&&g.call(j)}finally{if(f)throw f.error}}}for(I=0;I<this._nodes.length;I++){var F;if(M=this._nodes[I],!(F=e.node[I]).input)throw new Error("missing input for node: "+F.name);try{for(var B=(m=void 0,r(F.input)),G=B.next();!G.done;G=B.next()){var z,W=G.value;if(void 0===(z=v.get(W)))throw new Error("unrecognized input '"+W+"' for node: "+F.name);M.inputs.push(z),this._allData[z]._to.push(I)}}catch(e){m={error:e}}finally{try{G&&!G.done&&(y=B.return)&&y.call(B)}finally{if(m)throw m.error}}}return!0},e.prototype.checkIsAcyclic=function(){var e=this,t=new Set;this._allInputIndices.forEach((function(n){e._allData[n]._to.forEach((function(e){t.add(e)}))}));for(var n=Array.from(t),r=new Array(this._nodes.length).fill("white"),o=function(){var t=n.pop();"gray"===r[t]?r[t]="black":(n.push(t),r[t]="gray",i._nodes[t].outputs.forEach((function(o){var i=e._allData[o];if(void 0!==i.tensor)throw new Error("node outputs should not be initialized");if(i._from!==t)throw new Error("from property of the Value object doesn't match index of Node being processed");i._to.forEach((function(e){if("gray"===r[e])throw new Error("model graph is cyclic");"white"===r[e]&&n.push(e)}))})))},i=this;n.length>0;)o()},e.prototype.transformGraph=function(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),e&&e.transformGraph(this),this.finalizeGraph()},e.prototype.finalizeGraph=function(){for(var e,t=this,n=0,r=function(r){if(!o._nodes[r].executeNode)return n++,o._nodes[r].outputs.forEach((function(e){t._allData[e]._from=-2})),o._nodes.splice(r,1),r--,e=r,"continue";n>0&&(o._nodes[r].inputs.forEach((function(e){var o=t._allData[e]._to.indexOf(r+n);-1!==o&&(t._allData[e]._to[o]=r)})),o._nodes[r].outputs.forEach((function(e){t._allData[e]._from&&t._allData[e]._from===r+n&&(t._allData[e]._from=r)}))),e=r},o=this,i=0;i<this._nodes.length;i++)r(i),i=e;n=0;var a,s=function(e){if(-2===u._allData[e].from&&-1===u._allOutputIndices.indexOf(e+n))return n++,u._allData.splice(e,1),e--,a=e,"continue";if(n>0){var r=-1;void 0!==u._allData[e].from&&-1!==u._allData[e].from?-1!==(r=u._nodes[u._allData[e].from].outputs.indexOf(e+n))&&(u._nodes[u._allData[e].from].outputs[r]=e):-1!==(r=u._allInputIndices.indexOf(e+n))&&(u._allInputIndices[r]=e),u._allData[e].to.forEach((function(o){-1!==(r=t._nodes[o].inputs.indexOf(e+n))&&(t._nodes[o].inputs[r]=e)})),0===u._allData[e].to.length&&-1!==(r=u._allOutputIndices.indexOf(e+n))&&(u._allOutputIndices[r]=e)}a=e},u=this;for(i=0;i<this._allData.length;i++)s(i),i=a},e.prototype.deleteNode=function(e){var t,n,o=this._nodes[e];if(o.inputs.length>1)throw new Error("Node deletion with multiple inputs is not supported. ");if(o.outputs.length>1)for(var i=1;i<o.outputs.length;i++)if(this._allData[o.outputs[i]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");o.executeNode=!1;var a=o.inputs[0],s=o.outputs[0],u=this._allData[s].to,c=this._allData[a].to.indexOf(e);if(-1===c)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[a].to.splice(c,1),this._allData[s]._to=[];var l=this._allOutputIndices.indexOf(s);if(-1!==l&&(this._allOutputIndices[l]=a),u&&u.length>0)try{for(var d=r(u),p=d.next();!p.done;p=d.next()){var h=p.value,f=this._nodes[h].inputs.indexOf(s);if(-1===f)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[h].inputs[f]=a,this._allData[a].to.push(h)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}},e.prototype.removeAllDropoutNodes=function(){var e,t,n=0;try{for(var o=r(this._nodes),i=o.next();!i.done;i=o.next()){var a=i.value;if("Dropout"===a.opType){if(1!==a.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==a.outputs.length&&2!==a.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===a.outputs.length&&0!==this._allData[a.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(n)}n++}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.removeAllIdentityNodes=function(){var e,t,n=0;try{for(var o=r(this._nodes),i=o.next();!i.done;i=o.next())"Identity"===i.value.opType&&this.deleteNode(n),n++}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e}()},function(e,t,n){(function(e){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;var i=o(n(13)),a=n(9),s=n(1),u=n(0),c=function(){function t(e){var n,o;if(this._attributes=new Map,null!=e){try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var s=a.value;this._attributes.set(s.name,[t.getValue(s),t.getType(s)])}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}return t.prototype.set=function(e,t,n){this._attributes.set(e,[n,t])},t.prototype.delete=function(e){this._attributes.delete(e)},t.prototype.getFloat=function(e,t){return this.get(e,"float",t)},t.prototype.getInt=function(e,t){return this.get(e,"int",t)},t.prototype.getString=function(e,t){return this.get(e,"string",t)},t.prototype.getTensor=function(e,t){return this.get(e,"tensor",t)},t.prototype.getFloats=function(e,t){return this.get(e,"floats",t)},t.prototype.getInts=function(e,t){return this.get(e,"ints",t)},t.prototype.getStrings=function(e,t){return this.get(e,"strings",t)},t.prototype.getTensors=function(e,t){return this.get(e,"tensors",t)},t.prototype.get=function(e,t,n){var r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: "+e)}if(r[1]!==t)throw new Error("type mismatch: expected "+t+" but got "+r[1]);return r[0]},t.getType=function(e){switch(e.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return"float";case a.onnx.AttributeProto.AttributeType.INT:return"int";case a.onnx.AttributeProto.AttributeType.STRING:return"string";case a.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case a.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case a.onnx.AttributeProto.AttributeType.INTS:return"ints";case a.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case a.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: "+a.onnx.AttributeProto.AttributeType[e.type])}},t.getValue=function(t){if(t.type===a.onnx.AttributeProto.AttributeType.GRAPH||t.type===a.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");var n=this.getValueNoCheck(t);if(t.type===a.onnx.AttributeProto.AttributeType.INT&&i.default.isLong(n))return n.toNumber();if(t.type===a.onnx.AttributeProto.AttributeType.INTS){for(var r=n,o=new Array(r.length),c=0;c<r.length;c++){var l=r[c];o[c]=u.LongUtil.longToNumber(l)}return o}if(t.type===a.onnx.AttributeProto.AttributeType.TENSOR)return s.Tensor.fromProto(n);if(t.type===a.onnx.AttributeProto.AttributeType.TENSORS)return n.map((function(e){return s.Tensor.fromProto(e)}));if(t.type===a.onnx.AttributeProto.AttributeType.STRING){var d=n;return e.from(d.buffer,d.byteOffset,d.byteLength).toString()}return t.type===a.onnx.AttributeProto.AttributeType.STRINGS?n.map((function(t){return e.from(t.buffer,t.byteOffset,t.byteLength).toString()})):n},t.getValueNoCheck=function(e){switch(e.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case a.onnx.AttributeProto.AttributeType.INT:return e.i;case a.onnx.AttributeProto.AttributeType.STRING:return e.s;case a.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case a.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case a.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case a.onnx.AttributeProto.AttributeType.INTS:return e.ints;case a.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case a.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case a.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error("unsupported attribute type: "+a.onnx.AttributeProto.AttributeType[e.type])}},t}();t.Attribute=c}).call(this,n(12).Buffer)}])},module.exports=e()},3214:(e,t,n)=>{var r=n(27061),o="win32"===r.platform,i=n(71323);function a(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];o&&"."!==o&&(".."===o?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(o))}return n}function s(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var u=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,l={};function d(e){var t=u.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",o=c.exec(r);return[n,o[1],o[2],o[3]]}function p(e){var t=u.exec(e),n=t[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!t[2],tail:t[3]}}function h(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}l.resolve=function(){for(var e="",t="",n=!1,o=arguments.length-1;o>=-1;o--){var s;if(o>=0?s=arguments[o]:e?(s=r.env["="+e])&&s.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(s=e+"\\"):s=r.cwd(),!i.isString(s))throw new TypeError("Arguments to path.resolve must be strings");if(s){var u=p(s),c=u.device,l=u.isUnc,d=u.isAbsolute,f=u.tail;if((!c||!e||c.toLowerCase()===e.toLowerCase())&&(e||(e=c),n||(t=f+"\\"+t,n=d),e&&n))break}}return l&&(e=h(e)),e+(n?"\\":"")+(t=a(t.split(/[\\\/]+/),!n).join("\\"))||"."},l.normalize=function(e){var t=p(e),n=t.device,r=t.isUnc,o=t.isAbsolute,i=t.tail,s=/[\\\/]$/.test(i);return(i=a(i.split(/[\\\/]+/),!o).join("\\"))||o||(i="."),i&&s&&(i+="\\"),r&&(n=h(n)),n+(o?"\\":"")+i},l.isAbsolute=function(e){return p(e).isAbsolute},l.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var r=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),l.normalize(r)},l.relative=function(e,t){e=l.resolve(e),t=l.resolve(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),o=s(t.split("\\")),i=s(n.split("\\")),a=s(r.split("\\")),u=Math.min(i.length,a.length),c=u,d=0;d<u;d++)if(i[d]!==a[d]){c=d;break}if(0==c)return t;var p=[];for(d=c;d<i.length;d++)p.push("..");return(p=p.concat(o.slice(c))).join("\\")},l._makeLong=function(e){if(!i.isString(e))return e;if(!e)return"";var t=l.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},l.dirname=function(e){var t=d(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},l.basename=function(e,t){var n=d(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},l.extname=function(e){return d(e)[3]},l.format=function(e){if(!i.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!i.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,r=e.base||"";return n?n[n.length-1]===l.sep?n+r:n+l.sep+r:r},l.parse=function(e){if(!i.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=d(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},l.sep="\\",l.delimiter=";";var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g={};function m(e){return f.exec(e).slice(1)}g.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var o=n>=0?arguments[n]:r.cwd();if(!i.isString(o))throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,t="/"===o[0])}return(t?"/":"")+(e=a(e.split("/"),!t).join("/"))||"."},g.normalize=function(e){var t=g.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=a(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},g.isAbsolute=function(e){return"/"===e.charAt(0)},g.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return g.normalize(e)},g.relative=function(e,t){e=g.resolve(e).substr(1),t=g.resolve(t).substr(1);for(var n=s(e.split("/")),r=s(t.split("/")),o=Math.min(n.length,r.length),i=o,a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}var u=[];for(a=i;a<n.length;a++)u.push("..");return(u=u.concat(r.slice(i))).join("/")},g._makeLong=function(e){return e},g.dirname=function(e){var t=m(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},g.basename=function(e,t){var n=m(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},g.extname=function(e){return m(e)[3]},g.format=function(e){if(!i.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!i.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+g.sep:"")+(e.base||"")},g.parse=function(e){if(!i.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=m(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},g.sep="/",g.delimiter=":",e.exports=o?l:g,e.exports.posix=g,e.exports.win32=l},27061:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,u=[],c=!1,l=-1;function d(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&p())}function p(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},17642:e=>{function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,o=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),u=new t(512),c=new t(512);function l(e){return s.get(e)||s.set(e,d(e).map((function(e){return e.replace(a,"$2")})))}function d(e){return e.match(n)||[""]}function p(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function h(e){return!p(e)&&(function(e){return e.match(o)&&!e.match(r)}(e)||function(e){return i.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:l,setter:function(e){var t=l(e);return u.get(e)||u.set(e,(function(e,n){for(var r=0,o=t.length,i=e;r<o-1;){var a=t[r];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;i=i[t[r++]]}i[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,o=n.length;r<o;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(p(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,o,i,a,s=e.length;for(o=0;o<s;o++)(r=e[o])&&(h(r)&&(r='"'+r+'"'),i=!(a=p(r))&&/^\d+$/.test(r),t.call(n,r,a,i,o,e))}(Array.isArray(e)?e:d(e),t,n)}}},41535:(e,t,n)=>{var r=n(62525),o=60103,i=60106;var a=60109,s=60110,u=60112;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),i=d("react.portal"),d("react.fragment"),d("react.strict_mode"),d("react.profiler"),a=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=v.prototype=new y;b.constructor=v,r(b,m.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:_.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var E=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case i:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(a,t,n,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+k(s=e[c],c);u+=T(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+k(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function P(){var e=O.current;if(null===e)throw Error(h(321));return e}t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e}},27378:(e,t,n)=>{e.exports=n(41535)},43388:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.retrying=t.applyAndDelay=void 0;var a=i(n(99950)),s=i(n(5114)),u=n(40327),c=n(5986);function l(e,t){var n=c.applyPolicy(e,t);return u.pipe(n.previousDelay,s.fold((function(){return a.task.of(n)}),(function(e){return a.delay(e)(a.task.of(n))})))}t.applyAndDelay=l,t.retrying=function(e,t,n){var r=function(o){return u.pipe(o,t,a.chain((function(t){return n(t)?u.pipe(l(e,o),a.chain((function(e){return u.pipe(e.previousDelay,s.fold((function(){return a.task.of(t)}),(function(){return r(e)})))}))):a.task.of(t)})))};return r(c.defaultRetryStatus)}},5986:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.monoidRetryPolicy=t.applyPolicy=t.defaultRetryStatus=t.exponentialBackoff=t.capDelay=t.constantDelay=t.limitRetriesByDelay=t.limitRetries=t.Monoid=void 0;var a=i(n(35214)),s=i(n(5114)),u=n(32426),c=n(45701),l=n(40327);t.Monoid=a.getFunctionMonoid(s.getApplyMonoid({concat:u.getJoinSemigroup(c.ordNumber).concat,empty:0}))(),t.limitRetries=function(e){return function(t){return t.iterNumber>=e?s.none:s.some(0)}},t.limitRetriesByDelay=function(e,t){return function(n){return l.pipe(n,t,s.filter((function(t){return t<e})))}},t.constantDelay=function(e){return function(){return s.some(e)}},t.capDelay=function(e,t){return function(n){return l.pipe(n,t,s.map((function(t){return Math.min(e,t)})))}},t.exponentialBackoff=function(e){return function(t){return s.some(e*Math.pow(2,t.iterNumber))}},t.defaultRetryStatus={iterNumber:0,cumulativeDelay:0,previousDelay:s.none},t.applyPolicy=function(e,t){var n=e(t);return{iterNumber:t.iterNumber+1,cumulativeDelay:t.cumulativeDelay+s.getOrElse((function(){return 0}))(n),previousDelay:n}},t.monoidRetryPolicy=t.Monoid},95300:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(59312),o=n(32952),i=n(82987),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.__extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.xQ)},7882:(e,t,n)=>{n.d(t,{d:()=>o});var r=n(59312),o=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.__extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(98036).L)},44586:(e,t,n)=>{n.d(t,{y:()=>u});var r=n(51106),o=n(85063),i=n(58569),a=n(87072),s=n(79910),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=(0,o.Y)(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||s.v.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.v.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,a.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function c(e){if(e||(e=s.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},76535:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(79910),o=n(94224),i={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,o.z)(e)},complete:function(){}}},57655:(e,t,n)=>{n.d(t,{L:()=>o});var r=n(59312),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(98036).L)},75302:(e,t,n)=>{n.d(t,{b:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},32952:(e,t,n)=>{n.d(t,{Yc:()=>l,xQ:()=>d});var r=n(59312),o=n(44586),i=n(98036),a=n(14601),s=n(82987),u=n(51715),c=n(42545),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.__extends(t,e),t}(i.L),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.__extends(t,e),t.prototype[c.b]=function(){return new l(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),a.w.EMPTY):this.isStopped?(e.complete(),a.w.EMPTY):(this.observers.push(e),new u.W(this,e))},t.prototype.asObservable=function(){var e=new o.y;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.y),p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.__extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.w.EMPTY},t}(d)},51715:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(59312),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.__extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(14601).w)},98036:(e,t,n)=>{n.d(t,{L:()=>l});var r=n(59312),o=n(55427),i=n(76535),a=n(14601),s=n(42545),u=n(79910),c=n(94224),l=function(e){function t(n,r,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.c;break;case 1:if(!n){a.destination=i.c;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,r,o)}return a}return r.__extends(t,e),t.prototype[s.b]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.w),d=function(e){function t(t,n,r,a){var s,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return(0,o.m)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==i.c&&(c=Object.create(n),(0,o.m)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.__extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=u.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};u.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),u.v.useDeprecatedSynchronousErrorHandling)throw e;(0,c.z)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!u.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return u.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,c.z)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},14601:(e,t,n)=>{n.d(t,{w:()=>s});var r=n(17733),o=n(79582),i=n(55427),a=n(28558),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,s=n._parentOrParents,c=n._ctorUnsubscribe,l=n._unsubscribe,d=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof e)s.remove(this);else if(null!==s)for(var p=0;p<s.length;++p){s[p].remove(this)}if((0,i.m)(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(e){t=e instanceof a.B?u(e.errors):[e]}}if((0,r.k)(d)){p=-1;for(var h=d.length;++p<h;){var f=d[p];if((0,o.K)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof a.B?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new a.B(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof a.B?t.errors:t)}),[])}},79910:(e,t,n)=>{n.d(t,{v:()=>o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},46601:(e,t,n)=>{n.d(t,{Ds:()=>u,IY:()=>s,ft:()=>c});var r=n(59312),o=n(98036),i=n(44586),a=n(35316),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.__extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(o.L),u=(o.L,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(o.L));o.L;function c(e,t){if(!t.closed)return e instanceof i.y?e.subscribe(t):(0,a.s)(e)(t)}},68571:(e,t,n)=>{n.d(t,{N:()=>l});var r=n(59312),o=n(32952),i=n(44586),a=n(98036),s=n(14601),u=n(95343),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.w).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e},t.prototype.refCount=function(){return(0,u.x)()(this)},t}(i.y),l=function(){var e=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.__extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.Yc);a.L},2844:(e,t,n)=>{n.d(t,{aj:()=>l});var r=n(59312),o=n(67827),i=n(17733),a=n(57655),s=n(72500),u=n(81967),c={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,o.K)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,i.k)(e[0])&&(e=e[0]),(0,u.n)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.__extends(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,s.D)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=r[n],i=this.toRespond?o===c?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.L)},40151:(e,t,n)=>{n.d(t,{E:()=>o,c:()=>i});var r=n(44586),o=new r.y((function(e){return e.complete()}));function i(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):o}},12126:(e,t,n)=>{n.d(t,{D:()=>a});var r=n(44586),o=n(35316),i=n(40663);function a(e,t){return t?(0,i.x)(e,t):e instanceof r.y?e:new r.y((0,o.s)(e))}},81967:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(44586),o=n(84464),i=n(11315);function a(e,t){return t?(0,i.r)(e,t):new r.y((0,o.V)(e))}},24209:(e,t,n)=>{n.d(t,{T:()=>s});var r=n(44586),o=n(67827),i=n(68425),a=n(81967);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,u=e[e.length-1];return(0,o.K)(u)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.y?e[0]:(0,i.J)(n)((0,a.n)(e,s))}},76974:(e,t,n)=>{n.d(t,{of:()=>a});var r=n(67827),o=n(81967),i=n(11315);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.K)(n)?(e.pop(),(0,i.r)(e,n)):(0,o.n)(e)}},78674:(e,t,n)=>{n.d(t,{b:()=>a});var r=n(59312),o=n(98036),i=n(82506);function a(e,t){return void 0===t&&(t=i.P),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))},e}(),u=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return r.__extends(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(o.L);function c(e){e.debouncedNext()}},87938:(e,t,n)=>{n.d(t,{j:()=>u});var r=n(59312),o=n(98036),i=n(44586),a=n(57655),s=n(72500);function u(e,t){return t?function(n){return new d(n,t).lift(new c(e))}:function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(e),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=(0,s.D)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(a.L),d=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.__extends(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new p(e,this.source))},t}(i.y),p=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.__extends(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(o.L)},85985:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(59312),o=n(98036);function i(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.L)},77176:(e,t,n)=>{n.d(t,{U:()=>i});var r=n(59312),o=n(98036);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.L)},68425:(e,t,n)=>{n.d(t,{J:()=>i});var r=n(85321),o=n(49524);function i(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.zg)(o.y,e)}},85321:(e,t,n)=>{n.d(t,{zg:()=>s});var r=n(59312),o=n(77176),i=n(12126),a=n(46601);function s(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(s((function(n,r){return(0,i.D)(e(n,r)).pipe((0,o.U)((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.concurrent))},e}(),c=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.__extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new a.IY(this),n=this.destination;n.add(t);var r=(0,a.ft)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.Ds)},24755:(e,t,n)=>{n.d(t,{O:()=>o});var r=n(68571);function o(e,t){return function(n){var o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new i(o,t));var a=Object.create(n,r.N);return a.source=n,a.subjectFactory=o,a}}var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(e);return o.add(t.subscribe(r)),o},e}()},95343:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(59312),o=n(98036);function i(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.__extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(o.L)},38194:(e,t,n)=>{n.d(t,{B:()=>s});var r=n(24755),o=n(95343),i=n(32952);function a(){return new i.xQ}function s(){return function(e){return(0,o.x)()((0,r.O)(a)(e))}}},66310:(e,t,n)=>{n.d(t,{w:()=>s});var r=n(59312),o=n(77176),i=n(12126),a=n(46601);function s(e,t){return"function"==typeof t?function(n){return n.pipe(s((function(n,r){return(0,i.D)(e(n,r)).pipe((0,o.U)((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new a.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,a.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(a.Ds)},23063:(e,t,n)=>{n.d(t,{q:()=>s});var r=n(59312),o=n(98036),i=n(2270),a=n(40151);function s(e){return function(t){return 0===e?(0,a.c)():t.lift(new u(e))}}var u=function(){function e(e){if(this.total=e,this.total<0)throw new i.W}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(o.L)},2834:(e,t,n)=>{n.d(t,{b:()=>s});var r=n(59312),o=n(98036),i=n(25656),a=n(55427);function s(e,t,n){return function(r){return r.lift(new u(e,t,n))}}var u=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))},e}(),c=function(e){function t(t,n,r,o){var s=e.call(this,t)||this;return s._tapNext=i.Z,s._tapError=i.Z,s._tapComplete=i.Z,s._tapError=r||i.Z,s._tapComplete=o||i.Z,(0,a.m)(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||i.Z,s._tapError=n.error||i.Z,s._tapComplete=n.complete||i.Z),s}return r.__extends(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(o.L)},41398:(e,t,n)=>{n.d(t,{M:()=>a});var r=n(59312),o=n(57655),i=n(72500);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new s(r,n))}}var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.observables,this.project))},e}(),u=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.observables=n,o.project=r,o.toRespond=[];var a=n.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(s=0;s<a;s++){var u=n[s];o.add((0,i.D)(o,u,void 0,s))}return o}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.L)},11315:(e,t,n)=>{n.d(t,{r:()=>i});var r=n(44586),o=n(14601);function i(e,t){return new r.y((function(n){var r=new o.w,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},37895:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(44586),o=n(14601),i=n(85451);function a(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y((function(n){var r,a=new o.w;return a.add((function(){r&&"function"==typeof r.return&&r.return()})),a.add(t.schedule((function(){r=e[i.hZ](),a.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),a}))}},36958:(e,t,n)=>{n.d(t,{l:()=>a});var r=n(44586),o=n(14601),i=n(58569);function a(e,t){return new r.y((function(n){var r=new o.w;return r.add(t.schedule((function(){var o=e[i.L]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}},48318:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(44586),o=n(14601);function i(e,t){return new r.y((function(n){var r=new o.w;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},40663:(e,t,n)=>{n.d(t,{x:()=>d});var r=n(36958),o=n(48318),i=n(11315),a=n(37895),s=n(21),u=n(93595),c=n(20542),l=n(64249);function d(e,t){if(null!=e){if((0,s.c)(e))return(0,r.l)(e,t);if((0,u.t)(e))return(0,o.c)(e,t);if((0,c.z)(e))return(0,i.r)(e,t);if((0,l.T)(e)||"string"==typeof e)return(0,a.Q)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},6482:(e,t,n)=>{n.d(t,{a:()=>o});var r=n(59312),o=function(e){function t(t,n){return e.call(this)||this}return r.__extends(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(14601).w)},49917:(e,t,n)=>{n.d(t,{o:()=>o});var r=n(59312),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.__extends(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(6482).a)},68258:(e,t,n)=>{n.d(t,{v:()=>i});var r=n(59312),o=n(75302),i=function(e){function t(n,r){void 0===r&&(r=o.b.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r.__extends(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.b)},82506:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(49917),o=new(n(68258).v)(r.o)},85451:(e,t,n)=>{function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>o});var o=r()},58569:(e,t,n)=>{n.d(t,{L:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},42545:(e,t,n)=>{n.d(t,{b:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},2270:(e,t,n)=>{n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},82987:(e,t,n)=>{n.d(t,{N:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},28558:(e,t,n)=>{n.d(t,{B:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},51106:(e,t,n)=>{n.d(t,{_:()=>o});var r=n(98036);function o(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.L?o:null}return!0}},94224:(e,t,n)=>{function r(e){setTimeout((function(){throw e}),0)}n.d(t,{z:()=>r})},49524:(e,t,n)=>{function r(e){return e}n.d(t,{y:()=>r})},17733:(e,t,n)=>{n.d(t,{k:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},20542:(e,t,n)=>{n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},55427:(e,t,n)=>{function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},21:(e,t,n)=>{n.d(t,{c:()=>o});var r=n(58569);function o(e){return e&&"function"==typeof e[r.L]}},64249:(e,t,n)=>{n.d(t,{T:()=>o});var r=n(85451);function o(e){return e&&"function"==typeof e[r.hZ]}},79582:(e,t,n)=>{function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},93595:(e,t,n)=>{function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},67827:(e,t,n)=>{function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},25656:(e,t,n)=>{function r(){}n.d(t,{Z:()=>r})},87072:(e,t,n)=>{n.d(t,{U:()=>i,z:()=>o});var r=n(49524);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},35316:(e,t,n)=>{n.d(t,{s:()=>p});var r=n(84464),o=n(6703),i=n(30001),a=n(9949),s=n(20542),u=n(93595),c=n(79582),l=n(85451),d=n(58569),p=function(e){if(e&&"function"==typeof e[d.L])return(0,a.h)(e);if((0,s.z)(e))return(0,r.V)(e);if((0,u.t)(e))return(0,o.A)(e);if(e&&"function"==typeof e[l.hZ])return(0,i.u)(e);var t=(0,c.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},84464:(e,t,n)=>{n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},30001:(e,t,n)=>{n.d(t,{u:()=>o});var r=n(85451),o=function(e){return function(t){for(var n=e[r.hZ]();;){var o=void 0;try{o=n.next()}catch(e){return t.error(e),t}if(o.done){t.complete();break}if(t.next(o.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},9949:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(58569),o=function(e){return function(t){var n=e[r.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},6703:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(94224),o=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.z),t}}},72500:(e,t,n)=>{n.d(t,{D:()=>a});var r=n(7882),o=n(35316),i=n(44586);function a(e,t,n,a,s){if(void 0===s&&(s=new r.d(e,n,a)),!s.closed)return t instanceof i.y?t.subscribe(s):(0,o.s)(t)(s)}},85063:(e,t,n)=>{n.d(t,{Y:()=>a});var r=n(98036),o=n(42545),i=n(76535);function a(e,t,n){if(e){if(e instanceof r.L)return e;if(e[o.b])return e[o.b]()}return e||t||n?new r.L(e,t,n):new r.L(i.c)}},50944:e=>{function t(e,t){var n=e.length,r=new Array(n),o={},i=n,a=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var o=e[n];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||u(e[i],i,new Set);return r;function u(e,t,i){if(i.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(e){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!o[t]){o[t]=!0;var l=a.get(e)||new Set;if(t=(l=Array.from(l)).length){i.add(e);do{var d=l[--t];u(d,s.get(d),i)}while(t);i.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var o=e[n];t.add(o[0]),t.add(o[1])}return Array.from(t)}(e),e)},e.exports.array=t},59312:(e,t,n)=>{n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>b,__awaiter:()=>l,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>A,__createBinding:()=>p,__decorate:()=>s,__exportStar:()=>h,__extends:()=>o,__generator:()=>d,__importDefault:()=>k,__importStar:()=>E,__makeTemplateObject:()=>I,__metadata:()=>c,__param:()=>u,__read:()=>g,__rest:()=>a,__spread:()=>m,__spreadArray:()=>v,__spreadArrays:()=>y,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var p=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||p(t,e,n)}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function v(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&p(t,e,n);return x(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},82989:function(e,t,n){var r;!function(o,i){var a="function",s="undefined",u="object",c="string",l="model",d="name",p="type",h="vendor",f="version",g="architecture",m="console",y="mobile",v="tablet",b="smarttv",_="wearable",w="embedded",S="Amazon",I="Apple",x="ASUS",E="BlackBerry",k="Firefox",T="Google",A="Huawei",C="LG",O="Microsoft",P="Motorola",R="Opera",N="Samsung",D="Sharp",M="Sony",j="Xiaomi",L="Zebra",U="Facebook",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},B=function(e,t){return typeof e===c&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},z=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,350)},W=function(e,t){for(var n,r,o,s,c,l,d=0;d<t.length&&!c;){var p=t[d],h=t[d+1];for(n=r=0;n<p.length&&!c;)if(c=p[n++].exec(e))for(o=0;o<h.length;o++)l=c[++r],typeof(s=h[o])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;d+=2}},q=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(B(t[n][r],e))return"?"===n?i:n}else if(B(t[n],e))return"?"===n?i:n;return e},V={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},H={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[d,k]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,G]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,N],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,N],[p,y]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,I],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,I],[p,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,A],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,A],[p,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,j],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,j],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,P],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,P],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,C],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,C],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[p,y]],[/(pixel c)\b/i],[l,[h,T],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,T],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,M],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,M],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,S],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,S],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,E],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,x],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,x],[p,y]],[/(nexus 9)/i],[l,[h,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[p,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,D],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[p,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[p,v]],[/(surface duo)/i],[l,[h,O],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[p,y]],[/(u304aa)/i],[l,[h,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[p,v]],[/\b(k88) b/i],[l,[h,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[p,v]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[p,y]],[/\b(ph-1) /i],[l,[h,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[h,l,[p,y]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,O],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,L],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,L],[p,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[p,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[l,[h,M],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,O],[p,m]],[/smart-tv.+(samsung)/i],[h,[p,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,N],[p,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,C],[p,b]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[p,b]],[/crkey/i],[[l,"Chromecast"],[h,T],[p,b]],[/droid.+aft(\w)( bui|\))/i],[l,[h,S],[p,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,D],[p,b]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,M],[p,b]],[/(mitv-\w{5}) bui/i],[l,[h,j],[p,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,z],[l,z],[p,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,b]],[/((pebble))app/i],[h,l,[p,_]],[/droid.+; (glass) \d/i],[l,[h,T],[p,_]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,L],[p,_]],[/(quest( 2)?)/i],[l,[h,U],[p,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[f,q,V]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[f,q,V]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,f]]},$=function(e,t){if(typeof e===u&&(t=e,e=i),!(this instanceof $))return new $(e,t).getResult();var n=e||(typeof o!==s&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(H,t):H;return this.getBrowser=function(){var e,t={};return t.name=i,t.version=i,W.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:i,t},this.getCPU=function(){var e={};return e.architecture=i,W.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=i,e.model=i,e.type=i,W.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=i,e.version=i,W.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=i,e.version=i,W.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>350?z(e,350):e,this},this.setUA(n),this};$.VERSION="1.0.32",$.BROWSER=F([d,f,"major"]),$.CPU=F([g]),$.DEVICE=F([l,h,p,m,y,b,v,_,w]),$.ENGINE=$.OS=F([d,f]),typeof t!==s?(e.exports&&(t=e.exports=$),t.UAParser=$):n.amdO?(r=function(){return $}.call(t,n,t,e))===i||(e.exports=r):typeof o!==s&&(o.UAParser=$);var K=typeof o!==s&&(o.jQuery||o.Zepto);if(K&&!K.ua){var Y=new $;K.ua=Y.getResult(),K.ua.get=function(){return Y.getUA()},K.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)K.ua[n]=t[n]}}}("object"==typeof self?self:this)},8746:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},56579:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},71323:(e,t,n)=>{var r=n(27061),o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<i;u=r[++n])g(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(e,o){if(v(n.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===r.noDeprecation)return e;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return e.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&I(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=l(e,o,r)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(I(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return d(n)}var c,_="",x=!1,E=["{","}"];(h(n)&&(x=!0,E=["[","]"]),I(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),S(n)&&(_=" "+d(n)),0!==a.length||x&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=x?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)A(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return p(e,n,r,s,t,x)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,E)):E[0]+_+E[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===x(e)}function S(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function I(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(i)&&(i=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=S,t.isFunction=I,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(56579);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(8746),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},14633:(e,t,n)=>{var r,o;n.r(t),n.d(t,{ArraySchema:()=>Te,BaseSchema:()=>q,BooleanSchema:()=>J,DateSchema:()=>ce,MixedSchema:()=>H,NumberSchema:()=>ie,ObjectSchema:()=>Ie,StringSchema:()=>re,ValidationError:()=>C,addMethod:()=>Pe,array:()=>ke,bool:()=>Y,boolean:()=>Y,date:()=>ue,isSchema:()=>x,lazy:()=>Ae,mixed:()=>$,number:()=>oe,object:()=>xe,reach:()=>G,ref:()=>j,setLocale:()=>Oe,string:()=>ne});try{r=Map}catch(e){}try{o=Set}catch(e){}function i(e,t,n){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(a);if(r&&e instanceof r)return new Map(Array.from(e.entries()));if(o&&e instanceof o)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var s=Object.create(e);for(var u in n.push(s),e){var c=t.findIndex((function(t){return t===e[u]}));s[u]=c>-1?n[c]:i(e[u],t,n)}return s}return e}function a(e){return i(e,[],[])}const s=Object.prototype.toString,u=Error.prototype.toString,c=RegExp.prototype.toString,l="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",d=/^Symbol\((.*)\)(.*)$/;function p(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return l.call(e).replace(d,"Symbol($1)");const r=s.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+u.call(e)+"]":"RegExp"===r?c.call(e):null}function h(e,t){let n=p(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=p(this[e],t);return null!==r?r:n}),2)}let f={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let o=null!=r&&r!==n,i=`${e} must be a \`${t}\` type, but the final value was: \`${h(n,!0)}\``+(o?` (cast from the value \`${h(r,!0)}\`).`:".");return null===n&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},defined:"${path} must be defined"},g={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},m={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},y={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},v={isValue:"${path} field must be ${value}"},b={noUnknown:"${path} field has unspecified keys: ${unknown}"},_={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};const w=Object.assign(Object.create(null),{mixed:f,string:g,number:m,date:y,object:b,array:_,boolean:v});var S=n(54957),I=n.n(S);const x=e=>e&&e.__isYupSchema__;const E=class{constructor(e,t){if(this.fn=void 0,this.refs=e,this.refs=e,"function"==typeof t)return void(this.fn=t);if(!I()(t,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:o}=t,i="function"==typeof n?n:(...e)=>e.every((e=>e===n));this.fn=function(...e){let t=e.pop(),n=e.pop(),a=i(...e)?r:o;if(a)return"function"==typeof a?a(n):n.concat(a.resolve(t))}}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!x(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}};function k(e){return null==e?[]:[].concat(e)}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}let A=/\$\{\s*(\w+)\s*\}/g;class C extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=T({},t,{path:n})),"string"==typeof e?e.replace(A,((e,n)=>h(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],k(e).forEach((e=>{C.isError(e)?(this.errors.push(...e.errors),this.inner=this.inner.concat(e.inner.length?e.inner:e)):this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,C)}}function O(e,t){let{endEarly:n,tests:r,args:o,value:i,errors:a,sort:s,path:u}=e,c=(e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}})(t),l=r.length;const d=[];if(a=a||[],!l)return a.length?c(new C(a,i,u)):c(null,i);for(let e=0;e<r.length;e++){(0,r[e])(o,(function(e){if(e){if(!C.isError(e))return c(e,i);if(n)return e.value=i,c(e,i);d.push(e)}if(--l<=0){if(d.length&&(s&&d.sort(s),a.length&&d.push(...a),a=d),a.length)return void c(new C(a,i,u),i);c(null,i)}}))}}var P=n(25389),R=n.n(P),N=n(17642);const D="$",M=".";function j(e,t){return new L(e,t)}class L{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===D,this.isValue=this.key[0]===M,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?D:this.isValue?M:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,N.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function F(e){function t(t,n){let{value:r,path:o="",label:i,options:a,originalValue:s,sync:u}=t,c=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["value","path","label","options","originalValue","sync"]);const{name:l,test:d,params:p,message:h}=e;let{parent:f,context:g}=a;function m(e){return L.isRef(e)?e.getValue(r,f,g):e}function y(e={}){const t=R()(U({value:r,originalValue:s,label:i,path:e.path||o},p,e.params),m),n=new C(C.formatError(e.message||h,t),r,t.path,e.type||l);return n.params=t,n}let v,b=U({path:o,parent:f,type:l,createError:y,resolve:m,options:a,originalValue:s},c);if(u){try{var _;if(v=d.call(b,r,b),"function"==typeof(null==(_=v)?void 0:_.then))throw new Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(e){return void n(e)}C.isError(v)?n(v):v?n(null,v):n(y())}else try{Promise.resolve(d.call(b,r,b)).then((e=>{C.isError(e)?n(e):e?n(null,e):n(y())})).catch(n)}catch(e){n(e)}}return t.OPTIONS=e,t}L.prototype.__isYupRef=!0;function B(e,t,n,r=n){let o,i,a;return t?((0,N.forEach)(t,((s,u,c)=>{let l=u?(e=>e.substr(0,e.length-1).substr(1))(s):s;if((e=e.resolve({context:r,parent:o,value:n})).innerType){let r=c?parseInt(l,10):0;if(n&&r>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[r],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e._type}")`);o=n,n=n&&n[l],e=e.fields[l]}i=l,a=u?"["+s+"]":"."+s})),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}const G=(e,t,n,r)=>B(e,t,n,r).schema;class z{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const t of this.list)e.push(t);for(const[,t]of this.refs)e.push(t.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce(((t,n)=>t.concat(L.isRef(n)?e(n):n)),[])}add(e){L.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){L.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new z;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,t){const n=this.clone();return e.list.forEach((e=>n.add(e))),e.refs.forEach((e=>n.add(e))),t.list.forEach((e=>n.delete(e))),t.refs.forEach((e=>n.delete(e))),n}}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}class q{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new z,this._blacklist=new z,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(f.notType)})),this.type=(null==e?void 0:e.type)||"mixed",this.spec=W({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==e?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=W({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=a(W({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=W({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}cast(e,t={}){let n=this.resolve(W({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){let o=h(e),i=h(r);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n._type}". \n\nattempted value: ${o} \n`+(i!==o?`result of cast: ${i}`:""))}return r}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault()),n}_validate(e,t={},n){let{sync:r,path:o,from:i=[],originalValue:a=e,strict:s=this.spec.strict,abortEarly:u=this.spec.abortEarly}=t,c=e;s||(c=this._cast(c,W({assert:!1},t)));let l={value:c,path:o,options:t,originalValue:a,schema:this,label:this.spec.label,sync:r,from:i},d=[];this._typeError&&d.push(this._typeError);let p=[];this._whitelistError&&p.push(this._whitelistError),this._blacklistError&&p.push(this._blacklistError),O({args:l,value:c,path:o,sync:r,tests:d,endEarly:u},(e=>{e?n(e,c):O({tests:this.tests.concat(p),args:l,path:o,sync:r,value:c,endEarly:u},n)}))}validate(e,t,n){let r=this.resolve(W({},t,{value:e}));return"function"==typeof n?r._validate(e,t,n):new Promise(((n,o)=>r._validate(e,t,((e,t)=>{e?o(e):n(t)}))))}validateSync(e,t){let n;return this.resolve(W({},t,{value:e}))._validate(e,W({},t,{sync:!0}),((e,t)=>{if(e)throw e;n=t})),n}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(C.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(C.isError(e))return!1;throw e}}_getDefault(){let e=this.spec.default;return null==e?e:"function"==typeof e?e.call(this):a(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){let t=this.clone();return t.spec.strict=e,t}_isPresent(e){return null!=e}defined(e=f.defined){return this.test({message:e,name:"defined",exclusive:!0,test:e=>void 0!==e})}required(e=f.required){return this.clone({presence:"required"}).withMutation((t=>t.test({message:e,name:"required",exclusive:!0,test(e){return this.schema._isPresent(e)}})))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e}nullable(e=!0){return this.clone({nullable:!1!==e})}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=f.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=F(t),o=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(o)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=k(e).map((e=>new L(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new E(r,t)),n}typeError(e){let t=this.clone();return t._typeError=F({message:e,name:"typeError",test(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}oneOf(e,t=f.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=F({message:t,name:"oneOf",test(e){if(void 0===e)return!0;let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}notOneOf(e,t=f.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=F({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(){const e=this.clone(),{label:t,meta:n}=e.spec;return{meta:n,label:t,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))}}}q.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])q.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:a}=B(this,t,n,r.context);return a[e](o&&o[i],W({},r,{parent:o,path:t}))};for(const e of["equals","is"])q.prototype[e]=q.prototype.oneOf;for(const e of["not","nope"])q.prototype[e]=q.prototype.notOneOf;q.prototype.optional=q.prototype.notRequired;const V=q,H=V;function $(){return new V}$.prototype=V.prototype;const K=e=>null==e;function Y(){return new J}class J extends q{constructor(){super({type:"boolean"}),this.withMutation((()=>{this.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}_typeCheck(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e}isTrue(e=v.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>K(e)||!0===e})}isFalse(e=v.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>K(e)||!1===e})}}Y.prototype=J.prototype;let X=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Q=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ee=e=>K(e)||e===e.trim(),te={}.toString();function ne(){return new re}class re extends q{constructor(){super({type:"string"}),this.withMutation((()=>{this.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;const t=null!=e&&e.toString?e.toString():e;return t===te?e:t}))}))}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,t=g.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test(t){return K(t)||t.length===this.resolve(e)}})}min(e,t=g.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return K(t)||t.length>=this.resolve(e)}})}max(e,t=g.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test(t){return K(t)||t.length<=this.resolve(e)}})}matches(e,t){let n,r,o=!1;return t&&("object"==typeof t?({excludeEmptyString:o=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||g.matches,params:{regex:e},test:t=>K(t)||""===t&&o||-1!==t.search(e)})}email(e=g.email){return this.matches(X,{name:"email",message:e,excludeEmptyString:!0})}url(e=g.url){return this.matches(Q,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=g.uuid){return this.matches(Z,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=g.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:ee})}lowercase(e=g.lowercase){return this.transform((e=>K(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>K(e)||e===e.toLowerCase()})}uppercase(e=g.uppercase){return this.transform((e=>K(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>K(e)||e===e.toUpperCase()})}}ne.prototype=re.prototype;function oe(){return new ie}class ie extends q{constructor(){super({type:"number"}),this.withMutation((()=>{this.transform((function(e){let t=e;if("string"==typeof t){if(t=t.replace(/\s/g,""),""===t)return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))}))}_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e)}min(e,t=m.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return K(t)||t>=this.resolve(e)}})}max(e,t=m.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(t){return K(t)||t<=this.resolve(e)}})}lessThan(e,t=m.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test(t){return K(t)||t<this.resolve(e)}})}moreThan(e,t=m.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test(t){return K(t)||t>this.resolve(e)}})}positive(e=m.positive){return this.moreThan(0,e)}negative(e=m.negative){return this.lessThan(0,e)}integer(e=m.integer){return this.test({name:"integer",message:e,test:e=>K(e)||Number.isInteger(e)})}truncate(){return this.transform((e=>K(e)?e:0|e))}round(e){var t;let n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((t=>K(t)?t:Math[e](t)))}}oe.prototype=ie.prototype;var ae=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;let se=new Date("");function ue(){return new ce}class ce extends q{constructor(){super({type:"date"}),this.withMutation((()=>{this.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],o=0;if(n=ae.exec(e)){for(var i,a=0;i=r[a];++a)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(o=60*n[10]+n[11],"+"===n[9]&&(o=0-o)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+o,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?se:new Date(e))}))}))}_typeCheck(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}prepareParam(e,t){let n;if(L.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=y.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(e){return K(e)||e>=this.resolve(n)}})}max(e,t=y.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(e){return K(e)||e<=this.resolve(n)}})}}ce.INVALID_DATE=se,ue.prototype=ce.prototype,ue.INVALID_DATE=se;var le=n(32526),de=n.n(le),pe=n(97429),he=n.n(pe),fe=n(83180),ge=n.n(fe),me=n(50944),ye=n.n(me);function ve(e,t){let n=1/0;return e.some(((e,r)=>{var o;if(-1!==(null==(o=t.path)?void 0:o.indexOf(e)))return n=r,!0})),n}function be(e){return(t,n)=>ve(e,t)-ve(e,n)}function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}let we=e=>"[object Object]"===Object.prototype.toString.call(e);const Se=be([]);class Ie extends q{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=Se,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{this.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&this.shape(e)}))}_typeCheck(e){return we(e)||"function"==typeof e}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault();if(!this._typeCheck(r))return r;let o=this.fields,i=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,a=this._nodes.concat(Object.keys(r).filter((e=>-1===this._nodes.indexOf(e)))),s={},u=_e({},t,{parent:s,__validating:t.__validating||!1}),c=!1;for(const e of a){let n=o[e],a=I()(r,e);if(n){let o,i=r[e];u.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:i,context:t.context,parent:s});let a="spec"in n?n.spec:void 0,l=null==a?void 0:a.strict;if(null==a?void 0:a.strip){c=c||e in r;continue}o=t.__validating&&l?r[e]:n.cast(r[e],u),void 0!==o&&(s[e]=o)}else a&&!i&&(s[e]=r[e]);s[e]!==r[e]&&(c=!0)}return c?s:r}_validate(e,t={},n){let r=[],{sync:o,from:i=[],originalValue:a=e,abortEarly:s=this.spec.abortEarly,recursive:u=this.spec.recursive}=t;i=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,t.from=i,super._validate(e,t,((e,c)=>{if(e){if(!C.isError(e)||s)return void n(e,c);r.push(e)}if(!u||!we(c))return void n(r[0]||null,c);a=a||c;let l=this._nodes.map((e=>(n,r)=>{let o=-1===e.indexOf(".")?(t.path?`${t.path}.`:"")+e:`${t.path||""}["${e}"]`,s=this.fields[e];s&&"validate"in s?s.validate(c[e],_e({},t,{path:o,from:i,strict:!0,parent:c,originalValue:a[e]}),r):r(null)}));O({sync:o,tests:l,value:c,errors:r,endEarly:s,sort:this._sortErrors,path:t.path},n)}))}clone(e){const t=super.clone(e);return t.fields=_e({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];void 0===r?n[e]=t:r instanceof q&&t instanceof q&&(n[e]=t.concat(r))}return t.withMutation((()=>t.shape(n,this._excludedEdges)))}getDefaultFromShape(){let e={};return this._nodes.forEach((t=>{const n=this.fields[t];e[t]="default"in n?n.getDefault():void 0})),e}_getDefault(){return"default"in this.spec?super._getDefault():this._nodes.length?this.getDefaultFromShape():void 0}shape(e,t=[]){let n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=be(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[...n._excludedEdges,...t]),n._nodes=function(e,t=[]){let n=[],r=new Set,o=new Set(t.map((([e,t])=>`${e}-${t}`)));function i(e,t){let i=(0,N.split)(e)[0];r.add(i),o.has(`${t}-${i}`)||n.push([t,i])}for(const t in e)if(I()(e,t)){let n=e[t];r.add(t),L.isRef(n)&&n.isSibling?i(n.path,t):x(n)&&"deps"in n&&n.deps.forEach((e=>i(e,t)))}return ye().array(Array.from(r),n).reverse()}(r,n._excludedEdges),n}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.clone().withMutation((e=>(e.fields={},e.shape(t))))}omit(e){const t=this.clone(),n=t.fields;t.fields={};for(const t of e)delete n[t];return t.withMutation((()=>t.shape(n)))}from(e,t,n){let r=(0,N.getter)(e,!0);return this.transform((o=>{if(null==o)return o;let i=o;return I()(o,e)&&(i=_e({},o),n||delete i[e],i[t]=r(o)),i}))}noUnknown(e=!0,t=b.noUnknown){"string"==typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=function(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=b.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>t&&ge()(t,((t,n)=>e(n)))))}camelCase(){return this.transformKeys(he())}snakeCase(){return this.transformKeys(de())}constantCase(){return this.transformKeys((e=>de()(e).toUpperCase()))}describe(){let e=super.describe();return e.fields=R()(this.fields,(e=>e.describe())),e}}function xe(e){return new Ie(e)}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function ke(e){return new Te(e)}xe.prototype=Ie.prototype;class Te extends q{constructor(e){super({type:"array"}),this.innerType=void 0,this.innerType=e,this.withMutation((()=>{this.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))}))}_typeCheck(e){return Array.isArray(e)}get _subType(){return this.innerType}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const o=n.map(((e,n)=>{const o=this.innerType.cast(e,Ee({},t,{path:`${t.path||""}[${n}]`}));return o!==e&&(r=!0),o}));return r?o:n}_validate(e,t={},n){var r,o;let i=[],a=t.sync,s=t.path,u=this.innerType,c=null!=(r=t.abortEarly)?r:this.spec.abortEarly,l=null!=(o=t.recursive)?o:this.spec.recursive,d=null!=t.originalValue?t.originalValue:e;super._validate(e,t,((e,r)=>{if(e){if(!C.isError(e)||c)return void n(e,r);i.push(e)}if(!l||!u||!this._typeCheck(r))return void n(i[0]||null,r);d=d||r;let o=new Array(r.length);for(let e=0;e<r.length;e++){let n=r[e],i=`${t.path||""}[${e}]`,a=Ee({},t,{path:i,strict:!0,parent:r,index:e,originalValue:d[e]});o[e]=(e,t)=>u.validate(n,a,t)}O({sync:a,path:s,value:r,errors:i,endEarly:c,tests:o},n)}))}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!x(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+h(e));return t.innerType=e,t}length(e,t=_.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test(t){return K(t)||t.length===this.resolve(e)}})}min(e,t){return t=t||_.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return K(t)||t.length>=this.resolve(e)}})}max(e,t){return t=t||_.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(t){return K(t)||t.length<=this.resolve(e)}})}ensure(){return this.default((()=>[])).transform(((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t)))}compact(e){let t=e?(t,n,r)=>!e(t,n,r):e=>!!e;return this.transform((e=>null!=e?e.filter(t):e))}describe(){let e=super.describe();return this.innerType&&(e.innerType=this.innerType.describe()),e}nullable(e=!0){return super.nullable(e)}defined(){return super.defined()}required(e){return super.required(e)}}function Ae(e){return new Ce(e)}ke.prototype=Te.prototype;class Ce{constructor(e){this.type="lazy",this.__isYupSchema__=!0,this.__inputType=void 0,this.__outputType=void 0,this._resolve=(e,t={})=>{let n=this.builder(e,t);if(!x(n))throw new TypeError("lazy() functions must return a valid schema");return n.resolve(t)},this.builder=e}resolve(e){return this._resolve(e.value,e)}cast(e,t){return this._resolve(e,t).cast(e,t)}validate(e,t,n){return this._resolve(e,t).validate(e,t,n)}validateSync(e,t){return this._resolve(e,t).validateSync(e,t)}validateAt(e,t,n){return this._resolve(t,n).validateAt(e,t,n)}validateSyncAt(e,t,n){return this._resolve(t,n).validateSyncAt(e,t,n)}describe(){return null}isValid(e,t){return this._resolve(e,t).isValid(e,t)}isValidSync(e,t){return this._resolve(e,t).isValidSync(e,t)}}function Oe(e){Object.keys(e).forEach((t=>{Object.keys(e[t]).forEach((n=>{w[t][n]=e[t][n]}))}))}function Pe(e,t,n){if(!e||!x(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof t)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n}},22691:(e,t)=>{function n(e,t,n,r){var o,i=!1,a=0;function s(){o&&clearTimeout(o)}function u(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var d=this,p=Date.now()-a;function h(){a=Date.now(),n.apply(d,c)}function f(){o=void 0}i||(r&&!o&&h(),s(),void 0===r&&p>e?h():!0!==t&&(o=setTimeout(r?f:h,void 0===r?e-p:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),u.cancel=function(){s(),i=!0},u}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,r){return void 0===r?n(e,t,!1):n(e,r,!1!==t)},t.throttle=n},30193:(e,t,n)=>{function r(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function o(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const o=r(n);return(e,n)=>o.then((r=>n(r.transaction(t,e).objectStore(t))))}let i;function a(){return i||(i=o("keyval-store","keyval")),i}function s(e,t=a()){return t("readonly",(t=>r(t.get(e))))}function u(e,t,n=a()){return n("readwrite",(n=>(n.put(t,e),r(n.transaction))))}function c(e,t=a()){return t("readwrite",(t=>(e.forEach((e=>t.put(e[1],e[0]))),r(t.transaction))))}function l(e,t=a()){return t("readonly",(t=>Promise.all(e.map((e=>r(t.get(e)))))))}function d(e,t,n=a()){return n("readwrite",(n=>new Promise(((o,i)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),o(r(n.transaction))}catch(e){i(e)}}}))))}function p(e,t=a()){return t("readwrite",(t=>(t.delete(e),r(t.transaction))))}function h(e,t=a()){return t("readwrite",(t=>(e.forEach((e=>t.delete(e))),r(t.transaction))))}function f(e=a()){return e("readwrite",(e=>(e.clear(),r(e.transaction))))}function g(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},r(e.transaction)}function m(e=a()){return e("readonly",(e=>{if(e.getAllKeys)return r(e.getAllKeys());const t=[];return g(e,(e=>t.push(e.key))).then((()=>t))}))}function y(e=a()){return e("readonly",(e=>{if(e.getAll)return r(e.getAll());const t=[];return g(e,(e=>t.push(e.value))).then((()=>t))}))}function v(e=a()){return e("readonly",(t=>{if(t.getAll&&t.getAllKeys)return Promise.all([r(t.getAllKeys()),r(t.getAll())]).then((([e,t])=>e.map(((e,n)=>[e,t[n]]))));const n=[];return e("readonly",(e=>g(e,(e=>n.push([e.key,e.value]))).then((()=>n))))}))}n.r(t),n.d(t,{clear:()=>f,createStore:()=>o,del:()=>p,delMany:()=>h,entries:()=>v,get:()=>s,getMany:()=>l,keys:()=>m,promisifyRequest:()=>r,set:()=>u,setMany:()=>c,update:()=>d,values:()=>y})},29843:e=>{e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},79725:e=>{e.exports=JSON.parse("[2251064457,3118220208,278275686,3090683415,905456685,2310920097,3330381119,3097628854,2308584772,3912254192,2483992340,416917248,1896346675,929871873,1187643106,2103767433,2058831064,3373558001,703636511,343995468,1010052510,1823949618,3947185191,3966215288,1730424479,2912293238,562834879,839605109,3025805418,1296250777,2083606769,163376123,2363750571,1871737962,1556536323,3408708016,3559193341,894124460,532455577,3998203489,1031413360,799811613,3527291262,3513532005,3913701395,1873603089,2660396197,2322803227,1676176892,207966906,2661732686,3689788648,4266069159,3983521473,1265151986,3749385009,1873934942,1681602228,2736153366,4096452182,4247002517,2538464459,1765211386,898293017,397097947,3656112413,1466513829,3931674349,3493256341,1282593880,3095174478,3903214402,2689618724,3015464148,1826016605,3284070612,2053987556,2450374867,3707046206,890046839,3284588936,3857535654,4221722746,529391673,3272724661,804976862,3345087953,1549522272,2338076792,766276857,174737586,2096505667,191614516,2830613580,684884595,3607135031,1914290176,2393897752,3067686766,4147490267,4272733719,2563619494,2948822396,4225473885,2551101731,799443219,4187872483,3499117970,3778319193,1448407968,4130920043,1944987688,2865808453,1957780273,340954337,242259771,3805736558,3658897877,1909302186,3591602308,1637363907,3130812252,2486490812,1796610026,2552435615,1945623303,1875347320,3425823966,360672114,212167992,80775505,2119009123,3156817692,132986733,1833424723,557261538,452689623,1219497744,13556891,2662594640,838834997,1602233473,4137498289,223927232,3791149768,2552045946,678007340,2776928972,345726151,1648163252,1294070134,2294851597,1071376249,2028147500,1005838435,1209553413,76612170,3385001389,3233380214,1739377735,2578748097,3667706277,902445454,1006891526,673284699,3959920881,3960352812,3292677496,2309349975,284439265,1104194375,805395457,3391881833,1130081112,1359963850,2231979281,3966646316,889024210,846107947,1219673616,503296504,1260748031,1425014518,1462348237,1025684407,3651973468,2985226830,3372625585,258865120,2976652179,1008531582,501854682,2447247149,2911647334,2311405959,2186467750,4213448953,384168571,1877650602,1794786568,2313621412,1960006675,2587948746,3174174808,1412251475,1093935290,672176162,4234997300,95938636,3234678270,3945361858,3354593631,3362024858,1472065429,3248602923,2767923591,4220064987,3894698296,342206828,865752843,2893615459,2145637021,214514129,3543611435,3110526918,755469224,3740828246,1695181210,276828892,1476823260,2732103229,2481209,3874518728,14575651,965687018,2056486797,148005372,1369111912,1861710179,1740035256,1708140719,3329459055,1867468569,1608029561,2043845922,3718567589,3882559515,4055359143,4042113652,1012065222,3824106476,3315801748,3203149541,1023371483,3430664213,879418969,3580479964,2789986061,924629955,165234826,600285273,503265969,1118766568,2191948940,3415855678,3758269509,1496509068,2186956387,3298874535,156194955,3483927899,2235841708,1904488192,2267441237,3558564636,3195240429,1856875595,1733759051,85994078,1029099059,973687939,4066625576,592590166,3878965635,3676419121,2143576132,3151795819,1079852832,3288061204,1459242107,225006861,862823061,291244672,3707673517,4154751356,2775121900,3876255281,2510498817,1757722687,108899836,1936389419,2847418692,3175677892,3106493935,859426300,1505573066,664280875,3688779594,3906582956,1458548809,557992898,2904029345,2905974802,2726290464,2655639003,1756375409,2964088087,939919230,2080546677,2771045810,4207028118,381393509,1396716644,911671464,3780281787,1536885439,428161064,2582108258,3884024875,1928844928,3801625367,1620616736,1310742121,3507146311,1580291813,3662522752,135370638,3908286490,580604723,140316199,2059585038,2390127212,2121477891,2866824501,62411672,3899908767,559934189,1537590325,2335278726,434926222,1316999686,2175590101,2813612273,3003020452,869418667,259349665,1389824194,3106668750,200305651,3942474928,4136216159,2045238794,2010790288,1005830215,4059333087,3901225598,1102210225,1772159252,2421291428,687944148,3815853895,2989483291,3281091160,1336752953,3673228397,1730660024,3826131292,958302489,528949865,4043279741,969235410,244698726,282625897,2760926873,3489280082,200291201,3103388925,745230889,1212027532,741580288,685705993,946005067,636420672,3030603238,3518654880,534128270,1571959996,3349987446,4217724885,3667056760,3683581971,2065952611,1622073274,2374127372,1517935146,3068174700,2369557332,3208811391,3885677276,3506190522,2634772791,3696485360,1357547277,894181101,1491717174,73827754,647710532,576381638,3294471633,377760942,3592978847,1576831689,2455414808,2092359376,1296896916,2128348327,2152415190,26728999,3113528553,2723887369,631041103,2746129298,3370161792,1048418343,270944152,2683636868,2063695699,3239641310,339340243,2543782224,3864313925,1295957682,1600610883,3870215170,2173776566,1592336849,894503765,3958588583,3076410110,663195141,3643882280,1784493558,4002325681,3352946013,2700363738,2600206339,462315355,3044959912,2898887625,3304499152,4092722543,808273888,3237971470,1891907286,2648765977,3907414102,742609966,197020256,439795325,1968123942,1290031757,740722480,2953339612,4014342747,1609139659,2258681200,1603958576,2906201078,1760795944,224242495,469330333,3675329179,204535911,3106005327,3644297507,2686365300,189914621,1852197589,2717828310,1802587701,3013948523,2283343851,1572692863,3114688935,2507098381,315587063,2480206647,2488698676,3302685928,474847534,412245617,4071595839,309051836,216207481,4230033442,1004275350,3749482875,2419481563,3089794483,1247812325,42084117,3911349018,20992439,1989710075,1422591602,681051115,3679120640,1681543218,3441584215,4113953451,4083259632,2016649819,1547318118,2409110956,349777427,2618088136,968114467,1890293740,2387560779,3026578767,2563260596,3835607814,656394824,1072368372,2787791597,785585596,1032318337,357975910,1393302245,3712844345,3595290492,2573233681,311473926,263185014,2208229541,2346416602,2340838906,1473646497,3931959633,3296083496,1522904725,143209548,88003307,3214953702,3872066651,4165110993,3778214858,1409488596,2140503837,3392407399,2539335593,619944242,3832274817,2517805736,1429813966,231652690,2475931266,3286886147,2482935561,116273170,3837649865,1616391967,3116968487,744594889,2518103421,3886071743,983523067,2606380682,1586421245,2916910364,1404402661,2545427306,8417147,1348762232,2978850367,809293251,1245258639,3493557790,2817011481,937585054,1738938031,3155224548,576487181,1956331267,4181269715,1567536369,3936337866,3126417745,2774921418,214298747,3892793459,3250198191,3261109662,3281607623,1017266646,2447015658,3715431259,1841223462,3333798698,2909106762,2971433482,2116121338,2505497751,3783772893,1462105691,1718891619,2225518404,2579290559,2880831565,3580617867,3183396262,2784111558,1325939173,3306123235,3221463076,2220058748,3114924310,3987015574,1302720316,1940982804,3248574801,3972127405,2244951317,482070224,3461983859,2577468877,744725115,59199710,2512569620,3405662074,765524487,573067262,3102110985,2137791632,2311838362,1691770393,3581748859,2509797228,1493121215,114699699,4209681878,1962098231,3518225767,30921067,1825657611,98962311,412515479,1913342126,681921437,3748531642,2524685203,1159812721,2676837823,2451986219,79741960,3653461972,3907276550,1490645280,3057510731,2205232614,2973200601,719382666,2773626967,1260976220,4105994425,3737559287,262586360,1354397770,1465669512,1758677935,3109742751,3552675455,281470602,711831493,1373677611,2052750401,966670169,166755255,304425183,3915668488,3228142011,3224506144,2715768712,14031884,810787742,3372860278,741042644,2244878831,1823509232,1598032973,3936063618,1465440780,1726353467,2343688371,1118140888,3687861995,2406077730,3939523270,2985597218,2386611223,678978744,1445914370,1453344377,2551807532,1778038816,1063102033,1708115355,3808075629,3920205508,91441038,2147909445,1577551933,1492658814,4230548332,5501051,3960281776,557357784,2592175906,1714342254,559574340,2413323499,1990277657,2736080221,3365966904,1321568359,3112369579,4266289134,3022799376,65977483,3848272111,1624614839,1166339994,2907787198,4133929452,1988710738,2433017156,3651158525,25831778,2372282523,1441691394,2491710213,3438606100,3034264854,262618193,2771300647,1876818271,1222453349,27807141,415580426,2409696419,1720411956,1641878379,3809704955,3709722719,2007427436,3375550159,3310183664,1993676089,2603178351,2952172330,3432038873,4251476405,1290511184,3234465958,1578658826,522122898,4206521550,1790627879,1015758506,3622525855,2662642056,1758086791,1343101803,3267056736,2131636501,4035485989,3550530431,3232905925,2506134717,3963798010,1317717424,3275051696,813701398,3243091194,3629652560,2925457957,2684222346,1482962327,4248470929,3339044265,3533549558,1421844460,269019926,853757630,4258414207,3099143261,512735608,2719005287,3174105482,1004984929,2626011231,1281255467,2274075766,3612623988,588917966,3326492896,12171607,989259655,4053544941,1010849171,3798462690,3605383101,1238347983,2514120590,1691069949,2418918301,1404779109,1541166050,684657124,3444388194,3360152208,3811046258,4259345325,163674875,2884011027,31549578,211123197,1608076182,1685354961,1617008352,113566858,4202791868,3109844802,2141244314,1633240739,3760903334,1034609867,3014228258,1624621662,1954320376,2017951262,1357311377,1976563872,568209026,3426285991,2425886264,236001223,951233820,3082799501,736127653,3131776060,1219788734,2263825260,608575009,1653684167,2085500040,4048355029,3420257497,1278273470,3236253535,2946899633,675194674,3969189679,1445072044,4078409929,1253840107,315393377,809806178,4293946924,1374857498,255601716,2859497776,2007500875,4291917221,1114432098,2001438156,676677595,2492445731,3347777457,2995452019,467746017,3772802863,4158923587,1249843307,936994131,3880648938,2999200308,3961349606,4273326207,1371725815,1881227469,3345343033,3738727678,4177980119,1850736771,1706102053,784094996,2599080930,3268563060,3016630298,1453340862,3112177204,3617256962,2987768081,238781305,4170492780,161614979,2761906214,1433682754,3927744280,4088234493,177246156,559537375,1351203752,960755702,1489875439,2458813982,2328154487,1273965332,2411228054,1505011513,2851374031,860044735,1641836890,4268707783,108638515,3414734344,1587487237,4286034435,1615716933,1069136845,2849268238,4175236679,1889306571,1645793230,1089322760,122268233,2586929256,3705180867,1319625245,1498250624,4219115023,684503549,2156892780,282627054,2508298059,1978751782,6609437,1563947406,640848056,2767558570,797150246,2206276016,3099154974,4190695800,389522095,1813539004,2653140278,349809913,1881132563,792050273,318443299,686944659,1778783148,2787511162,3173092289,2321886208,1568283700,4191729161,1964034873,2011650737,1736218274,1358906708,1535434599,1756696677,1031004932,1486244036,3921573297,1019278659,1774572620,3771565082,113562916,2823367005,1380295492,2167756929,361382345,393934141,2229542276,586931735,1189797108,3245101360,3511604941,2325908096,3066843625,1128923011,3021401983,535372946,240065934,3801548290,3455779302,1647631867,3070451990,170655054,813572102,4095809578,1075248046,2750634614,261179704,1770084144,4114467561,3365012356,3084272217,108857888,4235007670,2227894503,2854301457,3526688153,2506312380,2292704754,2054584292,2780644070,81537916,827976781,842934951,3081492110,84071220,795745439,4183808264,4286832041,2313852871,967831573,2559814789,1606996402,2703314973,4088454477,3184578740,485336351,1846159738,805757779,151147453,1425913323,3829073316,2690960832,3629149524,58746890,228531566,1297901435,2374963563,1361796793,3163390720,1674327629,2921374726,3609290269,3281050831,2302721071,303689997,494015748,2894697035,2873821537,1216943164,1381803597,688675761,2139926406,1712496663,3135518402,2718953046,1199207547,3884578488,896212055,2177884128,1805974976,2881471054,1455349344,3416833812,631593231,3023374506,274398612,249835108,1677962214,3749128582,776887517,1143467727,824920731,2874196266,4098606110,2624306035,1848886795,4148816342,554140889,3937734597,556695005,496504430,632192512,2196997047,1166649008,2754810338,1681348146,1827399223,83765391,783008847,1966321320,2167318652,3074675677,2152850402,1365888683,775238069,1397684758,3256687677,983975253,2394258698,3895811867,547225099,1444085701,594689189,3639838101,1265899990,22933195,3607733559,3828412682,2264127639,346073215,3244250367,3845392768,110298822,3063815956,2031193464,1023628604,731295137,557481704,3151108203,349983179,141913790,2257946044,2321166183,1588940722,165754167,979726348,2108362245,3928599912,744968081,1208240573,4026225054,2596794077,3603021491,3041297610,3675514136,4293933292,182716558,257054,779461058,2006379841,1958151253,2765094541,2306362253,1631774289,1100296472,3440731724,2874826789,2677854644,2446619902,1157075103,3403248847,1469142266,205403771,3804774815,1153883227,3991697213,655470227,694651923,4051272619,400982564,2240626413,3269680442,65912911,851664695,2191463667,2459880147,1917759217,3680322366,1137498400,3091011943,2494254715,3219400818,959051769,2177629313,3572891393,868818574,3661501402,2617881579,238501590,750745377,2980432668,812259875,372787971,3363501172,1728269273,2469491077,1230410539,2426274431,1576258760,2509821936,1336596547,2970847877,1494639352,681218243,2016288594,579929070,1535663440,3713452659,1406869289,3035782193,2465408650,3363890341,470871107,2030704068,2873708143,3407585898,713515328,1021139111,1349500125,1543896292,568102834,1774692555,2486100794,3887493749,3754725158,4037377376,675902790,530657241,1562358975,1745946332,3223324522,1811750232,1541207908,1209784008,749227718,3838788285,1423570347,2163894912,4035765637,4010989960,3914839032,2284677806,1337078053,1038877153,2934115709,470706886,2371240717,2463187489,4195133416,3788233205,772868014,1701762694,3363151995,1855123698,2960324784,661972087,188442311,2394952008,1731885470,1920159460,3368316357,1322661093,1541973219,4066425638,283783774,890438960,2844616178,238335470,135625084,562299890,3711109850,2031230638,3420944422,102634947,1522197631,3644482095,864281713,2872188114,3099146600,18520727,1773883794,3352937947,1263644104,4180989657,3835475410,1386650696,1902977490,4258294164,4017117091,2166444432,578933024,491360817,3264764131,2533711273,3692164794,252906624,2577834612,466824993,2716111375,3547781246,1368706800,3846211123,4057392784,1617756693,692338311,394026898,73614668,2328022757,3071108854,2475025274,201991499,4123941246,3898560232,1334797482,3312648801,2697701978,4013849358,1020816857,1439690502,987473996,403316552,3352912309,1103067737,763574313,2980938321,1884042052,4212062396,979910780,302576724,3634974123,585428581,3518930853,779269217,720498841,2678086269,137119754,1659867459,4216489644,3133721984,1641486434,3500941828,3196469219,4061859567,812273371,3128931514,2992073521,4221555299,432253963,274180084,3155116065,1000931988,1028367861,2323195334,1802420713,1803731488,432362567,1420568092,807730901,3056001012,3568652180,2435841895,2293727575,3531670712,3810842112,4255256964,1935427944,456135544,871746367,3615958592,3217841581,3919430554,2732728106,1230009298,545429124,2277730654,1568714790,2144001849,3598991299,3880074583,2039720674,3152332955,3992055441,3520659471,3136343941,4206908460,260855197,3507060693,2556890905,735483492,158823025,2562143736,3423123858,2567962409,3309158095,2505991630,284092647,2615209188,538460444,1273762757,2390249616,1417704067,437011844,114661420,3536495071,398308658,393257183,3484112553,2194690178,4203476621,3652579173,1943483499,1462470033,827651953,3831188061,3981877130,3242879383,1746701345,1832688742,3385414100,2222726436,1709399028,342749212,3446603322,4096833614,3338611894,2286618714,551938173,3585721998,263504249,3543266859,3146146723,4157303667,1327362403,1955360934,322379478,1384697988,511728707,1582097874,2141381852,121190325,3122302148,4172935604,1734982767,2445602594,1337169148,3797276992,3263606986,3943411918,3876738710,1521002197,31338184,43280775,2082071866,1969156398]")},93281:e=>{e.exports=JSON.parse('{"american":[["ambercoloured","ambercolored"],["antiarmour","antiarmor"],["anticolour","anticolor"],["anticolours","anticolors"],["antitumour","antitumor"],["apricotcoloured","apricotcolored"],["arbour","arbor"],["arbours","arbors"],["ardour","ardor"],["ardours","ardors"],["armour","armor"],["armoured","armored"],["armourer","armorer"],["armourers","armorers"],["armouries","armories"],["armouring","armoring"],["armours","armors"],["armoury","armory"],["ashcoloured","ashcolored"],["aurora-coloured","aurora-colored"],["behaviour","behavior"],["behavioural","behavioral"],["behaviourism","behaviorism"],["behaviourisms","behaviorisms"],["behaviourist","behaviorist"],["behaviourists","behaviorists"],["behaviours","behaviors"],["belabour","belabor"],["belaboured","belabored"],["belabouring","belaboring"],["belabours","belabors"],["bicolour","bicolor"],["bicolouration","bicoloration"],["bicoloured","bicolored"],["bodycolour","bodycolor"],["brasscoloured","brasscolored"],["brickcoloured","brickcolored"],["brightly-coloured","brightly-colored"],["buff-coloured","buff-colored"],["burgundycoloured","burgundycolored"],["candour","candor"],["cherrycoloured","cherrycolored"],["chestnut-coloured","chestnut-colored"],["chocolate-coloured","chocolate-colored"],["cinnamon-coloured","cinnamon-colored"],["citroncoloured","citroncolored"],["clamour","clamor"],["clamoured","clamored"],["clamouring","clamoring"],["clamourings","clamorings"],["clamours","clamors"],["clangour","clangor"],["clangours","clangors"],["claretcoloured","claretcolored"],["colour","color"],["colour-blind","color-blind"],["colour-blindness","color-blindness"],["colour-coordinate","color-coordinate"],["colour-coordinated","color-coordinated"],["colourability","colorability"],["colourable","colorable"],["colourably","colorably"],["colourant","colorant"],["colourants","colorants"],["colouration","coloration"],["colourational","colorational"],["colourations","colorations"],["colourative","colorative"],["colourbearer","colorbearer"],["colourblind","colorblind"],["colourblindness","colorblindness"],["colourcast","colorcast"],["colourcaster","colorcaster"],["coloured","colored"],["coloureds","coloreds"],["colourer","colorer"],["colourers","colorers"],["colourfast","colorfast"],["colourfastness","colorfastness"],["colourful","colorful"],["colourfully","colorfully"],["colourfulness","colorfulness"],["colourific","colorific"],["colourimeter","colorimeter"],["colourimeters","colorimeters"],["colourimetric","colorimetric"],["colourimetrical","colorimetrical"],["colourimetrically","colorimetrically"],["colourimetry","colorimetry"],["colourin\'","colorin\'"],["colouring","coloring"],["colourings","colorings"],["colourisation","colorisation"],["colourise","colorise"],["colourism","colorism"],["colourisms","colorisms"],["colourist","colorist"],["colouristic","coloristic"],["colouristically","coloristically"],["colourists","colorists"],["colourization","colorization"],["colourizations","colorizations"],["colourize","colorize"],["colourized","colorized"],["colourizer","colorizer"],["colourizes","colorizes"],["colourizin\'","colorizin\'"],["colourizing","colorizing"],["colourless","colorless"],["colourlessly","colorlessly"],["colourlessness","colorlessness"],["colourmaker","colormaker"],["colourmakers","colormakers"],["colourmap","colormap"],["colourmaps","colormaps"],["colourmen","colormen"],["colourous","colorous"],["colourphobia","colorphobia"],["colourpoint","colorpoint"],["colourpoints","colorpoints"],["colourpuncture","colorpuncture"],["colours","colors"],["colourspace","colorspace"],["colourtype","colortype"],["colourway","colorway"],["colourways","colorways"],["colourwise","colorwise"],["colourwork","colorwork"],["concolourous","concolorous"],["coulter","colter"],["coulters","colters"],["dark-coloured","dark-colored"],["decolour","decolor"],["decolouration","decoloration"],["decolourations","decolorations"],["decoloured","decolored"],["decolouring","decoloring"],["decolourisation","decolorisation"],["decolourisations","decolorisations"],["decolourise","decolorise"],["decolourised","decolorised"],["decolouriser","decoloriser"],["decolourises","decolorises"],["decolourising","decolorising"],["decolourization","decolorization"],["decolourize","decolorize"],["decolourized","decolorized"],["decolourizer","decolorizer"],["decolours","decolors"],["demeanour","demeanor"],["demeanours","demeanors"],["discolour","discolor"],["discolouration","discoloration"],["discolourations","discolorations"],["discoloured","discolored"],["discolourer","discolorer"],["discolouring","discoloring"],["discolourings","discolorings"],["discolourisation","discolorisation"],["discolourise","discolorise"],["discolourization","discolorization"],["discolourment","discolorment"],["discolourous","discolorous"],["discolours","discolors"],["disfavour","disfavor"],["disfavours","disfavors"],["dishonour","dishonor"],["dishonourable","dishonorable"],["dishonourably","dishonorably"],["dishonoured","dishonored"],["dishonouring","dishonoring"],["dishonours","dishonors"],["dolour","dolor"],["dolours","dolors"],["dun-coloured","dun-colored"],["dusky-coloured","dusky-colored"],["dustcoloured","dustcolored"],["enamour","enamor"],["enamoured","enamored"],["enamouring","enamoring"],["enamours","enamors"],["endeavour","endeavor"],["endeavoured","endeavored"],["endeavouring","endeavoring"],["endeavours","endeavors"],["favour","favor"],["favourable","favorable"],["favourably","favorably"],["favoured","favored"],["favouring","favoring"],["favourite","favorite"],["favourited","favorited"],["favourites","favorites"],["favouriting","favoriting"],["favouritism","favoritism"],["favours","favors"],["fawn-coloured","fawn-colored"],["fawncoloured","fawncolored"],["fervour","fervor"],["fervours","fervors"],["flame-coloured","flame-colored"],["flavour","flavor"],["flavoured","flavored"],["flavouring","flavoring"],["flavourings","flavorings"],["flavourless","flavorless"],["flavours","flavors"],["flavoursome","flavorsome"],["flesh-coloured","flesh-colored"],["fleshcoloured","fleshcolored"],["forecolour","forecolor"],["forecolours","forecolors"],["garnet-coloured","garnet-colored"],["gold-coloured","gold-colored"],["governours","governors"],["handcolour","handcolor"],["harbour","harbor"],["harboured","harbored"],["harbouring","harboring"],["harbours","harbors"],["heritours","heritors"],["honey-coloured","honey-colored"],["honour","honor"],["honourable","honorable"],["honourably","honorably"],["honoured","honored"],["honouring","honoring"],["honours","honors"],["horrour","horror"],["humour","humor"],["humoured","humored"],["humouring","humoring"],["humourless","humorless"],["humours","humors"],["labour","labor"],["laboured","labored"],["labourer","laborer"],["labourers","laborers"],["labouring","laboring"],["labours","labors"],["languour","languor"],["languours","languors"],["lead-coloured","lead-colored"],["malodour","malodor"],["metal-coloured","metal-colored"],["metallic-coloured","metallic-colored"],["mirrours","mirrors"],["misbehaviour","misbehavior"],["misbehaviours","misbehaviors"],["miscolour","miscolor"],["miscolouration","miscoloration"],["miscoloured","miscolored"],["miscolouring","miscoloring"],["miscolours","miscolors"],["misdemeanour","misdemeanor"],["misdemeanours","misdemeanors"],["monocoloured","monocolored"],["mould","mold"],["moulded","molded"],["moulder","molder"],["mouldered","moldered"],["mouldering","moldering"],["moulders","molders"],["mouldier","moldier"],["mouldiest","moldiest"],["moulding","molding"],["mouldings","moldings"],["moulds","molds"],["mouldy","moldy"],["moult","molt"],["moulted","molted"],["moulting","molting"],["moults","molts"],["multi-colour","multi-color"],["multi-coloured","multi-colored"],["multicolour","multicolor"],["multicoloured","multicolored"],["multicolours","multicolors"],["neighbour","neighbor"],["neighbourhood","neighborhood"],["neighbourhoods","neighborhoods"],["neighbouring","neighboring"],["neighbourliness","neighborliness"],["neighbourly","neighborly"],["neighbours","neighbors"],["neutral-coloured","neutral-colored"],["odour","odor"],["odourless","odorless"],["odours","odors"],["off-colour","off-color"],["olive-coloured","olive-colored"],["orange-coloured","orange-colored"],["overcolour","overcolor"],["overcoloured","overcolored"],["parlour","parlor"],["parlourmaid","parlormaid"],["parlourmaids","parlormaids"],["parlours","parlors"],["particoloured","particolored"],["peachy-coloured","peachy-colored"],["pernickety","persnickety"],["pretour","pretor"],["pretours","pretors"],["pseudocolour","pseudocolor"],["pseudocoloured","pseudocolored"],["pseudocolouring","pseudocoloring"],["pseudocolours","pseudocolors"],["pseudotumour","pseudotumor"],["pseudotumours","pseudotumors"],["rancour","rancor"],["recolour","recolor"],["recolourable","recolorable"],["recolouration","recoloration"],["recolourations","recolorations"],["recoloured","recolored"],["recolourin\'","recolorin\'"],["recolouring","recoloring"],["recolours","recolors"],["remould","remold"],["remoulded","remolded"],["remoulding","remolding"],["remoulds","remolds"],["rigour","rigor"],["rigours","rigors"],["rose-coloured","rose-colored"],["rumour","rumor"],["rumoured","rumored"],["rumouring","rumoring"],["rumourmonger","rumormonger"],["rumourmongers","rumormongers"],["rumours","rumors"],["saviour","savior"],["saviours","saviors"],["savour","savor"],["savoured","savored"],["savouries","savories"],["savouring","savoring"],["savours","savors"],["savoury","savory"],["self-coloured","self-colored"],["smoulder","smolder"],["smouldered","smoldered"],["smouldering","smoldering"],["smoulders","smolders"],["snuff-colour","snuff-color"],["solid-coloured","solid-colored"],["splendour","splendor"],["splendours","splendors"],["straw-coloured","straw-colored"],["succour","succor"],["succoured","succored"],["succouring","succoring"],["succours","succors"],["tabour","tabor"],["tabours","tabors"],["tawny-coloured","tawny-colored"],["technicolour","technicolor"],["technicoloured","technicolored"],["topcolour","topcolor"],["torpour","torpor"],["tricolour","tricolor"],["tricoloured","tricolored"],["tricolourous","tricolorous"],["tricolours","tricolors"],["tumour","tumor"],["tumours","tumors"],["uncolourable","uncolorable"],["uncoloured","uncolored"],["uncolourful","uncolorful"],["unfavourable","unfavorable"],["unfavourably","unfavorably"],["unicolour","unicolor"],["unicolourous","unicolorous"],["unsavoury","unsavory"],["valour","valor"],["vapour","vapor"],["vapoured","vapored"],["vapouring","vaporing"],["vapours","vapors"],["varicoloured","varicolored"],["vavasour","vavasor"],["vavasours","vavasors"],["versicolour","versicolor"],["versicoloured","versicolored"],["vigour","vigor"],["violet-coloured","violet-colored"],["water-colour","water-color"],["watercolour","watercolor"],["watercoloured","watercolored"],["watercolourist","watercolorist"],["watercolourists","watercolorists"],["watercolours","watercolors"],["wine-coloured","wine-colored"],["accoutrement","accouterment"],["accoutrements","accouterments"],["amphitheatre","amphitheater"],["amphitheatres","amphitheaters"],["calibre","caliber"],["calibres","calibers"],["centilitre","centiliter"],["centilitres","centiliters"],["centimetre","centimeter"],["centimetres","centimeters"],["centre","center"],["centreboard","centerboard"],["centrefold","centerfold"],["centrefolds","centerfolds"],["centrepiece","centerpiece"],["centrepieces","centerpieces"],["centres","centers"],["epicentre","epicenter"],["epicentres","epicenters"],["fibre","fiber"],["fibreglass","fiberglass"],["fibres","fibers"],["goitre","goiter"],["goitres","goiters"],["kilometre","kilometer"],["kilometres","kilometers"],["lacklustre","lackluster"],["litre","liter"],["litres","liters"],["louvre","louver"],["louvres","louvers"],["lustre","luster"],["lustres","lusters"],["meagre","meager"],["metacentre","metacenter"],["metacentres","metacenters"],["metre","meter"],["metres","meters"],["micrometre","micrometer"],["micrometres","micrometers"],["millilitre","milliliter"],["millilitres","milliliters"],["millimetre","millimeter"],["millimetres","millimeters"],["mitre","miter"],["mitres","miters"],["nitre","niter"],["philtre","philter"],["philtres","philters"],["reconnoitre","reconnoiter"],["reconnoitres","reconnoiters"],["sabre","saber"],["sabres","sabers"],["saltpetre","saltpeter"],["sceptre","scepter"],["sceptres","scepters"],["sepulchre","sepulcher"],["sepulchres","sepulchers"],["sombre","somber"],["spectre","specter"],["spectres","specters"],["theatregoer","theatergoer"],["theatregoers","theatergoers"],["titre","titer"],["titres","titers"],["abetalipoproteinaemia","abetalipoproteinemia"],["aeon","eon"],["aeons","eons"],["aetiology","etiology"],["agammaglobulinaemia","agammaglobulinemia"],["albuminaemia","albuminemia"],["alcoholaemia","alcoholemia"],["anaemia","anemia"],["anaemias","anemias"],["anaemic","anemic"],["anaesthesia","anesthesia"],["anaesthesias","anesthesias"],["anaesthetic","anesthetic"],["anaesthetics","anesthetics"],["anaesthetist","anesthetist"],["anaesthetists","anesthetists"],["anaesthetize","anesthetize"],["anaesthetized","anesthetized"],["anaesthetizes","anesthetizes"],["anaesthetizing","anesthetizing"],["anoxaemia","anoxemia"],["antigenaemia","antigenemia"],["antileukaemic","antileukemic"],["azotaemia","azotemia"],["bacteraemia","bacteremia"],["bougainvillaea","bougainvillea"],["bougainvillaeas","bougainvilleas"],["caesium","cesium"],["carboxyhaemoglobin","carboxyhemoglobin"],["caesarean","cesarean"],["chimaera","chimera"],["chimaeras","chimeras"],["chimaeric","chimeric"],["cholesterolaemia","cholesterolemia"],["cryoglobulinaemia","cryoglobulinemia"],["cyclopaedia","cyclopedia"],["deoxyhaemoglobin","deoxyhemoglobin"],["diarrhoea","diarrhea"],["diarrhoeas","diarrheas"],["dysbetalipoproteinaemia","dysbetalipoproteinemia"],["dyslipidaemia","dyslipidemia"],["encyclopaedia","encyclopedia"],["encyclopaediae","encyclopediae"],["encyclopaedias","encyclopedias"],["encyclopaedic","encyclopedic"],["endotoxaemia","endotoxemia"],["euglycaemia","euglycemia"],["faecal","fecal"],["faeces","feces"],["foetal","fetal"],["foetid","fetid"],["foetus","fetus"],["foetuses","fetuses"],["fungaemia","fungemia"],["galactosaemia","galactosemia"],["glycaemia","glycemia"],["gonorrhoea","gonorrhea"],["gonorrhoeas","gonorrheas"],["gynaecological","gynecological"],["gynaecologies","gynecologies"],["gynaecologist","gynecologist"],["gynaecologists","gynecologists"],["gynaecology","gynecology"],["haematein","hematein"],["haemateins","hemateins"],["haematocele","hematocele"],["haematocrit","hematocrit"],["haematocrits","hematocrits"],["haematogenous","hematogenous"],["haematological","hematological"],["haematologist","hematologist"],["haematologists","hematologists"],["haematology","hematology"],["haematoma","hematoma"],["haematomas","hematomas"],["haematophagous","hematophagous"],["haematopoiesis","hematopoiesis"],["haematopoietic","hematopoietic"],["haematoxylin","hematoxylin"],["haematoxylins","hematoxylins"],["haemochromatosis","hemochromatosis"],["haemocoel","hemocoel"],["haemocyanin","hemocyanin"],["haemocyte","hemocyte"],["haemocytes","hemocytes"],["haemocytometer","hemocytometer"],["haemodialyses","hemodialyses"],["haemodialysis","hemodialysis"],["haemodynamic","hemodynamic"],["haemodynamically","hemodynamically"],["haemodynamics","hemodynamics"],["haemogenic","hemogenic"],["haemoglobin","hemoglobin"],["haemoglobinopathies","hemoglobinopathies"],["haemoglobinopathy","hemoglobinopathy"],["haemoglobins","hemoglobins"],["haemoglobinuria","hemoglobinuria"],["haemoglobinurias","hemoglobinurias"],["haemolymph","hemolymph"],["haemolysate","hemolysate"],["haemolysin","hemolysin"],["haemolysins","hemolysins"],["haemolysis","hemolysis"],["haemolytic","hemolytic"],["haemophilia","hemophilia"],["haemophiliac","hemophiliac"],["haemophiliacs","hemophiliacs"],["haemophilic","hemophilic"],["haemophobia","hemophobia"],["haemopoiesis","hemopoiesis"],["haemopoietic","hemopoietic"],["haemoprotein","hemoprotein"],["haemoproteins","hemoproteins"],["haemoptysis","hemoptysis"],["haemorrhage","hemorrhage"],["haemorrhaged","hemorrhaged"],["haemorrhages","hemorrhages"],["haemorrhagic","hemorrhagic"],["haemorrhaging","hemorrhaging"],["haemorrhoid","hemorrhoid"],["haemorrhoids","hemorrhoids"],["haemostasis","hemostasis"],["haemostat","hemostat"],["haemostatic","hemostatic"],["haemostats","hemostats"],["haemotoxylin","hemotoxylin"],["haemozoin","hemozoin"],["histidinaemia","histidinemia"],["homoeopath","homeopath"],["homoeopathic","homeopathic"],["homoeopaths","homeopaths"],["homoeopathy","homeopathy"],["homoeostasis","homeostasis"],["hydraemia","hydremia"],["hyperaemia","hyperemia"],["hyperbilirubinaemia","hyperbilirubinemia"],["hypercalcaemia","hypercalcemia"],["hypercholesteraemia","hypercholesteremia"],["hypercholesterolaemia","hypercholesterolemia"],["hyperglycaemia","hyperglycemia"],["hyperhomocysteinaemia","hyperhomocysteinemia"],["hyperinsulinaemia","hyperinsulinemia"],["hyperkalaemia","hyperkalemia"],["hyperlipidaemia","hyperlipidemia"],["hyperlipoproteinaemia","hyperlipoproteinemia"],["hyperprolactinaemia","hyperprolactinemia"],["hypertriglyceridaemia","hypertriglyceridemia"],["hyperuricaemia","hyperuricemia"],["hypervolaemia","hypervolemia"],["hypoalbuminaemia","hypoalbuminemia"],["hypocalcaemia","hypocalcemia"],["hypogammaglobulinaemia","hypogammaglobulinemia"],["hypoglycaemia","hypoglycemia"],["hypoinsulinaemia","hypoinsulinemia"],["hypomagnesaemia","hypomagnesemia"],["hyponatraemia","hyponatremia"],["hypophosphataemia","hypophosphatemia"],["hypouricaemia","hypouricemia"],["hypoxaemia","hypoxemia"],["insulinaemia","insulinemia"],["ischaemia","ischemia"],["ketonaemia","ketonemia"],["leukaemia","leukemia"],["leukaemias","leukemias"],["leukaemic","leukemic"],["leukaemogenesis","leukemogenesis"],["macroglobulinaemia","macroglobulinemia"],["mediaeval","medieval"],["mediaevals","medievals"],["menorrhoea","menorrhea"],["methaemoglobin","methemoglobin"],["methaemoglobinaemia","methemoglobinaemia"],["methemoglobinaemia","methemoglobinemia"],["natraemia","natremia"],["nonhaemolytic","nonhemolytic"],["normokalaemia","normokalemia"],["oedema","edema"],["oedemata","edemata"],["oenology","enology"],["oesophagoscope","esophagoscope"],["oesophagus","esophagus"],["oestrogen","estrogen"],["oestrogens","estrogens"],["oestrous","estrous"],["orthopaedic","orthopedic"],["orthopaedics","orthopedics"],["oxyhaemoglobin","oxyhemoglobin"],["paedagogies","pedagogies"],["paedagogy","pedagogy"],["paederast","pederast"],["paederasts","pederasts"],["paediatric","pediatric"],["paediatrician","pediatrician"],["paediatricians","pediatricians"],["paediatrics","pediatrics"],["paedophile","pedophile"],["paedophiles","pedophiles"],["paedophilia","pedophilia"],["palaeobotany","paleobotany"],["palaeocene","paleocene"],["palaeoclimatology","paleoclimatology"],["palaeogeography","paleogeography"],["palaeographies","paleographies"],["palaeography","paleography"],["palaeolithic","paleolithic"],["palaeomagnetism","paleomagnetism"],["palaeontologist","paleontologist"],["palaeontologists","paleontologists"],["palaeontology","paleontology"],["palaeozoic","paleozoic"],["parasitaemia","parasitemia"],["pharmacopoeia","pharmacopeia"],["pharmacopoeias","pharmacopeias"],["polycythaemia","polycythemia"],["praesidium","presidium"],["praesidiums","presidiums"],["primaeval","primeval"],["pyaemia","pyemia"],["septicaemia","septicemia"],["thalassaemia","thalassemia"],["toxaemia","toxemia"],["toxaemias","toxemias"],["tyrosinaemia","tyrosinemia"],["uraemia","uremia"],["viraemia","viremia"],["backpedalled","backpedaled"],["backpedalling","backpedaling"],["bedevilled","bedeviled"],["bedevilling","bedeviling"],["bejewelled","bejeweled"],["bevelled","beveled"],["calliper","caliper"],["callipers","calipers"],["callisthenics","calisthenics"],["cancelled","canceled"],["cancelling","canceling"],["carolled","caroled"],["carolling","caroling"],["carollings","carolings"],["cavilled","caviled"],["cavilling","caviling"],["cavillings","cavilings"],["channelled","channeled"],["channelling","channeling"],["chilli","chili"],["chillies","chilies"],["chiselled","chiseled"],["chiselling","chiseling"],["councillor","councilor"],["councillors","councilors"],["counselled","counseled"],["counselling","counseling"],["counsellor","counselor"],["counsellors","counselors"],["crenellate","crenelate"],["crenellated","crenelated"],["crenellates","crenelates"],["crenellating","crenelating"],["crueller","crueler"],["cruellest","cruelest"],["cudgelled","cudgeled"],["cudgelling","cudgeling"],["dialled","dialed"],["dialling","dialing"],["dialling","dialing"],["diallings","dialings"],["disembowelled","disemboweled"],["disembowelling","disemboweling"],["disembowellings","disembowelings"],["dishevelled","disheveled"],["drivelled","driveled"],["drivelling","driveling"],["duelled","dueled"],["duelling","dueling"],["enamelled","enameled"],["enamelling","enameling"],["equalled","equaled"],["funnelled","funneled"],["funnelling","funneling"],["gambolled","gamboled"],["gambolling","gamboling"],["gravelled","graveled"],["gravelling","graveling"],["grovelled","groveled"],["grovelling","groveling"],["gruelling","grueling"],["gruellingly","gruelingly"],["impanelled","impaneled"],["impanelling","impaneling"],["imperilled","imperiled"],["imperilling","imperiling"],["initialled","initialed"],["initialling","initialing"],["jewelled","jeweled"],["jeweller","jeweler"],["jewellers","jewelers"],["labelled","labeled"],["labeller","labeler"],["labellers","labelers"],["labelling","labeling"],["labellings","labelings"],["levelled","leveled"],["leveller","leveler"],["levellers","levelers"],["levelling","leveling"],["libelled","libeled"],["libelling","libeling"],["libellous","libelous"],["marshalled","marshaled"],["marshalling","marshaling"],["marvelled","marveled"],["marvelling","marveling"],["marvellous","marvelous"],["marvellously","marvelously"],["metallize","metalize"],["metallized","metalized"],["metallizing","metalizing"],["modelled","modeled"],["modeller","modeler"],["modellers","modelers"],["modelling","modeling"],["modellings","modelings"],["panelled","paneled"],["panelling","paneling"],["panellist","panelist"],["panellists","panelists"],["parcelling","parceling"],["pedalled","pedaled"],["pedalling","pedaling"],["pencilled","penciled"],["pencilling","penciling"],["quarrelled","quarreled"],["quarrelling","quarreling"],["ravelled","raveled"],["ravelling","raveling"],["refuelled","refueled"],["refuelling","refueling"],["refuellings","refuelings"],["remodelled","remodeled"],["remodelling","remodeling"],["remodellings","remodelings"],["revelled","reveled"],["reveller","reveler"],["revellers","revelers"],["revelling","reveling"],["rivalled","rivaled"],["rivalling","rivaling"],["shovelled","shoveled"],["shovelling","shoveling"],["shrivelled","shriveled"],["shrivelling","shriveling"],["signalled","signaled"],["signalling","signaling"],["signallings","signalings"],["snivelled","sniveled"],["snivelling","sniveling"],["snorkelled","snorkeled"],["snorkelling","snorkeling"],["spiralled","spiraled"],["spiralling","spiraling"],["squirrelled","squirreled"],["squirrelling","squirreling"],["stencilled","stenciled"],["stencilling","stenciling"],["swivelled","swiveled"],["swivelling","swiveling"],["tasselled","tasseled"],["totalled","totaled"],["totalling","totaling"],["towelled","toweled"],["towelling","toweling"],["towellings","towelings"],["trammelled","trammeled"],["trammelling","trammeling"],["tranquillize","tranquilize"],["tranquillized","tranquilized"],["tranquillizer","tranquilizer"],["tranquillizers","tranquilizers"],["tranquillizes","tranquilizes"],["tranquillizing","tranquilizing"],["travelled","traveled"],["traveller","traveler"],["travellers","travelers"],["travelling","traveling"],["travellings","travelings"],["trialled","trialed"],["trialling","trialing"],["tunnelled","tunneled"],["tunnelling","tunneling"],["tunnellings","tunnelings"],["unequalled","unequaled"],["unravelled","unraveled"],["unravelling","unraveling"],["unrivalled","unrivaled"],["untrammelled","untrammeled"],["weaselled","weaseled"],["weaselling","weaseling"],["woollen","woolen"],["woollens","woolens"],["yodelled","yodeled"],["yodelling","yodeling"],["defence","defense"],["defenceless","defenseless"],["defences","defenses"],["licence","license"],["licenced","licensed"],["licences","licenses"],["licencing","licensing"],["offence","offense"],["offences","offenses"],["pretence","pretense"],["pretences","pretenses"],["bisulphate","bisulfate"],["bisulphates","bisulfates"],["bisulphite","bisulfite"],["bisulphites","bisulfites"],["disulphide","disulfide"],["disulphides","disulfides"],["hydrosulphite","hydrosulfite"],["hydrosulphites","hydrosulfites"],["pyrosulphite","pyrosulfite"],["pyrosulphites","pyrosulfites"],["sulphate","sulfate"],["sulphated","sulfated"],["sulphates","sulfates"],["sulphating","sulfating"],["sulphide","sulfide"],["sulphides","sulfides"],["sulphite","sulfite"],["sulphites","sulfites"],["sulphur","sulfur"],["sulphured","sulfured"],["sulphuring","sulfuring"],["sulphurous","sulfurous"],["sulphurs","sulfurs"],["abridgement","abridgment"],["abridgements","abridgments"],["acknowledgement","acknowledgment"],["acknowledgements","acknowledgments"],["aerogramme","aerogram"],["aerogrammes","aerograms"],["aeroplane","airplane"],["aeroplanes","airplanes"],["afterwards","afterward"],["ageing","aging"],["ageings","agings"],["almanack","almanac"],["almanacks","almanacs"],["aluminium","aluminum"],["ambience","ambiance"],["ambiences","ambiances"],["analogue","analog"],["analogues","analogs"],["annexe","annex"],["apophthegm","apothegm"],["apophthegms","apothegms"],["appal","appall"],["appaled","appalled"],["appaling","appalling"],["appals","appalls"],["archepiscopal","archiepiscopal"],["artefact","artifact"],["artefacts","artifacts"],["atishoo","achoo"],["atishoos","achoos"],["axe","ax"],["backwards","backward"],["bannister","banister"],["bannisters","banisters"],["barque","bark"],["barqued","barked"],["barques","barks"],["barquing","barking"],["battleaxe","battleax"],["baulk","balk"],["baulked","balked"],["baulking","balking"],["baulks","balks"],["behove","behoove"],["behoved","behooved"],["behoves","behooves"],["behoving","behooving"],["bevvies","bevies"],["bevvy","bevy"],["carburettor","carburetor"],["carburettors","carburetors"],["carcase","carcass"],["carcases","carcasses"],["catalogue","catalog"],["catalogued","cataloged"],["catalogues","catalogs"],["cataloguing","cataloging"],["centigramme","centigram"],["centigrammes","centigrams"],["centred","centered"],["centring","centering"],["centrings","centerings"],["chequebook","checkbook"],["chequebooks","checkbooks"],["clarinettist","clarinetist"],["clarinettists","clarinetists"],["collectable","collectible"],["collectables","collectibles"],["collonaded","colonnaded"],["compleat","complete"],["compleated","completed"],["compleater","completer"],["compleaters","completers"],["compleates","completes"],["compleatest","completest"],["compleating","completing"],["cosied","cozied"],["cosier","cozier"],["cosies","cozies"],["cosiest","coziest"],["cosily","cozily"],["cosiness","coziness"],["cosy","cozy"],["cosying","cozying"],["cypher","cipher"],["cyphers","ciphers"],["deprogramme","deprogram"],["distil","distill"],["distils","distills"],["doodah","doodad"],["doodahs","doodads"],["dyke","dike"],["dyked","diked"],["dykes","dikes"],["empanel","impanel"],["empanelled","impanelled"],["empanelling","impanelling"],["empanels","impanels"],["enquiries","inquiries"],["enquiry","inquiry"],["enrol","enroll"],["enrols","enrolls"],["ensorcel","ensorcell"],["ensorceled","ensorcelled"],["ensorceling","ensorcelling"],["ensorcels","ensorcells"],["enthral","enthrall"],["enthraled","enthralled"],["enthraling","enthralling"],["enthrals","enthralls"],["epaulette","epaulet"],["epaulettes","epaulets"],["flautist","flutist"],["flautists","flutists"],["fledgeling","fledgling"],["fledgelings","fledglings"],["fulfil","fulfill"],["fulfiled","fulfilled"],["fulfiling","fulfilling"],["fulfilment","fulfillment"],["fulfils","fulfills"],["furore","furor"],["furores","furors"],["gaol","jail"],["gaolbird","jailbird"],["gaolbirds","jailbirds"],["gaolbreak","jailbreak"],["gaolbreaking","jailbreaking"],["gaolbreaks","jailbreaks"],["gaolbroke","jailbroke"],["gaolbroken","jailbroken"],["gaoled","jailed"],["gaoler","jailer"],["gaolers","jailers"],["gaoling","jailing"],["gaolings","jailings"],["gaols","jails"],["gipsies","gypsies"],["gipsy","gypsy"],["glueing","gluing"],["goloshes","galoshes"],["gramme","gram"],["grammes","grams"],["groyne","groin"],["groynes","groins"],["gryphon","griffin"],["gryphons","griffins"],["haulier","hauler"],["hauliers","haulers"],["homologue","homolog"],["homologues","homologs"],["inclosure","enclosure"],["inclosures","enclosures"],["inflexion","inflection"],["inflexions","inflections"],["instal","install"],["instaled","installed"],["instaling","installing"],["instalment","installment"],["instalments","installments"],["instals","installs"],["instil","instill"],["instiled","instilled"],["instiling","instilling"],["instils","instills"],["jewellery","jewelry"],["judgement","judgment"],["judgements","judgments"],["kerb","curb"],["kerbed","curbed"],["kerbing","curbing"],["kerbings","curbings"],["kerbs","curbs"],["kilogramme","kilogram"],["kilogrammes","kilograms"],["leant","leaned"],["leapt","leaped"],["learnt","learned"],["likeable","likable"],["liquorice","licorice"],["liquorices","licorices"],["louvred","louvered"],["lustred","lustered"],["lustring","lustering"],["manoeuvrability","maneuverability"],["manoeuvrable","maneuverable"],["manoeuvre","maneuver"],["manoeuvred","maneuvered"],["manoeuvres","maneuvers"],["manoeuvring","maneuvering"],["manoeuvrings","maneuverings"],["meagrest","meagerest"],["mementoes","mementos"],["metred","metered"],["metring","metering"],["microprogramme","microprogram"],["microprogrammes","microprograms"],["milligramme","milligram"],["milligrammes","milligrams"],["minibuses","minibusses"],["misjudgement","misjudgment"],["misjudgements","misjudgments"],["misspelt","misspelled"],["mitred","mitered"],["mitring","mitering"],["mollusc","mollusk"],["molluscs","mollusks"],["moustache","mustache"],["moustached","mustached"],["moustaches","mustaches"],["moustachioed","mustachioed"],["nett","net"],["neurone","neuron"],["neurones","neurons"],["north-easts","northeasts"],["north-west","northwest"],["north-wests","northwests"],["nought","naught"],["oesophagal","esophageal"],["omelette","omelet"],["omelettes","omelets"],["outmanoeuvre","outmaneuver"],["outmanoeuvred","outmaneuvered"],["outmanoeuvres","outmaneuvers"],["outmanoeuvring","outmaneuvering"],["phial","vial"],["phialed","vialed"],["phialing","vialing"],["phials","vials"],["philtred","philtered"],["philtring","philtering"],["phoney","phony"],["plough","plow"],["ploughboy","plowboy"],["ploughboys","plowboys"],["ploughed","plowed"],["plougher","plower"],["ploughers","plowers"],["ploughgirl","plowgirl"],["ploughgirls","plowgirls"],["ploughing","plowing"],["ploughman","plowman"],["ploughmen","plowmen"],["ploughs","plows"],["ploughshare","plowshare"],["ploughshares","plowshares"],["ploughwoman","plowwoman"],["ploughwomen","plowwomen"],["ploughwright","plowwright"],["ploughwrights","plowwrights"],["polyethene","polyethylene"],["pouffe","pouf"],["pouffes","poufs"],["practise","practice"],["practised","practiced"],["practises","practices"],["practising","practicing"],["prefered","preferred"],["prefereds","preferreds"],["programme","program"],["programmes","programs"],["pyjama","pajama"],["pyjamas","pajamas"],["racoon","raccoon"],["racoons","raccoons"],["reconnoitred","reconnoitered"],["reconnoitring","reconnoitering"],["reconnoitrings","reconnoiterings"],["retroflexion","retroflection"],["retroflexions","retroflections"],["routeing","routing"],["routeings","routings"],["sceptic","skeptic"],["sceptical","skeptical"],["sceptically","skeptically"],["scepticism","skepticism"],["scepticisms","skepticisms"],["scepticist","skepticist"],["scepticists","skepticists"],["sceptics","skeptics"],["sceptred","sceptered"],["sceptring","sceptering"],["selvedge","selvage"],["selvedges","selvages"],["sepulchred","sepulchered"],["sepulchring","sepulchering"],["sheikh","sheik"],["sheikhs","sheiks"],["shoppe","shop"],["shoppes","shops"],["skilful","skillful"],["sledge","sled"],["sledged","sledded"],["sledges","sleds"],["sledging","sledding"],["sledgings","sleddings"],["snowplough","snowplow"],["snowploughed","snowplowed"],["snowploughing","snowplowing"],["snowploughs","snowplows"],["sombrer","somberer"],["sombrest","somberest"],["south-east","southeast"],["south-easts","southeasts"],["south-west","southwest"],["south-wests","southwests"],["specialities","specialties"],["speciality","specialty"],["spelt","spelled"],["spilt","spilled"],["storey","story"],["storeys","stories"],["syphon","siphon"],["syphoned","siphoned"],["syphoning","siphoning"],["syphons","siphons"],["tabletting","tableting"],["tranquilly","tranquility"],["transhipment","transshipment"],["tyre","tire"],["tyred","tired"],["tyreder","tireder"],["tyredest","tiredest"],["tyres","tires"],["tyring","tiring"],["tyrings","tirings"],["unspoilt","unspoiled"],["waggon","wagon"],["waggoned","wagoned"],["waggoning","wagoning"],["waggons","wagons"],["whiskies","whiskeys"],["whisky","whiskey"],["yoghourt","yogurt"],["yoghourts","yogurts"],["yoghurt","yogurt"],["yoghurts","yogurts"]],"australian":[["backpedaled","backpedalled"],["backpedaling","backpedalling"],["bedeviled","bedevilled"],["bedeviling","bedevilling"],["bejeweled","bejewelled"],["beveled","bevelled"],["caliper","calliper"],["calipers","callipers"],["calisthenics","callisthenics"],["cancelation","cancellation"],["cancelations","cancellations"],["canceled","cancelled"],["canceling","cancelling"],["caroled","carolled"],["caroling","carolling"],["carolings","carollings"],["caviled","cavilled"],["caviling","cavilling"],["cavilings","cavillings"],["channeled","channelled"],["channeling","channelling"],["chili","chilli"],["chilies","chillies"],["chiseled","chiselled"],["chiseling","chiselling"],["councilor","councillor"],["councilors","councillors"],["counseled","counselled"],["counseling","counselling"],["counselor","counsellor"],["counselors","counsellors"],["crenelate","crenellate"],["crenelated","crenellated"],["crenelates","crenellates"],["crenelating","crenellating"],["crueler","crueller"],["cruelest","cruellest"],["cudgeled","cudgelled"],["cudgeling","cudgelling"],["dialed","dialled"],["dialing","dialling"],["dialings","diallings"],["disemboweled","disembowelled"],["disemboweling","disembowelling"],["disembowelings","disembowellings"],["disheveled","dishevelled"],["driveled","drivelled"],["driveling","drivelling"],["dueled","duelled"],["dueling","duelling"],["empaneled","empanelled"],["empaneling","empanelling"],["enameled","enamelled"],["enameling","enamelling"],["equaled","equalled"],["funneled","funnelled"],["funneling","funnelling"],["gamboled","gambolled"],["gamboling","gambolling"],["graveled","gravelled"],["graveling","gravelling"],["groveled","grovelled"],["groveling","grovelling"],["grueling","gruelling"],["gruelingly","gruellingly"],["imperiled","imperilled"],["imperiling","imperilling"],["initialed","initialled"],["initialing","initialling"],["jeweled","jewelled"],["jeweler","jeweller"],["jewelers","jewellers"],["labeled","labelled"],["labeler","labeller"],["labelers","labellers"],["labeling","labelling"],["labelings","labellings"],["leveled","levelled"],["leveler","leveller"],["levelers","levellers"],["leveling","levelling"],["libeled","libelled"],["libeling","libelling"],["libelous","libellous"],["marshaled","marshalled"],["marshaling","marshalling"],["marveled","marvelled"],["marveling","marvelling"],["marvelous","marvellous"],["marvelously","marvellously"],["modeled","modelled"],["modeler","modeller"],["modelers","modellers"],["modeling","modelling"],["modelings","modellings"],["paneled","panelled"],["paneling","panelling"],["panelist","panellist"],["panelists","panellists"],["parceled","parcelled"],["parceling","parcelling"],["pedaled","pedalled"],["pedaling","pedalling"],["penciled","pencilled"],["penciling","pencilling"],["percent","per cent"],["persnickety","pernickety"],["quarreled","quarrelled"],["quarreling","quarrelling"],["raveled","ravelled"],["raveling","ravelling"],["refueled","refuelled"],["refueling","refuelling"],["refuelings","refuellings"],["remodeled","remodelled"],["remodeling","remodelling"],["remodelings","remodellings"],["reveled","revelled"],["reveler","reveller"],["revelers","revellers"],["reveling","revelling"],["rivaled","rivalled"],["rivaling","rivalling"],["shoveled","shovelled"],["shoveling","shovelling"],["shriveled","shrivelled"],["shriveling","shrivelling"],["signaled","signalled"],["signaling","signalling"],["signalings","signallings"],["sniveled","snivelled"],["sniveling","snivelling"],["snorkeled","snorkelled"],["snorkeling","snorkelling"],["spiraled","spiralled"],["spiraling","spiralling"],["squirreled","squirrelled"],["squirreling","squirrelling"],["stenciled","stencilled"],["stenciling","stencilling"],["swiveled","swivelled"],["swiveling","swivelling"],["tasseled","tasselled"],["totaled","totalled"],["totaling","totalling"],["toweled","towelled"],["toweling","towelling"],["towelings","towellings"],["trammeled","trammelled"],["trammeling","trammelling"],["tranquility","tranquillity"],["tranquilize","tranquillize"],["tranquilized","tranquillized"],["tranquilizer","tranquillizer"],["tranquilizers","tranquillizers"],["tranquilizes","tranquillizes"],["tranquilizing","tranquillizing"],["traveled","travelled"],["traveler","traveller"],["travelers","travellers"],["traveling","travelling"],["travelings","travellings"],["trialed","trialled"],["trialing","trialling"],["tunneled","tunnelled"],["tunneling","tunnelling"],["tunnelings","tunnellings"],["unequaled","unequalled"],["unraveled","unravelled"],["unraveling","unravelling"],["unrivaled","unrivalled"],["untrammeled","untrammelled"],["weaseled","weaselled"],["weaseling","weaselling"],["woolen","woollen"],["woolens","woollens"],["woolier","woollier"],["woolies","woollies"],["wooliest","woolliest"],["wooly","woolly"],["yodeled","yodelled"],["yodeling","yodelling"],["ambercolored","ambercoloured"],["anticolor","anticolour"],["anticolors","anticolours"],["apricotcolored","apricotcoloured"],["arbor","arbour"],["arbors","arbours"],["ardor","ardour"],["ardors","ardours"],["armor","armour"],["armored","armoured"],["armorer","armourer"],["armorers","armourers"],["armories","armouries"],["armoring","armouring"],["armors","armours"],["armory","armoury"],["ashcolored","ashcoloured"],["aurora-colored","aurora-coloured"],["behavior","behaviour"],["behavioral","behavioural"],["behaviorism","behaviourism"],["behaviorisms","behaviourisms"],["behaviorist","behaviourist"],["behaviorists","behaviourists"],["behaviors","behaviours"],["belabor","belabour"],["belabored","belaboured"],["belaboring","belabouring"],["belabors","belabours"],["bicolor","bicolour"],["bicoloration","bicolouration"],["bicolored","bicoloured"],["bodycolor","bodycolour"],["brasscolored","brasscoloured"],["brickcolored","brickcoloured"],["brightly-colored","brightly-coloured"],["buff-colored","buff-coloured"],["burgundycolored","burgundycoloured"],["candor","candour"],["cherrycolored","cherrycoloured"],["chestnut-colored","chestnut-coloured"],["chocolate-colored","chocolate-coloured"],["cinnamon-colored","cinnamon-coloured"],["citroncolored","citroncoloured"],["clamor","clamour"],["clamored","clamoured"],["clamoring","clamouring"],["clamorings","clamourings"],["clamors","clamours"],["clangor","clangour"],["claretcolored","claretcoloured"],["color","colour"],["color-blind","colour-blind"],["color-blindness","colour-blindness"],["color-coordinate","colour-coordinate"],["color-coordinated","colour-coordinated"],["colorability","colourability"],["colorable","colourable"],["colorably","colourably"],["colorant","colourant"],["colorants","colourants"],["coloration","colouration"],["colorational","colourational"],["colorations","colourations"],["colorative","colourative"],["colorbearer","colourbearer"],["colorblind","colourblind"],["colorblindness","colourblindness"],["colorcast","colourcast"],["colorcaster","colourcaster"],["colored","coloured"],["coloreds","coloureds"],["colorer","colourer"],["colorers","colourers"],["colorfast","colourfast"],["colorfastness","colourfastness"],["colorful","colourful"],["colorfully","colourfully"],["colorfulness","colourfulness"],["colorific","colourific"],["colorimeter","colourimeter"],["colorimeters","colourimeters"],["colorimetric","colourimetric"],["colorimetrical","colourimetrical"],["colorimetrically","colourimetrically"],["colorimetry","colourimetry"],["colorin\'","colourin\'"],["coloring","colouring"],["colorings","colourings"],["colorisation","colourisation"],["colorise","colourise"],["colorism","colourism"],["colorisms","colourisms"],["colorist","colourist"],["coloristic","colouristic"],["coloristically","colouristically"],["colorists","colourists"],["colorization","colourization"],["colorizations","colourizations"],["colorize","colourize"],["colorized","colourized"],["colorizer","colourizer"],["colorizes","colourizes"],["colorizin\'","colourizin\'"],["colorizing","colourizing"],["colorless","colourless"],["colorlessly","colourlessly"],["colorlessness","colourlessness"],["colormaker","colourmaker"],["colormakers","colourmakers"],["colormap","colourmap"],["colormaps","colourmaps"],["colormen","colourmen"],["colorous","colourous"],["colorphobia","colourphobia"],["colorpoint","colourpoint"],["colorpoints","colourpoints"],["colorpuncture","colourpuncture"],["colors","colours"],["colorspace","colourspace"],["colortype","colourtype"],["colorway","colourway"],["colorways","colourways"],["colorwise","colourwise"],["colorwork","colourwork"],["colter","coulter"],["colters","coulters"],["concolorous","concolourous"],["dark-colored","dark-coloured"],["decolor","decolour"],["decoloration","decolouration"],["decolorations","decolourations"],["decolored","decoloured"],["decoloring","decolouring"],["decolorisation","decolourisation"],["decolorisations","decolourisations"],["decolorise","decolourise"],["decolorised","decolourised"],["decoloriser","decolouriser"],["decolorises","decolourises"],["decolorising","decolourising"],["decolorization","decolourization"],["decolorize","decolourize"],["decolorized","decolourized"],["decolorizer","decolourizer"],["decolors","decolours"],["demeanor","demeanour"],["demeanors","demeanours"],["discolor","discolour"],["discoloration","discolouration"],["discolorations","discolourations"],["discolored","discoloured"],["discolorer","discolourer"],["discoloring","discolouring"],["discolorings","discolourings"],["discolorisation","discolourisation"],["discolorise","discolourise"],["discolorization","discolourization"],["discolorment","discolourment"],["discolorous","discolourous"],["discolors","discolours"],["disfavor","disfavour"],["dishonor","dishonour"],["dishonorable","dishonourable"],["dishonorably","dishonourably"],["dishonored","dishonoured"],["dishonoring","dishonouring"],["dishonors","dishonours"],["dolor","dolour"],["dolors","dolours"],["dun-colored","dun-coloured"],["dusky-colored","dusky-coloured"],["dustcolored","dustcoloured"],["enamor","enamour"],["enamored","enamoured"],["enamoring","enamouring"],["enamors","enamours"],["endeavor","endeavour"],["endeavored","endeavoured"],["endeavoring","endeavouring"],["endeavors","endeavours"],["favor","favour"],["favorable","favourable"],["favorably","favourably"],["favored","favoured"],["favoring","favouring"],["favorite","favourite"],["favorited","favourited"],["favorites","favourites"],["favoriting","favouriting"],["favoritism","favouritism"],["favors","favours"],["fawn-colored","fawn-coloured"],["fawncolored","fawncoloured"],["fervor","fervour"],["fervors","fervours"],["flame-colored","flame-coloured"],["flavor","flavour"],["flavored","flavoured"],["flavoring","flavouring"],["flavorings","flavourings"],["flavorless","flavourless"],["flavors","flavours"],["flavorsome","flavoursome"],["flesh-colored","flesh-coloured"],["fleshcolored","fleshcoloured"],["forecolor","forecolour"],["forecolors","forecolours"],["garnet-colored","garnet-coloured"],["glamor","glamour"],["gold-colored","gold-coloured"],["handcolor","handcolour"],["harbor","harbour"],["harbored","harboured"],["harboring","harbouring"],["harbors","harbours"],["honey-colored","honey-coloured"],["honor","honour"],["honorable","honourable"],["honorably","honourably"],["honored","honoured"],["honoring","honouring"],["honors","honours"],["humor","humour"],["humored","humoured"],["humoring","humouring"],["humorless","humourless"],["humors","humours"],["labor","labour"],["labored","laboured"],["laborer","labourer"],["laborers","labourers"],["laboring","labouring"],["labors","labours"],["lead-colored","lead-coloured"],["metal-colored","metal-coloured"],["metallic-colored","metallic-coloured"],["misbehavior","misbehaviour"],["misbehaviors","misbehaviours"],["miscolor","miscolour"],["miscoloration","miscolouration"],["miscolored","miscoloured"],["miscoloring","miscolouring"],["miscolors","miscolours"],["misdemeanor","misdemeanour"],["misdemeanors","misdemeanours"],["mold","mould"],["molded","moulded"],["molder","moulder"],["moldered","mouldered"],["moldering","mouldering"],["molders","moulders"],["moldier","mouldier"],["moldiest","mouldiest"],["molding","moulding"],["moldings","mouldings"],["molds","moulds"],["moldy","mouldy"],["molt","moult"],["molted","moulted"],["molting","moulting"],["molts","moults"],["monocolored","monocoloured"],["multi-color","multi-colour"],["multi-colored","multi-coloured"],["multicolor","multicolour"],["multicolored","multicoloured"],["multicolors","multicolours"],["neighbor","neighbour"],["neighborhood","neighbourhood"],["neighborhoods","neighbourhoods"],["neighboring","neighbouring"],["neighborliness","neighbourliness"],["neighborly","neighbourly"],["neighbors","neighbours"],["neutral-colored","neutral-coloured"],["odor","odour"],["odorless","odourless"],["odors","odours"],["off-color","off-colour"],["olive-colored","olive-coloured"],["orange-colored","orange-coloured"],["overcolor","overcolour"],["overcolored","overcoloured"],["parlor","parlour"],["parlormaid","parlourmaid"],["parlormaids","parlourmaids"],["parlors","parlours"],["particolored","particoloured"],["peachy-colored","peachy-coloured"],["pseudocolor","pseudocolour"],["pseudocolored","pseudocoloured"],["pseudocoloring","pseudocolouring"],["pseudocolors","pseudocolours"],["rancor","rancour"],["recolor","recolour"],["recolorable","recolourable"],["recoloration","recolouration"],["recolorations","recolourations"],["recolored","recoloured"],["recolorin\'","recolourin\'"],["recoloring","recolouring"],["recolors","recolours"],["remold","remould"],["remolded","remoulded"],["remolding","remoulding"],["remolds","remoulds"],["rigor","rigour"],["rigors","rigours"],["rose-colored","rose-coloured"],["rumor","rumour"],["rumored","rumoured"],["rumoring","rumouring"],["rumormonger","rumourmonger"],["rumormongers","rumourmongers"],["rumors","rumours"],["savior","saviour"],["saviors","saviours"],["savor","savour"],["savored","savoured"],["savories","savouries"],["savoring","savouring"],["savors","savours"],["savory","savoury"],["self-colored","self-coloured"],["smolder","smoulder"],["smoldered","smouldered"],["smoldering","smouldering"],["smolders","smoulders"],["snuff-color","snuff-colour"],["solid-colored","solid-coloured"],["splendor","splendour"],["splendors","splendours"],["straw-colored","straw-coloured"],["succor","succour"],["succored","succoured"],["succoring","succouring"],["succors","succours"],["tawny-colored","tawny-coloured"],["technicolor","technicolour"],["technicolored","technicoloured"],["topcolor","topcolour"],["tricolor","tricolour"],["tricolored","tricoloured"],["tricolorous","tricolourous"],["tricolors","tricolours"],["tumor","tumour"],["tumors","tumours"],["uncolorable","uncolourable"],["uncolored","uncoloured"],["uncolorful","uncolourful"],["unfavorable","unfavourable"],["unfavorably","unfavourably"],["unicolor","unicolour"],["unicolorous","unicolourous"],["unsavory","unsavoury"],["valor","valour"],["vapor","vapour"],["vapored","vapoured"],["vaporing","vapouring"],["vapors","vapours"],["varicolored","varicoloured"],["versicolored","versicoloured"],["vigor","vigour"],["violet-colored","violet-coloured"],["water-color","water-colour"],["watercolor","watercolour"],["watercolored","watercoloured"],["watercolorist","watercolourist"],["watercolorists","watercolourists"],["watercolors","watercolours"],["wine-colored","wine-coloured"],["accouterment","accoutrement"],["accouterments","accoutrements"],["amphitheater","amphitheatre"],["amphitheaters","amphitheatres"],["caliber","calibre"],["calibers","calibres"],["center","centre"],["centerboard","centreboard"],["centerfold","centrefold"],["centerfolds","centrefolds"],["centerpiece","centrepiece"],["centerpieces","centrepieces"],["centers","centres"],["centiliter","centilitre"],["centiliters","centilitres"],["centimeter","centimetre"],["centimeters","centimetres"],["epicenter","epicentre"],["epicenters","epicentres"],["fiber","fibre"],["fiberglass","fibreglass"],["fibers","fibres"],["goiter","goitre"],["goiters","goitres"],["kilometer","kilometre"],["kilometers","kilometres"],["lackluster","lacklustre"],["liter","litre"],["liters","litres"],["louver","louvre"],["louvers","louvres"],["luster","lustre"],["lusters","lustres"],["meager","meagre"],["metacenter","metacentre"],["metacenters","metacentres"],["micrometer","micrometre"],["micrometers","micrometres"],["milliliter","millilitre"],["milliliters","millilitres"],["millimeter","millimetre"],["millimeters","millimetres"],["miter","mitre"],["miters","mitres"],["niter","nitre"],["philter","philtre"],["philters","philtres"],["reconnoiter","reconnoitre"],["reconnoiters","reconnoitres"],["saber","sabre"],["sabers","sabres"],["saltpeter","saltpetre"],["scepter","sceptre"],["scepters","sceptres"],["sepulcher","sepulchre"],["sepulchers","sepulchres"],["somber","sombre"],["specter","spectre"],["specters","spectres"],["theater","theatre"],["theatergoer","theatregoer"],["theatergoers","theatregoers"],["theaters","theatres"],["defense","defence"],["defenseless","defenceless"],["defenses","defences"],["offense","offence"],["offenses","offences"],["pretense","pretence"],["pretenses","pretences"],["vise","vice"],["vises","vices"],["bisulfate","bisulphate"],["bisulfates","bisulphates"],["bisulfite","bisulphite"],["bisulfites","bisulphites"],["disulfide","disulphide"],["disulfides","disulphides"],["hydrosulfite","hydrosulphite"],["hydrosulfites","hydrosulphites"],["pyrosulfite","pyrosulphite"],["pyrosulfites","pyrosulphites"],["sulfate","sulphate"],["sulfated","sulphated"],["sulfates","sulphates"],["sulfating","sulphating"],["sulfide","sulphide"],["sulfides","sulphides"],["sulfite","sulphite"],["sulfites","sulphites"],["sulfur","sulphur"],["sulfured","sulphured"],["sulfuring","sulphuring"],["sulfurous","sulphurous"],["sulfurs","sulphurs"],["ax","axe"],["battleax","battleaxe"],["furor","furore"],["furors","furores"],["catalog","catalogue"],["cataloged","catalogued"],["cataloging","cataloguing"],["catalogs","catalogues"],["dialog","dialogue"],["dialogs","dialogues"],["epilog","epilogue"],["epilogs","epilogues"],["monolog","monologue"],["monologs","monologues"],["prolog","prologue"],["prologs","prologues"],["travelog","travelogue"],["travelogs","travelogues"],["appall","appal"],["appalls","appals"],["distill","distil"],["distills","distils"],["enroll","enrol"],["enrolls","enrols"],["ensorcell","ensorcel"],["ensorcelled","ensorceled"],["ensorcelling","ensorceling"],["ensorcells","ensorcels"],["enthrall","enthral"],["enthralls","enthrals"],["fulfill","fulfil"],["fulfillment","fulfilment"],["fulfills","fulfils"],["installment","instalment"],["installments","instalments"],["instill","instil"],["instills","instils"],["skillful","skilful"],["afterward","afterwards"],["airplane","aeroplane"],["airplanes","aeroplanes"],["aluminum","aluminium"],["ambiance","ambience"],["ambiances","ambiences"],["apothegm","apophthegm"],["apothegms","apophthegms"],["archepiscopal","archiepiscopal"],["behoove","behove"],["behooved","behoved"],["behooves","behoves"],["behooving","behoving"],["carburetor","carburettor"],["carburetors","carburettors"],["centered","centred"],["centering","centring"],["centerings","centrings"],["checkbook","chequebook"],["checkbooks","chequebooks"],["collonaded","colonnaded"],["donut","doughnut"],["donuts","doughnuts"],["doodad","doodah"],["doodads","doodahs"],["epaulet","epaulette"],["epaulets","epaulettes"],["flutist","flautist"],["flutists","flautists"],["gantlet","gauntlet"],["gantlets","gauntlets"],["goloshes","galoshes"],["gray","grey"],["grayed","greyed"],["grayer","greyer"],["grayest","greyest"],["graying","greying"],["grayish","greyish"],["grayness","greyness"],["grays","greys"],["hauler","haulier"],["haulers","hauliers"],["impanel","empanel"],["impaneled","empanelled"],["impaneling","empanelling"],["impanels","empanels"],["jewelry","jewellery"],["kidnaped","kidnapped"],["leaped","leapt"],["louvered","louvred"],["lustered","lustred"],["lustering","lustring"],["meagerest","meagrest"],["mitered","mitred"],["mitering","mitring"],["mollusk","mollusc"],["mollusks","molluscs"],["mustache","moustache"],["mustached","moustached"],["mustaches","moustaches"],["mustachioed","moustachioed"],["nought","naught"],["omelet","omelette"],["omelets","omelettes"],["pajama","pyjama"],["pajamas","pyjamas"],["philtered","philtred"],["philtering","philtring"],["plow","plough"],["plowboy","ploughboy"],["plowboys","ploughboys"],["plowed","ploughed"],["plower","plougher"],["plowers","ploughers"],["plowgirl","ploughgirl"],["plowgirls","ploughgirls"],["plowing","ploughing"],["plowings","ploughings"],["plowland","ploughland"],["plowlands","ploughlands"],["plowman","ploughman"],["plowmen","ploughmen"],["plows","ploughs"],["plowshare","ploughshare"],["plowshares","ploughshares"],["plowwoman","ploughwoman"],["plowwomen","ploughwomen"],["plowwright","ploughwright"],["plowwrights","ploughwrights"],["practiced","practised"],["practicing","practising"],["reconnoitered","reconnoitred"],["reconnoitering","reconnoitring"],["reconnoiterings","reconnoitrings"],["sceptered","sceptred"],["sceptering","sceptring"],["sepulchered","sepulchred"],["sepulchering","sepulchring"],["skeptic","sceptic"],["skeptical","sceptical"],["skeptically","sceptically"],["skepticism","scepticism"],["skepticisms","scepticisms"],["skepticist","scepticist"],["skepticists","scepticists"],["skeptics","sceptics"],["snowplow","snowplough"],["snowplowed","snowploughed"],["snowplowing","snowploughing"],["snowplows","snowploughs"],["somberer","sombrer"],["somberest","sombrest"],["transshipment","transhipment"],["worshiped","worshipped"],["worshiping","worshipping"],["yoghourt","yoghurt"],["yoghourts","yoghurts"]],"british":[["backpedaled","backpedalled"],["backpedaling","backpedalling"],["bedeviled","bedevilled"],["bedeviling","bedevilling"],["bejeweled","bejewelled"],["beveled","bevelled"],["caliper","calliper"],["calipers","callipers"],["calisthenics","callisthenics"],["cancelation","cancellation"],["cancelations","cancellations"],["canceled","cancelled"],["canceling","cancelling"],["caroled","carolled"],["caroling","carolling"],["carolings","carollings"],["caviled","cavilled"],["caviling","cavilling"],["cavilings","cavillings"],["channeled","channelled"],["channeling","channelling"],["chili","chilli"],["chilies","chillies"],["chiseled","chiselled"],["chiseling","chiselling"],["councilor","councillor"],["councilors","councillors"],["counseled","counselled"],["counseling","counselling"],["counselor","counsellor"],["counselors","counsellors"],["crenelate","crenellate"],["crenelated","crenellated"],["crenelates","crenellates"],["crenelating","crenellating"],["crueler","crueller"],["cruelest","cruellest"],["cudgeled","cudgelled"],["cudgeling","cudgelling"],["dialed","dialled"],["dialing","dialling"],["dialings","diallings"],["disemboweled","disembowelled"],["disemboweling","disembowelling"],["disembowelings","disembowellings"],["disheveled","dishevelled"],["driveled","drivelled"],["driveling","drivelling"],["dueled","duelled"],["dueling","duelling"],["empaneled","empanelled"],["empaneling","empanelling"],["enameled","enamelled"],["enameling","enamelling"],["equaled","equalled"],["funneled","funnelled"],["funneling","funnelling"],["gamboled","gambolled"],["gamboling","gambolling"],["graveled","gravelled"],["graveling","gravelling"],["groveled","grovelled"],["groveling","grovelling"],["grueling","gruelling"],["gruelingly","gruellingly"],["imperiled","imperilled"],["imperiling","imperilling"],["initialed","initialled"],["initialing","initialling"],["jeweled","jewelled"],["jeweler","jeweller"],["jewelers","jewellers"],["labeled","labelled"],["labeler","labeller"],["labelers","labellers"],["labeling","labelling"],["labelings","labellings"],["leveled","levelled"],["leveler","leveller"],["levelers","levellers"],["leveling","levelling"],["libeled","libelled"],["libeling","libelling"],["libelous","libellous"],["marshaled","marshalled"],["marshaling","marshalling"],["marveled","marvelled"],["marveling","marvelling"],["marvelous","marvellous"],["marvelously","marvellously"],["modeled","modelled"],["modeler","modeller"],["modelers","modellers"],["modeling","modelling"],["modelings","modellings"],["paneled","panelled"],["paneling","panelling"],["panelist","panellist"],["panelists","panellists"],["parceled","parcelled"],["parceling","parcelling"],["pedaled","pedalled"],["pedaling","pedalling"],["penciled","pencilled"],["penciling","pencilling"],["percent","per cent"],["persnickety","pernickety"],["quarreled","quarrelled"],["quarreling","quarrelling"],["raveled","ravelled"],["raveling","ravelling"],["refueled","refuelled"],["refueling","refuelling"],["refuelings","refuellings"],["remodeled","remodelled"],["remodeling","remodelling"],["remodelings","remodellings"],["reveled","revelled"],["reveler","reveller"],["revelers","revellers"],["reveling","revelling"],["rivaled","rivalled"],["rivaling","rivalling"],["shoveled","shovelled"],["shoveling","shovelling"],["shriveled","shrivelled"],["shriveling","shrivelling"],["signaled","signalled"],["signaling","signalling"],["signalings","signallings"],["sniveled","snivelled"],["sniveling","snivelling"],["snorkeled","snorkelled"],["snorkeling","snorkelling"],["spiraled","spiralled"],["spiraling","spiralling"],["squirreled","squirrelled"],["squirreling","squirrelling"],["stenciled","stencilled"],["stenciling","stencilling"],["swiveled","swivelled"],["swiveling","swivelling"],["tasseled","tasselled"],["totaled","totalled"],["totaling","totalling"],["toweled","towelled"],["toweling","towelling"],["towelings","towellings"],["trammeled","trammelled"],["trammeling","trammelling"],["tranquility","tranquillity"],["tranquilize","tranquillize"],["tranquilized","tranquillized"],["tranquilizer","tranquillizer"],["tranquilizers","tranquillizers"],["tranquilizes","tranquillizes"],["tranquilizing","tranquillizing"],["traveled","travelled"],["traveler","traveller"],["travelers","travellers"],["traveling","travelling"],["travelings","travellings"],["trialed","trialled"],["trialing","trialling"],["tunneled","tunnelled"],["tunneling","tunnelling"],["tunnelings","tunnellings"],["unequaled","unequalled"],["unraveled","unravelled"],["unraveling","unravelling"],["unrivaled","unrivalled"],["untrammeled","untrammelled"],["weaseled","weaselled"],["weaseling","weaselling"],["woolen","woollen"],["woolens","woollens"],["woolier","woollier"],["woolies","woollies"],["wooliest","woolliest"],["wooly","woolly"],["yodeled","yodelled"],["yodeling","yodelling"],["ambercolored","ambercoloured"],["anticolor","anticolour"],["anticolors","anticolours"],["apricotcolored","apricotcoloured"],["arbor","arbour"],["arbors","arbours"],["ardor","ardour"],["ardors","ardours"],["armor","armour"],["armored","armoured"],["armorer","armourer"],["armorers","armourers"],["armories","armouries"],["armoring","armouring"],["armors","armours"],["armory","armoury"],["ashcolored","ashcoloured"],["aurora-colored","aurora-coloured"],["behavior","behaviour"],["behavioral","behavioural"],["behaviorism","behaviourism"],["behaviorisms","behaviourisms"],["behaviorist","behaviourist"],["behaviorists","behaviourists"],["behaviors","behaviours"],["belabor","belabour"],["belabored","belaboured"],["belaboring","belabouring"],["belabors","belabours"],["bicolor","bicolour"],["bicoloration","bicolouration"],["bicolored","bicoloured"],["bodycolor","bodycolour"],["brasscolored","brasscoloured"],["brickcolored","brickcoloured"],["brightly-colored","brightly-coloured"],["buff-colored","buff-coloured"],["burgundycolored","burgundycoloured"],["candor","candour"],["cherrycolored","cherrycoloured"],["chestnut-colored","chestnut-coloured"],["chocolate-colored","chocolate-coloured"],["cinnamon-colored","cinnamon-coloured"],["citroncolored","citroncoloured"],["clamor","clamour"],["clamored","clamoured"],["clamoring","clamouring"],["clamorings","clamourings"],["clamors","clamours"],["clangor","clangour"],["claretcolored","claretcoloured"],["color","colour"],["color-blind","colour-blind"],["color-blindness","colour-blindness"],["color-coordinate","colour-coordinate"],["color-coordinated","colour-coordinated"],["colorability","colourability"],["colorable","colourable"],["colorably","colourably"],["colorant","colourant"],["colorants","colourants"],["coloration","colouration"],["colorational","colourational"],["colorations","colourations"],["colorative","colourative"],["colorbearer","colourbearer"],["colorblind","colourblind"],["colorblindness","colourblindness"],["colorcast","colourcast"],["colorcaster","colourcaster"],["colored","coloured"],["coloreds","coloureds"],["colorer","colourer"],["colorers","colourers"],["colorfast","colourfast"],["colorfastness","colourfastness"],["colorful","colourful"],["colorfully","colourfully"],["colorfulness","colourfulness"],["colorific","colourific"],["colorimeter","colourimeter"],["colorimeters","colourimeters"],["colorimetric","colourimetric"],["colorimetrical","colourimetrical"],["colorimetrically","colourimetrically"],["colorimetry","colourimetry"],["colorin\'","colourin\'"],["coloring","colouring"],["colorings","colourings"],["colorisation","colourisation"],["colorise","colourise"],["colorism","colourism"],["colorisms","colourisms"],["colorist","colourist"],["coloristic","colouristic"],["coloristically","colouristically"],["colorists","colourists"],["colorization","colourization"],["colorizations","colourizations"],["colorize","colourize"],["colorized","colourized"],["colorizer","colourizer"],["colorizes","colourizes"],["colorizin\'","colourizin\'"],["colorizing","colourizing"],["colorless","colourless"],["colorlessly","colourlessly"],["colorlessness","colourlessness"],["colormaker","colourmaker"],["colormakers","colourmakers"],["colormap","colourmap"],["colormaps","colourmaps"],["colormen","colourmen"],["colorous","colourous"],["colorphobia","colourphobia"],["colorpoint","colourpoint"],["colorpoints","colourpoints"],["colorpuncture","colourpuncture"],["colors","colours"],["colorspace","colourspace"],["colortype","colourtype"],["colorway","colourway"],["colorways","colourways"],["colorwise","colourwise"],["colorwork","colourwork"],["colter","coulter"],["colters","coulters"],["concolorous","concolourous"],["dark-colored","dark-coloured"],["decolor","decolour"],["decoloration","decolouration"],["decolorations","decolourations"],["decolored","decoloured"],["decoloring","decolouring"],["decolorisation","decolourisation"],["decolorisations","decolourisations"],["decolorise","decolourise"],["decolorised","decolourised"],["decoloriser","decolouriser"],["decolorises","decolourises"],["decolorising","decolourising"],["decolorization","decolourization"],["decolorize","decolourize"],["decolorized","decolourized"],["decolorizer","decolourizer"],["decolors","decolours"],["demeanor","demeanour"],["demeanors","demeanours"],["discolor","discolour"],["discoloration","discolouration"],["discolorations","discolourations"],["discolored","discoloured"],["discolorer","discolourer"],["discoloring","discolouring"],["discolorings","discolourings"],["discolorisation","discolourisation"],["discolorise","discolourise"],["discolorization","discolourization"],["discolorment","discolourment"],["discolorous","discolourous"],["discolors","discolours"],["disfavor","disfavour"],["dishonor","dishonour"],["dishonorable","dishonourable"],["dishonorably","dishonourably"],["dishonored","dishonoured"],["dishonoring","dishonouring"],["dishonors","dishonours"],["dolor","dolour"],["dolors","dolours"],["dun-colored","dun-coloured"],["dusky-colored","dusky-coloured"],["dustcolored","dustcoloured"],["enamor","enamour"],["enamored","enamoured"],["enamoring","enamouring"],["enamors","enamours"],["endeavor","endeavour"],["endeavored","endeavoured"],["endeavoring","endeavouring"],["endeavors","endeavours"],["favor","favour"],["favorable","favourable"],["favorably","favourably"],["favored","favoured"],["favoring","favouring"],["favorite","favourite"],["favorited","favourited"],["favorites","favourites"],["favoriting","favouriting"],["favoritism","favouritism"],["favors","favours"],["fawn-colored","fawn-coloured"],["fawncolored","fawncoloured"],["fervor","fervour"],["fervors","fervours"],["flame-colored","flame-coloured"],["flavor","flavour"],["flavored","flavoured"],["flavoring","flavouring"],["flavorings","flavourings"],["flavorless","flavourless"],["flavors","flavours"],["flavorsome","flavoursome"],["flesh-colored","flesh-coloured"],["fleshcolored","fleshcoloured"],["forecolor","forecolour"],["forecolors","forecolours"],["garnet-colored","garnet-coloured"],["glamor","glamour"],["gold-colored","gold-coloured"],["handcolor","handcolour"],["harbor","harbour"],["harbored","harboured"],["harboring","harbouring"],["harbors","harbours"],["honey-colored","honey-coloured"],["honor","honour"],["honorable","honourable"],["honorably","honourably"],["honored","honoured"],["honoring","honouring"],["honors","honours"],["humor","humour"],["humored","humoured"],["humoring","humouring"],["humorless","humourless"],["humors","humours"],["labor","labour"],["labored","laboured"],["laborer","labourer"],["laborers","labourers"],["laboring","labouring"],["labors","labours"],["lead-colored","lead-coloured"],["metal-colored","metal-coloured"],["metallic-colored","metallic-coloured"],["misbehavior","misbehaviour"],["misbehaviors","misbehaviours"],["miscolor","miscolour"],["miscoloration","miscolouration"],["miscolored","miscoloured"],["miscoloring","miscolouring"],["miscolors","miscolours"],["misdemeanor","misdemeanour"],["misdemeanors","misdemeanours"],["mold","mould"],["molded","moulded"],["molder","moulder"],["moldered","mouldered"],["moldering","mouldering"],["molders","moulders"],["moldier","mouldier"],["moldiest","mouldiest"],["molding","moulding"],["moldings","mouldings"],["molds","moulds"],["moldy","mouldy"],["molt","moult"],["molted","moulted"],["molting","moulting"],["molts","moults"],["monocolored","monocoloured"],["multi-color","multi-colour"],["multi-colored","multi-coloured"],["multicolor","multicolour"],["multicolored","multicoloured"],["multicolors","multicolours"],["neighbor","neighbour"],["neighborhood","neighbourhood"],["neighborhoods","neighbourhoods"],["neighboring","neighbouring"],["neighborliness","neighbourliness"],["neighborly","neighbourly"],["neighbors","neighbours"],["neutral-colored","neutral-coloured"],["odor","odour"],["odorless","odourless"],["odors","odours"],["off-color","off-colour"],["olive-colored","olive-coloured"],["orange-colored","orange-coloured"],["overcolor","overcolour"],["overcolored","overcoloured"],["parlor","parlour"],["parlormaid","parlourmaid"],["parlormaids","parlourmaids"],["parlors","parlours"],["particolored","particoloured"],["peachy-colored","peachy-coloured"],["pseudocolor","pseudocolour"],["pseudocolored","pseudocoloured"],["pseudocoloring","pseudocolouring"],["pseudocolors","pseudocolours"],["rancor","rancour"],["recolor","recolour"],["recolorable","recolourable"],["recoloration","recolouration"],["recolorations","recolourations"],["recolored","recoloured"],["recolorin\'","recolourin\'"],["recoloring","recolouring"],["recolors","recolours"],["remold","remould"],["remolded","remoulded"],["remolding","remoulding"],["remolds","remoulds"],["rigor","rigour"],["rigors","rigours"],["rose-colored","rose-coloured"],["rumor","rumour"],["rumored","rumoured"],["rumoring","rumouring"],["rumormonger","rumourmonger"],["rumormongers","rumourmongers"],["rumors","rumours"],["savior","saviour"],["saviors","saviours"],["savor","savour"],["savored","savoured"],["savories","savouries"],["savoring","savouring"],["savors","savours"],["savory","savoury"],["self-colored","self-coloured"],["smolder","smoulder"],["smoldered","smouldered"],["smoldering","smouldering"],["smolders","smoulders"],["snuff-color","snuff-colour"],["solid-colored","solid-coloured"],["splendor","splendour"],["splendors","splendours"],["straw-colored","straw-coloured"],["succor","succour"],["succored","succoured"],["succoring","succouring"],["succors","succours"],["tawny-colored","tawny-coloured"],["technicolor","technicolour"],["technicolored","technicoloured"],["topcolor","topcolour"],["tricolor","tricolour"],["tricolored","tricoloured"],["tricolorous","tricolourous"],["tricolors","tricolours"],["tumor","tumour"],["tumors","tumours"],["uncolorable","uncolourable"],["uncolored","uncoloured"],["uncolorful","uncolourful"],["unfavorable","unfavourable"],["unfavorably","unfavourably"],["unicolor","unicolour"],["unicolorous","unicolourous"],["unsavory","unsavoury"],["valor","valour"],["vapor","vapour"],["vapored","vapoured"],["vaporing","vapouring"],["vapors","vapours"],["varicolored","varicoloured"],["versicolored","versicoloured"],["vigor","vigour"],["violet-colored","violet-coloured"],["water-color","water-colour"],["watercolor","watercolour"],["watercolored","watercoloured"],["watercolorist","watercolourist"],["watercolorists","watercolourists"],["watercolors","watercolours"],["wine-colored","wine-coloured"],["accouterment","accoutrement"],["accouterments","accoutrements"],["amphitheater","amphitheatre"],["amphitheaters","amphitheatres"],["caliber","calibre"],["calibers","calibres"],["center","centre"],["centerboard","centreboard"],["centerfold","centrefold"],["centerfolds","centrefolds"],["centerpiece","centrepiece"],["centerpieces","centrepieces"],["centers","centres"],["centiliter","centilitre"],["centiliters","centilitres"],["centimeter","centimetre"],["centimeters","centimetres"],["epicenter","epicentre"],["epicenters","epicentres"],["fiber","fibre"],["fiberglass","fibreglass"],["fibers","fibres"],["goiter","goitre"],["goiters","goitres"],["kilometer","kilometre"],["kilometers","kilometres"],["lackluster","lacklustre"],["liter","litre"],["liters","litres"],["louver","louvre"],["louvers","louvres"],["luster","lustre"],["lusters","lustres"],["meager","meagre"],["metacenter","metacentre"],["metacenters","metacentres"],["micrometer","micrometre"],["micrometers","micrometres"],["milliliter","millilitre"],["milliliters","millilitres"],["millimeter","millimetre"],["millimeters","millimetres"],["miter","mitre"],["miters","mitres"],["niter","nitre"],["philter","philtre"],["philters","philtres"],["reconnoiter","reconnoitre"],["reconnoiters","reconnoitres"],["saber","sabre"],["sabers","sabres"],["saltpeter","saltpetre"],["scepter","sceptre"],["scepters","sceptres"],["sepulcher","sepulchre"],["sepulchers","sepulchres"],["somber","sombre"],["specter","spectre"],["specters","spectres"],["theater","theatre"],["theatergoer","theatregoer"],["theatergoers","theatregoers"],["theaters","theatres"],["ameba","amoeba"],["anemia","anaemia"],["anemias","anaemias"],["anemic","anaemic"],["anesthesia","anaesthesia"],["anesthesias","anaesthesias"],["anesthetic","anaesthetic"],["anesthetics","anaesthetics"],["anesthetist","anaesthetist"],["anesthetists","anaesthetists"],["anesthetize","anaesthetize"],["anesthetized","anaesthetized"],["anesthetizes","anaesthetizes"],["anesthetizing","anaesthetizing"],["archeological","archaeological"],["archeologically","archaeologically"],["archeologist","archaeologist"],["archeologists","archaeologists"],["archeology","archaeology"],["bougainvillea","bougainvillaea"],["bougainvilleas","bougainvillaeas"],["cesium","caesium"],["chimera","chimaera"],["chimeras","chimaeras"],["cyclopedia","cyclopaedia"],["diarrhea","diarrhoea"],["diarrheas","diarrhoeas"],["fecal","faecal"],["feces","faeces"],["gonorrhea","gonorrhoea"],["gonorrheas","gonorrhoeas"],["gynecological","gynaecological"],["gynecologies","gynaecologies"],["gynecologist","gynaecologist"],["gynecologists","gynaecologists"],["gynecology","gynaecology"],["hematein","haematein"],["hemateins","haemateins"],["hematological","haematological"],["hematologist","haematologist"],["hematologists","haematologists"],["hematology","haematology"],["hemoglobin","haemoglobin"],["hemoglobins","haemoglobins"],["hemophilia","haemophilia"],["hemophiliac","haemophiliac"],["hemophiliacs","haemophiliacs"],["hemorrhage","haemorrhage"],["hemorrhaged","haemorrhaged"],["hemorrhages","haemorrhages"],["hemorrhaging","haemorrhaging"],["hemorrhoid","haemorrhoid"],["hemorrhoids","haemorrhoids"],["homeopath","homoeopath"],["homeopathic","homoeopathic"],["homeopaths","homoeopaths"],["homeopathy","homoeopathy"],["leukemia","leukaemia"],["leukemias","leukaemias"],["menorrhea","menorrhoea"],["orthopedic","orthopaedic"],["orthopedics","orthopaedics"],["paleobotany","palaeobotany"],["paleocene","palaeocene"],["paleoclimatology","palaeoclimatology"],["paleogeography","palaeogeography"],["paleographies","palaeographies"],["paleography","palaeography"],["paleolithic","palaeolithic"],["paleomagnetism","palaeomagnetism"],["paleontologist","palaeontologist"],["paleontologists","palaeontologists"],["paleontology","palaeontology"],["paleozoic","palaeozoic"],["pederast","paederast"],["pederasts","paederasts"],["pediatrician","paediatrician"],["pediatricians","paediatricians"],["pediatrics","paediatrics"],["pedophile","paedophile"],["pedophiles","paedophiles"],["pedophilia","paedophilia"],["pharmacopeia","pharmacopoeia"],["pharmacopeias","pharmacopoeias"],["presidium","praesidium"],["presidiums","praesidiums"],["primeval","primaeval"],["toxemia","toxaemia"],["toxemias","toxaemias"],["defense","defence"],["defenseless","defenceless"],["defenses","defences"],["offense","offence"],["offenses","offences"],["pretense","pretence"],["pretenses","pretences"],["vise","vice"],["vises","vices"],["abridgment","abridgement"],["abridgments","abridgements"],["acknowledgment","acknowledgement"],["acknowledgments","acknowledgements"],["aerogram","aerogramme"],["aerograms","aerogrammes"],["afterward","afterwards"],["aging","ageing"],["agings","ageings"],["airplane","aeroplane"],["airplanes","aeroplanes"],["almanac","almanack"],["almanacs","almanacks"],["aluminum","aluminium"],["ambiance","ambience"],["ambiances","ambiences"],["analog","analogue"],["analogs","analogues"],["annex","annexe"],["apothegm","apophthegm"],["apothegms","apophthegms"],["appall","appal"],["appalls","appals"],["arbores","arbours"],["archiepiscopal","archepiscopal"],["artifact","artefact"],["artifacts","artefacts"],["ax","axe"],["backward","backwards"],["balk","baulk"],["balked","baulked"],["balking","baulking"],["balks","baulks"],["banister","bannister"],["banisters","bannisters"],["battleax","battleaxe"],["behoove","behove"],["behooved","behoved"],["behooves","behoves"],["behooving","behoving"],["bevies","bevvies"],["bevy","bevvy"],["carburetor","carburettor"],["carburetors","carburettors"],["catalog","catalogue"],["cataloged","catalogued"],["cataloging","cataloguing"],["catalogs","catalogues"],["centered","centred"],["centering","centring"],["centerings","centrings"],["checkbook","chequebook"],["checkbooks","chequebooks"],["cipher","cypher"],["ciphers","cyphers"],["clarinetist","clarinettist"],["clarinetists","clarinettists"],["collectible","collectable"],["collectibles","collectables"],["colonnaded","collonaded"],["conjuror","conjurer"],["cozied","cosied"],["cozier","cosier"],["cozies","cosies"],["coziest","cosiest"],["cozily","cosily"],["coziness","cosiness"],["cozy","cosy"],["cozying","cosying"],["dialog","dialogue"],["dialogs","dialogues"],["dike","dyke"],["diked","dyked"],["dikes","dykes"],["distill","distil"],["distills","distils"],["donut","doughnut"],["donuts","doughnuts"],["doodad","doodah"],["doodads","doodahs"],["edema","oedema"],["edemata","oedemata"],["enology","oenology"],["enroll","enrol"],["enrolls","enrols"],["ensorcell","ensorcel"],["ensorcelled","ensorceled"],["ensorcelling","ensorceling"],["ensorcells","ensorcels"],["enthrall","enthral"],["enthralls","enthrals"],["eon","aeon"],["eons","aeons"],["epaulet","epaulette"],["epaulets","epaulettes"],["epilog","epilogue"],["epilogs","epilogues"],["esophageal","oesophagal"],["esophagoscope","oesophagoscope"],["esophagus","oesophagus"],["estrous","oestrous"],["etiology","aetiology"],["fledgling","fledgeling"],["fledglings","fledgelings"],["flutist","flautist"],["flutists","flautists"],["fulfill","fulfil"],["fulfillment","fulfilment"],["fulfills","fulfils"],["furor","furore"],["furors","furores"],["galoshes","goloshes"],["gantlet","gauntlet"],["gantlets","gauntlets"],["gluing","glueing"],["gray","grey"],["grayed","greyed"],["grayer","greyer"],["grayest","greyest"],["graying","greying"],["grayish","greyish"],["grayness","greyness"],["grays","greys"],["griffin","gryphon"],["griffins","gryphons"],["gypsies","gipsies"],["gypsy","gipsy"],["hauler","haulier"],["haulers","hauliers"],["impanel","empanel"],["impaneled","empanelled"],["impaneling","empanelling"],["impanels","empanels"],["inflection","inflexion"],["inflections","inflexions"],["installment","instalment"],["installments","instalments"],["instill","instil"],["instills","instils"],["jewelry","jewellery"],["kidnaped","kidnapped"],["leaped","leapt"],["licorice","liquorice"],["licorices","liquorices"],["likable","likeable"],["louvered","louvred"],["lustered","lustred"],["lustering","lustring"],["maneuver","manoeuvre"],["maneuverability","manoeuvrability"],["maneuverable","manoeuvrable"],["maneuvered","manoeuvred"],["maneuvering","manoeuvring"],["maneuverings","manoeuvrings"],["maneuvers","manoeuvres"],["meagerest","meagrest"],["mementos","mementoes"],["minibusses","minibuses"],["misspelled","misspelt"],["mitered","mitred"],["mitering","mitring"],["mollusk","mollusc"],["mollusks","molluscs"],["monolog","monologue"],["monologs","monologues"],["mustache","moustache"],["mustached","moustached"],["mustaches","moustaches"],["mustachioed","moustachioed"],["naught","nought"],["omelet","omelette"],["omelets","omelettes"],["outmaneuver","outmanoeuvre"],["outmaneuvered","outmanoeuvred"],["outmaneuvering","outmanoeuvring"],["outmaneuvers","outmanoeuvres"],["pajama","pyjama"],["pajamas","pyjamas"],["philtered","philtred"],["philtering","philtring"],["phony","phoney"],["plow","plough"],["plowboy","ploughboy"],["plowboys","ploughboys"],["plowed","ploughed"],["plower","plougher"],["plowers","ploughers"],["plowgirl","ploughgirl"],["plowgirls","ploughgirls"],["plowing","ploughing"],["plowings","ploughings"],["plowland","ploughland"],["plowlands","ploughlands"],["plowman","ploughman"],["plowmen","ploughmen"],["plows","ploughs"],["plowshare","ploughshare"],["plowshares","ploughshares"],["plowwoman","ploughwoman"],["plowwomen","ploughwomen"],["plowwright","ploughwright"],["plowwrights","ploughwrights"],["polyethylene","polyethene"],["pouf","pouffe"],["poufs","pouffes"],["practiced","practised"],["practicing","practising"],["prolog","prologue"],["prologs","prologues"],["quire","choir"],["quired","choired"],["quires","choirs"],["quiring","choiring"],["reconnoitered","reconnoitred"],["reconnoitering","reconnoitring"],["reconnoiterings","reconnoitrings"],["retroflection","retroflexion"],["retroflections","retroflexions"],["sceptered","sceptred"],["sceptering","sceptring"],["selvage","selvedge"],["selvages","selvedges"],["sepulchered","sepulchred"],["sepulchering","sepulchring"],["sheik","sheikh"],["sheiks","sheikhs"],["skeptic","sceptic"],["skeptical","sceptical"],["skeptically","sceptically"],["skepticism","scepticism"],["skepticisms","scepticisms"],["skepticist","scepticist"],["skepticists","scepticists"],["skeptics","sceptics"],["skillful","skilful"],["sled","sledge"],["sledded","sledged"],["sledding","sledging"],["sleddings","sledgings"],["sleds","sledges"],["snowplow","snowplough"],["snowplowed","snowploughed"],["snowplowing","snowploughing"],["snowplows","snowploughs"],["somberer","sombrer"],["somberest","sombrest"],["specialties","specialities"],["specialty","speciality"],["spelled","spelt"],["spilled","spilt"],["tableting","tabletting"],["transshipment","transhipment"],["travelog","travelogue"],["travelogs","travelogues"],["worshiped","worshipped"],["worshiping","worshipping"],["yogurt","yoghurt"],["yogurts","yoghurts"]],"canadian":[["arbor","arbour"],["arbors","arbours"],["ardor","ardour"],["ardors","ardours"],["armor","armour"],["armored","armoured"],["armorer","armourer"],["armorers","armourers"],["armories","armouries"],["armoring","armouring"],["armors","armours"],["armory","armoury"],["behavior","behaviour"],["behavioral","behavioural"],["behaviorism","behaviourism"],["behaviorisms","behaviourisms"],["behaviorist","behaviourist"],["behaviorists","behaviourists"],["behaviors","behaviours"],["belabor","belabour"],["belabored","belaboured"],["belaboring","belabouring"],["belabors","belabours"],["candor","candour"],["clamor","clamour"],["clamored","clamoured"],["clamoring","clamouring"],["clamorings","clamourings"],["clamors","clamours"],["clangor","clangour"],["color","colour"],["colorant","colourant"],["colorants","colourants"],["colored","coloured"],["coloreds","coloureds"],["colorful","colourful"],["colorfully","colourfully"],["coloring","colouring"],["colorings","colourings"],["colorize","colourize"],["colorized","colourized"],["colorizes","colourizes"],["colorizing","colourizing"],["colorless","colourless"],["colors","colours"],["colter","coulter"],["colters","coulters"],["demeanor","demeanour"],["demeanors","demeanours"],["discolor","discolour"],["discolored","discoloured"],["discoloring","discolouring"],["discolors","discolours"],["disfavor","disfavour"],["dishonor","dishonour"],["dishonorable","dishonourable"],["dishonorably","dishonourably"],["dishonored","dishonoured"],["dishonoring","dishonouring"],["dishonors","dishonours"],["dolor","dolour"],["dolors","dolours"],["enamor","enamour"],["enamored","enamoured"],["enamoring","enamouring"],["enamors","enamours"],["endeavor","endeavour"],["endeavored","endeavoured"],["endeavoring","endeavouring"],["endeavors","endeavours"],["favor","favour"],["favorable","favourable"],["favorably","favourably"],["favored","favoured"],["favoring","favouring"],["favorite","favourite"],["favorited","favourited"],["favorites","favourites"],["favoriting","favouriting"],["favoritism","favouritism"],["favors","favours"],["fervor","fervour"],["fervors","fervours"],["flavor","flavour"],["flavored","flavoured"],["flavoring","flavouring"],["flavorings","flavourings"],["flavorless","flavourless"],["flavors","flavours"],["flavorsome","flavoursome"],["glamor","glamour"],["harbor","harbour"],["harbored","harboured"],["harboring","harbouring"],["harbors","harbours"],["honor","honour"],["honorable","honourable"],["honorably","honourably"],["honored","honoured"],["honoring","honouring"],["honors","honours"],["humor","humour"],["humored","humoured"],["humoring","humouring"],["humorless","humourless"],["humors","humours"],["labor","labour"],["labored","laboured"],["laborer","labourer"],["laborers","labourers"],["laboring","labouring"],["labors","labours"],["misbehavior","misbehaviour"],["misbehaviors","misbehaviours"],["misdemeanor","misdemeanour"],["misdemeanors","misdemeanours"],["mold","mould"],["molded","moulded"],["molder","moulder"],["moldered","mouldered"],["moldering","mouldering"],["molders","moulders"],["moldier","mouldier"],["moldiest","mouldiest"],["molding","moulding"],["moldings","mouldings"],["molds","moulds"],["moldy","mouldy"],["molt","moult"],["molted","moulted"],["molting","moulting"],["molts","moults"],["multicolor","multicolour"],["multicolored","multicoloured"],["neighbor","neighbour"],["neighborhood","neighbourhood"],["neighborhoods","neighbourhoods"],["neighboring","neighbouring"],["neighborliness","neighbourliness"],["neighborly","neighbourly"],["neighbors","neighbours"],["odor","odour"],["odorless","odourless"],["odors","odours"],["parlor","parlour"],["parlormaid","parlourmaid"],["parlormaids","parlourmaids"],["parlors","parlours"],["rancor","rancour"],["remold","remould"],["remolded","remoulded"],["remolding","remoulding"],["remolds","remoulds"],["rigor","rigour"],["rigors","rigours"],["rumor","rumour"],["rumored","rumoured"],["rumoring","rumouring"],["rumormonger","rumourmonger"],["rumormongers","rumourmongers"],["rumors","rumours"],["savior","saviour"],["saviors","saviours"],["savor","savour"],["savored","savoured"],["savories","savouries"],["savoring","savouring"],["savors","savours"],["savory","savoury"],["smolder","smoulder"],["smoldered","smouldered"],["smoldering","smouldering"],["smolders","smoulders"],["splendor","splendour"],["splendors","splendours"],["succor","succour"],["succored","succoured"],["succoring","succouring"],["succors","succours"],["technicolor","technicolour"],["tricolor","tricolour"],["tricolors","tricolours"],["tumor","tumour"],["tumors","tumours"],["unfavorable","unfavourable"],["unfavorably","unfavourably"],["unsavory","unsavoury"],["valor","valour"],["vapor","vapour"],["vapored","vapoured"],["vaporing","vapouring"],["vapors","vapours"],["vigor","vigour"],["watercolor","watercolour"],["watercolors","watercolours"],["accouterment","accoutrement"],["accouterments","accoutrements"],["amphitheater","amphitheatre"],["amphitheaters","amphitheatres"],["caliber","calibre"],["calibers","calibres"],["centerboard","centreboard"],["centerfold","centrefold"],["centerfolds","centrefolds"],["centerpiece","centrepiece"],["centerpieces","centrepieces"],["centiliter","centilitre"],["centiliters","centilitres"],["centimeter","centimetre"],["centimeters","centimetres"],["epicenter","epicentre"],["epicenters","epicentres"],["fiber","fibre"],["fiberglass","fibreglass"],["fibers","fibres"],["goiter","goitre"],["goiters","goitres"],["kilometer","kilometre"],["kilometers","kilometres"],["lackluster","lacklustre"],["liter","litre"],["liters","litres"],["louver","louvre"],["louvers","louvres"],["luster","lustre"],["lusters","lustres"],["meager","meagre"],["metacenter","metacentre"],["metacenters","metacentres"],["micrometer","micrometre"],["micrometers","micrometres"],["milliliter","millilitre"],["milliliters","millilitres"],["millimeter","millimetre"],["millimeters","millimetres"],["miter","mitre"],["miters","mitres"],["niter","nitre"],["philter","philtre"],["philters","philtres"],["reconnoiter","reconnoitre"],["reconnoiters","reconnoitres"],["saber","sabre"],["sabers","sabres"],["saltpeter","saltpetre"],["scepter","sceptre"],["scepters","sceptres"],["sepulcher","sepulchre"],["sepulchers","sepulchres"],["somber","sombre"],["specter","spectre"],["specters","spectres"],["theater","theatre"],["theatergoer","theatregoer"],["theatergoers","theatregoers"],["theaters","theatres"],["backpedaled","backpedalled"],["backpedaling","backpedalling"],["bedeviled","bedevilled"],["bedeviling","bedevilling"],["bejeweled","bejewelled"],["beveled","bevelled"],["caliper","calliper"],["calipers","callipers"],["calisthenics","callisthenics"],["cancelation","cancellation"],["cancelations","cancellations"],["canceled","cancelled"],["canceling","cancelling"],["caroled","carolled"],["caroling","carolling"],["carolings","carollings"],["caviled","cavilled"],["caviling","cavilling"],["cavilings","cavillings"],["channeled","channelled"],["channeling","channelling"],["chili","chilli"],["chilies","chillies"],["chiseled","chiselled"],["chiseling","chiselling"],["councilor","councillor"],["councilors","councillors"],["counseled","counselled"],["counseling","counselling"],["counselor","counsellor"],["counselors","counsellors"],["crenelate","crenellate"],["crenelated","crenellated"],["crenelates","crenellates"],["crenelating","crenellating"],["crueler","crueller"],["cruelest","cruellest"],["cudgeled","cudgelled"],["cudgeling","cudgelling"],["dialed","dialled"],["dialing","dialling"],["dialings","diallings"],["disemboweled","disembowelled"],["disemboweling","disembowelling"],["disembowelings","disembowellings"],["disheveled","dishevelled"],["driveled","drivelled"],["driveling","drivelling"],["dueled","duelled"],["dueling","duelling"],["empaneled","empanelled"],["empaneling","empanelling"],["enameled","enamelled"],["enameling","enamelling"],["equaled","equalled"],["funneled","funnelled"],["funneling","funnelling"],["gamboled","gambolled"],["gamboling","gambolling"],["graveled","gravelled"],["graveling","gravelling"],["groveled","grovelled"],["groveling","grovelling"],["grueling","gruelling"],["gruelingly","gruellingly"],["imperiled","imperilled"],["imperiling","imperilling"],["initialed","initialled"],["initialing","initialling"],["jeweled","jewelled"],["jeweler","jeweller"],["jewelers","jewellers"],["labeled","labelled"],["labeler","labeller"],["labelers","labellers"],["labeling","labelling"],["labelings","labellings"],["leveled","levelled"],["leveler","leveller"],["levelers","levellers"],["leveling","levelling"],["libeled","libelled"],["libeling","libelling"],["libelous","libellous"],["marshaled","marshalled"],["marshaling","marshalling"],["marveled","marvelled"],["marveling","marvelling"],["marvelous","marvellous"],["marvelously","marvellously"],["modeled","modelled"],["modeler","modeller"],["modelers","modellers"],["modeling","modelling"],["modelings","modellings"],["paneled","panelled"],["paneling","panelling"],["panelist","panellist"],["panelists","panellists"],["parceled","parcelled"],["parceling","parcelling"],["pedaled","pedalled"],["pedaling","pedalling"],["penciled","pencilled"],["penciling","pencilling"],["quarreled","quarrelled"],["quarreling","quarrelling"],["raveled","ravelled"],["raveling","ravelling"],["refueled","refuelled"],["refueling","refuelling"],["refuelings","refuellings"],["remodeled","remodelled"],["remodeling","remodelling"],["remodelings","remodellings"],["reveled","revelled"],["reveler","reveller"],["revelers","revellers"],["reveling","revelling"],["rivaled","rivalled"],["rivaling","rivalling"],["shoveled","shovelled"],["shoveling","shovelling"],["shriveled","shrivelled"],["shriveling","shrivelling"],["signaled","signalled"],["signaling","signalling"],["signalings","signallings"],["sniveled","snivelled"],["sniveling","snivelling"],["snorkeled","snorkelled"],["snorkeling","snorkelling"],["spiraled","spiralled"],["spiraling","spiralling"],["squirreled","squirrelled"],["squirreling","squirrelling"],["stenciled","stencilled"],["stenciling","stencilling"],["swiveled","swivelled"],["swiveling","swivelling"],["tasseled","tasselled"],["totaled","totalled"],["totaling","totalling"],["toweled","towelled"],["toweling","towelling"],["towelings","towellings"],["trammeled","trammelled"],["trammeling","trammelling"],["tranquility","tranquillity"],["tranquilize","tranquillize"],["tranquilized","tranquillized"],["tranquilizer","tranquillizer"],["tranquilizers","tranquillizers"],["tranquilizes","tranquillizes"],["tranquilizing","tranquillizing"],["traveled","travelled"],["traveler","traveller"],["travelers","travellers"],["traveling","travelling"],["travelings","travellings"],["trialed","trialled"],["trialing","trialling"],["tunneled","tunnelled"],["tunneling","tunnelling"],["tunnelings","tunnellings"],["unequaled","unequalled"],["unraveled","unravelled"],["unraveling","unravelling"],["unrivaled","unrivalled"],["untrammeled","untrammelled"],["weaseled","weaselled"],["weaseling","weaselling"],["woolen","woollen"],["woolens","woollens"],["woolier","woollier"],["woolies","woollies"],["wooliest","woolliest"],["wooly","woolly"],["yodeled","yodelled"],["yodeling","yodelling"],["defense","defence"],["defenseless","defenceless"],["defenses","defences"],["offense","offence"],["offenses","offences"],["vise","vice"],["vises","vices"],["abetalipoproteinaemia","abetalipoproteinemia"],["aeon","eon"],["aeons","eons"],["aetiology","etiology"],["agammaglobulinaemia","agammaglobulinemia"],["albuminaemia","albuminemia"],["alcoholaemia","alcoholemia"],["anaemia","anemia"],["anaemias","anemias"],["anaemic","anemic"],["anaesthesia","anesthesia"],["anaesthesias","anesthesias"],["anaesthetic","anesthetic"],["anaesthetics","anesthetics"],["anaesthetist","anesthetist"],["anaesthetists","anesthetists"],["anaesthetize","anesthetize"],["anaesthetized","anesthetized"],["anaesthetizes","anesthetizes"],["anaesthetizing","anesthetizing"],["anoxaemia","anoxemia"],["antigenaemia","antigenemia"],["antileukaemic","antileukemic"],["azotaemia","azotemia"],["bacteraemia","bacteremia"],["bougainvillaea","bougainvillea"],["bougainvillaeas","bougainvilleas"],["caesium","cesium"],["carboxyhaemoglobin","carboxyhemoglobin"],["caesarean","cesarean"],["chimaera","chimera"],["chimaeras","chimeras"],["chimaeric","chimeric"],["cholesterolaemia","cholesterolemia"],["cryoglobulinaemia","cryoglobulinemia"],["cyclopaedia","cyclopedia"],["deoxyhaemoglobin","deoxyhemoglobin"],["diarrhoea","diarrhea"],["diarrhoeas","diarrheas"],["dysbetalipoproteinaemia","dysbetalipoproteinemia"],["dyslipidaemia","dyslipidemia"],["encyclopaedia","encyclopedia"],["encyclopaediae","encyclopediae"],["encyclopaedias","encyclopedias"],["encyclopaedic","encyclopedic"],["endotoxaemia","endotoxemia"],["euglycaemia","euglycemia"],["faecal","fecal"],["faeces","feces"],["foetal","fetal"],["foetid","fetid"],["foetus","fetus"],["foetuses","fetuses"],["fungaemia","fungemia"],["galactosaemia","galactosemia"],["glycaemia","glycemia"],["gonorrhoea","gonorrhea"],["gonorrhoeas","gonorrheas"],["gynaecological","gynecological"],["gynaecologies","gynecologies"],["gynaecologist","gynecologist"],["gynaecologists","gynecologists"],["gynaecology","gynecology"],["haematein","hematein"],["haemateins","hemateins"],["haematocele","hematocele"],["haematocrit","hematocrit"],["haematocrits","hematocrits"],["haematogenous","hematogenous"],["haematological","hematological"],["haematologist","hematologist"],["haematologists","hematologists"],["haematology","hematology"],["haematoma","hematoma"],["haematomas","hematomas"],["haematophagous","hematophagous"],["haematopoiesis","hematopoiesis"],["haematopoietic","hematopoietic"],["haematoxylin","hematoxylin"],["haematoxylins","hematoxylins"],["haemochromatosis","hemochromatosis"],["haemocoel","hemocoel"],["haemocyanin","hemocyanin"],["haemocyte","hemocyte"],["haemocytes","hemocytes"],["haemocytometer","hemocytometer"],["haemodialyses","hemodialyses"],["haemodialysis","hemodialysis"],["haemodynamic","hemodynamic"],["haemodynamically","hemodynamically"],["haemodynamics","hemodynamics"],["haemogenic","hemogenic"],["haemoglobin","hemoglobin"],["haemoglobinopathies","hemoglobinopathies"],["haemoglobinopathy","hemoglobinopathy"],["haemoglobins","hemoglobins"],["haemoglobinuria","hemoglobinuria"],["haemoglobinurias","hemoglobinurias"],["haemolymph","hemolymph"],["haemolysate","hemolysate"],["haemolysin","hemolysin"],["haemolysins","hemolysins"],["haemolysis","hemolysis"],["haemolytic","hemolytic"],["haemophilia","hemophilia"],["haemophiliac","hemophiliac"],["haemophiliacs","hemophiliacs"],["haemophilic","hemophilic"],["haemophobia","hemophobia"],["haemopoiesis","hemopoiesis"],["haemopoietic","hemopoietic"],["haemoprotein","hemoprotein"],["haemoproteins","hemoproteins"],["haemoptysis","hemoptysis"],["haemorrhage","hemorrhage"],["haemorrhaged","hemorrhaged"],["haemorrhages","hemorrhages"],["haemorrhagic","hemorrhagic"],["haemorrhaging","hemorrhaging"],["haemorrhoid","hemorrhoid"],["haemorrhoids","hemorrhoids"],["haemostasis","hemostasis"],["haemostat","hemostat"],["haemostatic","hemostatic"],["haemostats","hemostats"],["haemotoxylin","hemotoxylin"],["haemozoin","hemozoin"],["histidinaemia","histidinemia"],["homoeopath","homeopath"],["homoeopathic","homeopathic"],["homoeopaths","homeopaths"],["homoeopathy","homeopathy"],["homoeostasis","homeostasis"],["hydraemia","hydremia"],["hyperaemia","hyperemia"],["hyperbilirubinaemia","hyperbilirubinemia"],["hypercalcaemia","hypercalcemia"],["hypercholesteraemia","hypercholesteremia"],["hypercholesterolaemia","hypercholesterolemia"],["hyperglycaemia","hyperglycemia"],["hyperhomocysteinaemia","hyperhomocysteinemia"],["hyperinsulinaemia","hyperinsulinemia"],["hyperkalaemia","hyperkalemia"],["hyperlipidaemia","hyperlipidemia"],["hyperlipoproteinaemia","hyperlipoproteinemia"],["hyperprolactinaemia","hyperprolactinemia"],["hypertriglyceridaemia","hypertriglyceridemia"],["hyperuricaemia","hyperuricemia"],["hypervolaemia","hypervolemia"],["hypoalbuminaemia","hypoalbuminemia"],["hypocalcaemia","hypocalcemia"],["hypogammaglobulinaemia","hypogammaglobulinemia"],["hypoglycaemia","hypoglycemia"],["hypoinsulinaemia","hypoinsulinemia"],["hypomagnesaemia","hypomagnesemia"],["hyponatraemia","hyponatremia"],["hypophosphataemia","hypophosphatemia"],["hypouricaemia","hypouricemia"],["hypoxaemia","hypoxemia"],["insulinaemia","insulinemia"],["ischaemia","ischemia"],["ketonaemia","ketonemia"],["leukaemia","leukemia"],["leukaemias","leukemias"],["leukaemic","leukemic"],["leukaemogenesis","leukemogenesis"],["macroglobulinaemia","macroglobulinemia"],["mediaeval","medieval"],["mediaevals","medievals"],["menorrhoea","menorrhea"],["methaemoglobin","methemoglobin"],["methaemoglobinaemia","methemoglobinaemia"],["methemoglobinaemia","methemoglobinemia"],["natraemia","natremia"],["nonhaemolytic","nonhemolytic"],["normokalaemia","normokalemia"],["oedema","edema"],["oedemata","edemata"],["oenology","enology"],["oesophagoscope","esophagoscope"],["oesophagus","esophagus"],["oestrogen","estrogen"],["oestrogens","estrogens"],["oestrous","estrous"],["orthopaedic","orthopedic"],["orthopaedics","orthopedics"],["oxyhaemoglobin","oxyhemoglobin"],["paedagogies","pedagogies"],["paedagogy","pedagogy"],["paederast","pederast"],["paederasts","pederasts"],["paediatric","pediatric"],["paediatrician","pediatrician"],["paediatricians","pediatricians"],["paediatrics","pediatrics"],["paedophile","pedophile"],["paedophiles","pedophiles"],["paedophilia","pedophilia"],["palaeobotany","paleobotany"],["palaeocene","paleocene"],["palaeoclimatology","paleoclimatology"],["palaeogeography","paleogeography"],["palaeographies","paleographies"],["palaeography","paleography"],["palaeolithic","paleolithic"],["palaeomagnetism","paleomagnetism"],["palaeontologist","paleontologist"],["palaeontologists","paleontologists"],["palaeontology","paleontology"],["palaeozoic","paleozoic"],["parasitaemia","parasitemia"],["pharmacopoeia","pharmacopeia"],["pharmacopoeias","pharmacopeias"],["polycythaemia","polycythemia"],["praesidium","presidium"],["praesidiums","presidiums"],["primaeval","primeval"],["pyaemia","pyemia"],["septicaemia","septicemia"],["thalassaemia","thalassemia"],["toxaemia","toxemia"],["toxaemias","toxemias"],["tyrosinaemia","tyrosinemia"],["uraemia","uremia"],["viraemia","viremia"],["bisulfate","bisulphate"],["bisulfates","bisulphates"],["bisulfite","bisulphite"],["bisulfites","bisulphites"],["disulfide","disulphide"],["disulfides","disulphides"],["hydrosulfite","hydrosulphite"],["hydrosulfites","hydrosulphites"],["pyrosulfite","pyrosulphite"],["pyrosulfites","pyrosulphites"],["sulfate","sulphate"],["sulfated","sulphated"],["sulfates","sulphates"],["sulfating","sulphating"],["sulfide","sulphide"],["sulfides","sulphides"],["sulfite","sulphite"],["sulfites","sulphites"],["sulfur","sulphur"],["sulfured","sulphured"],["sulfuring","sulphuring"],["sulfurous","sulphurous"],["sulfurs","sulphurs"],["aging","ageing"],["agings","ageings"],["ax","axe"],["battleax","battleaxe"],["catalog","catalogue"],["catalogs","catalogues"],["dialog","dialogue"],["dialogs","dialogues"],["epilog","epilogue"],["epilogs","epilogues"],["monolog","monologue"],["monologs","monologues"],["prolog","prologue"],["prologs","prologues"],["travelog","travelogue"],["travelogs","travelogues"],["instal","install"],["instaled","installed"],["instaling","installing"],["north-easts","northeasts"],["north-west","northwest"],["north-wests","northwests"],["south-east","southeast"],["south-easts","southeasts"],["south-west","southwest"],["south-wests","southwests"],["almanack","almanac"],["almanacks","almanacs"],["aluminium","aluminum"],["archepiscopal","archiepiscopal"],["artefact","artifact"],["artefacts","artifacts"],["atishoo","achoo"],["atishoos","achoos"],["baulk","balk"],["baulked","balked"],["baulking","balking"],["baulks","balks"],["behove","behoove"],["behoved","behooved"],["behoves","behooves"],["behoving","behooving"],["bevvies","bevies"],["bevvy","bevy"],["carcase","carcass"],["carcases","carcasses"],["centered","centred"],["centering","centring"],["centerings","centrings"],["checkbook","chequebook"],["checkbooks","chequebooks"],["collonaded","colonnaded"],["compleat","complete"],["compleated","completed"],["compleater","completer"],["compleaters","completers"],["compleates","completes"],["compleatest","completest"],["compleating","completing"],["cosied","cozied"],["cosier","cozier"],["cosies","cozies"],["cosiest","coziest"],["cosily","cozily"],["cosiness","coziness"],["cosy","cozy"],["cosying","cozying"],["doodah","doodad"],["doodahs","doodads"],["empanel","impanel"],["empanelled","impanelled"],["empanelling","impanelling"],["empanels","impanels"],["gaol","jail"],["gaolbird","jailbird"],["gaolbirds","jailbirds"],["gaolbreak","jailbreak"],["gaolbreaking","jailbreaking"],["gaolbreaks","jailbreaks"],["gaolbroke","jailbroke"],["gaolbroken","jailbroken"],["gaoled","jailed"],["gaoler","jailer"],["gaolers","jailers"],["gaoling","jailing"],["gaolings","jailings"],["gaols","jails"],["gipsies","gypsies"],["gipsy","gypsy"],["gryphon","griffin"],["gryphons","griffins"],["haulier","hauler"],["hauliers","haulers"],["inflexion","inflection"],["inflexions","inflections"],["kerb","curb"],["kerbed","curbed"],["kerbing","curbing"],["kerbings","curbings"],["kerbs","curbs"],["liquorice","licorice"],["liquorices","licorices"],["louvered","louvred"],["lustred","lustered"],["lustring","lustering"],["meagrest","meagerest"],["metred","metered"],["metring","metering"],["nett","net"],["pajama","pyjama"],["pajamas","pyjamas"],["philtred","philtered"],["philtring","philtering"],["prefered","preferred"],["prefereds","preferreds"],["racoon","raccoon"],["racoons","raccoons"],["reconnoitered","reconnoitred"],["reconnoitering","reconnoitring"],["reconnoiterings","reconnoitrings"],["retroflection","retroflexion"],["retroflections","retroflexions"],["sceptic","skeptic"],["sceptical","skeptical"],["sceptically","skeptically"],["scepticism","skepticism"],["scepticisms","skepticisms"],["scepticist","skepticist"],["scepticists","skepticists"],["sceptics","skeptics"],["sledge","sled"],["sledged","sledded"],["sledges","sleds"],["sledging","sledding"],["sledgings","sleddings"],["somberer","sombrer"],["somberest","sombrest"],["specialities","specialties"],["speciality","specialty"],["tabletting","tableting"],["tranship","transship"],["transhiped","transshiped"],["transhipment","transshipment"],["transhipping","transshipping"],["waggon","wagon"],["waggoned","wagoned"],["waggoning","wagoning"],["waggons","wagons"],["yoghourt","yogurt"],["yoghourts","yogurts"],["yoghurt","yogurt"],["yoghurts","yogurts"]],"indian":[["backpedaled","backpedalled"],["backpedaling","backpedalling"],["bedeviled","bedevilled"],["bedeviling","bedevilling"],["bejeweled","bejewelled"],["beveled","bevelled"],["caliper","calliper"],["calipers","callipers"],["calisthenics","callisthenics"],["cancelation","cancellation"],["cancelations","cancellations"],["canceled","cancelled"],["canceling","cancelling"],["caroled","carolled"],["caroling","carolling"],["carolings","carollings"],["caviled","cavilled"],["caviling","cavilling"],["cavilings","cavillings"],["channeled","channelled"],["channeling","channelling"],["chili","chilli"],["chilies","chillies"],["chiseled","chiselled"],["chiseling","chiselling"],["councilor","councillor"],["councilors","councillors"],["counseled","counselled"],["counseling","counselling"],["counselor","counsellor"],["counselors","counsellors"],["crenelate","crenellate"],["crenelated","crenellated"],["crenelates","crenellates"],["crenelating","crenellating"],["crueler","crueller"],["cruelest","cruellest"],["cudgeled","cudgelled"],["cudgeling","cudgelling"],["dialed","dialled"],["dialing","dialling"],["dialings","diallings"],["disemboweled","disembowelled"],["disemboweling","disembowelling"],["disembowelings","disembowellings"],["disheveled","dishevelled"],["driveled","drivelled"],["driveling","drivelling"],["dueled","duelled"],["dueling","duelling"],["empaneled","empanelled"],["empaneling","empanelling"],["enameled","enamelled"],["enameling","enamelling"],["equaled","equalled"],["funneled","funnelled"],["funneling","funnelling"],["gamboled","gambolled"],["gamboling","gambolling"],["graveled","gravelled"],["graveling","gravelling"],["groveled","grovelled"],["groveling","grovelling"],["grueling","gruelling"],["gruelingly","gruellingly"],["imperiled","imperilled"],["imperiling","imperilling"],["initialed","initialled"],["initialing","initialling"],["jeweled","jewelled"],["jeweler","jeweller"],["jewelers","jewellers"],["labeled","labelled"],["labeler","labeller"],["labelers","labellers"],["labeling","labelling"],["labelings","labellings"],["leveled","levelled"],["leveler","leveller"],["levelers","levellers"],["leveling","levelling"],["libeled","libelled"],["libeling","libelling"],["libelous","libellous"],["marshaled","marshalled"],["marshaling","marshalling"],["marveled","marvelled"],["marveling","marvelling"],["marvelous","marvellous"],["marvelously","marvellously"],["modeled","modelled"],["modeler","modeller"],["modelers","modellers"],["modeling","modelling"],["modelings","modellings"],["paneled","panelled"],["paneling","panelling"],["panelist","panellist"],["panelists","panellists"],["parceled","parcelled"],["parceling","parcelling"],["pedaled","pedalled"],["pedaling","pedalling"],["penciled","pencilled"],["penciling","pencilling"],["percent","per cent"],["persnickety","pernickety"],["quarreled","quarrelled"],["quarreling","quarrelling"],["raveled","ravelled"],["raveling","ravelling"],["refueled","refuelled"],["refueling","refuelling"],["refuelings","refuellings"],["remodeled","remodelled"],["remodeling","remodelling"],["remodelings","remodellings"],["reveled","revelled"],["reveler","reveller"],["revelers","revellers"],["reveling","revelling"],["rivaled","rivalled"],["rivaling","rivalling"],["shoveled","shovelled"],["shoveling","shovelling"],["shriveled","shrivelled"],["shriveling","shrivelling"],["signaled","signalled"],["signaling","signalling"],["signalings","signallings"],["sniveled","snivelled"],["sniveling","snivelling"],["snorkeled","snorkelled"],["snorkeling","snorkelling"],["spiraled","spiralled"],["spiraling","spiralling"],["squirreled","squirrelled"],["squirreling","squirrelling"],["stenciled","stencilled"],["stenciling","stencilling"],["swiveled","swivelled"],["swiveling","swivelling"],["tasseled","tasselled"],["totaled","totalled"],["totaling","totalling"],["toweled","towelled"],["toweling","towelling"],["towelings","towellings"],["trammeled","trammelled"],["trammeling","trammelling"],["tranquility","tranquillity"],["tranquilize","tranquillize"],["tranquilized","tranquillized"],["tranquilizer","tranquillizer"],["tranquilizers","tranquillizers"],["tranquilizes","tranquillizes"],["tranquilizing","tranquillizing"],["traveled","travelled"],["traveler","traveller"],["travelers","travellers"],["traveling","travelling"],["travelings","travellings"],["trialed","trialled"],["trialing","trialling"],["tunneled","tunnelled"],["tunneling","tunnelling"],["tunnelings","tunnellings"],["unequaled","unequalled"],["unraveled","unravelled"],["unraveling","unravelling"],["unrivaled","unrivalled"],["untrammeled","untrammelled"],["weaseled","weaselled"],["weaseling","weaselling"],["woolen","woollen"],["woolens","woollens"],["woolier","woollier"],["woolies","woollies"],["wooliest","woolliest"],["wooly","woolly"],["yodeled","yodelled"],["yodeling","yodelling"],["ambercolored","ambercoloured"],["anticolor","anticolour"],["anticolors","anticolours"],["apricotcolored","apricotcoloured"],["arbor","arbour"],["arbors","arbours"],["ardor","ardour"],["ardors","ardours"],["armor","armour"],["armored","armoured"],["armorer","armourer"],["armorers","armourers"],["armories","armouries"],["armoring","armouring"],["armors","armours"],["armory","armoury"],["ashcolored","ashcoloured"],["aurora-colored","aurora-coloured"],["behavior","behaviour"],["behavioral","behavioural"],["behaviorism","behaviourism"],["behaviorisms","behaviourisms"],["behaviorist","behaviourist"],["behaviorists","behaviourists"],["behaviors","behaviours"],["belabor","belabour"],["belabored","belaboured"],["belaboring","belabouring"],["belabors","belabours"],["bicolor","bicolour"],["bicoloration","bicolouration"],["bicolored","bicoloured"],["bodycolor","bodycolour"],["brasscolored","brasscoloured"],["brickcolored","brickcoloured"],["brightly-colored","brightly-coloured"],["buff-colored","buff-coloured"],["burgundycolored","burgundycoloured"],["candor","candour"],["cherrycolored","cherrycoloured"],["chestnut-colored","chestnut-coloured"],["chocolate-colored","chocolate-coloured"],["cinnamon-colored","cinnamon-coloured"],["citroncolored","citroncoloured"],["clamor","clamour"],["clamored","clamoured"],["clamoring","clamouring"],["clamorings","clamourings"],["clamors","clamours"],["clangor","clangour"],["claretcolored","claretcoloured"],["color","colour"],["color-blind","colour-blind"],["color-blindness","colour-blindness"],["color-coordinate","colour-coordinate"],["color-coordinated","colour-coordinated"],["colorability","colourability"],["colorable","colourable"],["colorably","colourably"],["colorant","colourant"],["colorants","colourants"],["coloration","colouration"],["colorational","colourational"],["colorations","colourations"],["colorative","colourative"],["colorbearer","colourbearer"],["colorblind","colourblind"],["colorblindness","colourblindness"],["colorcast","colourcast"],["colorcaster","colourcaster"],["colored","coloured"],["coloreds","coloureds"],["colorer","colourer"],["colorers","colourers"],["colorfast","colourfast"],["colorfastness","colourfastness"],["colorful","colourful"],["colorfully","colourfully"],["colorfulness","colourfulness"],["colorific","colourific"],["colorimeter","colourimeter"],["colorimeters","colourimeters"],["colorimetric","colourimetric"],["colorimetrical","colourimetrical"],["colorimetrically","colourimetrically"],["colorimetry","colourimetry"],["colorin\'","colourin\'"],["coloring","colouring"],["colorings","colourings"],["colorisation","colourisation"],["colorise","colourise"],["colorism","colourism"],["colorisms","colourisms"],["colorist","colourist"],["coloristic","colouristic"],["coloristically","colouristically"],["colorists","colourists"],["colorization","colourization"],["colorizations","colourizations"],["colorize","colourize"],["colorized","colourized"],["colorizer","colourizer"],["colorizes","colourizes"],["colorizin\'","colourizin\'"],["colorizing","colourizing"],["colorless","colourless"],["colorlessly","colourlessly"],["colorlessness","colourlessness"],["colormaker","colourmaker"],["colormakers","colourmakers"],["colormap","colourmap"],["colormaps","colourmaps"],["colormen","colourmen"],["colorous","colourous"],["colorphobia","colourphobia"],["colorpoint","colourpoint"],["colorpoints","colourpoints"],["colorpuncture","colourpuncture"],["colors","colours"],["colorspace","colourspace"],["colortype","colourtype"],["colorway","colourway"],["colorways","colourways"],["colorwise","colourwise"],["colorwork","colourwork"],["colter","coulter"],["colters","coulters"],["concolorous","concolourous"],["dark-colored","dark-coloured"],["decolor","decolour"],["decoloration","decolouration"],["decolorations","decolourations"],["decolored","decoloured"],["decoloring","decolouring"],["decolorisation","decolourisation"],["decolorisations","decolourisations"],["decolorise","decolourise"],["decolorised","decolourised"],["decoloriser","decolouriser"],["decolorises","decolourises"],["decolorising","decolourising"],["decolorization","decolourization"],["decolorize","decolourize"],["decolorized","decolourized"],["decolorizer","decolourizer"],["decolors","decolours"],["demeanor","demeanour"],["demeanors","demeanours"],["discolor","discolour"],["discoloration","discolouration"],["discolorations","discolourations"],["discolored","discoloured"],["discolorer","discolourer"],["discoloring","discolouring"],["discolorings","discolourings"],["discolorisation","discolourisation"],["discolorise","discolourise"],["discolorization","discolourization"],["discolorment","discolourment"],["discolorous","discolourous"],["discolors","discolours"],["disfavor","disfavour"],["dishonor","dishonour"],["dishonorable","dishonourable"],["dishonorably","dishonourably"],["dishonored","dishonoured"],["dishonoring","dishonouring"],["dishonors","dishonours"],["dolor","dolour"],["dolors","dolours"],["dun-colored","dun-coloured"],["dusky-colored","dusky-coloured"],["dustcolored","dustcoloured"],["enamor","enamour"],["enamored","enamoured"],["enamoring","enamouring"],["enamors","enamours"],["endeavor","endeavour"],["endeavored","endeavoured"],["endeavoring","endeavouring"],["endeavors","endeavours"],["favor","favour"],["favorable","favourable"],["favorably","favourably"],["favored","favoured"],["favoring","favouring"],["favorite","favourite"],["favorited","favourited"],["favorites","favourites"],["favoriting","favouriting"],["favoritism","favouritism"],["favors","favours"],["fawn-colored","fawn-coloured"],["fawncolored","fawncoloured"],["fervor","fervour"],["fervors","fervours"],["flame-colored","flame-coloured"],["flavor","flavour"],["flavored","flavoured"],["flavoring","flavouring"],["flavorings","flavourings"],["flavorless","flavourless"],["flavors","flavours"],["flavorsome","flavoursome"],["flesh-colored","flesh-coloured"],["fleshcolored","fleshcoloured"],["forecolor","forecolour"],["forecolors","forecolours"],["garnet-colored","garnet-coloured"],["glamor","glamour"],["gold-colored","gold-coloured"],["handcolor","handcolour"],["harbor","harbour"],["harbored","harboured"],["harboring","harbouring"],["harbors","harbours"],["honey-colored","honey-coloured"],["honor","honour"],["honorable","honourable"],["honorably","honourably"],["honored","honoured"],["honoring","honouring"],["honors","honours"],["humor","humour"],["humored","humoured"],["humoring","humouring"],["humorless","humourless"],["humors","humours"],["labor","labour"],["labored","laboured"],["laborer","labourer"],["laborers","labourers"],["laboring","labouring"],["labors","labours"],["lead-colored","lead-coloured"],["metal-colored","metal-coloured"],["metallic-colored","metallic-coloured"],["misbehavior","misbehaviour"],["misbehaviors","misbehaviours"],["miscolor","miscolour"],["miscoloration","miscolouration"],["miscolored","miscoloured"],["miscoloring","miscolouring"],["miscolors","miscolours"],["misdemeanor","misdemeanour"],["misdemeanors","misdemeanours"],["mold","mould"],["molded","moulded"],["molder","moulder"],["moldered","mouldered"],["moldering","mouldering"],["molders","moulders"],["moldier","mouldier"],["moldiest","mouldiest"],["molding","moulding"],["moldings","mouldings"],["molds","moulds"],["moldy","mouldy"],["molt","moult"],["molted","moulted"],["molting","moulting"],["molts","moults"],["monocolored","monocoloured"],["multi-color","multi-colour"],["multi-colored","multi-coloured"],["multicolor","multicolour"],["multicolored","multicoloured"],["multicolors","multicolours"],["neighbor","neighbour"],["neighborhood","neighbourhood"],["neighborhoods","neighbourhoods"],["neighboring","neighbouring"],["neighborliness","neighbourliness"],["neighborly","neighbourly"],["neighbors","neighbours"],["neutral-colored","neutral-coloured"],["odor","odour"],["odorless","odourless"],["odors","odours"],["off-color","off-colour"],["olive-colored","olive-coloured"],["orange-colored","orange-coloured"],["overcolor","overcolour"],["overcolored","overcoloured"],["parlor","parlour"],["parlormaid","parlourmaid"],["parlormaids","parlourmaids"],["parlors","parlours"],["particolored","particoloured"],["peachy-colored","peachy-coloured"],["pseudocolor","pseudocolour"],["pseudocolored","pseudocoloured"],["pseudocoloring","pseudocolouring"],["pseudocolors","pseudocolours"],["rancor","rancour"],["recolor","recolour"],["recolorable","recolourable"],["recoloration","recolouration"],["recolorations","recolourations"],["recolored","recoloured"],["recolorin\'","recolourin\'"],["recoloring","recolouring"],["recolors","recolours"],["remold","remould"],["remolded","remoulded"],["remolding","remoulding"],["remolds","remoulds"],["rigor","rigour"],["rigors","rigours"],["rose-colored","rose-coloured"],["rumor","rumour"],["rumored","rumoured"],["rumoring","rumouring"],["rumormonger","rumourmonger"],["rumormongers","rumourmongers"],["rumors","rumours"],["savior","saviour"],["saviors","saviours"],["savor","savour"],["savored","savoured"],["savories","savouries"],["savoring","savouring"],["savors","savours"],["savory","savoury"],["self-colored","self-coloured"],["smolder","smoulder"],["smoldered","smouldered"],["smoldering","smouldering"],["smolders","smoulders"],["snuff-color","snuff-colour"],["solid-colored","solid-coloured"],["splendor","splendour"],["splendors","splendours"],["straw-colored","straw-coloured"],["succor","succour"],["succored","succoured"],["succoring","succouring"],["succors","succours"],["tawny-colored","tawny-coloured"],["technicolor","technicolour"],["technicolored","technicoloured"],["topcolor","topcolour"],["tricolor","tricolour"],["tricolored","tricoloured"],["tricolorous","tricolourous"],["tricolors","tricolours"],["tumor","tumour"],["tumors","tumours"],["uncolorable","uncolourable"],["uncolored","uncoloured"],["uncolorful","uncolourful"],["unfavorable","unfavourable"],["unfavorably","unfavourably"],["unicolor","unicolour"],["unicolorous","unicolourous"],["unsavory","unsavoury"],["valor","valour"],["vapor","vapour"],["vapored","vapoured"],["vaporing","vapouring"],["vapors","vapours"],["varicolored","varicoloured"],["versicolored","versicoloured"],["vigor","vigour"],["violet-colored","violet-coloured"],["water-color","water-colour"],["watercolor","watercolour"],["watercolored","watercoloured"],["watercolorist","watercolourist"],["watercolorists","watercolourists"],["watercolors","watercolours"],["wine-colored","wine-coloured"],["accouterment","accoutrement"],["accouterments","accoutrements"],["amphitheater","amphitheatre"],["amphitheaters","amphitheatres"],["caliber","calibre"],["calibers","calibres"],["center","centre"],["centerboard","centreboard"],["centerfold","centrefold"],["centerfolds","centrefolds"],["centerpiece","centrepiece"],["centerpieces","centrepieces"],["centers","centres"],["centiliter","centilitre"],["centiliters","centilitres"],["centimeter","centimetre"],["centimeters","centimetres"],["epicenter","epicentre"],["epicenters","epicentres"],["fiber","fibre"],["fiberglass","fibreglass"],["fibers","fibres"],["goiter","goitre"],["goiters","goitres"],["kilometer","kilometre"],["kilometers","kilometres"],["lackluster","lacklustre"],["liter","litre"],["liters","litres"],["louver","louvre"],["louvers","louvres"],["luster","lustre"],["lusters","lustres"],["meager","meagre"],["metacenter","metacentre"],["metacenters","metacentres"],["micrometer","micrometre"],["micrometers","micrometres"],["milliliter","millilitre"],["milliliters","millilitres"],["millimeter","millimetre"],["millimeters","millimetres"],["miter","mitre"],["miters","mitres"],["niter","nitre"],["philter","philtre"],["philters","philtres"],["reconnoiter","reconnoitre"],["reconnoiters","reconnoitres"],["saber","sabre"],["sabers","sabres"],["saltpeter","saltpetre"],["scepter","sceptre"],["scepters","sceptres"],["sepulcher","sepulchre"],["sepulchers","sepulchres"],["somber","sombre"],["specter","spectre"],["specters","spectres"],["theater","theatre"],["theatergoer","theatregoer"],["theatergoers","theatregoers"],["theaters","theatres"],["ameba","amoeba"],["anemia","anaemia"],["anemias","anaemias"],["anemic","anaemic"],["anesthesia","anaesthesia"],["anesthesias","anaesthesias"],["anesthetic","anaesthetic"],["anesthetics","anaesthetics"],["anesthetist","anaesthetist"],["anesthetists","anaesthetists"],["anesthetize","anaesthetize"],["anesthetized","anaesthetized"],["anesthetizes","anaesthetizes"],["anesthetizing","anaesthetizing"],["archeological","archaeological"],["archeologically","archaeologically"],["archeologist","archaeologist"],["archeologists","archaeologists"],["archeology","archaeology"],["bougainvillea","bougainvillaea"],["bougainvilleas","bougainvillaeas"],["cesium","caesium"],["chimera","chimaera"],["chimeras","chimaeras"],["cyclopedia","cyclopaedia"],["diarrhea","diarrhoea"],["diarrheas","diarrhoeas"],["fecal","faecal"],["feces","faeces"],["gonorrhea","gonorrhoea"],["gonorrheas","gonorrhoeas"],["gynecological","gynaecological"],["gynecologies","gynaecologies"],["gynecologist","gynaecologist"],["gynecologists","gynaecologists"],["gynecology","gynaecology"],["hematein","haematein"],["hemateins","haemateins"],["hematological","haematological"],["hematologist","haematologist"],["hematologists","haematologists"],["hematology","haematology"],["hemoglobin","haemoglobin"],["hemoglobins","haemoglobins"],["hemophilia","haemophilia"],["hemophiliac","haemophiliac"],["hemophiliacs","haemophiliacs"],["hemorrhage","haemorrhage"],["hemorrhaged","haemorrhaged"],["hemorrhages","haemorrhages"],["hemorrhaging","haemorrhaging"],["hemorrhoid","haemorrhoid"],["hemorrhoids","haemorrhoids"],["homeopath","homoeopath"],["homeopathic","homoeopathic"],["homeopaths","homoeopaths"],["homeopathy","homoeopathy"],["leukemia","leukaemia"],["leukemias","leukaemias"],["menorrhea","menorrhoea"],["orthopedic","orthopaedic"],["orthopedics","orthopaedics"],["paleobotany","palaeobotany"],["paleocene","palaeocene"],["paleoclimatology","palaeoclimatology"],["paleogeography","palaeogeography"],["paleographies","palaeographies"],["paleography","palaeography"],["paleolithic","palaeolithic"],["paleomagnetism","palaeomagnetism"],["paleontologist","palaeontologist"],["paleontologists","palaeontologists"],["paleontology","palaeontology"],["paleozoic","palaeozoic"],["pederast","paederast"],["pederasts","paederasts"],["pediatrician","paediatrician"],["pediatricians","paediatricians"],["pediatrics","paediatrics"],["pedophile","paedophile"],["pedophiles","paedophiles"],["pedophilia","paedophilia"],["pharmacopeia","pharmacopoeia"],["pharmacopeias","pharmacopoeias"],["presidium","praesidium"],["presidiums","praesidiums"],["primeval","primaeval"],["toxemia","toxaemia"],["toxemias","toxaemias"],["defense","defence"],["defenseless","defenceless"],["defenses","defences"],["offense","offence"],["offenses","offences"],["pretense","pretence"],["pretenses","pretences"],["vise","vice"],["vises","vices"],["abridgment","abridgement"],["abridgments","abridgements"],["acknowledgment","acknowledgement"],["acknowledgments","acknowledgements"],["aerogram","aerogramme"],["aerograms","aerogrammes"],["afterward","afterwards"],["aging","ageing"],["agings","ageings"],["airplane","aeroplane"],["airplanes","aeroplanes"],["almanac","almanack"],["almanacs","almanacks"],["aluminum","aluminium"],["ambiance","ambience"],["ambiances","ambiences"],["analog","analogue"],["analogs","analogues"],["annex","annexe"],["apothegm","apophthegm"],["apothegms","apophthegms"],["appall","appal"],["appalls","appals"],["arbores","arbours"],["archiepiscopal","archepiscopal"],["artifact","artefact"],["artifacts","artefacts"],["ax","axe"],["backward","backwards"],["balk","baulk"],["balked","baulked"],["balking","baulking"],["balks","baulks"],["banister","bannister"],["banisters","bannisters"],["battleax","battleaxe"],["behoove","behove"],["behooved","behoved"],["behooves","behoves"],["behooving","behoving"],["bevies","bevvies"],["bevy","bevvy"],["carburetor","carburettor"],["carburetors","carburettors"],["catalog","catalogue"],["cataloged","catalogued"],["cataloging","cataloguing"],["catalogs","catalogues"],["centered","centred"],["centering","centring"],["centerings","centrings"],["checkbook","chequebook"],["checkbooks","chequebooks"],["cipher","cypher"],["ciphers","cyphers"],["clarinetist","clarinettist"],["clarinetists","clarinettists"],["collectible","collectable"],["collectibles","collectables"],["colonnaded","collonaded"],["conjuror","conjurer"],["cozied","cosied"],["cozier","cosier"],["cozies","cosies"],["coziest","cosiest"],["cozily","cosily"],["coziness","cosiness"],["cozy","cosy"],["cozying","cosying"],["dialog","dialogue"],["dialogs","dialogues"],["distill","distil"],["distills","distils"],["donut","doughnut"],["donuts","doughnuts"],["doodad","doodah"],["doodads","doodahs"],["edema","oedema"],["edemata","oedemata"],["enology","oenology"],["enroll","enrol"],["enrolls","enrols"],["ensorcell","ensorcel"],["ensorcelled","ensorceled"],["ensorcelling","ensorceling"],["ensorcells","ensorcels"],["enthrall","enthral"],["enthralls","enthrals"],["eon","aeon"],["eons","aeons"],["epaulet","epaulette"],["epaulets","epaulettes"],["epilog","epilogue"],["epilogs","epilogues"],["esophageal","oesophagal"],["esophagoscope","oesophagoscope"],["esophagus","oesophagus"],["estrous","oestrous"],["etiology","aetiology"],["flutist","flautist"],["flutists","flautists"],["fulfill","fulfil"],["fulfillment","fulfilment"],["fulfills","fulfils"],["furor","furore"],["furors","furores"],["galoshes","goloshes"],["gantlet","gauntlet"],["gantlets","gauntlets"],["gluing","glueing"],["gray","grey"],["grayed","greyed"],["grayer","greyer"],["grayest","greyest"],["graying","greying"],["grayish","greyish"],["grayness","greyness"],["grays","greys"],["griffin","gryphon"],["griffins","gryphons"],["gypsies","gipsies"],["gypsy","gipsy"],["hauler","haulier"],["haulers","hauliers"],["impanel","empanel"],["impaneled","empanelled"],["impaneling","empanelling"],["impanels","empanels"],["inflection","inflexion"],["inflections","inflexions"],["installment","instalment"],["installments","instalments"],["instill","instil"],["instills","instils"],["jewelry","jewellery"],["kidnaped","kidnapped"],["leaped","leapt"],["licorice","liquorice"],["licorices","liquorices"],["likable","likeable"],["louvered","louvred"],["lustered","lustred"],["lustering","lustring"],["maneuver","manoeuvre"],["maneuverability","manoeuvrability"],["maneuverable","manoeuvrable"],["maneuvered","manoeuvred"],["maneuvering","manoeuvring"],["maneuverings","manoeuvrings"],["maneuvers","manoeuvres"],["meagerest","meagrest"],["mementos","mementoes"],["minibusses","minibuses"],["misspelled","misspelt"],["mitered","mitred"],["mitering","mitring"],["mollusk","mollusc"],["mollusks","molluscs"],["monolog","monologue"],["monologs","monologues"],["mustache","moustache"],["mustached","moustached"],["mustaches","moustaches"],["mustachioed","moustachioed"],["naught","nought"],["omelet","omelette"],["omelets","omelettes"],["outmaneuver","outmanoeuvre"],["outmaneuvered","outmanoeuvred"],["outmaneuvering","outmanoeuvring"],["outmaneuvers","outmanoeuvres"],["pajama","pyjama"],["pajamas","pyjamas"],["philtered","philtred"],["philtering","philtring"],["phony","phoney"],["plow","plough"],["plowboy","ploughboy"],["plowboys","ploughboys"],["plowed","ploughed"],["plower","plougher"],["plowers","ploughers"],["plowgirl","ploughgirl"],["plowgirls","ploughgirls"],["plowing","ploughing"],["plowings","ploughings"],["plowland","ploughland"],["plowlands","ploughlands"],["plowman","ploughman"],["plowmen","ploughmen"],["plows","ploughs"],["plowshare","ploughshare"],["plowshares","ploughshares"],["plowwoman","ploughwoman"],["plowwomen","ploughwomen"],["plowwright","ploughwright"],["plowwrights","ploughwrights"],["polyethylene","polyethene"],["pouf","pouffe"],["poufs","pouffes"],["practiced","practised"],["practicing","practising"],["prolog","prologue"],["prologs","prologues"],["quire","choir"],["quired","choired"],["quires","choirs"],["quiring","choiring"],["reconnoitered","reconnoitred"],["reconnoitering","reconnoitring"],["reconnoiterings","reconnoitrings"],["retroflection","retroflexion"],["retroflections","retroflexions"],["sanitizer","sanitiser"],["sanitizers","sanitisers"],["sceptered","sceptred"],["sceptering","sceptring"],["selvage","selvedge"],["selvages","selvedges"],["sepulchered","sepulchred"],["sepulchering","sepulchring"],["sheik","sheikh"],["sheiks","sheikhs"],["skeptic","sceptic"],["skeptical","sceptical"],["skeptically","sceptically"],["skepticism","scepticism"],["skepticisms","scepticisms"],["skepticist","scepticist"],["skepticists","scepticists"],["skeptics","sceptics"],["skillful","skilful"],["sled","sledge"],["sledded","sledged"],["sledding","sledging"],["sleddings","sledgings"],["sleds","sledges"],["snowplow","snowplough"],["snowplowed","snowploughed"],["snowplowing","snowploughing"],["snowplows","snowploughs"],["somberer","sombrer"],["somberest","sombrest"],["specialties","specialities"],["specialty","speciality"],["spelled","spelt"],["spilled","spilt"],["tableting","tabletting"],["transshipment","transhipment"],["travelog","travelogue"],["travelogs","travelogues"],["worshiped","worshipped"],["worshiping","worshipping"],["yogurt","yoghurt"],["yogurts","yoghurts"]]}')},56013:e=>{e.exports=JSON.parse("[3797255325,3152668645,3474690887,1093386216,1055978197,981119102,1012895067,370095044,3057534675,3945464942,1294076740,2831420656,1627541080,2743881436,1984134083,3427294899,3424738308,2807400837,9564316,2878048700,2537164870,1941488088,3487153937,460837437,39930393,316768608,666057312,4117207704,3690310762,3718845803,2278799750,3470386955,3055937425,4033479615,2832673753,212492919,3981234756,2305060992,4227262176,4120545051,1049152160,294667362,2081971093,3102255997,3290041152,2193909666,3726139035,390032266,767709924,3916102915,1052375118,3499543247,292925815,1695553805,3604929813,2438996414,2541438498,312416082,923039859,1321890305,4062327915,3200638611,126162117,3582001667,2342469943,3917225842,1062716709,1158959214,176640750,979037137,1359955862,2389355877,3751400435,2123133869,3173699887,1295171216,1459438041,3332625350,4253356137,274086900,4040367928,929605787,2162534271,3182510613,1447947398,4116456060,883580320,4042783221,2443239614,2197295564,803073329,3052358768,1981649369,1530665065,1224729428,1761569052,2413609613,1429852220,703268455,4253523344,388636391,3146218970,1303513835,3848336808,411836761,2335704523,3634000063,928659214,3383487279,4188972756,15935476,885320550,316199631,2109922083,3133012900,2066092243,3504034459,1206629722,3678765742,1395483777,966064054,4280237008,2135199464,3074980130,1183043064,2849688777,3476108287,477883011,4193616490,55986717,3514591461,2596072392,2653485606,911872027,4265065599,2977310897,513329408,3761396241,2550148107,223183002,635894679,3074170841,621708025,2692559376,3657174927,3832701908,2262312001,2401438801,234545642,163742384,580245955,1864287325,724252727,1503399745,3443415957,1612432565,2858898005,1010716128,1036264406,1002726732,502395933,4140049916,2399630359,113615976,2567880991,2395279185,1618510348,2261583838,2668201830,2689787185,274741178,179218763,2271154071,2956397599,1792832215,4068399903,1003654668,3958967620,1711459788,1783015331,1520642710,2628004305,2951329807,781317913,2952912258,4020738849,337206988,2902750835,2889589355,1470025386,1280789460,1802218416,3794414517,2528760805,297460106,1694330657,1085454568,3026124108,529209924,2823793789,3175085732,2942756677,4247012848,333909080,3596264620,441296706,829893807,3396095750,3088613177,548904259,4149415853,2383487549,2671965078,327687360,4050230544,1241995236,194831395,2873595493,1379989964,1055318645,1089186219,1852263428,971354605,3036956808,3470312382,3263855105,244328195,2651513114,664863151,1162681863,3543438283,1154233681,1688343770,2915742300,2887280722,3020187674,3576637303,4025477043,171463728,3773406539,3412954891,2026572788,4017009276,1920228911,698803660,2072792583,537947897,789786548,445575012,2409228664,1409682357,3582891332,1217357123,3978987079,803864637,3130735062,193600209,290240093,3807890499,2220596399,2438622901,2947438513,3981191574,869181904,3251153140,2605907176,2117652075,1701271270,4099578981,931669276,3000295926,784968234,541133332,4119516419,1841945601,1179207497,2872024942,489060293,1992810244,2125374192,3613016682,445797081,273409753,3720436226,2473983290,3168662451,284963996,1156855932,978946729,3839558138,3869672445,3287772583,232538530,525649347,4008911279,4276162256,1101610242,3047445074,2799542561,3722563634,411188115,2782937685,854453602,3274390153,3269216666,3480235985,1878764662,2590541929,2018885421,2575572719,3926263524,2237834992,1737705643,2315290875,2644012652,595255991,1826870024,400885517,1112070987,3856104292,1646950412,1382337722,637018763,1918259916,2393304258,1365272295,2387881098,3880730695,3078794381,2173557089,342783920,2333173496,885741419,1228189913,4023377482,21441916,1140064072,506050799,4249382628,354018158,2837786968,3085843406,2103533990,744216808,3017331067,3637422660,318907780,2192603205,1572068789,3407116705,2291791816,800039977,1286706523,1760774106,338056270,41941065,2101210155,1008139568,2095798252,2936777017,3487318321,1444935948,510021514,4281022031,365560695,3266677434,253139363,4025728819,1878044919,2729726579,760088352,2721457429,2179814301,2002371603,1121403155,657499627,607704181,1353772592,1331938742,4239680605,4208037837,2257417012,2243070016,1540886162,586514187,2536231578,926153077,1361738099,2155132932,1555430804,109329680,107065739,479740255,625213560,4245668216,2103672938,2232139005,3068187636,3744734838,132372203,3113813546,3507121770,4229679562,1232625137,4180907570,1048803738,2983050172,2556150790,3619634940,1246254861,1503682296,4085890868,1143937703,3808287138,64490779,202577226,935028059,3697007164,287810705,178896412,146989452,3141067771,30950182,281501034,2118075539,620055224,3597798738,1422222555,3671254747,1428560099,3402546507,1803576667,1120205913,4200689428,3075306284,1831170331,610414191,907842199,3453601370,185909410,731483324,938451904,1667501254,2476011525,41406317,2676266992,3270027992,2088307889,206774478,3838891603,3725398112,1205416899,797309671,1814660624,2819953962,4115405168,1146493726,1290382054,766599942,533276653,547348717,2088787044,1007061614,1539201084,4091974634,3072848823,1428507079,345797998,669835120,2761437471,3904185107,3841061340,2894285537,1417755832,817063255,938294067,2050989727,3989181361,1774350908,2011523616,380495883,842377246,2635596765,3092358667,958183765,1700145645,42106693,1917793036,986908683,935320209,3815213066,2162064843,3968266892,188629542,3787650193,3222540516,1692757228,4081873041,970734029,760575890,3969809845,2171669718,3518874688,1685857806,135120208,3971762523,2020744817,1541830330,4054327852,3009758924,657522898,4051796323,363301592,3363054597,2334469003,2656148382,733428495,3321288877,2656981942,2641851147,3902332406,2750282491,825744486,1031831933,2107547513,256312223,3890758564,1618146353,4139508150,1931266818,2113315059,1757773281,2898109936,1094002936,2678925708,4128487188,3791130163,2885546638,3395211669,4137389033,2167405899,3127082596,1472817862,2383644170,2526441551,3042773524,4081355726,4200425912,102121113,3760032038,2099444410,2270189653,755491402,2108008624,4264803659,2873720096,2502229880,3406254773,1651796161,2869384281,645260132,958575520,4026350442,1070535489,827933739,2524808062,4177715500,1042868330,1668434862,3270469138,3965540028,1697864044,1402804585,4076331907,3893613819,566832820,287598211,16091236,3141776415,286829124,265589463,4154177734,424604888,709159612,3565296865,2616770475,3907536381,3803030558,409027839,3807777435,3530069674,3790647455,4158884404,3523976836,1289747709,3503758335,2936439471,3119950020,3107732952,3885665705,152197341,4158889181,399948787,2088386065,1848338492,2225216248,3563476403,710652203,2901243848,4223281172,4249091003,1731656694,2736701311,4135866480,2039355292,4047911164,4256334271,1378785897,2595720754,1816324545,32826190,3509428593,2294056077,608170134,1275344900,321465883,897825319,656481525,2590245613,2537527630,3904083216,1659042167,604408573,3037355736,4233148143,2540635218,2577110999,4291475407,159599156,3106475451,2216465411,1416072308,672532601,2042309501,1746056787,4189368935,643659694,2534935605,2534558411,4084074302,1717758654,3790616383,2734312260,2346031146,3471871211,373944866,1158579612,2023073495,2282502375,3361443542,477228841,1091526300,2382180608,3041115262,36204344,323522898,153542894,209303558,2232555854,3509113876,4017826442,589414987,1949611600,2801454544,1304890083,1930087357,2987321838,580325804,1625015166,1913952019,1912579607,136672526,3960352224,1348251553,3320423260,4152570643,1445110682,3860545018,1787714590,12822399,3162236618,184100,3457295613,2317329864,1288281376,32252652,465032798,3047197163,757886242,3351493681,2695178599,1418888530,1850085847,820675822,1267248278,1731604627,3355508084,1575847246,3566344577,4102589681,3877511170,254417483,2439618332,3413548914,3274662484,1801549535,3214399441,858935096,3157868959,3350084643,2085083372,628478593,313448827,2002119801,3333918227,1800501132,3775459450,4210732144,3439254026,939461977,2089420235,1086761738,209328941,797074428,3855176195,1688303231,985182675,730729732,752773611,2743229083,1835320278,471737970,2225827787,3690648340,3693771302,1756493343,1875131910,3349803682,1283511809,1558388194,803489451,3734315869,2514241435,808396990,325345170,1276518640,1088478366,3751121771,2574902716,192439056,194522054,2188100186,3480198208,1550846888,3951932830,2622152842,3696144311,1883983610,557348163,595598955,3533132652,3482807750,352137800,1221732703,2850222938,2167100386,477478045,1311791987,555010964,777659431,2839402762,1192636547,1865426448,1614984231,3074875360,2266257427,3063827382,1453986466,998606162,8529876,2126445764,626957027,3273960284,503402708,2817650053,666877688,900462820,509781247,4219296543,2428897226,3679733239,1174086075,3341547257,2392482305,3972454337,857834033,1037395887,3814903590,3543151235,2964726546,1822035179,974815505,1733672218,2202710500,2953535288,2996367523,1023417891,874649054,4220706770,1738693831,3342570746,1729352233,3208729852,860180450,2462059612,3209431976,3694096241,2121225484,1478274921,2393784842,389457593,41488551,2630121077,3884366774,3391327652,370809918,2860012861,4049292833,3367949987,3822757019,2973380736,4254541824,3987097411,4250187376,1406100325,291699084,126202073,1367578447,3327840391,395631210,86839224,2306421510,3544840842,2484652196,777755860,1261619249,294647961,3132950399,2475964036,2786266642,1075993906,138371201,283988537,880867054,2842887625,4140594170,1678314228,2323713909,3104424649,4203019203,1149792573,2587495148,3156361149,1975139543,2193250236,1869089698,2439513170,2305703322,1293325507,424520867,1081713790,927888005,2482090079,3002547907,2442402030,3830060465,4019898213,1936562566,2424323625,2666599066,1157423000,2228552652,620632178,4063101197,1951889225,2262476033,898521793,3732539952,1405461688,3679311760,3377634757,582618473,3648814040,756409471,1285368731,499017801,647159802,1060243387,3002975206,795490679,3368399046,2940276386,1556421109,4157274554,3077705770,2328577675,1118645048,2887723613,1497585689,883074018,3801483679,2682831463,2417637908,3966191370,3690873150,1828022979,3633527250,2348390181,846883213,2399681530,3806261461,1140800258,1289003196,1329348025,2920417920,3364762802,3241239290,117159591,1472003817,1716210717,3239494638,4206103255,1068115821,1505216910,1423892667,2322762619,2369402833,1086187763,364109012,2191912736,2897326272,66106468,3627601237,1794854514,2016952106,940598064,893349050,1952712383,3701031001,255051593,2541459792,1871052064,1600724510,1346443472,475801522,2768842341,1144743685,1370542498,1862628992,802618832,2565121382,1635256641,1055801965,1215093169,1988451037,3020652471,2679188052,3410122384,4157595023,2645368709,3949271818,69720664,879210837,547696704,3384732221,828017545,3736292860,665432216,238475099,518669339,3442975128,3546030589,2980746120,2986184170,3419010657,2185979565,1918181200,1555130750,3364334789,2559581399,1055007015,2765861560,672508506,2266334670,2747065785,1859951135,3436753105,3994827447,719715326,3560680499,2467040899,3554176332,2132852793,1120859738,3737642709,3451908096,3905316918,1508588960,3537483703,321703250,1519994160,3558481755,2641035711,1376621918,1659110710,478071415,1176268988,1435213423,1443873372,4184494193,707624574,2441643977,98344259,118316246,494560044,6596585,2775644066,117991275,3499801551,1421699234,2921229990,170767476,3289290512,2330346824,2125822178,1784872064,1952100744,3254231469,3227639491,3937097738,4271154601,3667798723,454888690,934270728,575528871,4044181334,3686920649,2667312783,4103895883,364442065,406486219,776285025,1057878131,2409300552,3710307432,3049092706,3345870762,497788718,3752951755,635436754,3682566906,2123181277,3345682834,2756732182,2564046858,2434754005,3013421603,1745752677,2046671017,769850494,917666103,237149514,3647950770,3910483289,3473377934,3690661460,746551277,2105390450,136600943,3765545574,337745159,3424256116,1259294817,3118822367,2328399835,3197013168,1013646438,2878705156,2096894029,664454087,2948469240,2190800410,3990132721,1295908898,3530581954,273583488,851366692,1823093032,1172784604,3376083113,3978415239,2788722095,333362690,2244678072,931289375,847865791,1991371443,2928724140,932711700,2361177922,3375552552,3564103465,2229550330,4255802075,3444098728,4014367267,246506004,2839455709,153947829,1185751864,2328415207,87029897,945769461,80872241,3759223132,1892101599,4215434566,969687426,2248878429,709091053,1912713477,146872839,1958227085,1570633188,4228219817,61429996,1772769856,2154882417,4202080996,3199197104,619467214,26201572,262295807,321915641,3408914162,3615859417,489567130,2549422113,1990364267,2557063375,2103341039,2910224385,2482275245,3967210214,1602057088,327703478,1839742007,2858145637,1249252017,2163237223,271000408,913783772,3424943342,2628115973,420185902,2740395707,2397572967,600509671,2948904861,1008016168,1157854173,695097190,4180415898,1808184906,2788628594,3400150762,2562328638,604842423,147218487,2044678546,253658330,1579531945,800943348,3528463168,1209972732,1802075036,2640520450,4041958207,2365714625,1510430311,2012553748,2416873059,1288236424,2716373202,3135804517,2675815074,1149858160,2308130801,2665806047,375130404,194764566,465750944,3280413991,3517963611,84829329,3636204900,1249670659,1304918612,1970657921,3392504846,1278096110,2526804747,1449686295,39621510,1814762196,802343099,23198706,3153163056,1970361255,3133507870,3285070131,1361322020,2361677912,151244347,1498139030,3276813430,281461452,418321881,1436191855,641939935,4113923384,3357989853,1950427907,2148347328,3683611053,2268906953,418860807,543548814,4215963633,4130132508,1994794781,196777875,3230779557,2630742207,4070889000,3854295558,3240006528,1076963494,2031721742,1111367930,3924523228,232560641,3350209535,1539189483,441953659,2816194630,1140749209,1688595038,2319817082,907484070,2678395534,1016204944,2893338818,3562260398,52661832,2551384137,1181967289,4266719685,2975903108,4260606994,2483556325,660440585,1645723230,2826928054,3183341090,275550588,130779779,3498282761,467740129,3267606463,1949893210,2717607625,3688965656,1942074264,1282422039,502377803,733672711,2621859981,3747020969,2445108453,2053152047,1649208355,723081259,2284065381,1617938044,2276734891,488304293,476013115,2214862486,56797841,3597650438,250755358,2197119133,1408635818,448479256,44552904,2125794314,598536333,2741029523,1372234641,2934704213,3186494784,3157860903,2399497911,291129946,3009308819,1420012991,3551222599,503737684,1176655332,1230475630,1267381608,3374161639,3599358102,2828722406,314501722,2265507900,167471897,3293927274,2853915851,2462690028,711357401,3383014218,3820377735,1430666208,1913117929,807700067,4179248889,1342348909,2042834474,328387752,378040427,2627001352,2149525429,533556949,3156321083,2292415119,2362506939,2683776499,2334303426,3570415676,2827278979,892005029,885657743,1593633755,1121969559,3135207436,854529925,1638165925,1938304710,626533659,1860368344,152039135,546420020,48974456,3314450735,2122697721,586204449,1318687020,2529767090,3128554086,2454038342,2493777658,3717016113,3572899600,863252177,3477554654,3530908540,3460013753,1321584062,145801817,3850914146,1466914992,1520936830,2234667248,328662021,402237843,3082869378,294364892,4078202041,431432452,4078710422,1547565829,3648407124,3135370847,2281265108,1923026207,2617875930,2370778974,694734765,1423294197,1192236788,3406877415,1776309462,1457235995,2795031302,1930622254,3937256304,1313059348,491630542,2215472522,2936335059,1818800462,3431749332,2697479883,4085583757,4195706896,2604812414,337745490,1198337410,2303983957,827706765,396424550,2172930396,3435186646,4276177847,2021353481,85788582,2493647419,2611197324,480585449,2086469022,2416177315,627347060,2279062160,2958790624,2689331808,4160560286,2544502623,410708335,715141218,3118448174,3633995702,855973324,1762857389,2887232377,774270392,1896290227,2156048608,1893962277,2795397943,3349777666,2555888821,3402301762,4106079314,2126979612,2484150522,927830816,3380641012,603332501,2834234833,367435653,993835023,1321389575,2248850443,1051561901,2365585390,1861333755,1505920635,2576255141,3571474939,38393298,2972732730,3946447723,279906111,293666606,1580308516,2799752467,957474976,1367784061,3369039287,2489497941,658415673,1603158974,1953649993,859186881,3407036755,4198255849,646731020,4269483732,3652352408,2526585379,3433525545,249685604,720505374,585457316,2378998553,2996193921,4011578837,1987566096,489362299,194870055,2608498673,209892918,4129132231,882070507,3249083780,2448373207,1180526072,3360134897,657327653,907924937,1580580353,2889307995,3096839679,1483983615,1594147200,1396916586,3252847822,2327743142,3625363657,1955233906,1240730764,393374542,2885336359,838636606,3107724918,2742680384,2255869514,139351306,1489901218,2350726700,2566842023,1024316697,3498041969,421426907,1149221069,531393511,1349861260,2381492278,2201613989,1524871107,60238497,2916719706,1799667284,2262689079,4063191864,3490073873,408008442,4219635263,3228297367,100528479,781631713,3606447324,2928198823,1398349224,161737780,3272894016,829238282,1805042016,226564466,2226012153,2143255540,456685136,4265071372,3684096335,295916775,2375013721,2738139219,1418598582,1150183179,3379311323,3102752497,3034068441,3639347308,1480880203,2253000277,4040385121,4112139884,320730658,1818721441,453743627,1311157497,4125331019,3004036454,3735699042,970469072,756041687,1813551605,1488648337,1352152297,1902457172,1777405935,3848661111,4136307515,3861852912,4009601859,2161710691,715126937,3226781705,3387705314,1568149758,3566495170,1661379474,2710958411,3741313274,3570047438,4122964386,2917361706,742130880,2751192863,803203952,801938081,311927440,3455483740,197464697,2734740797,461360512,1832145673,3844214987,623204895,1003493383,1506283609,567789329,1341492893,3485925667,1772717506,598417985,1475470038,1923814173,386668861,2032285707,558755456,799671392,533110840,2906754984,4097789525,604386597,775692949,3263018761,2963699567,179893171,630950309,823998232,2977460480,2434765307,2305128793,2501731247,2139284400,1602528677,4087228881,2947791512,3162983490,3759338148,2304814708,1728329275,139363405,1141825591,1919336445,3589278037,225946909,193903184,2536512071,3219365526,3805042490,2353691437,3831054056,2572970101,116940628,725801570,3670551352,2394990485,3245150455,338297413,1452094700,3492525112,1418867926,1853621209,2387399843,605780635,2119126302,3818206039,1527991297,4064076829,2413736122,2307068031,3136770534,847739458,2116699622,2472045531,2953479101,1021700657,2623467065,693934018,22621030,1947033840,753203111,4168979053,2371885462,3043269108,1158570263,3767158709,2979982931,187885967,284516652,2030678787,4049686978,3783655052,619662053,2131846323,3246715391,2240077952,1166025389,3135148019,2164164463,1670374560,3377953854,3834253652,2075728513,1008736024,1803079430,3254959724,22923649,3697026839,1586797525,60607954,3231275890,1890591611,214037192,833105280,2435456958,1286584176,644102277,3935350814,2122739406,2450653966,1342829130,2147414540,211485239,3688955339,2516467802,1860163843,1036398496,2349637148,388699486,402914331,1518870844,1251396020,1201830100,1533650442,1760235940,94370852,933051978,3805332930,1128855196,2601585410,9221373,2880893376,4048741243,512836034,2567729295,1763372029,1961545021,815412310,593982967,1636466374,2072269540,2490809788,2770640938,3414311150,2795251698,2923106085,4267702902,42828459,2986929441,3987969569,1897166337,1110785039,3222828302,63609099,536872845,3361039868,750642430,3199434748,3728621625,18666421,644109996,931681211,3354828592,3821910763,2433972774,4095976842,3505410974,141253389,1951925805,3568648931,1037922567,1792665122,370761732,512902114,4210622018,2992582466,1215700819,1511711177,1946144908,3920514346,2126905720,1327490453,3493342622,1741680834,941741326,3059588973,623061963,3567708847,251475613,2798367505,498872989,1181362507,4232742924,1444958470,2510740788,4242673868,1081694168,2752008355,3721037557,2161899092,336306057,2869406900,478503928,1793338372,8766964,1540462870,761438745,2712656480,1119904900,3674368499,215409022,2391474627,4108422123,1003328478,3059860742,2680513214,1404322333,1770801405,990285996,3407444775,2983413946,2903654415,3784171555,3389779285,3373278956,3589563135,262528926,1455681943,3208732197,1962693280,219343259,3640748300,4183585828,1489262305,1661719743,2069129238,3647452946,1799323318,2834180329,2211610562,496318222,1892495783,2451311543,1334720463,1588380862,683138974,1922307047,1948501079,1313383111,3861328877,1798144398,395015443,299860646,1831687166,3225593370,1509023136,443195600,2047637180,2471112542,3858644895,2921361153,3552929881,1327670025,2981880550,2953269465,3769080060,2187985106,554249233,2631946047,1921652643,20176923,2737007656,714620227,2632488343,3025788630,3478896770,3506061689,2076602889,3781976822,3559828663,1237897568,3779719607,1331352216,849808077,3618351940,3436092102,2966507134,560747663,453090833,2709196927,1615949587,1273440645,3463180585,441575417,935509827,1739325941,4054184058,1805021328,3624911362,146797874,849153449,2017031758,3075698925,757259833,184003665,2014183489,3553778288,2765234688,80953012,1057539092,315440403,389360756,1042555241,3888203365,3576577339,3287129630,2877269250,3824596950,1263816072,1471626484,3804992459,2604815476,2506832336,1300037347,649910605,203156106,2576273280,1217702892,3247440929,740490945,3283218130,577210605,2962026632,810991651,3141380739,268016394,3987588604,1591609181,2904425785,939910135,2569341177,419556080,3410580991,3689774668,2160084293,2392649606,3879714198,3046241305,2178175058,2761930061,2876641446,3716506576,2628842309,2560150436,1553456554,1089913779,2893615769,1394204508,3888204099,1365061206,1432273662,1071655194,2545485568,2286927885,3605296464,1672035920,3807771318,1794126534,1124354351,3076399039,2407684722,1325134539,49413864,2174277954,2107432615,609231402,3120158524,2944506144,2985539752,2331269158,4213420766,2208517993,1457371021,2814568064,463340346,1956880975,1613558017,1689359676,231577129,1415754063,805190818,1035892395,3513319618,1145879603,1980783069,3182076228,829149905,923257245,558888802,3524463545,3820449631,2553559632,2213619540,3983913990,616284266,2600694204,3193035742,2677987059,1600759240,1057070411,778251668,1778704986,3527082004,814344529,199731616,2574688217,3274410202,1876190816,1827881137,2474556197,2009737841,1663857886,298839381,3682229473,2142874263,3600356090,2042904213,1599277433,2785033128,127750010,3837611278,2074866869,3820368373,3090898110,3498165853,3237444280,1021981801,2676437014,3765765587,3320045519,3043352361,1328638381,3657383259,2476194850,3561493158,937359549,2757987878,2447325202,1453877955,1514392989,1654296236,2860963045,1917030504,313338161,2173855032,1344375372,3400234350,3226063059,476430463,562356090,3344755574,488042118,3976722626,3231516488,4034697308,3944833673,259005176,1486086323,54754199,1130135334,1367003636,2598641495,1224684615,756788491,2007402027,780497025,3748516929,3564426180,3209854829,1370192199,3634477998,1146435448,1351128294,2835331602,1501014714,3671888108,3381422166,1159097508,3149764006,2336320205,399785503,2565433162,3277967655,1570791727,2535108208,1266099644,2974532462,2455714539,1673119298,3672052820,417207234,3460327540,3477588152,851306465,3194356366,2831272251,2661647503,4138810554,2978071170,753502214,336989460,1095188979,1426676820,148420230,633938959,2846219664,1708302562,630158942,1396237673,3030569636,2435417937,1116633072,543394526,3406490719,265879227,4237190883,25233091,393855606,2246636777,3387223885,3229547208,2024739875,1410651193,2611778533,4277606362,2320896938,2519581731,2473175455,2607051624,3776496454,898026692,628097511,512358353,2352332857,597771502,1162764861,2344648683,2363755035,542888892,3374952356,4121253381,696248724,657861156,4208360971,512370018,1545555377,1485853388,4225655419,3406669998,2791454954,71344495,3212462362,2627470272,693671487,1662605235,935891317,3280370513,1760021914,4096865154,2462927858,3688154238,2374237606,1591646239,632316905,1105364255,3259383565,3648036978,608487088,1642100169,2439230032,1291528340,1666372549,1986819214,4119848170,3746144330,1533559411,2068532325,3001180022,3441537266,3892623884,2624048582,2628305078,1410516324,2861133459,1131770443,2430153099,1530502801,2974182958,2156783873,1880485577,2700929778,1631286981,1387961700,1695121782,3739670607,4144210110,2962442202,886322326,2607810907,876486863,847973683,2006008224,3957851901,1907508413,3317608310,3465485057,1061736362,3704090382,648886259,3539915084,2233862137,888651976,1367784397,355325761,4163154775,3270890182,111491149,1252948958,168403928,1359905298,1929886919,776490858,1804042891,3582428949,265031736,3883019473,335933993,1808493493,2883458670,1853109584,3665956036,1118492636,2228821274,261448062,1725166223,2646892353,3241443769,1684889802,1059410316,2114472329,1952397246,3648103971,3434424062,2989345191,2489087723,1965778889,3165493434,4135799032,3745224961,2934116215,2318011210,3277579526,2357166103,176249805,994534546,1329572396,2327076017,925428314,1982403808,1765735514,1345274763,493995646,4214511564,2191745675,838336467,433305,139976873,2616805799,3524567160,3471077707,704988905,1775032558,1443451431,1629848490,774877782,953793292,2471805997,2511604514,3704644500,281931882,3375951997,814534291,2588708749,1997283415,1451237468,2783047741,585276543,396328605,216968337,1871390768,3654735631,1274895774,4159563116,721176400,1273979096,2365982327,1066344155,2561036826,2518108338,4140691808,829472349,346857958,947910174,3621112605,2440587571,2667134565,2320261025,340590305,2592039604,12800463,3729713643,1459707510,1408712268,1399343476,2108751256,4037045589,2426626654,2499296080,4193039202,742354704,1723237906,3011140697,2358971208,2337761100,2489557817,2505685416,1184353589,1806943650,1862418479,21820578,3111493168,2848574406,504638657,712852516,2175665759,1479032346,2732027985,441754546,3263055514,1244599707,2128117965,2779119466,2387187518,3529625315,2268876598,3240316275,2582395250,732646868,3169884836,2857526684,2501292385,4214106645,2559603980,3143637840,3379956403,387210068,2600748210,1731462823,1709015134,2205618127,2270579734,329939838,2762398656,1653339763,415987414,2841271421,1193158793,3272263180,3138793858,2661799169,3832802112,761062225,2791869890,1441056095,989755613,3539722917,2819796638,395893203,3310113954,2702443811,1466537236,1909075968,3324041272,846699801,1289078389,685584187,1530288692,1535421169,321038423,3135331720,4191685474,250770232,3217316604,615393490,2991993684,614364429,3029973960,1233895449,1012357783,3638076444,1530625887,15411675,1291896889,1853003510,1263501631,2965382961,3625867757,1294363229,1785130176,2000273395,4168265636,403596365,2411976843,2361723201,297890139,1342194230,288111836,4100257538,977467397,160746820,2083147578,4180960687,2441697344,2371480597,1994510979,1810311276,1523064828,2641286676,3191204893,2753270653,3708799891,4241626278,1431016694,1014533722,2649448026,2412687816,172546004,3751811399,2617116199,3895274057,3850994675,4118646822,2030684956,418627519,1783862358,4092389095,3988916357,1503618610,2309040929,2675966680,4005042727,3810260078,1903490611,485941786,3089365577,1601406693,3722667359,2359655734,220928675,1680394894,2190175171,1591171198,3175750335,1144286950,623499625,1411245797,1260316218,1151420456,1864692520,2778335781,3544452052,3027168898,652716576,1325042957,2373882267,1265976489,1782909718,2903460752,3789391566,926118821,3281305373,2626177835,366230157,325905840,956640176,3274590622,2131210847,2517100685,3866982495,1683311508,102703221,93284634,3792333628,2564695794,2762113477,1575534357,1889848093,4193023340,2303457298,2207661250,93034295,3315104889,1519016620,370622147,3727867539,1022253907,1346632829,3429172213,2590553581,1115819599,2142111562,2226136793,3860089910,2341056605,1346868227,3825615540,69059598,1462404947,2799967256,2904993607,2265826637,3956644439,2989750159,2675334755,92433076,4094972285,1483184809,2494001650,2537416719,1297773838,4090883321,3293924354,1636060518,3719309479,1169880190,1526686308,3397393893,4131231056,1529503968,2322281414,926878268,1290572853,3202912040,2574137171,468726749,2331771977,1690585684,1578268039,2916593756,862394963,4059845866,2315357296,860799802,3931869235,412430044,1600684492,192117593,3057715637,3306098754,2275443846,203358683,2085338529,2221457719,3760218476,3399864487,722965478,1211514055,2530873069,824007703,1486073553,4119317619,733947546,1417577864,518501778,4020325173,1839852706,4251469292,2712065190,1212853459,1439729975,4167253719,1122979240,1113186336,1314388263,3241435415,3300752979,2315983649,3179558036,1120626398,440605942,36664558,237311290,613108832,2603347607,1723385823,3260633059,1065459462,3672630868,1574713667,1139718312,2163662854,3040180435,29901771,685045315,3257394662,3882119971,3098365059,2048404047,4177656952,4016093217,3751312760,2878657380,1647081692,2903206265,445445538,246618454,1577873758,2116570471,3795422941,2488878481,762670826,933266529,1863501022,1904867988,994917285,2773114913,369338580,3984019325,2841059337,2386518434,3521108204,976811280,64268957,4125495110,2249680669,80382321,2955453974,3116944808,2223682049,2882710914,2625205877,4077805899,2084422524,1009035745,1665935773,3796573899,134391883,2239443459,3200317167,3099353011,3087854214,2520986108,2114409531,4245309158,958603875,950334348,1560533713,2149244783,1219086496,3405936034,2203644802,4287532394,840462772,619905821,3239443371,1365955664,2510561198,4002689048,2350050041,982785166,2985863423,2425759149,3475205955,2712820931,144894771,822093420,4004781310,3807344136,4048087924,2958910286,1250269750,2351578015,3047330788,3019321025,739947994,3849384166,745469261,1697321007,2496395376,3856245116,4109672118,782029809,3534925675,2371591234,834323726,898278737,3748677982,3532041679,3591473456,426632259,2849907809,4038527261,1151123030,3472133971,3850999490,3470334741,2194536598,1602113695,1722868877,2763210838,1220026504,1529881259,2366969973,2783544795,159747300,1188830426,2502636712,138999647,3044227007,3329475459,1650221619,4155403359,277381417,2859387717,118446789,942567430,1257970610,3860338519,467548010,3471072772,2616558588,1998422130,3148514382,2507615800,2638723646,2876208416,1839793766,355397602,2806082990,4174293302,123372804,780587555,973757636,175889399,241510837,59652915,4069728822,106527289,1934046602,1933705189,205449945,698670660,4056141488,4145437284,3183121384,3985714032,2201191996,2383275853,849324913,2832864311,2158919384,778249339,2742509113,1288180199,1711004741,3063992812,3169917076,1336291404,3439566701,694600696,2219243571,3618451291,252243998,3711324513,433590394,3080580096,3492440482,2882717862,3323836912,4068579,2153578682,3293772902,2557334127,242678031,1593133486,4171670984,448964125,4284346810,175362541,1449156515,1496034129,2944569221,2734068655,4037758424,1656403128,1764298715,2469648511,2892733085,3053306895,3667392706,624335952,570826103,614671159,3159150773,2407590137,391086706,2133536068,1573410265,3041408456,1698871110,1934130054,368273583,3846480147,2707829712,627053066,2567949140,1037744518,2861461643,1223210677,2390029624,452868661,3286744354,3455587220,1466066553,285493591,577407709,1794038529,3995750830,4277213175,3935677200,3069398544,3629735987,2718453605,2131032403,1808337836,2929543960,3098270668,492251547,596141519,1870346650,3592300148,3353849869,1238896193,747955526,1410379015,2322200700,92217662,4015725312,4113236829,4081499021,3976667247,1359145965,4145400747,3774165390,2285031142,1865886785,2919939423,538670436,1241070510,1975601693,594336895,4254786174,1964179415,1401650451,1931673908,4222678217,374830415,3102985869,2495965569,2722804974,113129126,85474422,3206729493,4122106985,804003734,609652394,1461103818,3462272639,2811082408,4064947584,3142569076,915625614,3899231887,1643827433,2529996608,1064138627,1693278557,3809033014,4289038919,3844541770,3444076742,2250605105,3277693329,3847585308,860612755,3964544675,1066592853,1958883080,4008011120,3858616572,2103924886,3527844240,178301479,3419633105,2633149687,43779174,971211619,3753081525,381550472,1988243820,3506450446,2027770986,3916247356,1578472138,1323789015,3488923065,70702032,3259084682,1583728003,898784440,1074215204,744540583,2290434851,3567974288,1153805134,2338706553,654243461,108771932,2334142615,1094898005,1238179737,4082351177,2065587174,3051171986,3949096154,914724108,3040360479,3493267902,2825750762,4061316503,1848967173,3899587034,497924083,3140638957,1332237960,121810127,2630565337,898835930,3958433435,719434619,565609691,1316933724,716196367,1195508605,2770116149,505471398,3858451255,2148375212,4004646870,897326590,246964134,694927422,1451036537,1536843090,1683212396,3368934613,496059278,3009534640,3551989060,4117099994,3496808116,8015533,1105424053,803219212,3456608821,3723535256,4177934709,2857244069,1212869373,3034383307,1881786145,3880723378,3461546530,3615700679,2691831453,1982395062,1908636067,61688389,910225399,4221148243,3795567890,1356778549,169040833,2931660119,421401969,2173566888,594234101,1282963129,2626184095,1522263881,3777092568,1142412221,1992878510,3453932139,1134820921,1971368625,2045779074,975001064,389260207,3764562231,2414748324,1029351757,1611596538,2570465250,1850129415,4007480343,2179775990,2508102208,2776419859,1472283083,3770344649,820936879,2888515884,3438387889,1837194951,4213609713,336870589,2046375265,3814718408,1428502450,1164685306,3947682216,3876114205,749175059,101399183,2271918997,2446819080,3992858492,2783314838,2554379987,2485277612,1612689470,1452306089,3900149701,3604985584,817266239,2590911301,1913260009,1190231196,1593819752,2660282441,1151586665,1043842945,1493529806,3324376641,1323988955,2004724124,2865656274,971913405,2199515944,3394421817,3543441128,1543642605,1731988468,1722741404,4245612684,1280851395,1342599801,3733104028,2195439714,2901384719,3858515701,4116261025,336452432,114069698,1150384934,47783730,4289195155,1725711100,2849462807,14512188,614035957,3488502783,3252131251,999926960,372092028,4271661826,3234963247,2287618068,4049502457,3985585666,1765696004,3034471341,4220826856,1599043228,1197401375,3033348251,4245904927,4144260279,1638839830,2755561834,1546968677,865050891,3074932715,2448875102,1141859700,3243263108,3527607590,2359231619,4083246495,960718053,2830868331,2255804307,1150031330,3518751229,600884832,37710065,1347883414,3798491876,2245016783,1416721174,3316434207,3987386180,3984731418,1640638395,1872397883,1459021338,3887094297,462187808,3374394301,721687265,1253597493,3728267695,696635467,1555402044,3183650130,3096140383,4274790214,1563429411,345307908,88983943,1224918528,3625283295,2850718594,1625580485,599556495,2987708107,2425526638,249210257,1935702058,4226409850,3962892087,926954385,601181095,680081613,2102798294,3250061004,3040073295,136099377,1871060119,3331618592,1664655184,4164213443,2021031380,4118098666,268253317,3960392879,2013948094,818015967,3464273858,3967149343,1668551803,2739105801,2339996213,1422248109,3260049746,1758850282,2177177043,269996930,736738250,1120713422,857596836,932963373,2281166405,4155200355,2821339562,2991409225,3237448491,2534151489,4208832963,3214295092,463725706,3703131622,225750340,3616671175,2557709719,4171633100,3021522545,3898996490,3082528462,469795932,3045556721,3986485362,2345920602,3203842465,862813404,535322162,2315908645,3915483825,760230265,3102330458,3801248571,123804825,3149862107,3761143070,1480449294,2679199502,1152345628,3346057071,39395008,3884897153,1543994152,1323956236,3382772284,3182015325,3700908210,958030467,3026450573,2609986832,1981676060,3616177916,2493824633,1623396830,23175442,2009390654,2162391927,3644875140,3085248639,3966719570,2241440763,3143583883,4207608039,843971028,4206201935,3172755628,733342315,643683153,4029052480,1461956805,586478437,1664791116,3596168499,2740925749,2792503590,2412842552,2544447800,1467726321,2370640025,2366133288,1605697497,314815445,2622811123,4254983093,2894525637,2211756919,3217039131,3896493341,2618572223,540013627,4189313002,761102554,1731912708,3513441784,1820581768,315150830,1419560261,3863162890,1056869693,2923050412,3199040539,2009472828,3268176866,696263514,2440447208,216778594,3916483664,1804660727,4172898914,2693793619,1531458,3434627854,1016136350,2006031088,3593664775,3856749118,2670048224,2240018592,3927553266,4188594505,2551601085,1543905466,837528461,3113115806,284208489,119942158,3471081288,2875339770,382596834,1809424365,1553800676,1238721490,159972256,3540325346,2076768716,3876176597,3754360327,3565048300,2374533698,3585311315,1971800183,692333696,592760322,2087359192,745517987,619873643,2471248868,2113545526,2363745569,1977731286,1308515818,3902113717,2227023351,429422250,1907199817,478263444,1610243179,3424383185,3886071944,2375757280,4272148954,258529805,1029771511,2590845582,3105329993,1669679892,3442122428,1867034830,369150602,3024934118,3484281376,1725102974,3281320863,1596009444,2511693340,3579137260,699784018,206479105,610181147,3439047203,1890369565,3726530592,3655633135,68639904,2595182481,3816958240,914880531,2187338444,957324844,3257394375,1318934603,1064998895,4104641698,856437616,734712138,1442286217,2199677621,2306050696,488075536,586621305,2285957117,788938054,3728507010,985079109,2572435675,2087855092,612287729,4065925176,3976426306,2056949333,4170434062,3715284582,1409896204,1639266341,2717936416,1615367655,1028060635,4239185701,1666071759,284947001,2170605641,1837425102,1980042286,68208971,3151568898,88753797,226352302,4049505086,2456298242,1176442683,2060179266,4271336341,848412352,859341713,3237764025,2337787190,928100945,2605671906,581624578,2258854567,2825392001,4159690624,805249449,1245472577,527889610,3698881,21226427,63023599,473473565,1059524869,3028446485,609656770,2405180054,2624928742,3044136878,3280934555,577452375,2233298319,3314080485,2255579283,604745405,3982809204,2094485762,1127098751,331891124,806657535,3233214634,3176407153,976053355,3639611226,428085451,166761312,800094599,3697953553,1943212151,791627794,1160918603,1442468563,2026608885,3122361768,2723992363,1916112878,494619374,2631285990,2077286228,3116620393,1464001801,3220363961,785282387,3730633773,907032724,2621886316,1004950931,4271541897,1158681707,1148192750,3579273190,495653056,3868609816,345013602,2082663347,1687144835,1232096,920211755,2525941092,542650081,3040042741,2323979276,261000355,664098100,319837239,3067896705,2380424892,2687585851,1870901323,1679327964,2482444571,3792136069,1011056610,2241310849,1488875991,1367694219,4163915748,3132566590,1174516897,505340967,421358170,1662687296,3423467258,386517370,959980864,2095372445,3004229518,1791865704,2958144520,3127408662,2040031544,2674735001,324068898,1849586277,902701781,4115273783,1031423620,2458222270,3713518544,2180146517,886857514,1446692199,1834779703,2144402984,366833804,2033655447,607105018,2560609297,2047982284,1091352401,3368833707,1400412383,1563436377,608376973,168519931,2348128802,1933861246,3541161230,4059777418,1082179716,3503298535,234080202,3681828677,489299158,2943005914,914943777,1022986098,1972701578,1282921358,665064390,1586608576,260488881,3616480044,4003337803,850058787,1945723131,172543009,803758826,3570648184,1641529010,2987635138,3019189168,2044647385,3469983160,3940310007,3231874331,3263972353,3372408357,834107091,2203680276,2777203776,2600855157,2418377822,3189786530,3638306354,3488640236,4109530445,4167847572,1101817177,669729877,3129249531,925680727,2548824473,1551298600,3035486062,721531126,3485030831,702592202,1618937998,1892151248,2896497952,1914225153,1974053226,682063395,2992398736,3423082229,1139425102,172164650,1304529550,3955522532,878765736,3512638537,3899771547,2490592620,4249025068,1034038395,550992584,4162615659,2690881321,3113126960,3528907240,570110802,266061914,1074251737,2859600536,1468331656,57693672,2159532008,434980980,1271054107,1979610475,347577760,2074142600,596528837,2776119126,2587513998,504681636,1234524859,3270729936,1952206670,758042913,231170328,2460588135,2647845080,721030180,487142619,4156374344,484688658,479115399,2292538941,886334996,1779992846,4188013704,759971757,968703150,1896703708,1536423198,1197118852,2008838551,934215117,3150866296,3655000125,3404674383,4278064779,3575673045,1758527854,1607601853,3508922859,1854474617,882806404,1221388125,421345679,2083823831,905894764,2978587938,3865716715,2401436274,3596168627,767614826,2488612295,2016880065,2478485487,936161319,1086556754,2367929489,1615554762,3872235002,263851313,3021178915,3696175139,2291473100,3701262861,1731020618,1439811307,1958381706,2089378437,2780901058,157537125,1890099121,3361981040,3268544561,3478565403,2556302667,267438941,3310088574,1040059919,2063063454,467437114,2539709531,2610409643,2231323056,1523755193,1453892556,845393307,3958874157,475187133,3819781525,1118324837,633768551,208509182,2463526660,1920887108,3186001633,3657245579,2283382617,3926306685,3564540425,3738879662,121319233,1194687259,2836486530,1926416102,1720288289,3582770479,1462813098,350682759,2962354202,4063489246,2260023354,2321389863,797265590,439423906,3676058272,3061898614,2276415296,509348979,4069462910,4088058382,3661304466,1504474174,3904352420,2007702321,3206459370,2880790618,3080652348,766552299,3216517240,2064361759,2841578934,1196968198,210655153,4040047370,1016894694,4206339478,1068447681,3665373875,477284166,578646746,2506943850,1168250601,3909214125,4115051607,789363312,930100560,87302315,4163993435,3544085837,246300315,1446785414,1906733962,2411902558,3377896464,3325101600,1772398934,1677778291,1925631937,3801952714,1915800862,3946092830,3163696991,29448451,1077324376,2178763083,949441312,738473592,1363644168,563575039,1652712860,2450895445,4042058096,191314728,1003296875,3548750279,3376305518,3699321593,3896354188,2527206457,2004252549,327692692,3944977001,4100164151,784447153,3842554885,2837494193,3439966636,2466074624,3341351190,3689682542,2314578362,2241593946,4191738398,1631675201,1362696988,68726463,4063337685,164088063,2681797846,1268581385,1259376740,3269137953,2919800464,3116489643,153110202,2944665692,3072799166,1263684133,3139068452,57775254,1113258737,2914552598,1886593142,1565547396,3997849904,4003201168,2443304100,642147930,1741106438,2713807470,1837913838,2404225222,3188068003,3635720407,1564908411,2127523810,4056473804,4205615286,2354773801,664741137,3846274164,652319702,4217000845,116888902,813887905,2024864072,585592629,4055527479,4204281341,3273128153,4253669943,724392484,1784765996,2449036742,1688956256,3957474148,1515169032,336320329,2441833608,233531090,1435733411,2776908625,4285488997,3007140964,3331503438,2035528367,437946909,247385818,2678610173,800244145,1575416400,1193199862,2406809534,287290020,651453182,1927709018,4160776671,707779278,2158549014,3733714004,2077321924,2223080492,2942022242,2472994533,4262064624,3975929544,2099349891,3665236800,4215631803,3520243730,4133524388,4043430603,2153624694,1700248729,437782909,2770584693,1279599421,1205937712,2428148258,788099379,34878540,2703536666,1880221863,3737882014,4126261340,2326559886,28390249,76760640,541716033,2076846240,517645097,1199819201,3800715141,1495402125,483099347,2504289250,2263315888,543716087,1177969971,2911237747,3185004579,2158079533,3509273534,145440678,2920815035,3270670902,3247404617,1635384124,465072950,3359858196,3793396956,1404784732,3646209532,2252739306,783010702,1493132043,3844303665,1246769224,1023557290,2582000504,4120965908,484743387,4191552667,788488831,1761510670,1531366947,196137071,1527338249,1992789048,2131242387,2068250926,4247237758,3280822174,3983817482,2329346534,3441235734,2544948234,3643846899,3217967189,175299034,1210122624,2610302506,1829326172,1555123130,4168836354,4265482427,922856499,3376947010,2462445193,3673082795,1376207615,991260847,541712068,1827657280,1569164692,3915466095,2847701543,3107449963,1247940763,1107492127,2379634664,1984127592,3260691213,439657868,1255515016,259351465,3449330403,479856833,475787187,1430977702,2708514922,2548337143,2309959311,4218484382,4103934880,1146395212,469885314,1720383326,2944907790,1311848796,679397912,4275056088,204857630,136016692,899619714,1881931644,224969380,2534449013,340821861,1304419526,3922987476,1569582418,3500395398,3674335304,3577860300,1225301583,3115901235,4039998397,2037649305,2186151506,930589970,44348555,2780729079,1414987809,2138323518,4070008985,1262015941,3529411281,2413992829,684075621,3329133904,2961893750,2903834005,446554431,1295128589,3756623899,3043164801,3317080718,1337901131,3218825271,539330648,2381004278,1488662966,1376317264,131372416,3995002429,2626396226,492925119,2671562520,2985305465,3740539597,3814276103,2754685421,3534077468,1189886301,1093631690,587695393,1547113288,144299420,3983195098,1283417945,1835778381,4050193813,141217325,1798044386,3808488412,562496591,3588131102,925857975,386018890,335544182,3099065274,2632716776,169636563,2402125367,3883087093,2963563594,690282109,2404011797,3047144762,2607897477,1555825177,2364090220,2029781544,3518917975,3583223351,4177107925,782602134,937883246,1624043223,391329951,3268654937,749984551,4154474501,1063152423,3753699982,1298737983,214829520,2563318481,2883481535,3288482032,2630532626,4147163612,3528109165,1073501869,2580491315,923487580,1445045148,1590587861,360640308,3811713595,110547229,2568352721,1202273608,1330094160,934490513,1795670209,1388743402,3990519413,3266545042,1944966850,2742342726,1896914113,894430323,396517798,61668911,788910828,563997189,1317379004,3988240468,3095328416,3377285035,3404495582,2229049066,4294768684,2618388206,3048558080,1889965844,1268490982,1876941461,3973834191,2867186387,1127090743,3753103165,560798149,2306582247,2921545015,2965432481,694654621,360721037,1070293287,707214146,1364068831,1109455165,819562041,302605718,2814021829,1223461110,3766427108,4155205838,1716156176,405337173,571505921,3951748701,3368078805,1565761618,3613415144,4209155336,2431893501,311684069,2380682511,3765923956,1233887728,1427429346,2098588211,1341871079,2095599625,558425417,1791376258,145792109,794720238,1343407099,4128703522,1941517258,961704498,1399168973,980689139,2561458412,1172772856,2856086646,1022151870,1402337646,3309437047,190392646,3846271427,303340250,2348826621,22176109,1440192619,4204291849,1246436378,89565780,2899743575,1794159601,4196125121,3005833906,1029101958,795372547,1528137270,3425222928,1468276008,1849209591,3747225320,2166170967,615292810,3558392825,61655204,3447775912,629894848,1470216968,1147564013,592070869,1204970798,4046376752,2068807284,73934474,704908888,1795920065,3852692473,4103435785,1593422305,2736725636,180395614,659413667,1308132006,2312971053,3290271032,584219770,1473792724,3553069644,2123204822,2435537902,4240100583,2656047885,641027098,320376551,724567246,2075191840,2448687309,4178498579,3264647358,3177311009,58901861,869383848,2410548526,275676238,1872984412,2673602017,3144596064,1991008277,681012311,3165012125,2532147459,2129988318,1323565333,1880563429,1204950911,1096290267,3087367953,679091015,3861322845,213260345,3213693608,2420301772,3959963071,74430616,4170105087,2808233359,1962558308,3114259087,938389855,508329172,3297653331,2413480583,877740830,3966169364,3945563858,1225274207,4097617729,2609953807,3147716504,2529562272,1638906888,2768021785,2635985526,466194547,977462410,1585461910,3892563030,1821082658,3402962492,636018420,116741664,708008668,3381254614,1508871233,2083181513,3071200236,4040598976,1581750694,2708921268,121281378,1092747113,3496779178,926692042,1189696818,2678963332,2968479759,2159199232,3128509357,3223491647,3322553280,3277936114,1170267420,2847874720,2227664949,4047046450,2992708445,2718147914,1529622838,730703515,2435944627,2162606843,3806296470,2198419779,2638830140,1686682622,3073912000,2453379188,4113835933,3472903123,3126993695,3019818389,767929500,2716544012,785582950,38529597,3444631832,1442478417,2048274262,3105408454,3530244067,1409900397,1900721914,55341114,1339884202,1083007209,4267253726,3246897984,1614952800,724373558,1796411531,4104839184,3822664011,1280624968,1574745603,1798746337,2186441934,277462516,874253819,844956825,4044343516,878029971,2975563199,441025680,3256602572,531045782,2627754110,4167365884,2481906342,596246636,532225721,3918824800,302458828,4018014089,3531451061,275946663,1774247738,167542370,3271806650,1251759010,745416791,346729602,937851868,379943308,2467331040,3904122354,3011385785,342870277,2456725631,1171492032,1528385310,402900640,420135901,4289948960,157709763,930558982,3018960935,1951059188,3180993207,1647940377,1590423189,374429639,351638374,1073164861,942406153,2919929065,830923157,4091268339,3704527532,1189211118,2931042332,1459497052,2513133628,2235464509,1090042602,34091104,2265432197,877115033,2959495451,820342335,2263152439,2883931998,386413123,3533153140,1204426797,3655278967,4150950881,1088239121,2527064678,1241783701,3746181939,2122157909,2516215723,3703670441,2520276660,1113018766,1362086395,2960284858,1339938686,2109632665,281410030,2430790041,785243990,3747440827,479418076,2646146854,3592975507,3861748348,866123489,702207774,1363197445,1309703391,4284118719,2741043678,971268260,3786854137,1187611532,3239798602,641955440,3003568642,320457747,3657232067,4191789138,303538724,4157778819,2687722665,705694145,2853884437,814324852,236661267,2439105523,41527924,1297535647,1958077581,3299209211,2493658118,416132018,1835411116,1740601252,1366251560,3666010731,3053419919,2347941344,3733137234,3312563670,1208082138,2554864461,3079124807,3521603130,587722151,3498737122,393610147,665336681,3954740406,608961515,1392546932,968953843,2478930742,3585078418,1847428413,1517413211,2184498788,537607385,1923436780,975178193,3165622196,3640358551,2975508437,1200424418,173402426,3031394006,3032383871,2006509289,3934745967,463776743,2470388433,2278255204,2039702947,4024640173,3920534501,1808892888,3185043816,524352995,1236397662,2955105505,4134345631,2769695715,1129627425,1764795217,1181846650,1847564691,901160440,2026272277,174550316,1564648072,148190828,2362802547,405654408,3100048555,831191335,3844716277,691456376,3362966912,2401293344,2844865487,3703644708,343596620,1333748946,1205743279,3012416087,3127934093,1734076749,3202279365,1912057833,3755679533,558509140,1570035073,4195800123,2421550553,637869563,4290862859,1995554802,4000876095,4182782947,3179634615,310756029,2343871431,3104904133,4040619976,2731476651,4079872450,2022615306,3748742557,854378856,1224903482,2505626946,3079319887,3298555762,1242518701,4272022298,2576553224,152070235,3122283842,4265998461,1798107782,3648106687,3846357299,3925668322,2516038151,2824892230,2378536809,4241331667,1736441320,2977686351,2818818325,935173837,921008796,2655038432,2812430303,3898614016,2689750253,222563455,3547277221,526475767,1101654273,272416793,3972423505,1652255792,4275495810,636909447,145425457,2413194560,3008285758,3561465454,1937378325,1236794,3096884605,3977622839,1292609539,3386805872,556553215,1189677239,2830902042,3050503857,305173369,2006537856,2952762237,3896690202,755876940,2561896608,2580122488,1840197911,1706721854,2366563697,2823602385,2353079849,1644155904,3150661532,1508981456,961427600,40365314,3018382482,4247715585,2849381366,532729835,1223874428,1387136362,2489333027,2314623575,3586780673,2454127075,706018927,3540900893,900795808,1370705408,338536076,2034569290,102399387,1244285017,1835686337,4123305871,1242839223,1113842656,3876730160,2985272853,2175238203,351798402,2673134997,402449451,2367067500,3032997611,755573554,3313063977,1129206904,1425087124,464372973,523525205,3095536717,2632005821,278384972,2606869409,3472832851,4286920886,989654716,1312919833,1157048608,790223519,3031850517,1273265715,979120344,1597334484,4086115923,2003767938,1317725918,89844488,1500107857,3547504183,1038129834,1275875993,1158147799,1780506669,784000482,3199215073,3148699767,2499503258,2506133767,475052129,667884193,1937228653,1458802093,3880154011,3642038775,2421486563,2566900498,2705131075,723808751,3574055891,2408410864,2478252703,1461513173,3669628185,1586356630,1242659721,1738318392,2263262309,3627952249,3887761046,1284838504,2273364130,1059888177,3459851811,3850722297,3259613922,2661714539,1342056454,901454297,2341687991,3912769317,3873399650,248659946,3169104771,3324964349,3355003587,3756907140,138334563,2408811711,1119146012,3570485708,2961919970,2807918026,1036667402,613935044,1639511014,2098959842,1515598058,1367731618,3203821475,4231586332,3586866172,2818144539,347443300,3217141961,201655669,3274926990,545813705,67336557,1294971069,1767121380,2558987473,2878175263,389335901,57410865,2946237273,1965120457,2991754929,2519395097,3463424129,614289127,2730139645,4045983927,485767379,1612417851,4164903726,1625893526,3203149212,2990406760,3128084000,207653678,3183350260,269928518,49803556,1691079770,2422005724,3678871267,3113485810,3634065678,609366843,3049682852,2076145793,471577270,87320834,3729544989,3076521895,819642042,1270769358,132845862,571731188,117940460,1190789009,2460814957,1459295103,1973087418,4060937082,1808976536,1087477004,2026724766,499401249,2776774704,2110596779,3047093024,1299168513,4190835900,3732644306,4284193513,308514784,2301072538,2002478312,2900477864,3037426768,9809825,1273890001,3261459728,2498869120,3548978335,3967591234,882568181,124743918,2101886281,1478149030,693322070,2008077103,515073922,4003780264,1675108693,1206559880,4267537734,3574966850,1218879142,2284667608,1476050939,202791423,32976493,3542304212,2722610967,2653937480,2430186350,3686834563,1700219071,2936303127,3671208248,2088687372,1148944035,1159049506,3806540998,1538306514,3354769002,457539221,482785281,1969456850,2194186889,275046370,3290768038,307293107,307377995,1255098811,2451729964,3786219360,2325782141,1820064408,1187967853,4078021828,218164395,3208976389,4257010336,1337914149,3515236465,3735984015,3713843058,3615654929,170436944,2027605442,2460191015,2173931228,3369823744,628717446,2241913286,3870938376,4256427728,1267062566,491465191,2606857396,3915711381,1937528448,1303817457,3609677785,1278769897,1534154177,669714023,4106472301,3459582418,681597341,1532506625,92493319,1134184659,1694290246,3554483525,2873814052,815369209,3192621167,2150887681,10618600,3483015676,3259192522,2638730541,2251935537,2067317975,62611364,3412234485,3637293510,432320481,3547450964,232439652,1326771737,3074907545,821464443,3837189268,3948129133,953084850,1583118383,2311271306,1254852119,4026046020,2496183373,1556668001,4267999621,3062069504,1270608963,126591824,3455595199,812217269,1002162515,6976501,4187791844,29611350,2065413796,3457516760,3212829721,2725035599,2473172015,1744687719,1868540856,593525921,3430898847,4258039903,3782130165,1864564662,908060589,281171988,4238721487,3907612852,3228064104,2902195738,1980604888,1391117135,2556508278,4024564055,4062870763,3759724875,3259633669,2706245829,1340626241,4062862828,3467565940,2622384002,3614637168,1147979078,3776548738,321453779,2604936241,3171508089,1083565171,986557940,3950504497,982596163,3687924910,2886930816,2084138939,2054749233,3642940819,1673611738,2988841546,1306246744,3296087282,3623264157,1617959344,3122811398,3000530361,1734487173,1502266830,86668747,4241503042,453364338,3874401038,1212273446,32284237,3728707040,2587262449,3744459346,423295290,1613856032,3802545097,596246470,4293229963,2003639335,1004932080,3813247804,788840113,3117683602,3083559191,3473305531,2927460822,363730834,2683975928,2141828518,1257585988,2500700066,1261084977,2948450867,4125659938,4022591326,4019933368,2590099969,1943426887,372711152,548467189,4082920711,3343304976,698021639,3353448423,765519132,3467906196,2548022241,1865416381,2375429475,4235670678,2913035318,1572596441,3528720510,2566422606,4190829453,3867993485,1506275639,3654678873,3681489366,3850103405,3889608032,1558725479,3467005653,3135364127,3776783355,1580393116,4161389759,1727274571,2122131692,476565071,3909364060,2920684578,36520250,387908000,2253548427,2988467589,4230581488,911172565,3918435441,353142960,4010094601,2198089644,1896448745,3303575902,2561130272,3080578851,3502313174,2057294699,2947973624,1467715209,2311662416,1442359246,993748559,1088482444,3485173177,4148608296,1681170936,196186361,2797677435,2447315150,3510729500,1947243238,811943140,1393383895,2635549586,833340283,22819521,1824600402,6063082,3934788858,3715438261,3518649253,1223861826,3868239024,3853187095,3946340528,1854654926,2019445311,3494788571,2486740465,421469012,2893623633,4146361602,423926371,1076155250,1759340322,636398643,3840754840,1668908075,3415670720,2766913879,3583399187,1426794268,1121422562,2932649521,2282576171,3184087838,3720541205,4178311984,2307384649,3462458973,1924120588,400802175,2185270844,1491925804,3588922970,3385601225,3985627869,1748075056,1903359893,2408130746,1903067190,578590230,188748400,778980199,3293218620,1814201505,1133106272,1242478440,671701457,3594536876,740782903,1021562622,732073091,3246432291,2912572144,6359003,3672981400,1596766328,1598626216,2892487021,3449636889,1228254220,2819650643,2712894923,556836490,2630823829,727033487,817185165,2869217909,623122636,2465751337,2448621047,2783928192,3605181273,2292964545,2681305506,2315671709,487101082,4007330013,1303072774,1020937686,2155661959,195334598,336709102,3690508090,3733687899,4264470532,1571998130,1060487712,2436795270,2005645446,2078243421,3166664080,3766376750,3709489985,84842744,3731231223,2421059179,4072217639,2264520869,998677933,3154630777,4054088473,2413576351,3714801662,1647509082,2686458643,1715187144,2790543155,2040678271,1418766941,2804252665,2785914036,2326795813,301389488,1923607135,150787995,3021677731,2684034580,4077303998,58102455,1245368492,716750546,2810390601,1119104306,1526374759,927518678,1644479581,176835413,3738882395,1954809162,2712547067,987610540,2118875564,2004468583,2260474649,3821502853,2275542969,423589486,2212507127,2363657070,3083281304,545231574,32991864,1761187972,60393381,1374306322,935243873,1146372416,1442476648,3391249647,3230490425,2020005475,679106375,1201944471,4175965704,1763247285,559583368,139573243,926328189,3079308068,3887989652,1085296380,2993705241,3844037298,2370520344,29592151,2137807483,78409798,4522032,2249228867,3901054597,1170004022,4021539900,1179048134,1578649826,3574687996,210587236,3182137826,622096268,3031997718,159597668,110073104,1005440401,3138392880,1933149229,1577727666,1274845885,660519986,682437264,4064247062,4094755779,1288685568,1819802568,3551217515,3488348292,1508277351,1602976784,1257008764,1328170514,295489031,3486054260,2624021817,583765069,2593681208,3478663210,2033302854,1918450673,390170437,841739697,1709299368,2240070558,2721000753,2447544872,2985253992,3491747858,913521074,1321197055,3980750239,2132130987,1073905679,3503543392,2488183813,3364323754,1467157606,385475880,251605596,4038820988,2042815797,1816351892,3736493147,3069804179,1528840972,29384256,2220428724,1820966011,454769971,2905578309,4219356668,2051573654,971001874,2300087726,712577728,3985943486,3418275641,1431245755,425573986,2237164720,2962043482,2389547111,2317257542,3955902104,2068802583,3175949100,2245823268,3097491668,2715732394,3566948860,1867703415,34510117,2703708701,335583315,1196054852,1273707905,3396500334,1572790151,4050793699,1567054354,2288606026,4095384441,122621639,3780146090,1976409626,40149447,4286186830,3336227280,1519357758,1545986458,1178317947,2437313711,1552743627,256603534,622580435,535496090,630245334,3152499777,2129388853,2604486002,3806760794,1909216699,3543572318,1450465681,383421748,3937519615,1514015989,102129777,2789682946,3997639102,1121486864,181974212,2796655983,1165858760,2047109861,1597912468,3353811519,764910758,2717641348,1107892799,1719739025,191047968,1395602761,2025530912,1814543593,136974360,1770821940,2115533358,641069260,4085146990,1128045702,2019068206,1578502738,2634009019,1853405654,56476030,3925640176,1658978002,4077969967,420335089,3947185191,1444956801,2107942900,4268268618,890251727,1227407466,3966215288,2044954923,3120326411,2050602602,4237701042,1777604717,4091394559,1281116992,1605208478,3958109921,4289019605,3173947433,463891679,601118256,4067310361,164652841,3841583197,400733965,2821256317,638063964,1812146104,837165448,3982410864,3580217223,1273770605,617688188,2831957858,6954503,498358222,3265533973,2948405286,2049486975,1196496732,415530143,3319916947,1237007113,3361741287,3824806386,1452121034,26814032,1547923094,2645808461,3176617194,3857026254,103133875,1369505732,726647683,2706492648,115935800,3478920031,2828261177,556461038,2774427912,1994856474,4190968206,2663887730,2730131494,2311955087,3243442888,279037815,2099649751,3881655493,1250103315,1330480704,2383025521,3686089430,604363979,528948510,2299624670,1420728750,747373168,3166183288,3123042870,1513118126,546744959,1843677033,79463561,1671035169,1617640300,261620524,642227972,936253283,1007426018,3141631874,654350902,3142182802,2699586514,3263242885,1784556967,1938532066,1536046013,12066682,1753130877,730330753,408884896,1497010673,1776373489,3730916020,2537493099,3821326660,478671530,134330448,3460185146,1395829502,3148597016,154843295,267514017,2283340963,1542728475,4058357027,2094890056,3210116390,468821640,870173321,2139426931,2373434386,4258049460,3498134294,924672273,1401089721,187120249,3718294533,4016463799,4158438327,692939128,3430963457,3308246864,1907502522,2363069654,194060273,2754470921,1315188752,195120426,4055493739,3666600895,4270761,2321387011,3932663738,911475564,3010014153,928997977,255874939,2003573091,1496826372,1124064655,2957573352,1419435963,3258439444,1346631361,3670679708,2173654106,3814080978,1127208858,355281273,242579141,2774713312,2803644379,3028687905,3466908014,3561065983,3897867108,1564377248,1036906440,1121934738,1447145465,602510064,4179675040,1321640979,3796291997,3382979594,627497504,2642191069,4097218009,872500320,2712408834,2823073364,4080148446,414459543,3746186127,3890075113,3359050867,1835212114,1928150739,656666877,2999741059,3025663573,4016519079,4125028390,1560338132,1873193918,1190509102,324163153,3108313326,3552911333,2404070402,1342695001,403986778,2576622219,4248390268,3158523068,547172201,1681125588,2184475493,2742624948,1525984125,2579308959,3486319503,2189529866,2947709587,1909985224,583841461,921925587,3116323354,137569095,929965850,180865746,3458723966,548887245,1278647382,1447696225,1747432700,2100448579,1799029041,850322176,3968314954,663647158,103647574,4182072729,2418971317,980949554,1175713730,4064313799,1956595003,2360981359,361713104,3017969514,1908543590,3859202343,4043516961,1758167128,4042517287,1997811644,766986287,1697561973,4259146310,3364874587,1062388880,1331190965,3714857307,4209478164,550332016,4075765833,2062873252,1645961591,1621594772,3148839819,103002140,1924180603,1616360117,853311781,1626598641,159337394,3738272993,1587473106,313632514,2224637546,4007748468,632364995,3903158965,3406623447,3931615203,882357649,3837057716,1494391593,3475817883,779140406,924772403,2654529846,1504952333,2139519315,2870084469,1606751021,1088305679,3136338288,1786843574,1033652096,825488413,491348339,1020409530,2551131001,3342000083,3845792983,2182677263,2068894749,3208418424,3994706012,489353361,2975667675,1860635181,3775122105,1294502167,2051614160,2524266016,4202281057,3691267107,2631156478,2954200617,3167056179,1794185611,1169411480,676931097,3857403997,4035969988,1808068856,1677102168,410379504,1631352492,93546138,3440511171,285830435,600872333,2012595908,2419501227,2153375513,187760771,121486672,1568443265,2490761140,1969156398,157254259,2432324551,2683505154,55329305,3941194935,849034388,2409051741,2216621390,2640998115,4131294182,3902528588,2533788821,173180576,3016123699,3384492049,330974320,3897861016,2148130562,2796367046,1943994174,184528895,4035384550,3079369909,4087720945,3628254276,361714989,134515033,4064037331,1388641478,2229211830,3068601153,3912418074,2952103598,1190698447,1677825433,476904313,472084138,1023133293,1782810255,418588832,2982443722,1239412212,400906979,811791238,2890766525,953511118,1452031646,1588634705,365693976,1300966366,1639744266,2024062524,2518446093,3790728214,194806908,3667682096,2092418119,4284004762,1896254509,4249471214,3534795715,2680303572,3051245793,2171117549,3686121972,3461195247,2077432118,4176283124,3650723479,2465018014,354156234,1521198471,2766539112,3638069361,1501552603,599894509,2402066289,839625821,2874184215,1851465846,4097664754,522491694,1517570006,1941577192,650613034,1418185020,3477267734,4190654961,2509258372,3084865640,1312197651,956325643,1363572500,3077922379,113150159,358652923,1169205957,155017680,2090687182,3332564487,3687231470,3351347889,3324275656,2446648478,3411283388,557174656,3095593244,3559897019,3794384126,1429870300,3762329649,3580040219,3207247942,3991667341,1326835159,2203706638,1965435561,3385842293,1919857105,3518812227,3575370421,2345261611,952915405,2138359663,2562899998,1236142896,3439122017,712493546,2907688299,3621555475,243056868,52566414,2017248553,1633957931,4097007758,897362799,4117891311,2168968780,2890795962,3585459516,483470688,2628175657,1570179833,924127428,2017163437,2840980372,1223980519,3172660421,3802170208,3120892442,2296796228,972469671,2452324985,4110542638,1132724912,3312694506,4137671647,4171847811,2694896404,2391446369,3537927191,2330276010,4278818943,153122020,1414236342,1823099337,3019711111,2045246324,1514175009,2400892599,2991635747,2621752302,1982518393,3621744630,1233001369,2741219896,1701203597,3139503675,2787729716,891696252,2205594058,1379184257,1329939981,2230406312,1977382211,287813278,3583964905,1983917254,1097217162,834842981,3267752836,1677011009,1320524775,2507588134,4279260271,1496964506,615933031,919120049,682505904,369957731,711872052,1221050267,2167546392,1615044575,3651150251,1492291159,2691726270,4053449827,1861097179,1905941480,4141949491,1851622897,2324319376,2082116595,3240231565,1038856387,1543162472,2284369141,890502555,2179160800,2705457270,947434420,2315304202,1162138255,2375594619,1588825780,2916692917,3019583773,1504803343,800210004,3692948911,2747549568,2210944395,3648171577,630544228,3348995316,3934764475,2889973934,1306114618,2073276847,2082676388,669113800,465511536,3878190733,821716026,2680588152,897982275,721153182,4102902266,4146955835,1874746895,407026285,69568203,4161393215,2327771570,1643123301,3111651494,1804211229,668760157,3546752315,1507732970,3935671822,582934483,1708589328,976424849,2408388687,3071887568,2337090991,636610041,2360023391,2431712800,3999742065,1919405662,3901844989,3362024395,2057109215,365843896,1946323158,4005908822,1686859596,1725957769,1852875059,1116046349,1205145396,1749376652,1577800433,3319724177,2916908074,2280944697,2261019251,1613779117,2967978103,2379537826,1397871391,829164665,410830252,2169937665,1160770701,1589546063,3405279962,1083282460,919916398,1551214136,1231542578,4275308151,1888018569,830619863,395348041,1012459230,3834847969,2422423975,3220866093,4668377,3254203367,2554915722,798425349,1728782492,709448124,266064631,649542715,1230563212,3077205232,2567244305,142990446,2746211988,3537756543,4222285452,2317456406,3821308102,259593,425612091,4002047647,3853790673,1799867985,3915273302,4034839352,15813987,1972707525,4262762706,633891473,3111235432,909469878,4257775288,2069395949,687452021,1320514886,449268643,611888130,3120591829,2165664043,4060445608,2251833690,897832647,429947958,1593296116,3477101702,4283222566,702331415,253140716,1405692204,4268585164,3146343240,2705086659,2630269877,3544091285,1973105012,3584253337,3362475899,2851742516,815793268,119827306,1627624778,2708257637,2113606319,3331106594,4058361557,3697022657,2954799410,3816260162,3724709407,63205600,1121930114,3194718384,3627387224,2690490812,2546282749,848149641,87209889,1162697781,345818109,4209056166,3015855336,3427398416,3703936176,3439137963,2801919972,694514728,3535489486,3502406468,352894167,2925975487,2400623206,1832115499,4084611190,2788943975,2767791021,4235990130,674091243,3319515296,2663785912,4029628374,1229091422,3433838843,3364226262,893082710,1579023705,1597332584,4274811001,2490488959,2477221021,2790891331,2181976916,3592914855,1762109365,1202417654,2151499388,1583160563,1738398743,4019106936,606411633,4224509933,4098789174,1046772637,177172049,2337580220,967701018,1248109958,4146343085,4132496427,406945220,3989034978,4037614542,1462623656,2769441127,800053578,3900801678,3278172427,3710800576,3542777377,327901307,614903498,3954265477,3856565076,2592921907,2115363805,1701160645,1797727188,3021862463,2063217075,2571401527,4004698937,3311598989,2124913695,2177725882,962790442,1098423660,2180201078,1366041949,1492010686,2366160275,1322190331,1219125469,4266381846,761072308,2429308063,65371614,3177183839,3318599719,4199748896,1998773748,2431840929,2317725957,880389723,4094864168,473661988,3975019369,2425773339,1537907313,3113691718,989899103,2450402587,246110680,29144824,3192297807,331431844,863774895,4279577843,441650745,3527849703,2809856291,2124704225,2758947523,385951238,1978645573,2804677008,1907226389,2290704560,3203643287,3025084291,3270469781,600522093,3689036107,2721862465,1353052696,2480213030,2448443882,3608064050,2029551050,1234181637,3841678434,618231932,419667956,897802731,3618045849,64793617,1138230394,2878759550,2536481146,4203234741,2433698990,3570648396,2701136995,612789661,1046164512,2296603848,4171835020,140718945,4238282591,4119062105,440017675,377422008,2972970972,3707405033,2023113099,3788852891,2491698321,1681374308,3442272504,3689491864,377780147,3958965160,895800638,3763233287,4217664546,3088723967,3306998620,103913562,1042313541,741981992,410591839,3398288068,3800370415,761675291,3531411396,4153406383,2151645792,2455848439,2067256780,4156746785,3801264260,3721376537,3581129786,3380055886,2599426448,947543764,1642771419,1279919806,635432892,1743272061,3264881241,640960694,1758583080,3156454324,2633482553,1873226292,3545402111,844800744,2955885451,3642199020,1647068262,112987619,3931029062,3573815567,2550846864,2113496230,555121784,990645862,838346063,673426838,3033958082,807118636,531144666,119157693,1571508499,291431259,4159448924,3468650612,1008666329,1373411299,3225866883,329208910,253453967,3688057619,3797519369,2974446217,2204701349,1275432610,4126079721,1947363974,77251917,3581489007,4224833773,1726974662,3898705196,2064467646,2752355229,1668673902,610654070,2905032293,3334444314,1544561421,2685086183,3037076206,2665181943,4161212412,1271711425,4117252465,3186164524,1519572658,4186805958,1675216780,2960424003,1021045970,4245320102,3099961381,4225434354,4172528116,3857638448,2218835738,3291407011,878903860,2859700260,218044483,1789561882,1662121024,3880114495,1224540037,2255215297,3293551328,1441376768,1595469143,1326240243,4025950084,2759526649,3865326032,76428933,1769292209,3063199281,1809775700,1794087665,1546256392,551868973,2263678600,1387546132,2696238180,4290423270,2668930371,3732157982,672786718,498445474,3518000708,3449141330,4094840135,2511699663,2511038311,4285943927,1033803291,3833141809,1235977399,1242446533,1437926043,1088872003,2389606719,4128128382,466974006,2429249610,2710620262,2402469718,3381600211,2402478917,1185759959,1388456434,1839149672,1690113974,777367021,2357412082,2990161117,1787720768,3298277472,1484223961,1386847827,3665450883,3356330912,877354690,2450622018,3790825461,1215056955,120881078,1216680265,2103406049,613051025,1941868704,1621076869,3076369191,543992367,3192623069,1030205405,1047469012,2612729042,3845552379,2863851365,2489561773,1802704757,1558696976,2327492557,679970853,1797865962,2832280543,1835112789,1044778833,534545135,548518515,525931706,2391516812,2880624416,1585292472,1700580315,1011304239,3066775011,264689773,1094586735,3388081398,990242113,41773081,281275144,662629277,708592001,3106626305,2182408418,3445155015,3808434301,4149775744,1894527965,3339232328,2295418905,2905221636,1042352898,2950036712,3212877902,2160505098,1179951018,3222444015,417971980,1640743927,677202941,2977296092,928382551,1184628924,662998463,3535943238,725279656,3673987511,1263745113,1438170025,4176968376,1926930157,3678795349,2593449178,795945467,1234672947,321623402,861417626,1114855445,2120466676,1692961339,2678698792,2214196634,579109936,2405650976,243626976,1488630921,2913136983,595295524,3568590663,3730101520,2363063113,324216972,446530308,1848956294,2026369828,2630979320,2725186161,2243835886,917446818,275737281,1619636283,2587203575,3941739082,2424085931,3437171298,2408984425,2422120223,3618390463,3595638472,2924246421,3258978531,3288065366,1214928408,1697818570,3392554966,4245418539,2064873040,3770001964,3533316088,819196623,3511603391,1761814358,128726221,1089794144,2095870415,3255503547,3886730595,3384921881,4206171531,3681543904,2728424128,1970414063,3043334124,2280405544,2987453656,3087797303,322426264,3701119950,2221959863,2795658850,1007489112,995198165,694975039,652724777,3267846528,3186171700,2852921080,3004433356,2237182620,1171112321,1506131671,3782571385,2166880337,3203007010,3018703310,854740073,66322089,1222253748,954717368,2822876467,3340851596,3043842015,133075460,3407093322,3815378309,2652194254,128316545,866551632,3308463443,4025356733,3123180971,1656805408,1184997640,238572231,2430211632,1171972660,3229459856,4220807903,2621156931,3596022619,3886362478,2185400756,3333578379,2126200722,1036348690,314064055,4102754796,1502910130,3404160967,318849613,3952401722,2791168172,2261676894,1950277566,2130799152,2171926400,2327793957,1944207339,779776528,585843552,3482146324,187366112,3402961525,2078139869,3421140324,526447170,2723255766,428170529,3210650626,1316089805,4153289671,3231416115,2423625428,3336714219,2445538534,1466645435,2876384351,53198037,4034224809,1516585738,2018687224,3938707378,1569973430,1630722705,227562490,1724729925,2491152146,740466602,272831891,1574282162,88315216,1404027654,855132932,4232963632,471690249,2115517627,3438775254,3040465903,1238626581,2648471481,88328418,1600354569,3723019362,1817112147,1187007202,1008216228,1323991874,3914338798,97869478,2636972434,1587612662,1465429929,721021661,2455408535,1460851971,4143473824,2306126965,785033349,1206700277,354108691,3514890814,3194654901,1902911622,2100303186,1855617026,3202869967,4209917316,3354124100,3437843239,3944990443,1803798541,3054028067,4166133735,3153486986,1398622285,2748616398,1568731617,3248605740,1006799524,113005701,1908319202,2939851829,2570218351,726039576,2909745321,1936069980,1863019649,136859402,4026297153,3491682328,4160782300,1405165214,2855248162,2570658923,78139480,3114508101,4075195835,3405100207,707175786,3804221459,1022459926,1783190343,228531566,1297901435,2374963563,1361796793,4223300177,3163390720,1674327629,2225941902,2302721071,303689997,3733906426,1219104761,2750216570,448571878,1850810653,2252208421,2966068007,3300910949,1216943164,2299053708,399653286,348858994,1805974976,2347868707,1616119605,1809686030,2594167851,4080585015,681499130,3573877370,2419773309,3406733079,2453411532,2599117487,987715351,1962556974,3266873701,2359551331,2673321840,3109045300,1140302662,356227433,4253951181,3099620849,3582127457,180327845,3241682938,905257335,1013071099,4161118778,1971748456,1902377979,2260503892,466797710,4109761666,2884158158,2613911133,3600699646,4277917630,164191875,587614536,3147696726,4160757691,12427889,560880467,1460818949,3457970432,1907099677,2724495308,1405095942,2321643951,941756865,51188988,2512405432,1951749152,1396716644,2748726961,3759904851,911671464,3317731121,1422157308,2159818606,1285078670,4184581255,123986273,517451527,2114931151,757836665,3664731043,2111552829,3823081722,3833639757,1923002023,1903847744,226249720,1345794817,109717515,3128914116,2424758831,555791192,2571339079,4253067799,2185707722,585055066,603433256,430211487,3281325239,349251951,898361901,1156959402,2550470501,154078904,449558278,1675833964,1157923270,1993569401,724638285,3525798293,2056848962,3294281468,2086846359,3533143705,3156869124,2341410494,2711678365,1759758272,1876237457,2893973369,4122711597,952852485,1048811675,2606223438,3524574835,1465608491,1384010226,481220562,2941969068,2338879681,3934124620,1515532702,2463551065,1966976470,2476651110,3073549408,2347380147,1450212786,2240356026,489804723,826213176,705651541,4289429371,1227833522,1837572836,4007811208,2008957975,1509658607,3855195663,4071286176,1341598953,1638663971,1941477758,2103673561,1596094486,3060961673,3075985735,1070135976,372525840,2660112042,2637593486,506976390,431255626,921029008,2107687620,1198595801,2163170878,56241596,703983034,1515947730,5499012,3252662260,3510971791,2177549788,3306186755,2206017084,3915929434,573816363,41908418,2368571964,3870099499,357484148,2194180912,2172079865,3549635188,3024036509,956446993,830451711,2745529678,3389996420,1459441194,656956929,3701930846,2374476864,366888408,4035924113,518660194,1471457567,4138279281,3070569665,3977306215,1255973378,2557675523,857108787,2099842626,280603204,3310868924,3254560185,2507870995,1562983337,3968424447,1848418792,472248268,2404927240,4171610356,2818099975,186619000,814568866,2755422135,389529554,1226939341,163096447,3588059247,3445167956,1807042718,1146087052,2545787769,4011413320,9735430,349052586,505270312,1570914998,755921392,1634795390,2017990067,2264072504,217590125,3626862538,909928441,1278011488,877995794,201964344,994613566,1254073399,2971338323,3752992704,402812117,2910647070,1017624195,3415790845,900664540,2762226419,2233869225,3201874261,813276115,59136946,1637584645,2447088894,3357279254,2079560093,4261362317,896400039,769255431,1144244123,1801737168,4148599185,1094619402,4064071017,13338641,1052633223,2792071077,1422229948,1333217343,971399636,1691683824,2296864743,956377274,978378024,475361816,3604413961,1713302819,1494243964,2871680803,1148160339,3846871359,4124741874,554413768,3135660370,3313675503,786891851,32644275,3031562206,3202897537,2344721492,3943080959,2015251295,1240609462,1104241278,708848569,2463665647,138328494,2589270058,2400006541,491720324,2030751849,2132402022,1186863638,516404463,4287955479,2960523180,1340237073,3904408395,2097185945,962559930,881154105,1369838982,2210780189,2762032142,1888478740,1277863808,1664741763,1762402926,4203037831,1943178332,2693681851,1230470904,2180497010,3178051798,493952320,1441299163,867608150,3599878405,3022693714,1494360105,2060345738,2807159006,1002637316,3084487795,2549535738,2855471926,1739880555,275368397,3861031885,2453696804,1550837910,1276274188,789010133,3075094302,240542145,2596467926,3020122112,2654770861,3178362367,1736622356,3591044463,246626548,2550167522,1614382000,1054786640,1779872484,1748653245,2778117317,322110879,2574826555,692385840,3395711717,2458258189,4132272804,283968335,1193795406,885093444,2808980018,1341741889,3180047059,487585933,585788939,892153069,11447930,2106838665,518878182,3723050412,718714733,2103966496,1702994894,911725986,75553951,1149862331,2534409153,455101961,489459503,2302174511,965500619,3069780187,1870235767,2475263181,225252932,1586940166,739118538,3063243152,1108911431,1092033150,1811206702,3607699898,2788596291,2935025129,3564732565,1075588015,1596061254,2108138970,2240023450,2145128565,1809997122,446732304,1719844339,3693303079,3676860903,3862783717,2828199223,815101919,149918743,4201497124,4176069537,2191218997,2754346204,2404331839,1820787998,3261906375,455318769,2931630280,3774296920,2418815944,3934771777,3147928467,192460408,3905896817,2299210082,1925404599,2077531690,3961992125,4234742123,2275022362,3410534808,1653859271,1488368507,3224163841,3785323906,2864693770,68679,1542154841,632979890,2268288056,1962069929,4242471571,478066257,3172617458,3049975969,482138539,1801443829,2482770601,632994774,492281619,2456572105,2235804234,1350955688,1366139519,450141667,2894662301,3480452138,686475630,2299274710,1634204408,3906266459,2402563163,1114575517,3786676085,3240107096,3051853925,2712448804,2174317880,409735099,1864004515,333578712,1777834263,381368633,213880515,295390971,1874195931,2945380105,2370746623,1497124443,2791484849,3437250853,397282333,3502191165,1756169030,2050029881,1867677567,3355718981,2157641925,1377787542,771508329,2424060530,2739268043,1860654448,2313262374,651251576,329523357,3646621323,2434235823,3391433447,2092030554,420927707,3247132915,2352799895,189556564,519754716,3026391059,540285482,1035422779,1900673948,19322076,1832365821,80555539,2128759085,3290954817,2457267550,431915054,3601318094,9290636,4212945483,4035930751,31587683,2829869573,366316217,2610527255,3446303414,3563638333,367449642,699481764,2585362977,3739821290,3738500781,2064788347,519165073,2651985450,4278630835,3216100288,4161740569,402196666,4167390100,3452445870,4168719282,2028166189,2144380813,1702479647,1241984757,3771881036,1401498144,3094174181,2730155986,2303936122,4228924276,2679993159,3169997833,1318154325,1223152199,383332277,1184950195,1607179185,3357280562,2267137462,1765133642,1883119339,2449769496,3225680295,1434554521,730194589,3086681630,2760100794,3884033122,2934877591,3693581658,3685932161,3678668259,1990709208,823880406,2601417597,2867103328,3350964806,2586991166,1669551022,3081893650,2523889298,1592462937,1994880184,1572941612,699641723,993573900,3892897020,2925308452,382707920,2991513270,3997326043,1213309166,2439714629,2378980225,566664818,4215723831,2187605502,249483399,2504556365,157920707,303876937,2810710657,112432996,3902976964,3587488303,541981410,3523312477,3163843956,687573910,3396279734,1134488209,1231410528,4130339331,1484138595,743562255,1825482563,158448787,3813680357,826267381,2006005127,2620737038,2906177537,3008181530,106329183,4163210406,3875125737,2771079641,1223021428,3872394057,551342437,2260881936,840891083,113885511,1824058394,3063181328,2873890817,639351623,202332710,1365361588,783323904,1683661245,3126797121,2965157402,172807260,2968331933,978270229,1049136867,536392636,1752914353,290504135,1070388701,750783939,2400184992,1084267801,1075726234,665472227,518940840,1927623000,2163381133,3447659307,293567290,2272001573,4225295152,1580516567,1147681783,256983915,2052724834,2408322442,4065980270,1970539042,1701466040,724522947,118329064,1024919922,1122159321,3968896780,1330479566,2581812498,53418300,3137755361,2774710902,1126995138,754014457,137788987,2060944757,3637501362,1429927782,1547637021,3245296283,3976032459,204319601,165911910,166838360,2416182110,647081067,4025546938,1105557164,3369782496,1699215320,1305164931,569575334,2617787932,1561872118,2572768499,2665423951,35993013,2323730642,371436634,77922638,1003803030,2986550889,28584867,1589971894,4188142344,1318945768,2151455336,3433836363,65080831,3622165732,1168563704,3666137053,4245393578,4000096581,2916256526,3788750937,3575730033,3169845837,4163489431,2933182481,1540945034,151622415,3425618223,2887861487,26499049,3087163158,2825998674,2625991047,3186257437,99404514,4163278654,3966868725,908570266,2675807511,1341265893,2717177469,3103735104,255601716,2859497776,2007500875,4291917221,1379863790,1281960168,1564964942,4184717757,3025805418,1296250777,2900875978,1247428638,2950639841,3197224956,819042730,3155576286,3602208688,2453028346,721483195,2868737268,4201684211,754865529,123562143,2295208559,2814410876,2001793329,1622956916,1718070895,2239975977,1557682311,902025639,2001090091,2784558570,1932694792,333752919,3857100853,2630477997,4227049119,3935656141,1865303113,967342218,1020128489,4125554743,808633459,2581861696,2247325072,3578142979,2909917686,939498629,4222617163,1137212481,3350730519,34509333,2735631446,580234751,3730365942,209874964,111082143,4070693891,1685135269,350839718,2465260085,1446379571,757044159,1966129832,945458408,1579058065,1818218567,3918880350,207782008,949958575,58537459,3382418441,79278904,3242758893,1438592826,2920774790,478658604,4139939189,761580397,896143516,2277798444,1501506599,2418130974,1764365051,2641138023,2919201990,628776176,3423700524,2616896181,528412493,1800023998,581369815,3757624896,1572543933,2685554132,4030367163,1223760293,833726587,3840814199,499955106,1050886205,1104095665,1814768028,2940191905,2540365214,2222200160,1091539751,178929611,2641273794,1576334238,3057563601,890330282,4130693002,268775629,3329365639,3050803990,3209263396,4047103462,2168842256,1756711881,2355404100,4226042502,3082594566,3168486510,1343087442,1930856226,2814452104,3892015171,1351341047,2455779527,4159461857,3288553784,856092920,1707000006,1305037363,3194270776,3159675966,2994675972,3211308883,3524924053,887967055,1129292486,3474820831,710632536,2461374600,1413625569,2882941255,279713021,4147577648,2563920598,2549699141,4040918846,1528999552,2990776201,2522027872,1660343073,3605226578,2569149581,2951678978,428080255,213041218,4062736998,3262493747,3907047610,750517537,174440365,3556235456,4197794881,1665405576,1463621502,3837257870,570945293,2281683571,628083997,2308645589,3731749665,2724382127,463733723,1416486222,2803323146,198672463,2412076551,2590481568,2927730508,2049850467,386318470,2133264013,2205270879,940467475,103370660,2104569550,3323887176,2345174488,1357531844,3149733791,2791142655,3056717596,819710020,671201420,3026993939,1953424196,738461106,1247767586,803157135,54948478,2179680713,3541075017,3752581875,4158572571,3777676319,576147511,287615914,2574284183,972437908,3694667154,4190430593,280944183,3978755899,519085047,922445720,795789304,1750706768,2059751183,2865733872,2370797610,3179874143,1617549919,491708781,3570771205,2242056977,2127035497,2784738776,695153253,939799563,3542243550,1924239036,2436862558,1031487744,2207470666,1749663395,2657925942,403056388,857544855,2374284311,2406115638,140904248,3217185653,3879253660,1101269655,2235054522,3977940832,783915862,3177453253,4236617925,602399952,2894113622,287102766,749590397,3584123558,1984502711,3437649137,3940155557,1970926101,3340138434,1360342068,350434922,306538161,2379987236,4266811074,2428979753,763044526,1772193500,3830942570,997964965,1230869080,1239310250,2678092942,2726752737,1232665741,1864419265,3204502823,1564569273,1233841683,128000444,2266625629,1451213651,3314990365,295721363,2705521983,2058247531,134234561,2624416957,628278078,1486479966,2635458397,3652363492,2020451768,419478693,3334961251,1631330226,2465461442,1711451453,1833016875,4049910939,3200453038,3999939504,2574549652,1021078689,2079623541,3881554693,688371313,2917624119,1785200676,2484948482,2883094099,310557580,3829913205,3788539851,636028347,1611837871,2971719712,163947788,3516060436,4136483808,914529416,47973260,3019787585,1289400177,3694645491,3948395183,3783012738,3050222398,3722343690,783576998,1660953563,464418648,1382391473,124866368,2623267119,284707094,4123488858,2088132427,761640582,2902451133,572947619,3836796613,1283258867,1507062703,3969859539,3426146574,2989273071,978292932,584456939,3733307722,3575275555,3694580584,69449349,4212268261,1108932452,3470546792,3770076282,3547265409,3575185335,3406074846,2654716550,1381880061,705910764,3151558501,2458756012,2147068952,1138680616,2928995259,2936243032,3807402507,1712154616,3464965759,1001155445,402573022,679268458,745551320,2896672280,2423370082,1811322090,1846643531,2069154559,1275978574,2408178509,1624548857,1404453089,2892794732,1345231358,232690401,3331848642,43175039,4103133070,877382989,1033443551,3114806960,206536458,4200467540,1563065715,1447249812,1330254882,3035658063,3799012639,121852198,550031345,2429143798,3782577451,1057491083,1536954007,2946547789,4167209168,2686556672,2545004690,3682321817,850862254,3775586372,1155722878,2399947232,1307655768,2139859059,2768002663,1403476089,2450573412,2599975362,3263615670,3761647896,2228039858,3994827314,588686862,3472532954,751104912,690648644,478661101,3927933960,2772177474,1406375553,1475762085,1184996995,1755635983,2244012369,1585595075,2391801873,4143140935,3700689245,3218516943,1158776561,2867655796,4145899814,26810633,226627147,3755562305,355310557,1815529997,2960445215,3850445901,1001167315,1285401620,2673530407,1491650762,1036576219,336526827,2005714654,4206790665,2048732296,3350844977,1221654634,3594998409,3262189031,555265360,4267854544,2404702056,4162102717,390803033,514370106,367537785,314787817,1198730520,58091993,4087159575,2734398106,341579580,2469240319,2649745874,4187015522,2793377055,3565930359,1064119978,3105079208,886890724,1519604521,395934131,1814743167,684335648,2170040281,1846407741,1835078082,3523739827,594186155,35150919,97718471,1170486304,3890519079,2175469633,4138243364,3794431691,3339642566,2968516376,4287899350,2736366307,179060155,339994918,3014878806,604633059,2575295247,625078856,1983027033,2928464440,4014818736,525918590,2690754129,3260122223,2174048032,2214110097,1336312691,434035186,1317030423,619173653,3605530624,972541750,2711394037,3253165563,221356955,1557790499,450878196,3296841381,129531636,1289906911,1167641373,2898116561,3235997352,2111003938,1059756262,1038809775,1322221976,824542708,1018797286,14593979,1781521594,1505036994,3091917885,3449727793,2123480580,2282356539,2801901661,34826520,1283887638,1198047737,2392122244,1215320245,4202733712,2186191830,3220743035,1858464497,500793027,3202811974,1913499366,130195765,3069096891,565577594,578082877,2487857358,1704708257,1396395125,3069084334,481043684,117139989,3847635346,128702513,2944927871,1120930144,3132969590,2786489536,253935924,3746800862,2946091480,276287680,1808132490,39404327,1334378059,3576322015,2613863432,1641965881,4258276680,4124539466,1360463913,1840208920,1841415431,487616311,1423018948,419940002,3738496002,3345619581,3541144418,1173302123,2943259663,1020627727,3267114850,4236910796,882810813,2732892828,3073248632,4217041944,2378063711,2488058558,803105660,1668704654,2626784404,546404964,1225634404,1257765332,1501928690,1384931665,2923661718,820077948,2980202298,1499676787,3896092037,404166341,1078673028,2864646833,2735700178,2499803197,2220236575,3185974771,2168767745,2893982580,821497395,95358127,690825737,2545060657,4253852007,93914092,124633641,3817473107,1387719644,3555460157,2625360745,3607962073,1875221867,2962598504,3809820990,2760507411,1243012916,205323906,1144966750,1953959745,1094652199,2086064030,2876750031,142361281,2952837485,1193769298,3433424019,343886551,216393413,3836890859,788166617,4135860111,4131183556,487003685,4196897461,37662866,2651448386,2722730696,154373845,2825752129,3786227092,403960204,829191871,821964309,1266573275,3716040632,341249135,1720634946,2542823824,1184371931,2016374961,3340740310,3823182107,2584589091,1948142942,402894401,3110693309,3573414436,2249557326,4028819835,1599728462,2638764383,2396623242,482958228,2374474719,1439255989,2513121065,4223506107,829583637,591799482,3670416547,3233457351,1917576878,1202257487,2867642217,3101158932,3624331092,294460410,2554613953,1263322663,3666566538,4267547198,3250901216,3749002100,1841878082,3018442317,441536343,1791000628,2998962959,1253019176,2455308035,2980101097,2146437971,1221514274,4028660377,2786424556,19531439,4026963679,2691345090,3813317847,1314904009,700213538,104395904,2056621535,2141476083,3813774169,1201562999,2793144122,822037830,4041790430,986646206,1359443219,1841702797,32213363,3651925095,2706412790,2589642243,3262003004,275141026,4001532389,2883760415,1536539428,1782903719,954351614,323107448,221460451,1112197553,209374351,65921675,945594785,3103085096,3617212314,585270386,439444193,3853257163,943821167,4243096933,723465055,1378683540,2531828175,310586783,3762256498,552725454,2057038260,2075455779,2319338978,3692991261,4278667699,132275401,1242529099,2084737299,2815637461,3676654126,2016146308,841113347,3556824596,268860517,2508673092,1853673017,926091278,2152309259,801562729,863636143,1439833509,1218605199,1138118478,747930828,2360319432,3742267085,1954864980,1084605411,3075053626,1653776927,2585970035,343998909,1321615676,1946516960,2805698082,3637432268,4148524716,1802366448,3530572068,603539361,2750680747,2915240888,3728946196,248183498,2465871778,2127958495,3877499922,2504248034,3982449284,3081808684,3248989878,241089764,3966982693,2883966370,2301095528,1412967172,2944613906,2209740136,2290132931,4022092259,557546096,2337024686,3091390647,3306309089,2791974772,2819025701,2697432443,2817446743,3305510469,302252734,2426998852,2206726791,1192632119,2879362625,2844653438,4049705054,2707848257,1359111002,2581974653,23689200,1186253460,1535101539,3303536902,3025518705,866309736,3685495417,3727323439,1789268665,3640558639,609439488,2381294996,1939181975,1641996751,3571681377,3726463241,3292251,3580448903,445233795,2543652714,2087265584,3626897190,791427814,1877408663,90352224,1981902696,1391829617,3398828803,4235518201,3245136082,2314249739,1331224049,2950572714,1223079964,801060376,2396544861,566740608,2992979496,1667814749,3656735789,2375077428,120625950,2843784317,4243079941,4228348313,1421449669,2157777605,3048160560,2572095722,3272175034,2633500818,1210872825,821987456,570154376,2851961405,3274025309,1690470443,806586992,3647552375,583166072,3510178522,3721516220,992987587,3635927601,689413623,1374332558,2271701730,2815547145,370350556,505987526,2366939622,1037432833,3124361038,3732727634,2370662093,549044430,2237138504,43631090,2947884015,446626812,4085578708,1516909315,4262234965,3432197266,587627997,3787335098,4244167219,2098686288,3331249495,1830595235,3269848014,819864062,2031011475,3958659256,2676226858,109512978,4213882917,39539325,350870524,508550688,335315118,729918331,2956608199,1407029553,2542586938,921188044,4271461026,1147344793,1325423368,3505767055,3033375323,2339762063,3287681515,4286802079,2720980985,1648515583,2143441912,4221245269,3109378473,1255888656,1483537737,2892826664,1596823150,2816564582,885143001,4238133138,2234840682,91672524,1359907078,1514732285,4226659764,2740863457,569529449,3049450969,833529186,3085079276,3390781309,1069254162,2143672688,3917581149,2710365215,2694523701,3286128616,139523045,2134829054,2881589189,2724179980,2136263797,2670734690,1580540831,1243293607,2032905651,4171357082,110092418,74695681,86744717,2716546603,3101333648,2754777781,74106415,4124599675,3755241901,2291614002,1779705148,3847428751,1749597286,3326510148,2645057827,3748854394,4117941028,83388852,303710805,2917538882,3089862076,4222949520,2793734992,3426309484,1266017618,1065446069,3389134414,2408590910,3458640322,1830164844,1995556655,1524280137,3959274493,2048372181,3440567046,834717864,1475961483,3892529245,2848755016,587816708,3869593018,1760958294,2111990345,2207387059,85763182,900365818,2411062120,1367650500,3206285838,3643681280,3122664503,1876085673,3326744088,1222452315,501774567,111594859,131423044,3910319101,3499811992,4039543166,2467081114,1103658449,754101839,1967122624,3705499152,3651735217,4058791900,2595930723,2222274875,112912966,2977016709,1708207110,2364250433,1785874247,2218356769,4127240997,3512359822,3857277320,3536167414,2231817259,2088934199,798269706,2755892467,1471644447,51812980,1087388873,769875360,301026753,3131354073,2641400159,2176482852,485580415,1502586384,3980945211,2918198447,669330744,4254008376,3066471265,718227940,2475055632,1448249006,478283066,96451103,3401993227,1754753420,3879533332,4204314652,977446430,1659620524,2116076213,3667541791,722308002,122672518,4016022836,645044210,2926701747,3074951543,144400696,3756468312,429561728,3967667804,3344995004,2285470340,1180373052,1496786234,248004111,2854813316,881784873,4187010453,2542861639,737918859,2314086752,4140370277,229039773,4062282898,1919734398,3841323530,256712148,2390309924,1702604788,1383101106,1911935606,2617970170,682055961,2304482988,2935074028,2359804823,4124600450,4142680688,3801700946,2504520014,2622410815,861852740,2124182030,729418215,2565859273,2241513991,3673925742,242199665,3913543830,147268353,2769916141,3351689770,3723800580,3626778187,3407441946,4217724885,3667056760,2036824779,584230306,639348534,3552760847,2979949034,2598224060,4005564391,4186241457,2720440409,755073827,3154934573,925182864,4080328198,3416056196,3059413058,266483709,75455036,3242789885,3661170569,1158954787,821400635,713774319,38434836,546144805,3723169844,249670266,1017206301,3386769452,3601893772,366859986,188386863,861071935,513719165,1976498608,512507715,2289877672,3749543422,2485691461,2453146058,2815666792,4092079990,165608897,382573980,22247599,3635662305,633912500,829340963,1292996769,738597928,2441566411,3006360054,1392412969,55213187,1452557925,3973533385,2443126495,627697350,1470172099,481428063,2416584158,1286754782,3015407520,2395096220,556060098,3253863037,3265135087,173158854,651995705,375020019,2390304145,1457016316,1970739670,1107998927,1183442910,3701751272,1907225522,1089256397,1163182444,3879595374,73804247,873781158,2502315387,2914727162,911145922,2427916030,2668174764,4044513685,2525628198,1810371211,335565652,959895424,1482365760,1425266383,3148702112,1258196929,4126674109,2558809666,2105523826,2420263916,2383425021,645979184,3191067235,2683877764,1585385400,1405167027,4166552228,594796029,257368016,4026512454,1967182684,3589818940,1109839917,1674754430,48200128,1694579652,617764284,1138612230,729550462,3612717026,1639140117,1175907543,4038663541,735415427,2723492558,4051656159,1932054521,1023131364,2457921749,1242532004,1316027196,2003106720,412383185,3050007047,2447155426,163262313,744191471,1036284654,197446423,925782502,2900324561,4264355457,509057214,1410154931,2431022373,4049000031,1636776401,3131687392,364636120,3125714426,2183858225,784654148,3887743277,1062883526,550860319,2913033823,270854926,3357103678,1308184362,2768649254,3220752699,4038790256,1580587956,533661577,645986547,2439923032,1640184544,1303309974,2470888510,1659335908,2398310417,2259971553,1368073425,3999732940,2910031544,2579170254,1280795615,3168000387,1244782302,1798694526,3826782846,1864388282,1342706131,207250093,387090276,1098545971,2898858314,3764820392,2189907880,2082780515,2916142963,1534515196,3633530918,3717517009,3274783874,1250213875,801622264,1997425053,483278400,2534310874,1552347564,3997182690,189928357,2297790880,2193625392,248393218,4259971358,2914994404,1064182059,1946808272,1120157362,3080748191,2086104994,3689788777,773716580,2037971409,4161869323,4096120303,2711812144,4074752502,3075638393,2402660069,1977736042,4039462570,3098929878,2267661253,245909532,4202397973,2513375264,1620516173,1117090892,2286953474,201047030,2893992893,239559737,2195508919,3654526718,3533204794,755851014,698421065,3886203953,328132743,2966808456,1242288106,2759417576,4178312980,3932996920,4215408462,1337021944,3262506241,1751765340,900118085,271762900,2614363756,3770052672,1615370489,1728598390,219065969,2153946469,2582772628,497270841,1208061635,2330766704,2497558831,1228734705,1677481463,3939354698,2539385354,3873056312,1126486531,3054904163,2190951647,1410181487,2278446366,2799200605,1302688591,3797529331,1728120558,3957759679,2555334066,716781730,3561301958,3405272964,919240291,4043676615,2678960408,1598239882,1285038988,2656318845,2506410498,2023929437,668306137,1137600967,2506369008,2476739692,53388928,2760163108,621034414,3107127406,502594262,2439174329,613550136,3074406944,695676949,2670822062,3155973194,411888343,908516407,2651047205,2893525538,391014994,2561253912,3823601947,3542253098,1322970775,549041824,3193999823,1469734709,3309762385,2872993613,2426628339,3748748184,971344373,1104148671,1994771056,4079721472,2693919486,1582652552,3996768561,2112063720,2817873155,985217174,2113282821,457445792,313318644,3538032170,545352466,249798145,2589716740,1738005683,745412884,2985763225,3131084898,493797310,1223765712,2027976180,223473321,2156421634,7927217,2913808054,3457465911,4252678007,1945554952,3485085521,1257757222,3263161519,3362859839,1351668575,2244078109,979649224,1052208683,2636711809,748102755,850284763,3067645485,2966645812,4072979608,3536278100,3814076943,2602064862,2888718056,664310143,1107357007,3298120471,2430902736,2708882947,83136123,1390202445,2505826124,3966708606,3627565083,561294011,1121436256,2054682324,3643972991,4078867373,750158263,3553121536,2954955928,2476175664,2176049333,3496421356,2146169914,3571572637,3681762005,2259393901,2006360208,631765832,1072000245,1294007304,3241677179,4082244090,237028384,567274550,3801196067,3754836601,1046062555,2610492085,929877971,2712667506,2718987818,399673992,3080669362,3219692873,1661971156,667980299,2122981226,275953977,1492373413,3060924986,164861959,2032974619,911000740,675439937,3564842079,3003118313,124056010,2025542348,1398107834,4179462532,3396100618,3353738584,3244557827,2524279206]")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{var e={};__webpack_require__.r(e),__webpack_require__.d(e,{Schemable:()=>Wa,URI:()=>za,UnknownArray:()=>Ia,UnknownRecord:()=>xa,WithRefine:()=>Ha,WithUnion:()=>Va,WithUnknownContainers:()=>qa,alt:()=>Ua,array:()=>Oa,boolean:()=>Sa,compose:()=>Ba,id:()=>Ga,intersect:()=>Na,lazy:()=>ja,literal:()=>ba,nullable:()=>ka,number:()=>wa,partial:()=>Ca,readonly:()=>La,record:()=>Pa,refine:()=>Ea,string:()=>_a,struct:()=>Ta,sum:()=>Ma,tuple:()=>Ra,type:()=>Aa,union:()=>Da,zero:()=>Fa});var t=__webpack_require__(90361);const n=(0,t.DV)((()=>browser),(()=>self.browser)),r=(0,t.DV)((()=>browser),(()=>self.browser));self.chrome=self.chrome;class o extends Error{constructor(e){super(`Assertion failed: ${e?"string"==typeof e?e:e():"(unnamed)"}`)}}function a(e,t){if(!e)throw new o(t)}function s(e,t){if(null==e)throw new o((()=>t?`Expected ${t} to be non-null`:"Expected non-null"));return e}var u,c,l,d,p,h,f,g,m,y,v,b,_,w,S,I,x,E,k,T;function A(e,t){return[].concat(...e.map(t))}function C(e,t){return e.filter((e=>!!e)).join(t)}!function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariWebExt",safariIOSWebExtension:"safariIOSExt"};function n(e,n,r){return"retail"===r&&"safariIOSWebExtension"===n?"safariIOSExt-retail":"edge"===e?"chromiumEdgeExt":t[n]}e.getAppName=n,e.create=function(e,t,r,o){return{appName:s(n(e,t,r),"gnar app name"),url:`https://gnar.${o}`,domain:`.${o}`,sendEmailInfoTracking:!0,sendFluidExperimentData:!1}}}(u||(u={})),function(e){const t={chromiumWebExtension:"extensionChrome",firefoxWebExtension:"extensionFirefox",safariAppExtension:"extensionSafari",safariWebExtension:"extensionSafariWeb",safariIOSWebExtension:"extensionSafariIOS"};e.create=function(e,n,r,o){return{appName:"retail"===r&&"safariIOSWebExtension"===n?"extensionSafariIOS-retail":"edge"===e?"extensionEdge":s(t[n],"felog app name"),sendUsageMetrics:!0,sendPerfMetricsType:"dev"===o?"local":Math.random()<=.01?"send":"off"}}}(c||(c={})),function(e){const t={chromiumWebExtension:"extension_chrome",firefoxWebExtension:"extension_firefox",safariAppExtension:"extension_safari",safariWebExtension:"extension_safari_web",safariIOSWebExtension:"extension_safari_ios"},n={regular:"inline",retail:"retail_demo"};e.create=(e,r,o)=>({clientType:"edge"===e?"extension_chromium_edge":s(t[r],"capi client type"),clientSubType:s(n[o],"capi client subType")})}(l||(l={})),function(e){e.create=function(e){return{urls:{fetchMessages:`${e}/api/v1/messages`,acknowledgeMessage:`${e}/api/v1/messages/acknowledge`,dismissMessage:`${e}/api/v1/messages/dismiss`}}}}(d||(d={})),function(e){e.create=function(e){return{urls:{getInAppMessages:`${e}/api/inApp/getMessages`,track:`${e}/api/events/track`,trackInAppOpen:`${e}/api/events/trackInAppOpen`,trackInAppClose:`${e}/api/events/trackInAppClose`,trackInAppConsume:`${e}/api/events/inAppConsume`,trackInAppClick:`${e}/api/events/trackInAppClick`,userUpdate:`${e}/api/users/update`}}}}(p||(p={})),function(e){e.create=function(e){return{urls:{getJWTToken:`${e}/token`}}}}(h||(h={})),function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariWebExt",safariIOSWebExtension:"safariIOSExt"};e.create=function(e,n){return{xClientType:"edge"===e?"chromiumEdgeExt":t[n]}}}(f||(f={})),function(e){let t;var n;n=t=e.GrStaticUrl||(e.GrStaticUrl={}),n.toGrStaticUrl=e=>"https://assets.extension.grammarly.com/"+e}(g||(g={})),function(e){e.create=function(t,n,r,o,i){const a="safari"===t?"disableAppsPromotion=true":"";function s(e){const t=`https://${e}.${n}`;return(e="",n="")=>{const r=C([a,n],"&");return C([t+e,r],"?")}}const u=s("www"),c=s("app"),l=s("account"),d=s("redirect"),p=e.GrStaticUrl.toGrStaticUrl,h=`https://data.${n}`,f=`https://auth.${n}/v3`,g=`https://auth.${n}/v4`,m=`https://capi.${n}/api/configuration/cheetah/v1/settings`,y=`https://capi.${n}`;return{accountSubscription:l("/subscription"),accountSubscriptionAddBillingInfo:l("/admin/subscription","popup=add_billing_info"),adminAccountSubscription:l("/admin/subscription"),accountAdminSubscriptionAddBillingInfoToUngatedTrial:l("/admin/subscription","popup=ungated_trial"),app:c(),appPersonalDictionary:l("/customize"),capi:`wss://capi.${n}/freews`,capiStatic:`wss://capi.${n}/freews`,capiGDocs:`wss://capi.${n}/gdocs`,dapi:h,cheetahSettings:m,editorDictionary:c("/profile/dictionary"),desktop:u("/desktop"),dictionary:`https://capi.${n}/api/defs`,docs:c("/docs"),docsApi:`https://dox.${n}/documents`,newDoc:c("/docs/new"),tokens:`${g}/api`,auth:f,userOrAnonymous:`${f}/user/oranonymous`,signin:u("/signin"),signup:u("/signup"),dialect:`${y}/api/configuration/language/v1/settings`,fbSignin:u("/signin","fromExtensionFb=true"),fbSignup:u("/signup","fromExtensionFb=true"),googleSignin:u("/signin","fromExtensionGoogle=true"),googleSignup:u("/signup","fromExtensionGoogle=true"),resetPassword:u("/resetpassword"),newFelog:r,sumoLogic:o,vmetrics:i,welcomeC:u("/extension-success"),afterInstall:u("/after_install_page/"),upgrade:u("/upgrade"),planComparison:u("/plans"),businessHomepage:u("/business"),businessPricing:u("/business/pricing"),businessStyleGuide:u("/business/styleguide"),businessBrandTones:u("/business/brand-tones"),uninstall:u("/extension-uninstall"),terms:u("/terms"),policy:u("/privacy-policy"),californiaPolicy:u("/privacy-policy#for-california-users"),extensionSuccess:u("/extension-success"),firefoxPrivatePolicy:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/privacy/",dynamicConfigUrl:"https://config.extension.grammarly.com/dynamicConfig.json",pageConfigUrl:"https://config.extension.grammarly.com/browserplugin/config.json",grammarlyDomain:n,grammarlyProtocol:"https:",redirect:d("/redirect"),snippetsApi:`https://goldengate.${n}/snippets/v1/snippets`,snippetsNew:l("/admin/snippets","action=create"),snippetsAdmin:l("/admin/snippets"),snippetsSettings:l("/customize/snippets"),clientControlsApi:`https://goldengate.${n}/client-controls`,readerMailApi:{summaries:`${y}/api/v2/reader/process`,annotations:`${y}/api/v2/reader/annotate`,eventsV1:`${y}/api/v3/reader/events`},freeEmailDomainsSortedList:p("reader/free-email-domains.json"),suggestionsSettings:l("/customize/suggestions"),allSettings:l(),styleGuideSettings:l("/admin/style-guide"),writingStyleSettings:l("/admin/style-guide-writing-style"),brandTones:l("/admin/brand-tones"),grammarlyIdeasSelf:c("/ideas/grow/self"),grammarlyIdeasPeer:c("/ideas/grow/peer"),grammarlyIdeasSales:c("/ideas/sales"),iOSApp:"grammarly://home",standWithUkraine:u("/stand-with-ukraine"),standWithUkraineBlockedUserPing:"https://rwsgfy.grammarly.com/stand-with-ukraine",tourGdocs:u("/tour-gdocs"),assets:{assistantOnboardingTourGif:p("assets/assistant/assistant-onboarding-tour"),ownerActivationIPMHeader:p("assets/ipm/owner-activation-ipm-header"),graduationIpmSvg:p("assets/ipm/graduation-campaign-ipm"),writingProgressIpmGif:p("assets/ipm/writing-progress-ipm-header"),onboardingTour:{inlineSuggestionsPreviewImage:p("assets/onboarding/inline-suggestions-preview-image.jpg"),inlineSuggestionsAnimation:p("assets/onboarding/inline-suggestions.mp4"),clickToAcceptAnimation:p("assets/onboarding/click-to-accept.mp4"),happyWritingAnimation:p("assets/onboarding/happy-writing.mp4")},knowledgeHubOnboardingTour:{step1:p("assets/knowledgeHubOnboarding/kh-onboarding-step1.mp4"),step2:p("assets/knowledgeHubOnboarding/kh-onboarding-step2.mp4"),step3:p("assets/knowledgeHubOnboarding/kh-onboarding-step3.mp4")}},support:`https://support.${n}/hc/en-us/requests/new#/`}}}(g||(g={})),function(e){const n="grammarly.com",r="qagr.io",o="ppgr.io";e.create=function(e,i,a,s){const m=(e,n,r,o,i)=>"prod"===s?e:"qa"===s?n:"dev-qa"===s?r:"dev-preprod"===s?o:"dev"===s?i:void(0,t.vE)(s),y="https://127.0.0.1:8000",v=m("https://f-log-extension.grammarly.io",y,y,y,y),b=m("https://endpoint2.collection.us2.sumologic.com/receiver/v1/http/ZaVnC4dhaV1OF-4ic11yqpre0casnyvs_ZoaCHciEYdRyBkrfwP6DMlsWt8tSVU76RPqgGvAGjXGQk_UNuxPx-pYbToJapM_Fr0CUcgKaA8_IVl-lhSr5Q==",y,y,y,y),_=m("https://femetrics.grammarly.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.ppgr.io/batch/import","https://femetrics.qagr.io/batch/import"),w=m(n,r,r,o,r),S=m(n,r,r,o,n),I=m("https://chipmunk.grammarly.com","https://chipmunk.qagr.io","https://chipmunk.qagr.io","https://chipmunk.ppgr.io","https://chipmunk.qagr.io");return{url:g.create(e,S,v,b,_),gnar:u.create(e,i,a,w),felog:c.create(e,i,a,s),capi:l.create(e,i,a),chipmunk:d.create("https://chipmunk.grammarly.com"),iterable:p.create("https://api.iterable.com"),mise:h.create(I),auth:f.create(e,i),extensionId:"87677a2c52b84ad3a151a4a72f5bd3c4"}}}(m||(m={})),function(e){e.create=function(e,t,n,r,o,i,a,s){const u=void 0!==i&&void 0!==a?i:"UNVERSIONED",c=`${e}.${t}.${n}`,l=["prod"!==o?o:null,u!==r?u:null].filter((e=>!!e)).join(".");return{version:c,fullVersion:`${c}-${[r,l].filter((e=>""!==e)).join("/")}`,commitHash:a,gitBranch:i,manifestVersion:s}},e.getManifestVersion=function(e,o,i){switch(e){case"safariAppExtension":switch(o){case"bg":case"popup":return i.safari.extension.displayVersion;default:return}case"chromiumWebExtension":return i.chrome.runtime.getManifest().version;case"firefoxWebExtension":return n.runtime.getManifest().version;case"safariWebExtension":case"safariIOSWebExtension":return r.runtime.getManifest().version;default:return(0,t.vE)(e)}}}(y||(y={})),function(e){e.create=function(e){return(0,t.cq)(["chrome","safari","firefox","edge"],e)},e.isValidTargetBrowser=function(e){return["chrome","safari","firefox","edge"].includes(e)},e.detect=function(e){return e.chrome&&/google/i.test(e.navigator.vendor)?e.navigator.userAgent.indexOf("Edg")>-1?"edge":"chrome":-1!==e.navigator.userAgent.indexOf("Firefox")?"firefox":/^((?!chrome).)*safari/i.test(e.navigator.userAgent)?"safari":void 0}}(v||(v={})),function(e){e.create=function(e){return(0,t.cq)(["dev","prod","qa","dev-qa","dev-preprod"],e)}}(b||(b={})),function(e){e.create=function(e){return(0,t.cq)(["regular","retail"],e)}}(_||(_={})),function(e){e.create=function(e){return(0,t.cq)(["chromiumWebExtension","firefoxWebExtension","safariAppExtension","safariWebExtension","safariIOSWebExtension"],e)}}(w||(w={})),function(e){e.create=function(e,t,n,r,o){return{browser:e,extensionType:t,deploymentType:n,env:r,context:o}}}(S||(S={})),function(e){e.create=function(e){return{type:v.detect(e)||"other"}}}(I||(I={})),function(e){e.create=function(e){return{isWindows:-1!==e.navigator.appVersion.indexOf("Win"),isMac:-1!==e.navigator.appVersion.indexOf("Mac"),isChromeOS:-1!==e.navigator.appVersion.indexOf("CrOS")}}}(x||(x={})),function(e){e.create=function(e){return{browser:I.create(e),os:x.create(e)}}}(E||(E={})),function(e){function t(e,t,n,r,o,i,a){return{env:e,major_number:t,build_number:n,release_number:r,git_branch:o,git_commit:i,manifest_version:a}}e.create=t,e.fromBrowserify=function(){return t("prod","14","1112","0","UNVERSIONED","UNVERSIONED","3")}}(k||(k={})),function(e){e.getTargetEnv=function(e){if(!e.env)throw new Error("processEnv.env is null or undefined");const t=b.create(e.env);if(!t)throw new Error(`Invalid processEnv.env: ${e.env}`);return t},e.create=function(e,n,r,o,i,a){const s=[i.major_number,i.build_number,i.release_number].map(t.wU);let u;if(3===s.length&&s.every((e=>void 0!==e)))u=s;else{let e;try{e=y.getManifestVersion(n,o,self)}catch(e){}const r=(e||"").split(".").map(t.wU);u=3===r.length&&r.every((e=>void 0!==e))?r:[0,0,0]}const[c,l,d]=u;return{buildInfo:y.create(c,l,d,e,a,i.git_branch,i.git_commit,i.manifest_version),bundleInfo:S.create(e,n,r,a,o),appConfig:m.create(e,n,r,a),systemInfo:E.create(self)}}}(T||(T={}));const O=new t.xB((()=>{throw new Error("Global config not initialized")}));let P=()=>O.get();function R(){return P()}function N(){return"firefox"===R().bundleInfo.browser}function D(){return"safari"===R().bundleInfo.browser}function M(){return"edge"===R().bundleInfo.browser}function j(){return"chrome"===R().bundleInfo.browser||M()}function L(){return"bg"===R().bundleInfo.context}function U(){return R().bundleInfo.browser}function F(){return R().buildInfo.version}function B(){return R().bundleInfo.env}function G(){return R().appConfig.url}function z(){return R().appConfig.felog.appName}function W(){return R().appConfig.gnar.appName}function q(){return R().appConfig.url.grammarlyDomain}function V(e="/"){return`https://${q()}${e}`}const H=e=>e.startsWith("chrome-extension")||e.startsWith("moz-extension")?e.replace(/\/$/,""):V("");class ${constructor(e){if(this.capacity=e,this._start=0,this._end=0,this._isFull=!1,e<=0)throw new Error("Invalid capacity "+e);this._buffer=new Array(e)}get size(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length}get isEmpty(){return 0===this.size}get isFull(){return this._isFull}get head(){return this.isEmpty?null:this._buffer[this._start]}get tail(){return this.isEmpty?null:this._buffer[0===this._end?this.capacity-1:this._end-1]}enqueue(e){let t=null;return this.isFull&&(t=this._buffer[this._start],this._startInc()),this._buffer[this._end]=e,this._endInc(),this._start===this._end&&(this._isFull=!0),t}dequeue(){if(this.isEmpty)return null;const e=this._buffer[this._start];return this._buffer[this._start]=null,this._startInc(),this._isFull=!1,e}delete(e){const t=this._buffer.indexOf(e);if(t>=0){if(t<this._end){for(let e=t;e<this._end-1;e++)this._buffer[e]=this._buffer[e+1];this._buffer[--this._end]=null}else{for(let e=this._start;e<t;e++)this._buffer[e+1]=this._buffer[e];this._buffer[this._start]=null,this._startInc()}return this._isFull=!1,!0}return!1}_startInc(){this._start++,this._start===this.capacity&&(this._start=0)}_endInc(){this._end++,this._end===this.capacity&&(this._end=0)}clear(){this._buffer=new Array(this.capacity),this._start=this._end=0,this._isFull=!1}toArray(){let e;if(this.isEmpty)e=[];else if(this._start<this._end)e=this._buffer.slice(this._start,this._end);else{e=new Array(this.size);let t=0;for(let n=this._start;n<this.capacity;++n,++t)e[t]=this._buffer[n];for(let n=0;n<this._end;++n,++t)e[t]=this._buffer[n]}return e}}var K;!function(e){e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL"}(K||(K={}));const Y={[K.TRACE]:1,[K.DEBUG]:2,[K.INFO]:3,[K.WARN]:4,[K.ERROR]:5,[K.FATAL]:6};function J(e){return Y[e]||0}class X{constructor(e){this.name=e,this._isError=e=>{const t=e;return t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}trace(e,t,n){this._logMessage(K.TRACE,e,t,n)}debug(e,t,n){this._logMessage(K.DEBUG,e,t,n)}info(e,t,n){this._logMessage(K.INFO,e,t,n)}warn(e,t,n){this._logMessage(K.WARN,e,t,n)}error(e,t,n){this._logMessage(K.ERROR,e,t,n)}fatal(e,t,n){this._logMessage(K.FATAL,e,t,n)}_logMessage(e,t,n,r){const o={level:e,loggerName:this.name,message:t,timestamp:Date.now()};n&&(this._isError(n)?o.exception=n:o.data=n),o.data=o.data||r,this.handleEvent(o)}}class Q{constructor(e,t){this.name=e,this._createLogger=t}trace(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.trace(e,t,n)}debug(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.debug(e,t,n)}info(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.info(e,t,n)}warn(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.warn(e,t,n)}error(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.error(e,t,n)}fatal(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.fatal(e,t,n)}isHistoryEnabled(){return!1}isAdvancedHistoryEnabled(){return!1}}var Z;function ee(e,t){const n={};return Object.keys(t).forEach((r=>n[r]=e(r,t[r]))),n}function te(e,t){const n={};return Object.keys(t).forEach((r=>{e(r,t[r])&&(n[r]=t[r])})),n}function ne(e){return Object.entries(e)}function re(e){const t={};for(const[n,r]of e)t[n]=r;return t}!function(e){e.create=function(e,t){return new Q(e,(()=>we().logger.create(e,t)))}}(Z||(Z={}));const oe=e=>e===Object(e)&&!Array.isArray(e);function ie(e,...t){if(!t.length||!oe(e))return e;const n=e,r=t.length;for(let o=0;o<r;o+=1){const r=t[o];if(oe(r))for(const t in r)if(r.hasOwnProperty(t)){const o=r[t],i=e[t];oe(o)?(i&&oe(i)||(n[t]={}),ie(n[t],o)):Array.isArray(i)&&Array.isArray(o)?n[t]=Array.from(new Set(i.concat(o))):n[t]=Array.isArray(o)?Array.from(o):o}}return e}function ae(e,t){if(e===t)return!0;if(se(e)||se(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){if(!(n in t))return!1;if(!ae(e[n],t[n]))return!1}return!0}function se(e){return e!==Object(e)}var ue;!function(e){function t(e){return{message:e.message,stack:e.stack}}e.normalizeExeption=t,e.normalizeData=function e(n){try{return self.HTMLElement&&n instanceof self.HTMLElement?{type:(r=n).nodeName,html:r.outerHTML,attributes:Array.from(r.attributes).reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{})}:n instanceof Error?t(n):Array.isArray(n)?n.map((t=>e(t))):oe(n)?Object.keys(n).reduce(((t,r)=>({...t,[r]:e(n[r])})),{}):n}catch(e){return Z.create("HistoryLogNormalizer").error("cannot normalize data",e,n),n}var r}}(ue||(ue={}));const ce="common";function le(e,t=!1){return null!==e&&(e>Date.now()||e<0)||t&&0!==e}function de(e){return e===ce?"common.":""}class pe{constructor(e){var t;this._historyArgs=e,this._historyBuffers={},this.isHistoryEnabled=()=>{var e;return Boolean("prod"!==B()||(null===(e=this._historyArgs.enabledInProd)||void 0===e?void 0:e.get()))},this.isAdvancedHistoryEnabled=()=>{var e,t;return Boolean("prod"!==B()||(null===(e=this._historyArgs.enabledInProd)||void 0===e?void 0:e.get())&&(null===(t=this._historyArgs.enableAdvancedInProd)||void 0===t?void 0:t.get()))},this.getLogs=()=>Object.entries(this._historyBuffers).map((([e,t])=>t.toArray().map((t=>({...t,data:ue.normalizeData(t.data),loggerName:de(e)+t.loggerName,exception:t.exception?ue.normalizeExeption(t.exception):void 0}))))).flat(),this._updateBackupStorage=()=>{var e;null===(e=this._historyArgs.backupStorage)||void 0===e||e.set(this._getBuffer(null).toArray())},this._initCliCommands(),this._historyBuffers.common=new $(null!==(t=this._historyArgs.maxEventsToStore)&&void 0!==t?t:1e3)}_getBuffer(e){return e?(this._historyBuffers[e.name]||(this._historyBuffers[e.name]=new $(e.settings.limit)),this._historyBuffers[e.name]):this._historyBuffers.common}pushLog(e,t){this._getBuffer(e).enqueue(t),this._updateBackupStorage()}_initCliCommands(){self.GRIsDebugEnabled=()=>this.isHistoryEnabled(),self.GREnableHistoryLogger=(e=60)=>{var t,n;null===(n=(t=this._historyArgs).enableHistoryLoggerUntil)||void 0===n||n.call(t,Date.now()+60*e*1e3)},self.GRDisableHistoryLogger=()=>{var e,t;null===(t=(e=this._historyArgs).disableHistoryLogger)||void 0===t||t.call(e)}}static create(e){return e.isBG?new he(e):new fe(e)}}class he extends pe{constructor(e){super(e),this._historyArgs=e,this._syncInitialStateWithStorage()}_syncInitialStateWithStorage(){var e;null===(e=this._historyArgs.backupStorage)||void 0===e||e.get().then((e=>{if(!e)return;const t=this._getBuffer(null),n=t.toArray();t.clear(),e.forEach((e=>t.enqueue(e))),n.forEach((e=>t.enqueue(e))),this._updateBackupStorage()}))}}class fe extends pe{}class ge extends X{constructor(e,t,n,r){var o,i;super(e),this._config=t,this._historyLogsService=n,this._loggerSettings=r,this._buffer=(null===(o=this._loggerSettings)||void 0===o?void 0:o.historyBufferSettings)?{name:this.name,settings:null===(i=this._loggerSettings)||void 0===i?void 0:i.historyBufferSettings}:null}handleEvent(e){var t,n;this._config.filterFn(e)&&!(null===(t=this._loggerSettings)||void 0===t?void 0:t.skipWriteToConsole)&&this._config.writer.write(e),this._historyLogsService.isHistoryEnabled()&&!(null===(n=this._loggerSettings)||void 0===n?void 0:n.skipWriteToHistoryLogger)&&this._historyLogsService.pushLog(this._buffer,e)}isHistoryEnabled(){return this._historyLogsService.isHistoryEnabled()}isAdvancedHistoryEnabled(){return this._historyLogsService.isAdvancedHistoryEnabled()}}function me(e){return new Proxy({},{get(t,n){const r=e[n];return r&&"function"==typeof r?r.bind(e):void 0}})}var ye;!function(e){e.LEVEL={[K.TRACE]:"color: white; background: orange;",[K.DEBUG]:"color: black; background: #ffdc00;",[K.INFO]:"color: black; background: #abdcfb",[K.WARN]:"color: white; background: darkorange;",[K.ERROR]:"color: white; background: red;",[K.FATAL]:"color: white; background: darkred;"},e.GRAMMARLY="color: black; background: #bada55;";const t=new Map;function n(e,t){return e+Math.floor(Math.random()*(t-e+1))}function r(e){return`color: ${e.isDark?"white":"black"}; background: rgb(${e.red}, ${e.green}, ${e.blue})`}e.getLoggerName=function(e){const o=t.get(e);if(o)return r(o);const i=n(0,255),a=n(0,255),s=n(0,255),u={red:i,green:a,blue:s,isDark:Math.sqrt(i*i*.299+a*a*.587+s*s*.114)<127.5};return t.set(e,u),r(u)},e.RESET_DEFAULT="color: reset;",e.RESET_DEBUG=`color: ${self.matchMedia&&self.matchMedia("(prefers-color-scheme: dark)").matches?"white":"black"};`,e.getReset=function(t){return t!==K.TRACE&&t!==K.DEBUG?e.RESET_DEFAULT:t===K.TRACE||t===K.DEBUG?e.RESET_DEBUG:e.RESET_DEFAULT},e.outputLog=function(e){return[`grm ${e.level} [${e.loggerName}]  ${e.message}`]}}(ye||(ye={}));class ve{constructor(){this._writeFunc=ve._commonWriteFunc}write(e){try{const t=ye.outputLog(e);e.data&&t.push(e.data),e.exception&&t.push(e.exception),this._writeFunc[e.level].apply(null,t)}catch(e){}}}ve._commonWriteFunc=function(){const{debug:e,info:t,warn:n,error:r}=me(console);return{[K.TRACE]:e,[K.DEBUG]:e,[K.INFO]:t,[K.WARN]:n,[K.ERROR]:r,[K.FATAL]:r}}();var be=__webpack_require__(38983);class _e{static getInstance(){if(void 0===this._instanceShared)throw new Error("Env not inited yet");return this._instanceShared}static initShared(e){if(void 0!==this._instanceShared)throw new Error("Env already inited");this._instanceShared=e}constructor(e,t=be.h.create(!1),n=be.h.create(!1)){this._enableHistoryLoggerInProd=t,this._enableAdvancedHistoryLoggerInProd=n,this.enableHistoryLoggerInProd=(e=!0)=>{e&&!this._enableHistoryLoggerInProd.get()?(console.warn("Debug reports have been enabled"),this._enableHistoryLoggerInProd.set(!0)):!e&&this._enableHistoryLoggerInProd.get()&&(console.warn("Debug reports have been disabled"),this._enableHistoryLoggerInProd.set(!1))},this.enableAdvancedHistoryLoggerInProd=(e=!0)=>{e&&!this._enableAdvancedHistoryLoggerInProd.get()?(console.warn("Advanced logging has been enabled"),this._enableAdvancedHistoryLoggerInProd.set(!0)):!e&&this._enableAdvancedHistoryLoggerInProd.get()&&(console.warn("Advanced logging has been disabled"),this._enableAdvancedHistoryLoggerInProd.set(!1))};const r=e.testArgs,o=r&&r.processEnv?r.processEnv:k.fromBrowserify(),i=T.getTargetEnv(o);this._initLogger(e,i);const a=function(e,t,n,r,o,i){const a=T.create(e,t,n,r,o,i);return O.init(a),self.GR_CFG=O.get(),a}(e.browser,e.extensionType,e.deploymentType,e.context,o,i);this.context=e.context,this.config=a}_initLogger(e,t){this.historyLogsService=pe.create({...e.historyLoggerExtraArgs,enabledInProd:this._enableHistoryLoggerInProd,enableAdvancedInProd:this._enableAdvancedHistoryLoggerInProd});const n="prod"!==t||"cs"!==e.context,r={create:(e,t)=>{return new ge(e,{writer:new ve,filterFn:n?e=>!0:(r=K.ERROR,e=>J(e.level)>=J(r))},this.historyLogsService,t);var r}};this.logger=r}}function we(){return _e.getInstance()}class Se extends _e{}var Ie=__webpack_require__(57050),xe=__webpack_require__(85985);let Ee;function ke(){return null!=Ee?Ee:Ee={permissions:["cookies"],origins:[V()]}}const Te=Z.create("Cookies");class Ae{constructor(e){this._api=e,this._rootPath="/",this._grammarlyUrl=V(this._rootPath),this._grauthCookieName="grauth",this._csrfTokenCookieName="csrf-token",this._grInstallSourceCookieName="grInstallSource",this._grChromeStoreInstallUtmName="grChromeStoreInstallUTM",this._containerIdCookieName="gnar_containerId",this._llamaInstalledCookieName="desktop_integration_installed",this._llamaRedirectUrlCookieName="desktop_integration_redirect_url",this.deleteGrauth=()=>this._api.cookies.remove({name:this._grauthCookieName,url:this._grammarlyUrl}),this.getCSRFToken=async e=>{var n,r;try{if(!(null===(r=await(null===(n=this._api.permissions)||void 0===n?void 0:n.contains(ke())))||void 0===r||r))return Te.warn("No browser permissions to read CSRFToken cookie"),null;const o=await(0,t._N)((()=>this._api.cookies.get({name:this._csrfTokenCookieName,url:this._grammarlyUrl})),5,20,(t=>!!(e||t&&t.value))),i=o?o.value:null;return i||e||Te.error("CRF is null"),i}catch(e){return Te.error("failed to read a CSRFToken cookie",e),null}},this.getContainerIdFromCookie=async()=>this._api.cookies.get({name:this._containerIdCookieName,url:this._grammarlyUrl}).then((e=>{if(e)return e.value})),this.getInstallSource=()=>this._api.cookies.get({name:this._grInstallSourceCookieName,url:this._grammarlyUrl}),this.getChromeStoreInstallUTM=()=>this._api.cookies.get({name:this._grChromeStoreInstallUtmName,url:this._grammarlyUrl}),this.getLlamaInstalled=()=>(0,t.qO)((()=>this._api.cookies.get({url:this._grammarlyUrl,name:this._llamaInstalledCookieName})),(async()=>{})),this.getLlamaRedirectUrl=()=>(0,t.qO)((()=>this._api.cookies.get({url:this._grammarlyUrl,name:this._llamaRedirectUrlCookieName})),(async()=>{})),this.setLlamaInstalled=()=>(0,t.qO)((()=>{const e=new Date;return e.setUTCFullYear(e.getUTCFullYear()+10),this._api.cookies.set({value:"1",url:this._grammarlyUrl,name:this._llamaInstalledCookieName,expirationDate:e.valueOf()})}),(async()=>{})),this.deleteLlamaInstalled=()=>(0,t.qO)((()=>this._api.cookies.remove({name:this._llamaInstalledCookieName,url:this._grammarlyUrl})),(async()=>{})),this.deleteLlamaRedirectUrl=()=>(0,t.qO)((()=>this._api.cookies.remove({name:this._llamaRedirectUrlCookieName,url:this._grammarlyUrl})),(async()=>{})),this.getAllGrammarlyCookies=()=>this._api.cookies.getAll({domain:q(),path:this._rootPath}),this.onUserAuthChange=()=>this._api.cookies.getChanges({url:this._grammarlyUrl,name:this._grauthCookieName}).pipe((0,xe.h)((e=>!!e)))}}function Ce(){return self.chrome&&self.chrome.runtime&&self.chrome.runtime.lastError}function Oe(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function Pe(){return Oe()+Oe()+"-"+Oe()+"-"+Oe()+"-"+Oe()+"-"+Oe()+Oe()+Oe()}function Re(e){return new Promise((t=>setTimeout(t,e)))}function Ne(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const De=1e3,Me=6e4,je=36e5,Le=24*je;function Ue(e){return e*Le}function Fe(e){return e*De}function Be(e){return e*Me}function Ge(e){return e*je}var ze;!function(e){e.lessThan1Week="lessThan1Week",e.weekTo4Weeks="weekTo4Weeks",e.moreThan4weeks="moreThan4weeks",e.moreThan3Months="moreThan3Months"}(ze||(ze={}));const We=new Map([[Date.now(),ze.lessThan1Week],[Date.now()-Ue(7),ze.weekTo4Weeks],[Date.now()-Ue(28),ze.moreThan4weeks],[Date.now()-Ue(90),ze.moreThan3Months]]),qe={stats:"ex_perfstats",csInit:"ex_csInitPerf",viewInjection:"viewInjectionPerf"};function Ve(e){const{_tag:t,...n}=e;return{[qe[e._tag]]:n}}var He;function $e(e,t){return{...e,application:t.application,version:t.version,env:t.env,sessionId:t.context&&t.sessionId,userId:t.context&&t.context.userId,containerId:t.context&&t.context.containerId,...t.browserInfo}}function Ke(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}!function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(He||(He={}));const Ye=(e,t)=>{if(0===e.length)return 0;const n=[...e].sort(((e,t)=>e-t));if(t<=0)return n[0];if(t>=1)return n[n.length-1];const r=(n.length-1)*(100*t)/100,o=Math.floor(r),i=o+1,a=r%1;return n[o]*(1-a)+n[i]*a},Je=e=>e.reduce(((e,t,n)=>e+(t-e)/(n+1)),0),Xe=(e,t)=>{const n=void 0===t?Je(e):t;return e.length>1?Math.sqrt(e.reduce(((e,t)=>e+(t-n)**2),0)/(e.length-1)):0};var Qe,Ze,et;!function(e){function n(){return{dummy:!0,startMeasure:()=>({endMeasure:()=>{},cancelMeasure:t.EI}),measure:e=>e(),measureAsync:e=>e(),custom:t.EI}}e.dummy=n,e.dummyFactoryInitialization=()=>()=>n()}(Qe||(Qe={})),function(e){e.dummy={flushMeasures:e=>[],measure:(e,t)=>t(),startMeasure:e=>({endMeasure(){},cancelMeasure(){}})}}(Ze||(Ze={})),function(e){let t;!function(e){let t;!function(e){let t;!function(e){e.stats="stats",e.csInit="csInit",e.viewInjection="viewInjection"}(t=e.Types||(e.Types={}))}(t=e.Tagged||(e.Tagged={}))}(t=e.Data||(e.Data={})),e.getStats=function(e){if(0===e.length)return{ct:0};{const t=e.reduce(((e,t)=>Math.min(e,t)),Number.MAX_VALUE),n=e.reduce(((e,t)=>Math.max(e,t)),Number.MIN_VALUE),r=e.length>=6?Je(e):void 0;return{ct:e.length,min:t,max:n,range:n-t,avg:r,stddev:void 0!==r&&e.length>1?Xe(e,r):void 0}}}}(et||(et={}));const tt=["facebook.com","messenger.com","work.fb.com","business.facebook.com"],nt=e=>e.replace("www.","");function rt(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?nt(n.hostname):""}function ot(e){return N()&&/^about:/.test(e)?e:""===e?"":nt(new URL(e).hostname)}function it(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?n.pathname+n.search:""}function at(e){return ct.includes(e)}function st(e){return ct.getTopSiteId(e)}function ut(e=rt(),t="other"){var n;return at(e)?null!==(n=st(e))&&void 0!==n?n:"null":t}const ct=new class{constructor(e){function t(e){return`Invalid pattern "${e}": "*" is allowed only at start and/or end position`}this._equal=new Set,this._prefix=[],this._suffix=[],this._infix=[],this._domain=[];for(const n of e)if(n.startsWith("**."))this._domain.push(n.substring(3));else{const e=n.indexOf("*");if(-1===e)this._equal.add(n);else if(e===n.length-1)this._prefix.push(n.substring(0,e));else{if(0!==e)throw new Error(t(n));{const e=n.indexOf("*",1);if(-1===e)this._suffix.push(n.substring(1));else{if(e!==n.length-1)throw new Error(t(n));this._infix.push(n.substring(1,e))}}}}}getTopSiteId(e){var t,n,r,o,i,a,s;return null!==(a=null!==(i=null!==(o=null!==(r=null!==(n=null!==(t=this._equal.has(e)?e:void 0)&&void 0!==t?t:this._domain.find((t=>t===e)))&&void 0!==n?n:(s=this._domain.find((t=>e.endsWith("."+t))),s?"**."+s:void 0))&&void 0!==r?r:this._prefix.find((t=>e.startsWith(t))))&&void 0!==o?o:this._suffix.find((t=>e.endsWith(t))))&&void 0!==i?i:this._infix.find((t=>e.includes(t))))&&void 0!==a?a:null}includes(e){return null!==this.getTopSiteId(e)}}(["mail.google.com","translate.google.*","docs.google.com","web.whatsapp.com","facebook.com","outlook.*","linkedin.com","zendesk.*","youtube.com","twitter.com","messenger.com","*.slack.*","*canvas*","*instructure*","trello.com","editor.wix.com","quizlet.com","mail.yahoo.com","*.force.*","keep.google.com","vk.com","fanyi.baidu.com","app.bullhornstaffing.com","app.qa-world.com","calendar.google.com","papago.naver.com","wordcounter.net","blogger.*","wattpad.com","wordpress.com","amazon.*","smallseotools.com","create.kahoot.it","apps.rackspace.com","basecamp.com","varsitytutors.com","canva.com","fanyi.youdao.com","reverso.net","message.alibaba.com","*schoology*","*.blackboard.*","classroom.google.com","*upwork*","business.facebook.com","medium.com","mail.aol.com","workhub.transcribeme.com","github.com","**.salesforce.com","**.force.com","**.zendesk.com","**.microsoftonline.com","**.outlook.com","**.facebook.com","**.messenger.com","**.genesys.com","**.cisco.com","**.avaya.com","**.oraclecloud.com","**.five9.com","**.tawk.to","**.helpscout.com","**.livechat.com","**.intercom.com","**.freshdesk.com","**.liveagent.com","**.hubspot.com"]);class lt{constructor(e){this._onMeasure=e}measure(e){const t=performance.now();let n=!1;try{const r=e();return n=!0,r}finally{this._onMeasure(performance.now()-t,n)}}async measureAsync(e){const t=performance.now();let n=!1;try{const r=await e();return n=!0,r}finally{this._onMeasure(performance.now()-t,n)}}}function dt(e){try{return JSON.stringify(e)}catch(e){return JSON.stringify({json_error:"Cannot json stringify"})}}function pt(e,t){return{json:dt(e),exception:t?{name:t.name,message:t.message,stack:t.stack?gt(t.stack):void 0,...oe(t.extra)?t.extra:{}}:void 0}}function ht(){return we().browserApi.baseUri}const ft={chromium:["<anonymous>","native","unknown location"],firefox:[],safari:["[native code]"]};function gt(e,{browser:n=we().config.bundleInfo.browser,extensionBaseUri:r=ht()}={}){if(!e)return e;const o=ft["chrome"===n||"edge"===n?"chromium":n],i=e=>o.some((t=>e.startsWith(t)))||r&&e.startsWith(r),a=e.split("\n");if("chrome"===n||"edge"===n){const e=[];let t=0;for(;t<a.length&&!a[t].startsWith("    at ");)e.push(a[t]),t++;for(;t<a.length;){const n=bt(a[t]);n?i(n)?e.push(a[t]):e.push("    at <hidden>"):e.push("    <unparsed>"),t++}return e.join("\n")}if("firefox"===n||"safari"===n)return a.map((e=>[e,"firefox"===n?_t(e):wt(e)])).map((([e,t])=>void 0===t?"<unparsed>":i(t)?e:"<hidden>")).join("\n");(0,t.vE)(n)}const mt=/^ {4}at ([^(]*)$/,yt=/^ {4}at [^(]* \(([^()]*)\)$/,vt=/^ {4}at eval \([^(]* \(([^()]*)\)\)$/;function bt(e){var t,n,r;return null===(r=null!==(n=null!==(t=mt.exec(e))&&void 0!==t?t:yt.exec(e))&&void 0!==n?n:vt.exec(e))||void 0===r?void 0:r[1]}function _t(e){return e.split("@",2)[1]}function wt(e){var t;return null!==(t=e.split("@",2)[1])&&void 0!==t?t:e}const St=Z.create("lib.tracking.telemetry"),It=.1,xt=.01,Et=e=>e.substring(0,5),kt=(e,t)=>{let n;try{n=JSON.stringify(t)}catch(t){n=`stringify fail: '${String(t)}', '${Ke(t)?t.message:"undefined"}'`,St.warn(n,e)}return n};class Tt{constructor(e=t.EI,n=t.EI,r=t.EI,o=t.EI,i=!1,a=Qe.dummyFactoryInitialization,s=t.EI,u=t.EI,c=(e=>.01),l=t.EI,d=a(((e,{hideUserInfo:t,...n})=>{this._sendEvent({logger:e,level:He.INFO,hideUserInfo:t,...Ve(n)})})),p=t.EI,h=t.EI,f=t.EI,g=t.EI,m=t.EI){this._sendFelog=e,this._sendFelogUsage=n,this._setUserInfo=r,this._setContainerId=o,this._sendUsageMetrics=i,this._sendFelogEvent=s,this._sendFelogCrashLogs=u,this._getUsageMetricsRate=c,this._enableDataSharing=l,this._createPerfLogger=d,this._sendFelogMetricEvent=p,this._sendFemetricsRate=h,this._startFemetricsTimer=f,this._endFemetricsTimer=g,this._sendFemetricsTimer=m,this._sendEvent=e=>{try{this._sendFelogEvent(e)}catch(t){St.warn(`Failed to send felog for ${JSON.stringify(e)}`,t)}},this._sendException=e=>(t,n,r)=>this._sendEvent({message:r||(Ke(t)?t.message:String(t)),...e,extra:{...e.extra,...pt(n,t)}}),this._sendUsageMetricsSamplingRatio=this._getUsageMetricsRate(R().bundleInfo.browser),this.sendFemetricsRate=(e,t)=>{this._sendFemetricsRate(e,t)},this.startFemetricsTimer=(e,t,n)=>{this._startFemetricsTimer(e,t,performance.now(),n)},this.endFemetricsTimer=(e,t,n)=>{this._endFemetricsTimer(e,t,performance.now(),n)},this.restoredBgConnection=e=>{this._send("cs.connection.bg.restored",He.INFO,{timeWithoutConnection:e})},this.initWithoutBgConnection=()=>{this._send("cs.connection.bg.disconnected",He.INFO)},this.fetchDefinitionsFail=()=>{this._send("cs.connection.api.definition.failed",He.WARN)},this.tooLongPageConfigInit=e=>{this._send("cs.pageConfig.init.exceeded",He.WARN,{initTime:e})},this.tooLongUserUpdateTime=e=>{this._send("bg.state.user.update.exceeded",He.WARN,{updateTime:e})},this.lostBgPageConnection=()=>{this._send("cs.gbutton.bgonnection.lost",He.INFO)},this.restoreBgPageConnection=e=>{this._send("cs.gbutton.bgonnection.restored",He.INFO,{time:e})},this.dynamicConfigLoadFromPrefsError=e=>{this._sendSampled(xt,"bg.dynamicConfig.prefs.load.error",He.ERROR,{message:e})},this.dynamicConfigSaveToPrefsError=e=>{this._sendSampled(xt,"bg.dynamicConfig.prefs.save.error",He.ERROR,{message:e})},this.dynamicConfigLoadFromServerError=e=>{this._sendSampled(xt,"bg.dynamicConfig.server.load.error",He.ERROR,{message:e})},this.pageConfigCDNError=e=>{this._send("cs.pageConfig.cdn.error",He.ERROR,{message:e})},this.pageConfigLocalStorageError=(e,t)=>{this._send("cs.pageConfig.localStorage.error",He.INFO,{message:e,name:t})},this.pageConfigUpdated=(e,t)=>{this._send("cs.pageConfig.updated",He.INFO,{oldVersion:e,newVersion:t})},this.settingsPopupTimeout=()=>{this._send("settings.popup.init.timeout",He.WARN)},this.settingsUsupportedShow=e=>{this._send("settings.popup.state.unsupported.show",He.INFO,{popupType:e})},this.gnarClientInitFail=e=>{this._send("gnar.bg.tracking.gnar.init.fail",He.WARN,{message:e})},this.bgTrackingInitFail=()=>{this._send("debug.tracking.init.fail",He.INFO)},this.userUpgradeClick=e=>{this._send("cs.ui.action.upgradeClick",He.INFO,{placement:e})},this.gGbUpHookClick=()=>{this._send("cs.ui.gb.uphook.click",He.INFO)},this.gButtonClick=()=>{this._send("cs.ui.gbutton.click",He.INFO)},this.unexpectedAnonymous=e=>{this._send("debug.bg.session.unexpectedAnonymous",He.INFO,e)},this.getDapiPropError=(e,t)=>{const n="bg.connection.dapi.getProp.error",r=kt(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:He.WARN,extra:{json:r},sendToFemetrics:!0})},this.getCheetahStatusError=(e,t)=>{const n="bg.connection.cheetahSettings.getStatus.error",r=kt(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:He.WARN,extra:{json:r},sendToFemetrics:!0})},this.bgApiServiceRequestSuccess=(e,t="GET",n)=>{this.sendFemetricsRate("info",{domain:e,context:n?"accessToken enabled":"accessToken not enabled",logger:"bg.api.service.request.success",message:`[${t.toUpperCase()}]`})},this.bgApiServiceRequestFailed=(e,t="GET",n,r)=>{this.sendFemetricsRate("warn",{domain:e,context:r?"accessToken enabled":"accessToken not enabled",message:`[${t.toUpperCase()}] ${n}`,logger:"bg.api.service.request.failed"})},this.setDapiPropError=(e,t)=>{const n="bg.connection.dapi.setProp.error",r=kt(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:He.WARN,extra:{json:r},sendToFemetrics:!0})},this.toggleExtensionDefs=e=>{this._send("bg.settings.definitions.toggle",He.INFO,{enabled:e})},this.toggleExtension=(e,t,n)=>{const r={enabled:e,placement:t,domain:n};this._sendEvent({logger:"bg.settings.extension.toggle",level:He.INFO,sendToFemetrics:!0,extra:{json:dt(r)},femetricsExtra:r})},this.disableUntilNextVisit=()=>{this._send("cs.gbutton.disableUntilNextVisit",He.INFO)},this.disableButtonClick=()=>{this._send("cs.gbutton.disableButtonClick",He.INFO)},this.cookieOverflow=(e,t)=>{this._send("debug.bg.state.cookie.overflow",He.INFO,{size:e,biggestCookie:t})},this.externalChangePlan=()=>{this._send("bg.api.external.changePlan",He.INFO)},this.externalChangeDialect=()=>{this._send("bg.api.external.changeDialect",He.INFO)},this.externalChangeUser=()=>{this._send("bg.api.external.changeUsed",He.INFO)},this.externalLogout=()=>{this._send("bg.api.external.logout",He.INFO)},this.safariLogoutFail=e=>{this._sendEvent({logger:"bg.safari.logout.error",level:He.INFO,message:e,sendToFemetrics:!0})},this.bgPageStartFail=this._sendException({logger:"bg.start.fail",level:He.ERROR}),this.acceptDataControl=()=>{this._send("bg.dataControl.accepted",He.INFO)},this.bgPageInitTimeout=e=>{this._send("bg.state.start.timeout",He.WARN,{initTime:e})},this.bgPageInitFail=e=>{this._send("bg.state.init.fail",He.ERROR,{initAttempts:e})},this.bgPage={bgPageStarted:(e,t)=>{this._sendFemetricsRate("bgPageStarted",{context:e,time:t})}},this.popup={popupInitFail:(e,t)=>{this._sendEvent({logger:"popup.init.fail",level:He.ERROR,message:e,extra:t,femetricsMessage:Et(e)})},fetchTreatmentsFail:e=>{this._sendFemetricsRate("popupFetchTreatmentsFails",{message:Et(e)})},popupStateInitFail:e=>{this._sendEvent({logger:"popup.state.init.fail",level:He.ERROR,message:e,femetricsMessage:Et(e)})}},this.extensionUpdated=(e,t)=>{this._send("bg.state.updated",He.INFO,{currentVersion:e,previousVersion:t})},this.extensionUpdateFail=e=>{this._send("bg.state.update.fail",He.INFO,{previousVersion:e})},this.cannotGetInstallSource=()=>{this._send("bg.getSource.fail",He.WARN)},this.extensionInstall=e=>{this._sendEvent({logger:"bg.state.install",level:He.INFO,extra:{json:JSON.stringify({source:e})},sendToFemetrics:!0})},this.chromeContentScriptLoadError=(e,t)=>{this._send("bg.chrome.cs.load.error",He.WARN,{message:e,type:t})},this.reloadNotificationShow=()=>{this._send("bg.ui.notification.tabsReload.show",He.WARN)},this.reloadNotificationClick=()=>{this._send("bg.ui.notification.tabsReload.click",He.INFO)},this.fetchUserFail=(e,t,n)=>{const r="bg.user.fetch.fail",o=kt(r,{body:t,statusCode:n,reason:e});this._sendEvent({logger:r,level:He.WARN,extra:{json:o},sendToFemetrics:!0})},this.getAccessTokenError=(e,t)=>this.sendFemetricsRate("warn",{logger:"bg.api.service.accessToken.error",level:He.WARN,message:String(e),context:t?"ignoreCache":"withCache"}),this.getAccessTokenSuccess=e=>this.sendFemetricsRate("info",{logger:"bg.api.service.accessToken.success",level:He.INFO,context:e?"ignoreCache":"withCache"}),this.frequentCookieChanges=e=>{this._send("debug.cookie.onChange.error",He.INFO,{canceled:e})},this.initializePropFromDapi=e=>{this._send("bg.state.dapi.prop.initialize",He.INFO,{name:e})},this.onboardingPopupShow=()=>{this._send("cs.onboarding.popup.show",He.INFO)},this.onboardingPopupCancel=()=>{this._send("cs.onboarding.popup.cancel",He.INFO)},this.onboardingTutorialShow=()=>{this._send("cs.onboarding.tutorial.show",He.INFO)},this.loginReminderPopupShow=()=>{this._send("cs.gbutton.popup.loginReminder.show",He.INFO)},this.loginReminderBadgeShow=()=>{this._send("bg.state.user.loginReminder.enable",He.INFO)},this.unhandledExceptions={unhandledBgPageException:(e,t)=>{const n="bg.unhandledException";St.error(n,new Error(e),t),this._sendSampledEvent(.05,{logger:n,level:He.ERROR,message:e,extra:t})},unhandledBgPageRejection:(e,t)=>{const n="bg.unhandledRejection";St.error(n,new Error(e),t),this._sendSampledEvent(.05,{logger:n,level:He.ERROR,message:e,extra:t})},unhandledPopupException:(e,t)=>{const n="popup.unhandledException";St.error(n,new Error(e),t),this._sendEvent({logger:n,level:He.ERROR,message:e,extra:t,femetricsMessage:Et(e)})},unhandledPopupRejection:(e,t)=>{const n="popup.unhandledRejection";St.error(n,new Error(e),t),this._sendEvent({logger:n,level:He.ERROR,message:e,extra:t,femetricsMessage:Et(e)})}},this.csUnhandled=(e,t)=>{const n="cs.unhandled";St.error(n,new Error(e)),this._sendEvent({logger:n,level:He.ERROR,message:e,femetricsMessage:Et(e),femetricsExtra:t})},this.csCrash=(0,t.hz)(((e,t)=>{St.error("cs.crash",new Error(e)),this._sendEvent({logger:"cs.crash",level:He.ERROR,message:e,femetricsExtra:t})})),this.storageMigrationSucceeded=()=>{this._send("bg.storageMigration.success",He.INFO,{})},this.storageMigrationFailed=this._sendException({logger:"bg.storageMigration.failure",level:He.ERROR}),this.storageApplyChangesFailed=this._sendException({logger:"bg.storage.applyChanges.failure",level:He.ERROR}),this.cardShowAction=()=>{this._sendSampled(It,"cs.editor.card.show",He.INFO)},this.cardHideAction=()=>{this._sendSampled(It,"cs.editor.card.hide",He.INFO)},this.cardReplacementAction=()=>{this._sendSampled(It,"cs.editor.card.replacement",He.INFO)},this.cardAddToDictAction=()=>{this._sendSampled(It,"cs.editor.card.addToDict",He.INFO)},this.cardIgnoreAction=()=>{this._sendSampled(It,"cs.editor.card.ignore",He.INFO)},this.synonymCardShowAction=e=>{this._sendSampled(It,"cs.editor.synonym.show",He.INFO,{notFoundCard:e})},this.synonymCardHideAction=e=>{this._sendSampled(It,"cs.editor.synonym.hide",He.INFO,{notFoundCard:e})},this.synonymReplacementAction=()=>{this._sendSampled(It,"cs.editor.synonym.replacement",He.INFO)},this.dictCardShowAction=()=>{this._sendSampled(It,"cs.editor.dict.show",He.INFO)},this.dictCardHideAction=()=>{this._sendSampled(It,"cs.editor.dict.hide",He.INFO)},this.couldNotParseTransform=(e,t)=>{this._send("cs.cards.transforms.parse.error",He.WARN,{transformHTML:e,fallbackParseSuccessful:t})},this.disabledTabLoad=e=>{this._sendUsage("usage.loadOnDisabledTab",He.INFO,{accountType:e})},this.disabledTabByUserLoad=e=>{this._sendUsage("usage.loadOnDisabledByUserTab",He.INFO,{accountType:e})},this.initSession=(e,t,n,r)=>{this._sendUsage("usage.session.init",He.INFO,{isTopSite:at(e),accountType:t,fieldType:n,fieldSupported:r}),this._sendMetric("usage.session.init",{domain:e,accountType:t,fieldType:n,fieldSupported:r})},this.cardFirstInteraction=(e,t)=>{this._sendUsage("usage.card.interaction",He.INFO,{accountType:e,fieldType:t})},this.gnar={nextPingDateWriteError:e=>this._send("bg.gnarTracker.nextPingDateWriteError",He.ERROR,{error:e}),sendError:this._sendException({logger:"bg.gnarTracker.sendError",level:He.ERROR}),trackBeforeSetUser:e=>this._send("bg.gnarTracker.trackBeforeSetUser",He.INFO,{millisSinceInit:e}),errorSetUser:this._sendException({logger:"bg.gnarTracker.errorSetUser",level:He.ERROR})},this.fluidGdocs={sidebarFail:(0,t.hz)(((e,t)=>this._sendException({logger:"cs.gdocs.fluid.getSidebarFail",level:He.ERROR})(e,{type:t}))),noPage:(0,t.hz)((()=>this._send("cs.gdocs.fluid.noPage",He.ERROR))),getFullTextFailed:(0,t.hz)((e=>this._send("cs.gdocs.fluid.getFullTextFailed",He.INFO,{type:e}))),getFullTextSuccess:()=>{this._sendSampled(1e-4,"cs.gdocs.getFullTextSuccess",He.INFO)},contentMonitoringFailed:(0,t.hz)(this._sendException({logger:"cs.gdocs.fluid.contentMonitoringFailed",level:He.WARN})),pageToTextMapFail:(0,t.hz)((()=>this._send("cs.gdocs.fluid.pageToTextMapFail",He.INFO))),nestedTablesAppearance:(0,t.hz)((()=>this._send("cs.gdocs.fluid.nestedTablesAppearance",He.INFO))),mapTableIssue:(0,t.hz)((e=>this._send("cs.gdocs.fluid.mapTableIssue",He.INFO,{type:e}))),treeStructureFailure:(0,t.hz)((()=>this._send("cs.gdocs.fluid.treeStructureFailure",He.INFO))),textFragmentMapFail:(0,t.hz)((()=>this._send("cs.gdocs.fluid.textFragmentMapFail",He.INFO))),createMapFail:(0,t.hz)(this._sendException({logger:"cs.gdocs.fluid.createMapFail",level:He.ERROR})),eventTargetFail:(0,t.hz)(this._sendException({logger:"cs.gdocs.fluid.eventTargetFail",level:He.ERROR})),updateMapFail:(0,t.hz)(this._sendException({logger:"cs.gdocs.fluid.updateMapFail",level:He.ERROR})),shiftMapFail:(0,t.hz)(this._sendException({logger:"cs.gdocs.fluid.shiftMapFail",level:He.ERROR})),init:()=>this._sendEvent({logger:"cs.gdocs.fluid.init",level:He.INFO,hideUserInfo:!0}),initOnCanvasAttempt:()=>this._send("cs.gdocs.fluid.canvas",He.INFO),getTextPerf:this._createPerfLogger("cs.gdocs.fluid.perf.getText",30),buildTextMapPerf:this._createPerfLogger("cs.gdocs.fluid.perf.textMap",30),updateTextMapPerf:this._createPerfLogger("cs.gdocs.fluid.perf.updateTextMap",30)},this._sendGdocsPageExecutionException=this._sendException({logger:"cs.gdocs.pageExecution.exception",level:He.ERROR}),this.gdocs={nonDocumentPage:e=>{this._sendEvent({logger:"cs.gdocs.canvas.nonDocumentPage",level:He.WARN,sendToFemetrics:!0,femetricsMessage:`isViewMode: ${e.isViewMode}`,femetricsExtra:{context:e.pageType}})},pageExecutionException:(e,t)=>this._sendGdocsPageExecutionException(e,{isGDocsCanvas:t}),disabledBeforeForceEnable:(0,t.hz)((e=>this._send("cs.gdocs.disabledBeforeForceEnable",He.INFO,{disabledDate:e}))),enabledBeforeForceEnable:(0,t.hz)((()=>this._send("cs.gdocs.enabledBeforeForceEnable",He.INFO))),replacementValidation:e=>{this._sendFemetricsRate("gdocsReplacementValidation",e)}},this.canvasGdocs={injectedException:(0,t.hz)(this._sendException({logger:"cs.gdocs.canvas.injected.exception",level:He.ERROR})),injectedError:(0,t.HO)(((e,t,n,r)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.error",level:He.ERROR,message:t,extra:{json:dt({context:e,data:n})},gdocsExtra:r,femetricsExtra:{context:e}})),(e=>e)),injectedInfo:(0,t.HO)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.info",eventContext:e,level:He.INFO,sendToFemetrics:!0,gdocsExtra:t,extra:{json:dt({context:e,data:n})},femetricsExtra:{context:e}})),(e=>e)),initializationException:(0,t.hz)(((e,t,n)=>this._sendException({logger:"cs.gdocs.canvas.init.exception",level:He.ERROR,gdocsExtra:n,femetricsExtra:{type:t}})(e,{type:t}))),initializationTimeout:(0,t.hz)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.init.timeout",level:He.ERROR,message:`Initialization for ${t} timeout: ${e}ms`,extra:{json:dt({type:t})},gdocsExtra:n,femetricsExtra:{type:t}}))),creatingException:(0,t.hz)(((e,t)=>this._sendEvent({logger:"cs.gdocs.canvas.creating.exception",level:He.ERROR,message:e,gdocsExtra:t}))),initInterrupted:(0,t.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.interrupted",level:He.ERROR,message:"Interrupted",gdocsExtra:e}))),dataSourceException:(0,t.hz)(((e,t)=>this._sendException({logger:"cs.gdocs.canvas.dataSource.exception",level:He.ERROR,femetricsExtra:{type:t}})(e,{type:t}))),error:(0,t.HO)(((e,t,n,r,o)=>this._sendEvent({logger:"cs.gdocs.canvas.error",level:He.ERROR,message:t,extra:pt({type:e,message:t,data:r},n),femetricsExtra:{type:e,mappingName:null==o?void 0:o.mappingName}})),(e=>e),((e,t,n,r,o)=>{this._sendFemetricsRate("gdocsError",{type:e,message:t&&t.substring(0,20)||"other",mappingName:null==o?void 0:o.mappingName})})),warning:(0,t.HO)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.warning",level:He.WARN,message:t,extra:pt({type:e,message:t,data:n})})),(e=>e)),started:e=>this._sendEvent({logger:"cs.gdocs.canvas.started",level:He.INFO,sendToFemetrics:!0,gdocsExtra:e}),creating:e=>this._sendEvent({logger:"cs.gdocs.canvas.creating",level:He.INFO,sendToFemetrics:!0,gdocsExtra:e}),showLongDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.longDocPopup",level:He.INFO,sendToFemetrics:!0,gdocsExtra:e}),showSharedDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.sharedDocPopup",level:He.INFO,sendToFemetrics:!0,gdocsExtra:e}),debugPageSearchFail:(0,t.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.pageSearch.debug",level:He.INFO,extra:{json:dt({data:e})}}))),debugMappingFail:(0,t.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.mapping.debug",level:He.INFO,extra:{json:dt({data:e})}}))),buildTextMapPerf:this._createPerfLogger("cs.gdocs.canvas.perf.textMap",30),findPage:this._createPerfLogger("cs.gdocs.canvas.perf.findPage",100),mappingPerf:e=>new lt((t=>{1e-4>Math.random()&&this._sendFemetricsTimer("gdocsMapping",t,{...e,mapPageCount:void 0===e.mapPageCount?void 0:e.mapPageCount>10?"10+":e.mapPageCount})})),fullTextNotFound:(0,t.hz)((()=>this._send("cs.gdocs.canvas.fullTextNotFound",He.WARN))),mapping:({mapPageCount:e,attempts:t,mode:n,tableMode:r})=>{this._sendFemetricsRate("gdocsMapping",{mappingMode:n,tableMode:r,mapPageCount:e>10?"10+":e,mappingAttempts:t.length,...t.reduce(((e,t,n)=>({...e,[`mapping${n}_name`]:t.name,[`mapping${n}_success`]:t.success,[`mapping${n}_mappedPages`]:"number"==typeof t.mappedPageCount&&t.mappedPageCount>10?"10+":t.mappedPageCount})),{})})},mappingStats:e=>{this._sendFemetricsRate("gdocsMappingStats",e)},mappingPageStats:e=>{this._sendFemetricsRate("gdocsMappingPageStats",e)},mappingStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingStatsByTextLength",e)},mappingPageStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTextLength",e)},mappingStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingStatsByTableMode",e)},mappingPageStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTableMode",e)},mappingMinPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMinPageGapsStats",e)},mappingMaxPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMaxPageGapsStats",e)}},this.canvasGdocsSVG={error:(0,t.HO)(((e,t,n,r,o)=>this._sendEvent({logger:"cs.gdocs.svg.error",level:He.ERROR,message:t,extra:pt({type:e,message:t,data:r},n),femetricsExtra:{type:e,mappingName:null==o?void 0:o.mappingName}})),(e=>e)),buildTextMapPerf:this._createPerfLogger("cs.gdocs.svg.perf.textMap",30)},this.gmailThreadContext={warning:(0,t.HO)(((e,t,n)=>this._sendEvent({logger:"cs.threadContext.gmail.warning",level:He.WARN,message:t,extra:{json:dt({type:e,message:t,data:n})}})),(e=>e))},this.readerGmail={warning:(0,t.HO)(((e,t,n)=>this._sendEvent({logger:"cs.reader.gmail.warning",level:He.WARN,message:t,extra:{json:dt({type:e,message:t,data:n})}})),(e=>e))},this.knowledgeHub={error:(0,t.HO)(((e,t,n,r)=>this._sendEvent({logger:"cs.knowledgeHub.error",level:He.ERROR,message:t,extra:{json:dt({type:e,message:t,domain:n,data:r})}})),(e=>e))},this.cheetah={info:(0,t.HO)(((e,t,n)=>this._sendEvent({logger:"cs.cheetah.info",level:He.INFO,message:e.name,extra:{json:dt({...e,sessionUuid:n,domain:t})},hideUserInfo:!0,sendToFemetrics:!0})),(e=>e.name)),warning:(0,t.HO)(((e,t,n)=>this._sendEvent({logger:"cs.cheetah.warning",level:He.WARN,message:e.name,extra:{json:dt({...e,sessionUuid:n,domain:t})},hideUserInfo:!0,sendToFemetrics:!0})),(e=>e.name)),error:(0,t.HO)(((e,t,n)=>this._sendEvent({logger:"cs.cheetah.error",level:He.ERROR,message:e.name,extra:{json:dt({...e,sessionUuid:n,domain:t})},hideUserInfo:!0,sendToFemetrics:!0})),(e=>e.name)),sessionRestartTimeout:(e,t,n)=>this._sendEvent({logger:"cs.cheetah.error",level:He.ERROR,message:"sessionRestartTimeout",extra:{json:dt({name:"sessionRestartTimeout",sessionUuid:n,domain:t,waitingFor:e})},hideUserInfo:!0,sendToFemetrics:!0})},this._cbLog=e=>(0,t.HO)(((t,n,r,o)=>this._sendEvent({logger:"cs.citationBuilder",level:e,citationBuilderExtra:r,message:n,extra:pt(void 0,o)})),(e=>e)),this.citationBuilder={error:this._cbLog(He.ERROR),warning:this._cbLog(He.WARN),info:this._cbLog(He.INFO)},this.performance={processInput:this._createPerfLogger("cs.fluid.processInput",100),processAlerts:this._createPerfLogger("cs.fluid.processAlerts",10),processFilterChange:this._createPerfLogger("cs.fluid.processFilterChange",10),csInitialized:(e,t,n,r,o)=>{this._createPerfLogger("cs.initialized").custom({_tag:et.Data.Tagged.Types.csInit,domain:self.location.host,hideUserInfo:!0,loadTime:e,initTime:t,pageLoadTime:n,injectTime:r,error:o?{message:o.message,stack:o.stack}:void 0})},viewInjection:e=>{this._createPerfLogger("cs.viewInjection").custom({_tag:et.Data.Tagged.Types.viewInjection,...e})}},this.autocorrect={responseTime:this._createPerfLogger("cs.autocorrect.responseTime",10),predictTime:this._createPerfLogger("cs.autocorrect.predictTime",10)},this.assistant={initTime:this._createPerfLogger("cs.assistant.initTime",1),renderTime:this._createPerfLogger("cs.assistant.renderTime",1),openTime:this._createPerfLogger("cs.assistant.openTime",1),alertManagerError:this._sendException({logger:"cs.assistant.alertManagerError",level:He.ERROR})},this.attentionHeatmap={textChangeProcessingTime:this._createPerfLogger("cs.attentionHeatmap.textChangeProcessingTime",100),responseProcessingTime:this._createPerfLogger("cs.attentionHeatmap.responseProcessingTime",10),highlightUpdateTime:this._createPerfLogger("cs.attentionHeatmap.highlightUpdateTime",100),highlightGeometryUpdateTime:this._createPerfLogger("cs.attentionHeatmap.highlightGeometryUpdateTime",100),responseTime:this._createPerfLogger("cs.attentionHeatmap.responseTime",10),canvasRenderTime:this._createPerfLogger("cs.attentionHeatmap.canvasRenderTime",100)},this.proofit={availabilityQuotaError:e=>{this._sendEvent({logger:"cs.proofit.availability_quota_error",level:He.ERROR,extra:{json:JSON.stringify(e)}})},submitResponseError:e=>{this._sendEvent({logger:"cs.proofit.submit_response_error",level:He.ERROR,extra:{json:JSON.stringify(e)}})},progressError:e=>{this._sendEvent({logger:"cs.proofit.progress_error",level:He.ERROR,extra:{json:JSON.stringify(e)}})},progressRejected:e=>{this._sendEvent({logger:"cs.proofit.progress_rejected",level:He.WARN,extra:{json:JSON.stringify(e)}})}},this.oauthExchangeError=e=>{this._send("bg.oauth.exchange.error",He.ERROR,{message:e})},this.chipmunkAPIError=e=>{this._send("bg.chipmunk.api.error",He.ERROR,{message:e})},this.getIterableError=e=>{this._sendEvent({logger:"bg.iterable.api.error",level:He.WARN,extra:{json:e},sendToFemetrics:!0})},this.getMiseError=e=>{this._sendEvent({logger:"bg.mise.api.token.error",level:He.WARN,extra:{json:e},sendToFemetrics:!0})},this.alerts={inconsistentAlertWithText:e=>{this._sendFemetricsRate("inconsistentAlertWithText",{context:e})},cannotShowInlineCard:e=>{this._sendFemetricsRate("cannotShowInlineCard",{context:e})}},this.upgradeHooks={showUpgradeHook:(e,t)=>{this._sendFemetricsRate("showPremiumButton",{upgradeHookName:e,upgradeHookSlot:t})},clickUpgradeHook:(e,t)=>{this._sendFemetricsRate("clickPremiumButton",{upgradeHookName:e,upgradeHookSlot:t})}},this.upgradeHooksExp={upgradeHookExperimentPeek:(e,t,n)=>{this._sendFemetricsRate("upgradeHookExperiment",{experimentName:e,experimentGroup:t,domain:ut(n)})},upgradeHookFirstHiddenPremiumAlertReceived:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstHiddenPremiumAlertReceived",{experimentName:e,experimentGroup:t,domain:ut(n)})},upgradeHookFirstSDUIReceivedFromCAPI:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstSDUIReceivedFromCAPI",{experimentName:e,experimentGroup:t,domain:ut(n)})},upgradeHookFeedRendered:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFeedRenderedWithUpgradeCard",{experimentName:e,experimentGroup:t,domain:ut(n)})},upgradeHookCardShown:(e,t,n)=>{this._sendFemetricsRate("upgradeHookCardShown",{experimentName:e,experimentGroup:t,domain:ut(n)})}},this.createDocument=()=>{this._sendEvent({logger:"lib.bg.create.document",level:He.INFO,sendToFemetrics:!0})},this.debugReports={downloadSuccessfuly:(e,t)=>{const n="debugReports.downloadSussessfyly",r=kt(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:He.INFO,extra:{json:r},sendToFemetrics:!0})},downloadTimeout:(e,t)=>{const n="debugReports.downloadTimeout",r=kt(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:He.WARN,extra:{json:r},sendToFemetrics:!0})},downloadError:(e,t)=>{const n="debugReports.downloadError",r=kt(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:He.WARN,extra:{json:r},sendToFemetrics:!0})}},this.dialectSettingsError=e=>{this._sendException({logger:"bg.api.dialectService",level:He.ERROR})(e)}}_send(e,t,n){const r=kt(e,n);try{this._sendFelog(e,String(null==n?void 0:n.message),t,n?{json:r}:void 0)}catch(t){St.warn(`Failed to send felog for ${e}: '${Ke(t)?t.message:"undefined"}'`,t)}}_sendUsage(e,t,n){if(this._sendUsageMetrics&&this._sendUsageMetricsSamplingRatio>Math.random())try{this._sendFelogUsage(e,"",t,n)}catch(t){St.warn(`Failed to send usage felog for ${e}: '${Ke(t)?t.message:"undefined"}'`,t)}}_sendSampled(e,t,n,r){e>Math.random()&&this._send(t,n,r)}_sendSampledEvent(e,t){e>Math.random()&&this._sendEvent(t)}_sendMetric(e,t){this._sendFelogMetricEvent({metricName:e,data:t})}sendCrashLogs(e,t){try{this._sendFelogCrashLogs(t)}catch(t){St.warn(`Failed to send crash data data for ${e}: '${Ke(t)?t.message:"undefined"}'`,t)}}setUserInfo(e){this._setUserInfo(e)}setContainerId(e){this._setContainerId(e)}enableDataSharing(){this._enableDataSharing()}notificationShown(e){this._send("cs.notification.show",He.INFO,{type:e})}notificationHide(e){this._send("cs.notification.hide",He.INFO,{type:e})}}!function(e){let t;!function(e){e.fromPartial=e=>e}(t=e.Mock||(e.Mock={}))}(Tt||(Tt={}));class At{constructor(e,n,r=t.EI){this.name=e,this._source=n,this._saveAction=r,this.dummy=!1,this.data=[],this.customBuffer=[],this._flush=()=>{this.data.push(...this._source.flushMeasures(this.name)),this._saveAction(this.data)},this.custom=e=>{this.customBuffer.push(e)},this.startMeasure=()=>{const e=this._source.startMeasure(this.name),t=()=>this._flush();return{endMeasure(){try{const n=e.endMeasure();return t(),n}catch(e){return}},cancelMeasure:()=>e.cancelMeasure()}},this.measure=e=>{const t=this._source.measure(this.name,e);try{this._flush()}catch(e){}return t},this.measureAsync=e=>{const t=this._source.startMeasure(this.name);return e().then((e=>{try{t.endMeasure(),this._flush()}catch(e){}return e}))}}getStats(){return this.data.length>0?{...et.getStats(this.data),median:(e=this.data,Ye(e,.5)),p90:Ye(this.data,.9),p99:Ye(this.data,.99)}:{};var e}}class Ct{constructor(e){this._perf=e,this._log=Z.create("cs.telemetry.PerformanceMetricsImpl")}flushMeasures(e){try{const t=this._perf.getEntriesByName(e,"measure");return this._perf.clearMeasures(e),t.map((e=>e.duration))}catch(e){return this._log.warn("failed to retrieve perf measurements",e),[]}}startMeasure(e){const n=Math.random(),r=`__${e}_${n}-start`,o=`__${e}_${n}-end`;try{this._perf.mark(r)}catch(e){return this._log.warn("could not start measure  ignoring measurement",e),{endMeasure:()=>{},cancelMeasure:t.EI}}let i=!1;return{endMeasure:()=>{if(!i){i=!0;try{return this._perf.mark(o),this._perf.measure(e,r,o),this._perf.getEntriesByName(e,"measure")[0]}catch(e){return void this._log.warn("could not complete measure",e)}}},cancelMeasure:()=>{this._perf.clearMarks(r),this._perf.clearMarks(o)}}}measure(e,t){const n=`__${e}-start`,r=`__${e}-end`;try{this._perf.mark(n)}catch(e){return this._log.warn("could not start measure  ignoring measurement",e),t()}try{return t()}finally{try{this._perf.mark(r),this._perf.measure(e,n,r)}catch(e){this._log.warn("could not complete measure",e)}}}}!function(e){e.create=function(t){return void 0!==t?new e(t):Ze.dummy}}(Ct||(Ct={}));const Ot=Z.create("tracking.telemetry.performance.felog");class Pt{constructor(e,n,r,o=0,i=6e4){this.name=e,this._sendMetrics=n,this._source=r,this._minBufferSize=o,this._throttleTimeMs=i,this.dummy=!1,this._buffer=[],this._flush=(0,t.P2)(this._throttleTimeMs,(()=>{if(this._buffer.push(...this._source.flushMeasures(this.name)),this._buffer.length>=this._minBufferSize){const e=et.getStats(this._buffer);this._buffer=[],Ot.info(`sending perf stats for ${this.name}`,e),this._sendMetrics(this.name,{_tag:et.Data.Tagged.Types.stats,...e})}})),this.custom=e=>{this._sendMetrics(this.name,e)},this.startMeasure=()=>{const e=this._source.startMeasure(this.name),t=()=>this._flush();return{endMeasure(){try{const n=e.endMeasure();return t(),n}catch(e){return}},cancelMeasure:()=>e.cancelMeasure()}},this.measure=e=>{const t=this._source.measure(this.name,e);try{this._flush()}catch(e){}return t},this.measureAsync=e=>{const t=this._source.startMeasure(this.name);return e().then((e=>{try{t.endMeasure(),this._flush()}catch(e){}return e}))}}}const Rt=Z.create("lib.tracking.logger");let Nt;function Dt(){if(!Nt){const e=we().telemetryCallProvider;Nt=new Tt(e.sendFelog,e.sendFelogUsageEvent,e.setUserInfo,e.setContainerId,R().appConfig.felog.sendUsageMetrics,function(){const e=R().appConfig.felog.sendPerfMetricsType;return"local"===e?(t=Ct.create(self.performance),e=>e=>{const n=self.__GR_PERFORMANCE_STORE__||{};if(self.__GR_PERFORMANCE_STORE__=n,e in n)return n[e];{const r=new At(e,t);return n[e]=r,r}}):((e,t,n=6e4)=>r=>(o,i)=>e?new Pt(o,r,t,i,n):Qe.dummy())("send"===e,Ct.create(self.performance));var t}(),e.sendFelogEvent,e.sendFelogCrashLogs,void 0,(()=>{var t;return null===(t=e.enableDataSharing)||void 0===t?void 0:t.call(e)}),void 0,e.sendFelogMetricEvent,e.sendFemetricsRate,e.startFemetricsTimer,e.endFemetricsTimer,e.sendFemetricsTimer)}return Nt}function Mt(){if(L()){Rt.info("Installing unhandled error loggers...");const r=Dt();e=self,t=(e,t)=>r.unhandledExceptions.unhandledBgPageException(e,t),n=(e,t)=>r.unhandledExceptions.unhandledBgPageRejection(e,t),e.addEventListener("error",(e=>{const n=pt({message:Ke(e.error)?e.error.message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno},e.error);t(Ke(e.error)?e.error.message:e.message,n)})),e.addEventListener("unhandledrejection",(e=>{const t=null!==e.reason?"string"==typeof e.reason?e.reason:Ke(e.reason)?e.reason.message:void 0:void 0,r=pt({message:t},e.reason);n(t||"Unhandled Rejection",r)}))}var e,t,n}const jt={};class Lt{constructor(e,t=Z.create(Lt.name)){this._getPreferencesAPI=e,this._log=t,this.name=Lt.name,this._storageKey="gnarInternalStorage",this.safeGetValue=async e=>{try{const t=await this._getPreferencesAPI().get(this._storageKey);return t&&t[this._storageKey]?t[this._storageKey][e]:void 0}catch(e){return void this._log.error("safeGetValue is fail with",e)}},this.safeSetValue=async(e,t)=>{try{const n=this._getPreferencesAPI(),r=await n.get(this._storageKey);await n.set({[this._storageKey]:{...r&&r[this._storageKey]?r[this._storageKey]:{},[e]:t}})}catch(e){this._log.error("safeSetValue is fail with",e)}}}}const Ut=Z.create("extension-api");function Ft(){return s(self.extensionBackgroundPageApi,"background page extension api was not initialized")}const Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Gt(e,t=""){if(e<=0)return t;const n=Math.floor(Math.random()*(Bt.length-1));return Gt(e-1,t+Bt.charAt(n))}function zt(e,t=null,n={}){return arguments.length<2?$t(e):Vt(e,t,n)}var Wt,qt;function Vt(e,t,n={}){const r=[];null===t?(r.push(Ht(Kt(e),"null")),n.maxage=-1):r.push(Ht(Kt(e),Kt(t))),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&r.push(Ht(qt.Path,n.path)),n.domain&&r.push(Ht(qt.Domain,n.domain)),n.expires&&r.push(Ht(qt.Expires,n.expires.toUTCString())),n.secure&&r.push(qt.Secure),n.sameSite&&(r.push(Ht(qt.SameSite,n.sameSite)),n.sameSite!==Wt.None||n.secure||r.push(qt.Secure));const o=r.join(";");return document.cookie=o,o}function Ht(e,t){return`${e}=${t}`}function $t(e){const t=function(e){const t={},n=e.split(/ *; */);if(!n[0])return t;for(const e of n){const[n,r]=e.split("="),o=Yt(n),i=Yt(r);o&&i&&(t[o]=i)}return t}(document.cookie);return e?t[e]:""}function Kt(e){try{return encodeURIComponent(e)}catch(e){return""}}function Yt(e){try{return decodeURIComponent(e)}catch(e){return null}}!function(e){e.None="None",e.Lax="Lax",e.Strict="Strict"}(Wt||(Wt={})),function(e){e.Path="Path",e.Domain="Domain",e.Expires="Expires",e.Secure="Secure",e.SameSite="SameSite"}(qt||(qt={}));function Jt(e){try{return e()}catch(e){return}}const Xt=()=>(new Date).setFullYear((new Date).getFullYear()+10),Qt=()=>(new Date).setMinutes((new Date).getMinutes()+10),Zt=/^\.\w+\.\w+/;function en(e){return{type:"success",value:e}}function tn(e){return{type:"failure",error:e}}function nn(e){return e.then(en,tn)}function rn(e,t,n){const r=n();return e>0?r.catch((r=>new Promise(((e,n)=>setTimeout(e,t))).then((r=>rn(e-1,t,n))))):r}class on{constructor(e,t=[],n=null,r=3e5,o=0,i=(()=>Date.now())){this.primaryStorage=e,this.secondaryStorages=t,this._logger=n,this._cacheSuccessTimeoutMillis=r,this._cacheFailureTimeoutMillis=o,this._getTime=i,this._allStorages=[e,...t]}_expireCache(e){0===e?this._cacheExpireTimestamp=0:e>0&&(this._cacheExpireTimestamp=this._getTime()+e)}getValue(){if(void 0!==this._cache&&(void 0===this._cacheExpireTimestamp||this._getTime()<this._cacheExpireTimestamp))return this._cache;const e=Jt((()=>this._logger&&this._logger.getValueStart(this.valueLabel()))),t=this._valueFromStorage();return this._cache=t,this._cacheExpireTimestamp=void 0,t.then((e=>{e?this._expireCache(this._cacheSuccessTimeoutMillis):this._cache=void 0}),(e=>{this._cache=void 0})),t.then((t=>{e&&Jt((()=>e.getValueSuccess()))}),(t=>{e&&Jt((()=>e.getValueFailure(t)))})),t}_valueFromStorage(){return Promise.all(this._allStorages.map((e=>nn(e.safeGetValue(this.key()))))).then((e=>{const[t]=e;if("failure"===t.type)return Promise.reject(`getting value from primary storage '${this.primaryStorage.name}' has failed: ${t.error}`);const n=e.find((e=>"success"===e.type&&void 0!==e.value));if(void 0===n)return Promise.resolve(void 0);const r=n.value,o="success"===t.type&&void 0===t.value,i=e.reduce(((e,t,n)=>"success"===t.type&&t.value!==r?e.concat(n):e),[]);return this.setValue(r,o,!1,i)}))}setValue(e,t=!1,n=!1,r=Array.from(Array(this._allStorages.length).keys())){const o=r.map((t=>nn(this._allStorages[t].safeSetValue(this.key(),e))));return Promise.all(o).then((r=>{if(t||n){const[e]=r;if("success"!==e.type)return Promise.reject(`setting ${this.valueLabel()} to primary storage has failed:\n                ${e.error}`)}const o=Promise.resolve(e);return this._cache=o,this._expireCache(this._cacheSuccessTimeoutMillis),o})).then((e=>(t?Jt((()=>this._logger&&this._logger.valueRecovered())):n&&Jt((()=>this._logger&&this._logger.valueGenerated())),e)))}}class an extends on{constructor(){super(...arguments),this.containerIdLength=12,this.initialSetPromise=void 0,this.generatedContainerId=void 0,this._key="gnar_containerId",this.getContainerId=()=>super.getValue().then((e=>{if(void 0===e){if(this.initialSetPromise)return this.initialSetPromise;{const e=super.setValue(this.getOrGenerateContainerId(),!1,!0);this.initialSetPromise=e;const t=()=>this.initialSetPromise=void 0;return e.then(t,t),e}}return e}))}key(){return this._key}setKey(e){this._key=e}valueLabel(){return"ContainerId"}getOrGenerateContainerId(){return this.generatedContainerId||(this.generatedContainerId=Gt(this.containerIdLength)),this.generatedContainerId}}class sn{constructor(e){this.name=e}safeSetValue(e,t){return this.ensureAvailable(e).then((()=>this.setValue(e,t)))}safeGetValue(e){return this.ensureAvailable(e).then((()=>this.getValue(e))).then((e=>""===e?void 0:e))}}class un extends sn{constructor(e,t){if(super("chromeCookie"),this._url=e,this._domain=t,this._hasRuntimeError=()=>self.chrome&&self.chrome.runtime&&self.chrome.runtime.lastError,!Zt.test(t))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."')}ensureAvailable(){return rn(2,1e3,(()=>new Promise(((e,t)=>{const n=Gt(10);try{self.chrome.cookies.set({name:n,value:n,url:this._url,domain:this._domain,expirationDate:Qt()/1e3},(r=>{const o=this._hasRuntimeError();!r&&o&&t("chrome.cookie.set failed with an error: "+o.message),r&&r.value===n?e():t(new Error(`ChromeCookieStorage is unavailable.\n              Availability test failed.\n              Tried to set ${n}, the result is ${r?r.value:r}.`))}))}catch(e){t(e)}}))))}getValue(e){return new Promise(((t,n)=>{try{self.chrome.cookies.get({url:this._url,name:e},(e=>{const r=this._hasRuntimeError();!e&&r&&n("chrome.cookie.get failed with an error: "+r.message),t(e?e.value:void 0)}))}catch(e){n(e)}}))}setValue(e,t){return new Promise(((n,r)=>{try{self.chrome.cookies.set({name:e,value:t,url:this._url,domain:this._domain,expirationDate:Xt()/1e3},(o=>{const i=this._hasRuntimeError();!o&&i&&r("chrome.cookie.set failed with an error: "+i.message),o&&o.value===t||r(new Error(`setValue for ${e} failed.\n            Tried to set ${t}, the result is ${o?o.value:o}.`)),n()}))}catch(e){r(e)}}))}}class cn extends sn{constructor(e,t){if(super("webExtensionsCookie"),this._url=e,this._domain=t,!Zt.test(t))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."')}ensureAvailable(){return rn(2,1e3,(()=>new Promise(((e,t)=>{const n=Gt(10);self.browser.cookies.set({name:n,value:n,url:this._url,domain:this._domain,expirationDate:Qt()/1e3}).then((()=>{self.browser.cookies.get({url:this._url,name:n}).then((r=>{r&&r.value===n?(self.browser.cookies.set({name:n,value:n,url:this._url,domain:this._domain,expirationDate:-1}),e()):t(new Error(`WebExtensionsCookieStorage is unavailable.\n              Availability test failed.\n              Tried to set ${n}, the result is ${r?r.value:r}.`))})).catch((e=>{t("browser.cookies.get failed with an error: "+e.message)}))})).catch((e=>{t("browser.cookies.set failed with an error: "+e.message)}))}))))}getValue(e){return new Promise(((t,n)=>{self.browser.cookies.get({url:this._url,name:e}).then((e=>{t(e?e.value:void 0)})).catch((e=>{n("browser.cookies.get failed with an error: "+e.message)}))}))}setValue(e,t){return new Promise(((n,r)=>{self.browser.cookies.set({name:e,value:t,url:this._url,domain:this._domain,expirationDate:Xt()/1e3}).then((e=>{e&&e.value===t||r(new Error(`setValue failed.\n          Tried to set ${t}, the result is ${e?e.value:e}.`)),n()})).catch((e=>{r("browser.cookies.set failed with an error: "+e.message)}))}))}}class ln extends sn{constructor(){super("localStorage"),this.ensureAvailable=e=>{const t=e+"_test",n=Gt(10);return new Promise(((e,r)=>{localStorage.setItem(t,n),localStorage.getItem(t)!==n?r(new Error(`LocalStorage is unavailable.\n          Availability test failed.\n          Tried to set ${n},\n          the result is ${localStorage.getItem(t)}.`)):e(),localStorage.removeItem(t)}))},this.getValue=e=>{const t=localStorage.getItem(e);return new Promise(((e,n)=>e(null===t?void 0:t)))},this.setValue=(e,t)=>new Promise(((n,r)=>{localStorage.setItem(e,t),n()}))}}class dn extends sn{constructor(e){if(super("cookie"),this._domain=e,this.ensureAvailable=()=>{const e=Gt(10);return new Promise(((t,n)=>{zt(e,e),zt(e)!==e?n(new Error(`CookieStorage is unavailable.\n          Availability test failed.\n          Tried to set ${e}, the result is ${zt(e)}.`)):t(),zt(e,null)}))},this.getValue=e=>new Promise(((t,n)=>t(zt(e)))),!Zt.test(e))throw new Error('Incorrect cookie domain provided.\n        Use top-level domain, starting from "."')}_getCookieOptions(){return{path:"/",domain:this._domain,expires:new Date(Xt()),secure:!0,sameSite:Wt.None}}setValue(e,t){return new Promise(((n,r)=>{zt(e,t,this._getCookieOptions()),n()}))}}class pn extends sn{constructor(e){super("memory"),this._value=e,this.ensureAvailable=()=>Promise.resolve()}getValue(e){return Promise.resolve(this._value)}setValue(e,t){return this._value=t,Promise.resolve()}}var hn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};const fn=()=>{const e=document.documentElement.clientWidth||document.body.clientWidth,t=document.documentElement.clientHeight||document.body.clientHeight;return{url:document.location.href,referrer:document.referrer,userAgent:navigator.userAgent,containerWidth:e,containerHeight:t,screenWidth:screen.width,screenHeight:screen.height,devicePixelRatio:self.devicePixelRatio}},gn=["client","clientVersion","userId","isTest","containerId","instanceId","batchId"],mn="gnar_nextPingTimestamp";class yn{constructor(e,t,n,r,o,i=null,a=!1,s,u=fn,c={},l=new ln){this._url=e,this._client=t,this._clientVersion=n,this._fetch=r,this._containerIdManager=o,this._logger=i,this._storePingTimestamp=a,this._gaClientOpt=s,this._getWindowProps=u,this._extraPingParams=c,this._localStorage=l,this._instanceId=Gt(8),this._batchId=0,this._isUserReady=!1,this._queue=[],this.userGetter=void 0,this._withBrowserProps=e=>{const{userAgent:t,containerHeight:n,containerWidth:r,screenHeight:o,screenWidth:i,devicePixelRatio:a}=this._getWindowProps();return Object.assign(Object.assign({},e),{userAgent:t,screenWidth:i,screenHeight:o,containerWidth:r,containerHeight:n,devicePixelRatio:a})},this._eventsUrl="events",this._liteUrl="lite",this._pingMaybe(),this._initTs=Date.now()}track(e,t={lite:!1}){if(0!==e.eventName.indexOf(this._client+"/"))throw new Error(`Event name ${e.eventName} should start with '${this._client}/'`);if(Object.keys(e).forEach((e=>{if(-1!==gn.indexOf(e))throw new Error(`Event data should not contain '${e}' prop.`)})),!this._isUserReady&&this.userGetter)try{const e=this.userGetter();e&&this.setUser(e.userId,e.isTest)}catch(e){}return this._isUserReady||t.lite&&!t.sendUser?(e.eventName!==`${this._client}/ping`&&this._pingMaybe(),this._send(e,t)):(Jt((()=>this._logger&&this._logger.trackBeforeSetUser(Date.now()-this._initTs))),this._enqueue(e,t))}setUser(e,t){if(null===e||!/^-?\d+$/.test(e))throw new Error("Invalid userId: "+e);const n=this._userId&&this._userId!==e&&!(/^-/.test(e)&&/^-/.test(this._userId));this._isTest=t,this._userId=e,this._isUserReady||(this._isUserReady=!0,this._execQueue()),n&&this._pingMaybe(!0)}setJWT(e,t){if(null===e||""===e)throw new Error("Invalid JWT token: "+e);const[n,r]=e.split("."),o=JSON.parse(decodeURIComponent(atob(r.replace(/-/g,"+").replace(/_/g,"/")).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")));this._jwt=e,this.setUser(o.sub,t)}setGaClient(e){this._gaClientOpt=e}getContainerId(){return this._containerIdManager.getContainerId()}_setNextPingTimestamp(){return hn(this,void 0,void 0,(function*(){const e=function(){const e=new Date;return e.getHours()>2&&e.setDate(e.getDate()+1),e.setHours(3),e.setMinutes(Math.floor(60*Math.random())),e.getTime()}();if(this._nextPingTimestamp=e,this._storePingTimestamp)try{yield this._localStorage.safeSetValue(mn,e.toString())}catch(e){Jt((()=>this._logger&&this._logger.nextPingDateWriteError(e)))}}))}_getNextPingTimestamp(){return hn(this,void 0,void 0,(function*(){let e=this._nextPingTimestamp;if(void 0!==e||!this._storePingTimestamp)return e;try{const t=yield this._localStorage.safeGetValue(mn);e=t?parseInt(t,10):void 0}catch(t){e=void 0,Jt((()=>this._logger&&this._logger.nextPingDateReadError(t)))}return e}))}_shouldPing(e){return hn(this,void 0,void 0,(function*(){if(e)return!0;{const e=yield this._getNextPingTimestamp();return void 0===e||e<Date.now()}}))}_pingMaybe(e=!1){return hn(this,void 0,void 0,(function*(){if(!(yield this._shouldPing(e)))return;yield this._setNextPingTimestamp();const{url:t,referrer:n}=this._getWindowProps(),r={eventName:`${this._client}/ping`,referrer:n,url:t};this._gaClientOpt?this._gaClientOpt.getClientId().then((e=>this.track(Object.assign(Object.assign(Object.assign({},r),this._extraPingParams),{gaClientId:e}))),(e=>this.track(Object.assign(Object.assign({},r),this._extraPingParams)))):this.track(Object.assign(Object.assign({},r),this._extraPingParams))}))}pingMaybe(){this._pingMaybe()}_enqueue(e,t){return new Promise(((n,r)=>{this._queue.push([e,t,{resolve:n,reject:r}])}))}_execQueue(){this._queue.forEach((([e,t,{resolve:n,reject:r}])=>{this._send(e,t).then((()=>n())).catch((e=>r(e)))})),this._queue=[]}_withClientProps(e){return Object.assign(Object.assign({},e),{client:this._client,clientVersion:this._clientVersion})}_withUserProps(e){return hn(this,void 0,void 0,(function*(){const t=yield this.getContainerId().catch((()=>{}));return Object.assign(Object.assign({},e),{containerId:t,userId:this._userId,isTest:this._isTest})}))}_withInstanceProps(e){const t=this._batchId++;return Object.assign(Object.assign({},e),{instanceId:this._instanceId,batchId:t})}_trackUrl(e){return this._url+"/"+(e.lite?this._liteUrl:this._eventsUrl)+(this._jwt?"-with-token":"")}_send(e,t){return hn(this,void 0,void 0,(function*(){try{return e=this._withClientProps(e),(!t.lite||t.lite&&t.sendInstance)&&(e=this._withInstanceProps(e)),(!t.lite||t.lite&&t.sendUser)&&(e=yield this._withUserProps(e)),(!t.lite||t.lite&&t.sendBrowser)&&(e=this._withBrowserProps(e)),yield this._doSend(this._trackUrl(t),e)}catch(e){throw Jt((()=>this._logger&&this._logger.sendError(e))),e}}))}_doSend(e,t){return this._fetch(e,{mode:"cors",credentials:"include",method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:[t],jwt:this._jwt})}).then((e=>e.ok?Promise.resolve():Promise.reject(new Error(e.statusText))))}setUserGetter(e){this.userGetter=e}}class vn{nextPingDateWriteError(e){Dt().gnar.nextPingDateWriteError(JSON.stringify(e))}nextPingDateReadError(e){Dt().gnar.sendError(e)}sendError(e){Dt().gnar.sendError(e)}trackBeforeSetUser(e){Dt().gnar.trackBeforeSetUser(e)}}async function bn(e,n){var r;try{const o=await async function(e){const n=me(self).fetch,r=e.bundleInfo.extensionType,o=e.appConfig.gnar,i="safariAppExtension"===r?new dn(".grammarly.com"):"safariWebExtension"===r||"safariIOSWebExtension"===r||"firefoxWebExtension"===r?new cn(o.url,o.domain):"chromiumWebExtension"===r?new un(o.url,o.domain):(0,t.vE)(r),a="firefoxWebExtension"===r||"safariAppExtension"===r||"3"===e.buildInfo.manifestVersion?[new Lt((()=>Ft().preferences))]:[new dn(o.domain),new ln,new pn],s=new an(i,a,null,"chromiumWebExtension"===r?1e3:5e3);if("safariAppExtension"===r){const e=s.key(),t=self.bgInitArgs,n=t&&t.companionContainerId;if(null==await i.safeGetValue(e)){const t=null==n?s.getOrGenerateContainerId():n;await i.safeSetValue(e,t)}}return{gnar:new yn(o.url,o.appName,e.buildInfo.version,n,s,new vn,!0,void 0,"3"===e.buildInfo.manifestVersion?()=>({referrer:"",url:"",userAgent:navigator.userAgent,screenHeight:0,containerHeight:0,containerWidth:0,cc:0,screenWidth:0,devicePixelRatio:0}):void 0,void 0,"3"===e.buildInfo.manifestVersion?new Lt((()=>Ft().preferences)):void 0)}}(R());return jt.gnar=o.gnar,null===(r=jt.gnar)||void 0===r||r.setUserGetter(n),new e(o.gnar)}catch(e){return void Dt().gnarClientInitFail(e&&e.message)}}const _n=async()=>{const e=await(0,t.qO)((async()=>jt.gnar?await jt.gnar.getContainerId():void 0),(async()=>{}));return null!=e?e:await(async()=>{try{if("firefox"===R().bundleInfo.browser){const e=Ft(),t=new Ae(e);return await t.getContainerIdFromCookie()}return}catch(e){return}})()},wn=Z.create("lib.request");async function Sn(e){const t=Ft(),n=new Ae(t);return async function(e,t,n){e.headers=e.headers||{};try{const t=await _n();t&&(e.headers["X-Container-Id"]=t),n&&(e.headers["Grammarly-Auth-Policy"]=n),e.headers["X-Client-Version"]=`${R().buildInfo.version}`,e.headers["X-Client-Type"]=`${R().appConfig.auth.xClientType}`}catch(e){wn.error("Error by setting request headers")}return t&&(e.headers["X-CSRF-Token"]=t),e}(e,await n.getCSRFToken(!!e.csrfMayBeEmpty),await async function(){try{const e=Ft().managedStorage;if(void 0===e)return;const t=await e.get("GrammarlyEnrollmentToken");return t&&`enrollment-token ${t}`}catch(e){return void wn.error("Fail to get GrammarlyEnrollmentToken from managedStore")}}())}function In(e){if(e.data&&(e.query||"post"!==e.method)&&(e.url+="?"+function(e){let t="";for(const n in e)if(Array.isArray(e[n])){if(e[n].length){const r=e[n].map((e=>`${n}=${e}`)).join("&");t+=`${t.length?"&":""}${r}`}}else t+=`${t.length?"&":""}${n}=${encodeURIComponent(e[n])}`;return t}(e.data)),e.data&&"post"===e.method&&!e.query&&!e.body){try{e.body=JSON.stringify(e.data)}catch(t){e.body={},wn.warn("",t)}e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",delete e.data}return e.credentials="include",e}async function xn(e,t={}){return t.url=e,In(t),L()||self.__extensionTestsMode?async function(e){const t=await Sn(e),{url:n}=t;if(delete t.url,!n)return Promise.reject(new Error("Url is not defined in fetch request"));function r(e){return e.ok?e[t.isText?"text":"json"]():e.text().then((t=>{throw{name:"RequestError",body:t,statusCode:e.status,message:e.statusText}}))}return Promise.race([self.fetch(n,t).then(r).then((e=>{if("string"!=typeof e&&e&&e.error)throw new Error(e.error);return e})),Re(t.timeout||1e4).then((()=>{throw new Error(`Fetch request to ${n} rejected by timeout`)}))])}(t):Promise.reject(new Error("Fetch could be called only from BG page please use RPC instead"))}const En="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function kn(e,t,n,r){let o,i,a;const s=t||[0],u=(n=n||0)>>>3,c=-1===r?3:0;for(o=0;o<e.length;o+=1)a=o+u,i=a>>>2,s.length<=i&&s.push(0),s[i]|=e[o]<<8*(c+r*(a%4));return{value:s,binLen:8*e.length+n}}function Tn(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(e,t,r){return function(e,t,n,r){let o,i,a,s;if(0!=e.length%2)throw new Error("String of HEX type must be in byte increments");const u=t||[0],c=(n=n||0)>>>3,l=-1===r?3:0;for(o=0;o<e.length;o+=2){if(i=parseInt(e.substr(o,2),16),isNaN(i))throw new Error("String of HEX type contains invalid characters");for(s=(o>>>1)+c,a=s>>>2;u.length<=a;)u.push(0);u[a]|=i<<8*(l+r*(s%4))}return{value:u,binLen:4*e.length+n}}(e,t,r,n)};case"TEXT":return function(e,r,o){return function(e,t,n,r,o){let i,a,s,u,c,l,d,p,h=0;const f=n||[0],g=(r=r||0)>>>3;if("UTF8"===t)for(d=-1===o?3:0,s=0;s<e.length;s+=1)for(i=e.charCodeAt(s),a=[],128>i?a.push(i):2048>i?(a.push(192|i>>>6),a.push(128|63&i)):55296>i||57344<=i?a.push(224|i>>>12,128|i>>>6&63,128|63&i):(s+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(s)),a.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),u=0;u<a.length;u+=1){for(l=h+g,c=l>>>2;f.length<=c;)f.push(0);f[c]|=a[u]<<8*(d+o*(l%4)),h+=1}else for(d=-1===o?2:0,p="UTF16LE"===t&&1!==o||"UTF16LE"!==t&&1===o,s=0;s<e.length;s+=1){for(i=e.charCodeAt(s),!0===p&&(u=255&i,i=u<<8|i>>>8),l=h+g,c=l>>>2;f.length<=c;)f.push(0);f[c]|=i<<8*(d+o*(l%4)),h+=2}return{value:f,binLen:8*h+r}}(e,t,r,o,n)};case"B64":return function(e,t,r){return function(e,t,n,r){let o,i,a,s,u,c,l,d=0;const p=t||[0],h=(n=n||0)>>>3,f=-1===r?3:0,g=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==g&&g<e.length)throw new Error("Invalid '=' found in base-64 string");for(i=0;i<e.length;i+=4){for(u=e.substr(i,4),s=0,a=0;a<u.length;a+=1)o=En.indexOf(u.charAt(a)),s|=o<<18-6*a;for(a=0;a<u.length-1;a+=1){for(l=d+h,c=l>>>2;p.length<=c;)p.push(0);p[c]|=(s>>>16-8*a&255)<<8*(f+r*(l%4)),d+=1}}return{value:p,binLen:8*d+n}}(e,t,r,n)};case"BYTES":return function(e,t,r){return function(e,t,n,r){let o,i,a,s;const u=t||[0],c=(n=n||0)>>>3,l=-1===r?3:0;for(i=0;i<e.length;i+=1)o=e.charCodeAt(i),s=i+c,a=s>>>2,u.length<=a&&u.push(0),u[a]|=o<<8*(l+r*(s%4));return{value:u,binLen:8*e.length+n}}(e,t,r,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e,t,r){return function(e,t,n,r){return kn(new Uint8Array(e),t,n,r)}(e,t,r,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e,t,r){return kn(e,t,r,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function An(e,t,n,r){switch(e){case"HEX":return function(e){return function(e,t,n,r){let o,i,a="";const s=t/8,u=-1===n?3:0;for(o=0;o<s;o+=1)i=e[o>>>2]>>>8*(u+n*(o%4)),a+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return r.outputUpper?a.toUpperCase():a}(e,t,n,r)};case"B64":return function(e){return function(e,t,n,r){let o,i,a,s,u,c="";const l=t/8,d=-1===n?3:0;for(o=0;o<l;o+=3)for(s=o+1<l?e[o+1>>>2]:0,u=o+2<l?e[o+2>>>2]:0,a=(e[o>>>2]>>>8*(d+n*(o%4))&255)<<16|(s>>>8*(d+n*((o+1)%4))&255)<<8|u>>>8*(d+n*((o+2)%4))&255,i=0;i<4;i+=1)c+=8*o+6*i<=t?En.charAt(a>>>6*(3-i)&63):r.b64Pad;return c}(e,t,n,r)};case"BYTES":return function(e){return function(e,t,n){let r,o,i="";const a=t/8,s=-1===n?3:0;for(r=0;r<a;r+=1)o=e[r>>>2]>>>8*(s+n*(r%4))&255,i+=String.fromCharCode(o);return i}(e,t,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e){return function(e,t,n){let r;const o=t/8,i=new ArrayBuffer(o),a=new Uint8Array(i),s=-1===n?3:0;for(r=0;r<o;r+=1)a[r]=e[r>>>2]>>>8*(s+n*(r%4))&255;return i}(e,t,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e){return function(e,t,n){let r;const o=t/8,i=-1===n?3:0,a=new Uint8Array(o);for(r=0;r<o;r+=1)a[r]=e[r>>>2]>>>8*(i+n*(r%4))&255;return a}(e,t,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const Cn=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],On=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],Pn=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Rn="Chosen SHA variant is not supported";function Nn(e,t){let n,r;const o=e.binLen>>>3,i=t.binLen>>>3,a=o<<3,s=4-o<<3;if(o%4!=0){for(n=0;n<i;n+=4)r=o+n>>>2,e.value[r]|=t.value[n>>>2]<<a,e.value.push(0),e.value[r+1]|=t.value[n>>>2]>>>s;return(e.value.length<<2)-4>=i+o&&e.value.pop(),{value:e.value,binLen:e.binLen+t.binLen}}return{value:e.value.concat(t.value),binLen:e.binLen+t.binLen}}function Dn(e){const t={outputUpper:!1,b64Pad:"=",outputLen:-1},n=e||{},r="Output length must be a multiple of 8";if(t.outputUpper=n.outputUpper||!1,n.b64Pad&&(t.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);t.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);t.outputLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function Mn(e,t,n,r){const o=e+" must include a value and format";if(!t){if(!r)throw new Error(o);return r}if(void 0===t.value||!t.format)throw new Error(o);return Tn(t.format,t.encoding||"UTF8",n)(t.value)}class jn{constructor(e,t,n){const r=n||{};if(this.t=t,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=e,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(e){let t,n=0;const r=this.p>>>5,o=this.m(e,this.o,this.h),i=o.binLen,a=o.value,s=i>>>5;for(t=0;t<s;t+=r)n+this.p<=i&&(this.C=this.R(a.slice(t,t+r),this.C),n+=this.p);this.l+=n,this.o=a.slice(n>>>5),this.h=i%this.p,this.u=!0}getHash(e,t){let n,r,o=this.U;const i=Dn(t);if(this.v){if(-1===i.outputLen)throw new Error("Output length must be specified in options");o=i.outputLen}const a=An(e,o,this.K,i);if(this.A&&this.T)return a(this.T(i));for(r=this.F(this.o.slice(),this.h,this.l,this.g(this.C),o),n=1;n<this.numRounds;n+=1)this.v&&o%32!=0&&(r[r.length-1]&=16777215>>>24-o%32),r=this.F(r,o,0,this.B(this.s),o);return a(r)}setHMACKey(e,t,n){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const r=Tn(t,(n||{}).encoding||"UTF8",this.K);this.M(r(e))}M(e){const t=this.p>>>3,n=t/4-1;let r;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(t<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.s),this.U));e.value.length<=n;)e.value.push(0);for(r=0;r<=n;r+=1)this.H[r]=909522486^e.value[r],this.S[r]=1549556828^e.value[r];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(e,t){const n=Dn(t);return An(e,this.U,this.K,n)(this.k())}k(){let e;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const t=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return e=this.R(this.S,this.B(this.s)),e=this.F(t,this.U,this.p,e,this.U),e}}function Ln(e,t){return e<<t|e>>>32-t}function Un(e,t){return e>>>t|e<<32-t}function Fn(e,t){return e>>>t}function Bn(e,t,n){return e^t^n}function Gn(e,t,n){return e&t^~e&n}function zn(e,t,n){return e&t^e&n^t&n}function Wn(e){return Un(e,2)^Un(e,13)^Un(e,22)}function qn(e,t){const n=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(n>>>16))<<16|65535&n}function Vn(e,t,n,r){const o=(65535&e)+(65535&t)+(65535&n)+(65535&r);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(o>>>16))<<16|65535&o}function Hn(e,t,n,r,o){const i=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&o);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function $n(e){return Un(e,7)^Un(e,18)^Fn(e,3)}function Kn(e){return Un(e,6)^Un(e,11)^Un(e,25)}function Yn(e){return[1732584193,4023233417,2562383102,271733878,3285377520]}function Jn(e,t){let n,r,o,i,a,s,u;const c=[];for(n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=0;u<80;u+=1)c[u]=u<16?e[u]:Ln(c[u-3]^c[u-8]^c[u-14]^c[u-16],1),s=u<20?Hn(Ln(n,5),Gn(r,o,i),a,1518500249,c[u]):u<40?Hn(Ln(n,5),Bn(r,o,i),a,1859775393,c[u]):u<60?Hn(Ln(n,5),zn(r,o,i),a,2400959708,c[u]):Hn(Ln(n,5),Bn(r,o,i),a,3395469782,c[u]),a=i,i=o,o=Ln(r,30),r=n,n=s;return t[0]=qn(n,t[0]),t[1]=qn(r,t[1]),t[2]=qn(o,t[2]),t[3]=qn(i,t[3]),t[4]=qn(a,t[4]),t}function Xn(e,t,n,r){let o;const i=15+(t+65>>>9<<4),a=t+n;for(;e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[i]=4294967295&a,e[i-1]=a/4294967296|0,o=0;o<e.length;o+=16)r=Jn(e.slice(o,o+16),r);return r}class Qn extends jn{constructor(e,t,n){if("SHA-1"!==e)throw new Error(Rn);super(e,t,n);const r=n||{};this.L=!0,this.T=this.k,this.K=-1,this.m=Tn(this.t,this.i,this.K),this.R=Jn,this.g=function(e){return e.slice()},this.B=Yn,this.F=Xn,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,r.hmacKey&&this.M(Mn("hmacKey",r.hmacKey,this.K))}}function Zn(e){let t;return t="SHA-224"==e?On.slice():Pn.slice(),t}function er(e,t){let n,r,o,i,a,s,u,c,l,d,p;const h=[];for(n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],p=0;p<64;p+=1)h[p]=p<16?e[p]:Vn(Un(f=h[p-2],17)^Un(f,19)^Fn(f,10),h[p-7],$n(h[p-15]),h[p-16]),l=Hn(c,Kn(a),Gn(a,s,u),Cn[p],h[p]),d=qn(Wn(n),zn(n,r,o)),c=u,u=s,s=a,a=qn(i,l),i=o,o=r,r=n,n=qn(l,d);var f;return t[0]=qn(n,t[0]),t[1]=qn(r,t[1]),t[2]=qn(o,t[2]),t[3]=qn(i,t[3]),t[4]=qn(a,t[4]),t[5]=qn(s,t[5]),t[6]=qn(u,t[6]),t[7]=qn(c,t[7]),t}class tr extends jn{constructor(e,t,n){if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(Rn);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=Tn(this.t,this.i,this.K),this.R=er,this.g=function(e){return e.slice()},this.B=Zn,this.F=function(t,n,r,o){return function(e,t,n,r,o){let i,a;const s=15+(t+65>>>9<<4),u=t+n;for(;e.length<=s;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[s]=4294967295&u,e[s-1]=u/4294967296|0,i=0;i<e.length;i+=16)r=er(e.slice(i,i+16),r);return a="SHA-224"===o?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r,a}(t,n,r,o,e)},this.C=Zn(e),this.p=512,this.U="SHA-224"===e?224:256,this.v=!1,r.hmacKey&&this.M(Mn("hmacKey",r.hmacKey,this.K))}}class nr{constructor(e,t){this.Y=e,this.N=t}}function rr(e,t){let n;return t>32?(n=64-t,new nr(e.N<<t|e.Y>>>n,e.Y<<t|e.N>>>n)):0!==t?(n=32-t,new nr(e.Y<<t|e.N>>>n,e.N<<t|e.Y>>>n)):e}function or(e,t){let n;return t<32?(n=32-t,new nr(e.Y>>>t|e.N<<n,e.N>>>t|e.Y<<n)):(n=64-t,new nr(e.N>>>t|e.Y<<n,e.Y>>>t|e.N<<n))}function ir(e,t){return new nr(e.Y>>>t,e.N>>>t|e.Y<<32-t)}function ar(e,t,n){return new nr(e.Y&t.Y^e.Y&n.Y^t.Y&n.Y,e.N&t.N^e.N&n.N^t.N&n.N)}function sr(e){const t=or(e,28),n=or(e,34),r=or(e,39);return new nr(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function ur(e,t){let n,r;n=(65535&e.N)+(65535&t.N),r=(e.N>>>16)+(t.N>>>16)+(n>>>16);const o=(65535&r)<<16|65535&n;return n=(65535&e.Y)+(65535&t.Y)+(r>>>16),r=(e.Y>>>16)+(t.Y>>>16)+(n>>>16),new nr((65535&r)<<16|65535&n,o)}function cr(e,t,n,r){let o,i;o=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N),i=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(o>>>16);const a=(65535&i)<<16|65535&o;return o=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(i>>>16),i=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(o>>>16),new nr((65535&i)<<16|65535&o,a)}function lr(e,t,n,r,o){let i,a;i=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N)+(65535&o.N),a=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(o.N>>>16)+(i>>>16);const s=(65535&a)<<16|65535&i;return i=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(65535&o.Y)+(a>>>16),a=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(o.Y>>>16)+(i>>>16),new nr((65535&a)<<16|65535&i,s)}function dr(e,t){return new nr(e.Y^t.Y,e.N^t.N)}function pr(e){const t=or(e,19),n=or(e,61),r=ir(e,6);return new nr(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function hr(e){const t=or(e,1),n=or(e,8),r=ir(e,7);return new nr(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function fr(e){const t=or(e,14),n=or(e,18),r=or(e,41);return new nr(t.Y^n.Y^r.Y,t.N^n.N^r.N)}const gr=[new nr(Cn[0],3609767458),new nr(Cn[1],602891725),new nr(Cn[2],3964484399),new nr(Cn[3],2173295548),new nr(Cn[4],4081628472),new nr(Cn[5],3053834265),new nr(Cn[6],2937671579),new nr(Cn[7],3664609560),new nr(Cn[8],2734883394),new nr(Cn[9],1164996542),new nr(Cn[10],1323610764),new nr(Cn[11],3590304994),new nr(Cn[12],4068182383),new nr(Cn[13],991336113),new nr(Cn[14],633803317),new nr(Cn[15],3479774868),new nr(Cn[16],2666613458),new nr(Cn[17],944711139),new nr(Cn[18],2341262773),new nr(Cn[19],2007800933),new nr(Cn[20],1495990901),new nr(Cn[21],1856431235),new nr(Cn[22],3175218132),new nr(Cn[23],2198950837),new nr(Cn[24],3999719339),new nr(Cn[25],766784016),new nr(Cn[26],2566594879),new nr(Cn[27],3203337956),new nr(Cn[28],1034457026),new nr(Cn[29],2466948901),new nr(Cn[30],3758326383),new nr(Cn[31],168717936),new nr(Cn[32],1188179964),new nr(Cn[33],1546045734),new nr(Cn[34],1522805485),new nr(Cn[35],2643833823),new nr(Cn[36],2343527390),new nr(Cn[37],1014477480),new nr(Cn[38],1206759142),new nr(Cn[39],344077627),new nr(Cn[40],1290863460),new nr(Cn[41],3158454273),new nr(Cn[42],3505952657),new nr(Cn[43],106217008),new nr(Cn[44],3606008344),new nr(Cn[45],1432725776),new nr(Cn[46],1467031594),new nr(Cn[47],851169720),new nr(Cn[48],3100823752),new nr(Cn[49],1363258195),new nr(Cn[50],3750685593),new nr(Cn[51],3785050280),new nr(Cn[52],3318307427),new nr(Cn[53],3812723403),new nr(Cn[54],2003034995),new nr(Cn[55],3602036899),new nr(Cn[56],1575990012),new nr(Cn[57],1125592928),new nr(Cn[58],2716904306),new nr(Cn[59],442776044),new nr(Cn[60],593698344),new nr(Cn[61],3733110249),new nr(Cn[62],2999351573),new nr(Cn[63],3815920427),new nr(3391569614,3928383900),new nr(3515267271,566280711),new nr(3940187606,3454069534),new nr(4118630271,4000239992),new nr(116418474,1914138554),new nr(174292421,2731055270),new nr(289380356,3203993006),new nr(460393269,320620315),new nr(685471733,587496836),new nr(852142971,1086792851),new nr(1017036298,365543100),new nr(1126000580,2618297676),new nr(1288033470,3409855158),new nr(1501505948,4234509866),new nr(1607167915,987167468),new nr(1816402316,1246189591)];function mr(e){return"SHA-384"===e?[new nr(3418070365,On[0]),new nr(1654270250,On[1]),new nr(2438529370,On[2]),new nr(355462360,On[3]),new nr(1731405415,On[4]),new nr(41048885895,On[5]),new nr(3675008525,On[6]),new nr(1203062813,On[7])]:[new nr(Pn[0],4089235720),new nr(Pn[1],2227873595),new nr(Pn[2],4271175723),new nr(Pn[3],1595750129),new nr(Pn[4],2917565137),new nr(Pn[5],725511199),new nr(Pn[6],4215389547),new nr(Pn[7],327033209)]}function yr(e,t){let n,r,o,i,a,s,u,c,l,d,p,h;const f=[];for(n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],p=0;p<80;p+=1)p<16?(h=2*p,f[p]=new nr(e[h],e[h+1])):f[p]=cr(pr(f[p-2]),f[p-7],hr(f[p-15]),f[p-16]),l=lr(c,fr(a),(m=s,y=u,new nr((g=a).Y&m.Y^~g.Y&y.Y,g.N&m.N^~g.N&y.N)),gr[p],f[p]),d=ur(sr(n),ar(n,r,o)),c=u,u=s,s=a,a=ur(i,l),i=o,o=r,r=n,n=ur(l,d);var g,m,y;return t[0]=ur(n,t[0]),t[1]=ur(r,t[1]),t[2]=ur(o,t[2]),t[3]=ur(i,t[3]),t[4]=ur(a,t[4]),t[5]=ur(s,t[5]),t[6]=ur(u,t[6]),t[7]=ur(c,t[7]),t}class vr extends jn{constructor(e,t,n){if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(Rn);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=Tn(this.t,this.i,this.K),this.R=yr,this.g=function(e){return e.slice()},this.B=mr,this.F=function(t,n,r,o){return function(e,t,n,r,o){let i,a;const s=31+(t+129>>>10<<5),u=t+n;for(;e.length<=s;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[s]=4294967295&u,e[s-1]=u/4294967296|0,i=0;i<e.length;i+=32)r=yr(e.slice(i,i+32),r);return a="SHA-384"===o?[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N]:[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N,r[6].Y,r[6].N,r[7].Y,r[7].N],a}(t,n,r,o,e)},this.C=mr(e),this.p=1024,this.U="SHA-384"===e?384:512,this.v=!1,r.hmacKey&&this.M(Mn("hmacKey",r.hmacKey,this.K))}}const br=[new nr(0,1),new nr(0,32898),new nr(2147483648,32906),new nr(2147483648,2147516416),new nr(0,32907),new nr(0,2147483649),new nr(2147483648,2147516545),new nr(2147483648,32777),new nr(0,138),new nr(0,136),new nr(0,2147516425),new nr(0,2147483658),new nr(0,2147516555),new nr(2147483648,139),new nr(2147483648,32905),new nr(2147483648,32771),new nr(2147483648,32770),new nr(2147483648,128),new nr(0,32778),new nr(2147483648,2147483658),new nr(2147483648,2147516545),new nr(2147483648,32896),new nr(0,2147483649),new nr(2147483648,2147516424)],_r=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function wr(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=[new nr(0,0),new nr(0,0),new nr(0,0),new nr(0,0),new nr(0,0)];return n}function Sr(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=e[t].slice();return n}function Ir(e,t){let n,r,o,i;const a=[],s=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=dr(t[(r>>>1)%5][(r>>>1)/5|0],new nr(e[r+1],e[r]));for(n=0;n<24;n+=1){for(i=wr(),r=0;r<5;r+=1)a[r]=(u=t[r][0],c=t[r][1],l=t[r][2],d=t[r][3],p=t[r][4],new nr(u.Y^c.Y^l.Y^d.Y^p.Y,u.N^c.N^l.N^d.N^p.N));for(r=0;r<5;r+=1)s[r]=dr(a[(r+4)%5],rr(a[(r+1)%5],1));for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)t[r][o]=dr(t[r][o],s[r]);for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)i[o][(2*r+3*o)%5]=rr(t[r][o],_r[r][o]);for(r=0;r<5;r+=1)for(o=0;o<5;o+=1)t[r][o]=dr(i[r][o],new nr(~i[(r+1)%5][o].Y&i[(r+2)%5][o].Y,~i[(r+1)%5][o].N&i[(r+2)%5][o].N));t[0][0]=dr(t[0][0],br[n])}var u,c,l,d,p;return t}function xr(e){let t,n,r=0;const o=[0,0],i=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)n=i[t>>2]>>>8*t&255,0===n&&0===r||(o[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,o[0]|=r,{value:r+1>4?o:[o[0]],binLen:8+8*r}}function Er(e){return Nn(xr(e.binLen),e)}function kr(e,t){let n,r=xr(t);r=Nn(r,e);const o=t>>>2,i=(o-r.value.length%o)%o;for(n=0;n<i;n++)r.value.push(0);return r.value}class Tr extends jn{constructor(e,t,n){let r=6,o=0;super(e,t,n);const i=n||{};if(1!==this.numRounds){if(i.kmacKey||i.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=Tn(this.t,this.i,this.K),this.R=Ir,this.g=Sr,this.B=wr,this.C=wr(),this.v=!1,e){case"SHA3-224":this.p=o=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=o=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=o=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=o=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":r=31,this.p=o=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":r=31,this.p=o=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":r=4,this.p=o=1344,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":r=4,this.p=o=1088,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=o=1344,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=o=1088,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(Rn)}this.F=function(e,t,n,i,a){return function(e,t,n,r,o,i,a){let s,u,c=0;const l=[],d=o>>>5,p=t>>>5;for(s=0;s<p&&t>=o;s+=d)r=Ir(e.slice(s,s+d),r),t-=o;for(e=e.slice(s),t%=o;e.length<d;)e.push(0);for(s=t>>>3,e[s>>2]^=i<<s%4*8,e[d-1]^=2147483648,r=Ir(e,r);32*l.length<a&&(u=r[c%5][c/5|0],l.push(u.N),!(32*l.length>=a));)l.push(u.Y),c+=1,0==64*c%o&&(Ir(null,r),c=0);return l}(e,t,0,i,o,r,a)},i.hmacKey&&this.M(Mn("hmacKey",i.hmacKey,this.K))}_(e,t){const n=function(e){const t=e||{};return{funcName:Mn("funcName",t.funcName,1,{value:[],binLen:0}),customization:Mn("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});t&&(n.funcName=t);const r=Nn(Er(n.funcName),Er(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){const e=kr(r,this.p>>>3);for(let t=0;t<e.length;t+=this.p>>>5)this.C=this.R(e.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(e){const t=function(e){const t=e||{};return{kmacKey:Mn("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:Mn("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});this._(e,t.funcName);const n=kr(Er(t.kmacKey),this.p>>>3);for(let e=0;e<n.length;e+=this.p>>>5)this.C=this.R(n.slice(e,e+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(e){const t=Nn({value:this.o.slice(),binLen:this.h},function(e){let t,n,r=0;const o=[0,0],i=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)n=i[t>>2]>>>8*t&255,0===n&&0===r||(o[r>>2]|=n<<8*r,r+=1);return r=0!==r?r:1,o[r>>2]|=r<<8*r,{value:r+1>4?o:[o[0]],binLen:8+8*r}}(e.outputLen));return this.F(t.value,t.binLen,this.l,this.g(this.C),e.outputLen)}}var Ar,Cr=__webpack_require__(96702);!function(e){class t extends Error{constructor(e,t=1e3){super(`SafePromiseError: ${e}`),this.stack=(super.stack||"").slice(t)}}function n(e){return e.catch((e=>e instanceof Error&&!e.stack?Promise.reject(new t(e.message)):Promise.reject(e)))}e.fromPromise=n,e.fromAsync=function(e){return(...t)=>n(e(...t))},e.noop=e.fromPromise(Promise.resolve()),e.create=function(e){return n(new Promise(e))},e.sync=function(e){return n(new Promise(((t,n)=>t(e()))))},e.createCompletionSource=Cr.II,e.delay=Cr.gw}(Ar||(Ar={}));const Or=Z.create("universal.bg.prefs");class Pr{constructor(e){this._api=e,this.get=async e=>{try{const t=await this._api.get(e);return Array.isArray(e)?t:t[e]}catch(t){return Or.warn("prefs get error:",t),Array.isArray(e)?{}:void 0}},this.getByName=async e=>await this.get(e),this.set=async(e,t)=>{const n="string"==typeof e?{[e]:t}:e;try{await this._api.set(n)}catch(e){Or.warn("prefs set error",e)}},this.setByName=async(e,t)=>await this.set(e,t),this.all=async()=>{try{return await this._api.getAll()}catch(e){return Or.warn("prefs get error:",e),{}}},this.remove=async e=>{try{await this._api.remove(e)}catch(e){Or.warn("prefs remove error",e)}},this.clearAll=async()=>{try{await this._api.removeAll()}catch(e){Or.warn("prefs clearAll error",e)}}}}function Rr(){const e=new Date;return e.getHours()>2&&e.setDate(e.getDate()+1),e.setHours(3),e.setMinutes(Math.floor(60*Math.random())),e.getTime()}const Nr={async"daily-ping"(e,t=Rr,n=null){if(!e)return;CS().telemetryCallProvider.call("gnar.pingMaybe");const r=new Pr(Ft().preferences);let o=await r.get("pingDate");"string"!=typeof o&&(o="");const[i,a]=o.split("|"),s=e;if(i&&i>Date.now()&&a===s)return;const u=Ft();void 0!==u.isExtensionInstalled&&await u.isExtensionInstalled("mseditor")&&await jr.MSEditorInstalled(),void 0!==u.isExtensionInstalled&&await u.isExtensionInstalled("office")&&await jr.MSOfficeInstalled(n&&n.isEditorEnabledInMSOffice||!1),Dt().sendFemetricsRate("pingDaily"),await r.set("pingDate",[t(),s].join("|"))},"login-attempt"(e){CS().telemetryCallProvider.call("gnar.track","signInClicked",{placement:e})},"tab-connected"({user:e,enabledByUserSettings:t,enabledForDomain:n,isGrammarlyEditorPage:r,environmentState:o}){this["daily-ping"](e.id,void 0,o),n||!0===r||Dt().disabledTabLoad(e.type),!0===n&&!1===t&&Dt().disabledTabByUserLoad(e.type)},"session-invalidate"(e,t,n,r){const{id:o,anonymous:i,isTest:a}=e,s=Dt();s.setUserInfo({userId:o,userType:e.anonymous?"Anonymous":e.type,extensionInstallDate:r,registrationDate:new Date(e.registrationDate).getTime()}),CS().telemetryCallProvider.call("gnar.setUser",o,a),this["daily-ping"](o),(null==t?void 0:t.email)&&!(null==t?void 0:t.anonymous)&&i&&s.unexpectedAnonymous({reason:n||"N/A"})},"set-dapi-prop"(e,t){if("dialectWeak"===e){const e=t+"English";jr.languageSettingUpdate(e,"capi")}},"cookie-overflow"(e,t){Dt().cookieOverflow(e,t)}},Dr=Z.create("lib.tracking"),Mr=Ar.createCompletionSource(),jr=new Proxy({},{get:(e,t)=>(...e)=>Mr.promise.then((async n=>{Dr.info("gnar",[t,...e]);try{await n[t](...e)}catch(e){Dr.warn("failed to invoke gnar method",e,{method:t})}})).catch((e=>{Dr.error(e)}))});function Lr(e,t){const n=Dt();bn(e,t).then((e=>{e?Mr.resolve(e):(n.bgTrackingInitFail(),Mr.reject("failed to send tracking event: gnarSpec init failed"))})).catch((()=>{n.bgTrackingInitFail(),Mr.reject("failed to send tracking event: tracking init failed")}))}function Ur(e,...t){if(!Nr[e])return Dr.error(`No handler specified for message: ${e}`);!function(e,t=10){setTimeout(e,t)}((()=>Nr[e](...t)),20)}var Fr;!function(e){const t=Z.create("desktop-integration.gdocs.redirect");async function n(e,n,r,o,i="web-store",a=t){if(o){await e.gdocs.gdocsOptedIn(),await e.settings.setLlamaInstalled();try{await n.setLlamaInstalled(),r.tabs.reload(o),o.id&&"web-extension"===r.tabs.kind&&await r.tabs.focusTab(o.id),jr.desktopIntegrationGDocsRedirect(i)}catch(e){a.error("redirect error",e)}}}e.findTab=async function(e,n,r=t){try{const t=(await e.tabs.getAllTabs()||[]).find((e=>{if(!e.url)return;const t=new class{constructor(e,t,n){if("SHA-1"==e)this.O=new Qn(e,t,n);else if("SHA-224"==e||"SHA-256"==e)this.O=new tr(e,t,n);else if("SHA-384"==e||"SHA-512"==e)this.O=new vr(e,t,n);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(Rn);this.O=new Tr(e,t,n)}}update(e){this.O.update(e)}getHash(e,t){return this.O.getHash(e,t)}setHMACKey(e,t,n){this.O.setHMACKey(e,t,n)}getHMAC(e,t){return this.O.getHMAC(e,t)}}("SHA-256","TEXT",{encoding:"UTF8"});return t.update(e.url),t.getHash("HEX")===n}));return t?r.info("tab with hash found"):r.warn("tab with hash not found"),t}catch(e){return void r.error("find tab by hash error",e)}},e.activateTab=n,e.activateTabByHash=async function(t,r,o,i,a="web-store"){const s=await e.findTab(o,i);await n(t,r,o,s,a)},e.initialEnable=async function(t,r,o,i){var a;const{extensionSettings:s}=await i.get(["extensionSettings"]);if(null==s?void 0:s.common.desktopIntegrationRedirectUrlHash)return;const u=o.getLocalUserField?await o.getLocalUserField("install-redirect-url"):null===(a=await r.getLlamaRedirectUrl())||void 0===a?void 0:a.value;if(!u)return;const c=await e.findTab(o,u);c&&(await n(t,r,o,c,"web-store"),await t.settings.setDesktopIntegrationRedirectUrlHash(u),await r.deleteLlamaRedirectUrl())}}(Fr||(Fr={}));const Br="message:to-priv";var Gr,zr;!function(e){e[e.success=0]="success",e[e.successWithEmpty=1]="successWithEmpty",e[e.alreadyMigrated=2]="alreadyMigrated"}(Gr||(Gr={})),function(e){e[e.nonEmptyMigration=0]="nonEmptyMigration",e[e.emptyMigration=1]="emptyMigration"}(zr||(zr={}));class Wr{constructor(e,t,n,r=[],o=((e,t,n)=>t)){this._name=e,this._source=t,this._destination=n,this._destValuesToKeep=r,this._valuesMapper=o,this._migrationFlagSuccessfulValue="ok",this._migrationFlagKey=`__migration-${Wr.migrationFlagUniqueKey}:(${this._name})`,this._migrationInProgress=!1,this.migrationAwareDestination=function(e,t){const{get:n,set:r,getAll:o,remove:i}=me(e);return{get:n,set:r,getAll:o,remove:i,removeAll:Ar.fromAsync((async()=>{const n=await e.getAll();await e.removeAll(),await e.set(te(t,n))})),changes:e.changes,dispose:()=>{}}}(this._destination,(e=>e===this._migrationFlagKey))}async _getMigrated(){return(await this._destination.get(this._migrationFlagKey))[this._migrationFlagKey]===this._migrationFlagSuccessfulValue}async _setMigrated(){await this._destination.set({[this._migrationFlagKey]:this._migrationFlagSuccessfulValue});const e=await this._destination.get(this._migrationFlagKey);if(e[this._migrationFlagKey]!==this._migrationFlagSuccessfulValue)throw new Error(`Could not verify status write, actual value: ${e}`)}async _runMigration(){a(!this._migrationInProgress,"migration already in progress"),this._migrationInProgress=!0;try{const e=await this._source.getAll(),n=te(((e,t)=>void 0!==t),ee(((t,n)=>this._valuesMapper(t,n,e)),e)),r=0===Object.keys(n).length,o=await this._destination.get(this._destValuesToKeep),i={...n,...o};if(await this._destination.removeAll(),await this._destination.set(i),!(0,t.fS)(i,await this._destination.getAll()))throw new Error("Could not verify write");return this._migrationInProgress=!1,r?zr.emptyMigration:zr.nonEmptyMigration}catch(e){throw this._migrationInProgress=!1,e}}async ensureMigrationCompleted(){if(await this._getMigrated())return Gr.alreadyMigrated;{const e=await this._runMigration();switch(await this._setMigrated(),e){case zr.nonEmptyMigration:return Gr.success;case zr.emptyMigration:return Gr.successWithEmpty;default:throw new Error(`Match not exhaustive: ${e}`)}}}}Wr.migrationFlagUniqueKey="104ccd8c-9919-9ae4-931f-782fb197486c";var qr=__webpack_require__(44586),Vr=__webpack_require__(82506),Hr=__webpack_require__(17733);function $r(e){return!(0,Hr.k)(e)&&e-parseFloat(e)+1>=0}function Kr(e,t){return void 0===e&&(e=0),void 0===t&&(t=Vr.P),(!$r(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Vr.P),new qr.y((function(n){return n.add(t.schedule(Yr,e,{subscriber:n,counter:0,period:e})),n}))}function Yr(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var Jr=__webpack_require__(77176),Xr=__webpack_require__(59312),Qr=__webpack_require__(98036);function Zr(e,t){return function(n){return n.lift(new eo(e,t))}}var eo=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new to(e,this.compare,this.keySelector))},e}(),to=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return Xr.__extends(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(Qr.L);const no=Pe();function ro(e,t,n,r,o=!1){if(null==e)return;const i=e;if("string"!=typeof t)return Object.keys(t).forEach((e=>{t[e]&&ro(i,e,t[e],r)}));{if(!n)return;const e=i[no]||[];return i[no]=e,r?(i[no]=e.filter((e=>!(e.event===t&&e.cb===n))),i.removeEventListener(t,n,o)):(e.push({event:t,cb:n}),i.addEventListener(t,n,o)),{el:i,event:t,cb:n,bubble:o}}}function oo(e,t,n,r){const o=e;t||null==o[no]?ro(o,t,n,!0,r):o[no].forEach((e=>oo(o,e.event,e.cb,e.bubble)))}function io(e,t,n=self){return void 0===self.document?function(e,t){const n=Kr(Fe(5)).pipe((0,Jr.U)((()=>navigator.onLine)),Zr()).subscribe((n=>n?e():t()));return{stop:()=>n.unsubscribe()}}(e,t):function(e,t,n){return ro(n,{online:e,offline:t}),{stop:()=>oo(n,{online:e,offline:t})}}(e,t,n)}var ao;!function(e){e.allPersistentKeys=["user","version","dynamicConfig","extensionSettings","dynamicConfigOverrideKey","environmentState","connection","activeTab","extensionFSM","fieldsSettings","alarms","clickToRunEnabledOnce","dapi","extensionMeta","gnarInternalStorage","extensionInstallDate"];const t=["user","dapi","dynamicConfig","alarms"];e.parse=(t,n=e.allPersistentKeys)=>re(n.map((e=>[e,t[e]]))),e.parseChange=t=>te(((e,t)=>void 0!==t),re(e.allPersistentKeys.map((e=>[e,t[e]])))),e.hasProtectedKeys=e=>t.some((t=>t in e))}(ao||(ao={}));const so=Z.create("lib.bg.api");function uo(e,t,n,r,o,i){const a=function(e,t,n,r,o,i){const{tabs:a}=n;function s(e,t){const[n,...r]=e.split("?");return C([n+"/"+t,...r],"?")}return{"create-document":e=>{Dt().createDocument();const t=e=>a.open(s(G().docs,e),!0),n=()=>a.open(G().newDoc,!0);return xn(G().docsApi,{data:{content:e},method:"post",headers:{"Content-Type":"application/json","X-API-Version":"1","X-Client-Type":r.appConfig.auth.xClientType}}).then((({id:e})=>t(e))).catch((e=>{so.error("request failed",e),n()}))},"external:changed-plan":()=>{Dt().externalChangePlan(),i.refreshUser("changed-plan")},"external:changed-dialect":()=>{Dt().externalChangeDialect(),i.refreshUser("changed-dialect")},"external:changed-user":()=>{Dt().externalChangeUser(),i.refreshUser("changed-user")},"external:cleanup":async()=>{Dt().externalLogout();const e=[...ao.allPersistentKeys,"extensionInstallDate","serializedUserInfo"],n=await t.all(),r=Object.keys(n).filter((t=>!e.includes(t)||t.includes(Wr.migrationFlagUniqueKey)));await t.remove(r),i.refreshUser("logout")},"external:llama-action":async t=>{if(t&&t.action)switch(t.action){case"llama-installed":e.settings.setLlamaInstalled(),jr.desktopIntegrationEnabled("funnel-callback");break;case"llama-uninstalled":e.settings.setLlamaUninstalled(),o.deleteLlamaInstalled(),i.refreshUser("llama-uninstalled"),jr.desktopIntegrationDisabled();break;case"llama-redirect-url":await Fr.activateTabByHash(e,o,n,t.redirectUrl,"funnel-page")}}}}(e,t,n,r,o,i);Object.keys(a).forEach((e=>CS().message.on(e,a[e]))),io((()=>e.connection.setOffline(!1)),(()=>e.connection.setOffline(!0)))}var co;!function(e){const t=e=>"src/js/"+e;e.MAIN=t("Grammarly.js"),e.STYLES=t("Grammarly.styles.js"),e.CHECK=t("Grammarly-check.js"),e.GDOCS=t("Grammarly-gDocs.js")}(co||(co={}));const lo=Z.create("lib.bg.chrome"),po=self.chrome;let ho=!1;function fo(){!j()&&!N()||ho||(po.runtime.onUpdateAvailable&&po.runtime.onUpdateAvailable.addListener((e=>{lo.info(`Detected the next extension version ${e.version}`),ho=!0;const t=(n=1,r=20,Math.floor(Math.random()*(r-n+1))+n);var n,r;lo.info(`Going to update in minutes: ${t}`),setTimeout(po.runtime.reload,Be(t))})),go())}function go(){po.runtime.requestUpdateCheck&&po.runtime.requestUpdateCheck((e=>"update_available"===e?lo.info("update pending..."):"no_update"===e?lo.info("no update found"):"throttled"===e?lo.info("Oops, I'm asking too frequently - I need to back off."):void 0)),setTimeout(go,Ge(2))}async function mo(e,t,n){if(!j()&&!N())return;const r=e.tabs;if("web-extension"!==r.kind)throw new Error(`Unexpected tabs kind "${r.kind}"`);const o=po.runtime.getManifest();if(!o)return;const i=o.content_scripts;if(!i)return;const a=i.pop();if(!a)return;const{js:s,css:u}=a;if(!s||!u)return;const c=await So(r,t,!0,n);if(!c.length)return;lo.info("Load content scripts to",c);const l=(e,t)=>{Dt().chromeContentScriptLoadError(e&&e.message,t),lo.error(`cs ${t} loaded with error: ${e.message}`)},d=performance.now();await Promise.all(c.map((e=>e.id)).map((e=>Promise.all([s.reduce(((t,n)=>t.then((()=>r.executeScript(n,e)))),Promise.resolve()).then((()=>lo.info("scripts loaded"))).catch((e=>l(e,"js"))),u.reduce(((t,n)=>t.then((()=>r.insertCSS(e,n,void 0)))),Promise.resolve()).then((()=>lo.info("css loaded"))).catch((e=>l(e,"css")))]))));const p=performance.now();lo.trace(`Content scripts load time: ${p-d} ms`)}async function yo(e,t){const n=e.tabs;if(!j()||"web-extension"!==n.kind)return;const r=function(){const e=po.runtime.getManifest();if(!e)return;const t=e.content_scripts;if(!t)return;const n=co;return{version:e.version,cs:{check:t.find((e=>{var t;return null===(t=e.js)||void 0===t?void 0:t.includes(n.CHECK)})),main:t.find((e=>{var t;return null===(t=e.js)||void 0===t?void 0:t.includes(n.MAIN)})),gDocs:t.find((e=>{var t;return null===(t=e.js)||void 0===t?void 0:t.includes(n.GDOCS)}))}}}();if(r)try{const e=await So(n,t),o=await async function(e,t,n){const r=[];for(const o of e)try{const e=await wo(o,t,n);e&&r.push({cs:e,tab:o})}catch(e){lo.warn(`skip tab since couldn't access css on tab with id ${String(o.id)} and url ${String(o.url)}`,e)}return r}(e,r,n);await Promise.all(o.map((({tab:e,cs:t})=>Promise.all([t.js.reduce(((t,r)=>t.then((()=>n.executeScript(r,e.id)))),Promise.resolve())])))),lo.info("cs is updated on",e.map((e=>e.url)))}catch(e){const t=e&&e.message||e;lo.error("cs is updated with error",t)}}function vo(e,t){return t.executeFunction((()=>document.body.dataset.newGrCSLoaded),e)}function bo(e,t){return t.executeFunction((()=>document.body.dataset.newGrCSCheckLoaded),e)}function _o(e,t,n){return e===t?void 0:n}async function wo(e,t,n){const r=e.id;if(!r)return;const o=await vo(r,n),i=await bo(r,n);if(e.url&&t.cs.gDocs){const[n]=t.cs.gDocs.matches||[];if(n&&e.url.match(n.replace("*","^.*")))return!!o&&_o(o,t.version,t.cs.gDocs)}return o?_o(o,t.version,t.cs.main):_o(i,t.version,t.cs.check)}async function So(e,t,n,r){const o=await e.getAllTabs(),i=await e.getActiveTabUrl(),a=r?e=>e.url&&e.url.includes(r):({url:e})=>{if(e&&0===e.indexOf("http"))return!!e.includes("grammarly")||t.get(ot(e),e).enabled},s=o.filter(a);return(await Promise.all(s.map(n?async t=>{const n=t.id;if(n){const r=await vo(n,e),o=await bo(n,e);return r||o?void 0:t}}:e=>Promise.resolve(e)))).filter((e=>!!e)).sort((({url:e})=>e===i?-1:1))}const Io=Z.create("extension-api.message"),xo=()=>`cs-bg-runtime-${R().appConfig.extensionId}`,Eo=()=>{};class ko{constructor(){this._listeners={},this._queue={},this.fire=(e,t,n=Eo,r)=>{const o=this._listeners[e]||[];o.length?o.forEach((e=>e(t,n,r))):(this._queue[e]=this._queue[e]||[],this._queue[e].push({content:t,callback:n,sender:r}))},this.unlisten=(e,t)=>{const n=this._listeners[e]||[],r=n.indexOf(t);-1!==r&&(1===n.length?delete this._listeners[e]:n.splice(r,1))},this.listenOnce=(e,t)=>{const n=(r,o,i)=>{this.unlisten(e,n),t&&t(r,o,i)};this.listen(e,n)},this.listen=(e,t)=>{this._listeners[e]=this._listeners[e]||[],-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t);const n=this._queue[e]||[];if(n.length){for(const e of n)try{t(e.content,e.callback,e.sender)}catch(e){Io.error("exception during proccesing buffered messages",e)}delete this._queue[e]}}}}function To(e){return Number.isFinite(e)||e===Number.NEGATIVE_INFINITY||e===Number.POSITIVE_INFINITY}const Ao=Z.create("extension-api.message.bg"),Co="popup";function Oo(e){const{browser:n,extensionType:r}=R().bundleInfo;if(!e)return"safariIOSWebExtension"===r||"safariWebExtension"===r;const o="firefox"===n?/^moz-extension:\/\/.*\/src\/popup.html$/:"safariWebExtension"===r||"safariIOSWebExtension"===r?/^safari-web-extension:\/\/.*\/src\/popup.html$/:"chrome"===n||"edge"===n?chrome&&chrome.runtime&&chrome.runtime.id?new RegExp(chrome.runtime.id+"/src/popup.html"):void 0:(0,t.vE)(n);return void 0!==o&&o.test(e)}class Po{constructor(e,t,n,r){this._getActiveTab=t,this._sendMessageToTab=n,this._getAllTabs=r,this.kind="background-message-api",this.topFrameId="0",this._callbacks={},this._tabPorts={popup:[],devtoolsPanel:[]},this._messageHelper=new ko,this.toFocused=(e,t)=>Ar.fromPromise(this._getActiveTab().then((({id:n,url:r}={})=>{if(n)return Oo(r)?Ao.warn(`toFocussed not allowed for popup when it open like regular tab ${e}`,t):void this._sendMessageToPorts({type:e,content:t,callid:Pe()},n)}))),this._initPortListener=e=>{if(e.name===Br){const{sender:t}=e;if(t){if(t.tab){const{id:n,url:r}=t.tab;if(n){let t=this._tabPorts[n];void 0===t&&(t=this._tabPorts[n]=[]),t.push(e)}r&&0===r.indexOf("http")&&this._messageHelper.fire("tab-connected",{tab:n,url:r}),e.onDisconnect((()=>{if(!n)return;const t=this._tabPorts[n];t&&t.splice(t.indexOf(e),1)}))}const n=t.url?t.url:t.tab?t.tab.url:"",r=Oo(n),o=function(e){const{browser:t}=R().bundleInfo;return e&&"chrome"===t&&chrome&&chrome.runtime&&chrome.runtime.id&&new RegExp(chrome.runtime.id+"/src/devtoolsPanel.html").test(e)}(n);if(r||o){const t=r?Co:"devtoolsPanel";this._tabPorts[t]=this._tabPorts[t]||[],this._tabPorts[t].push(e),e.onDisconnect((()=>{const n=this._tabPorts[t];n.splice(n.indexOf(e),1)}))}}e.onMessage((n=>{const r=({callid:n,content:r,type:o})=>{this._callbacks[n]&&(this._callbacks[n](r),delete this._callbacks[n]);this._messageHelper.fire(o,r,(t=>e.postMessage({content:t,callid:n})),t&&t.tab?{tabId:String(t.tab.id),frameId:void 0===t.frameId?void 0:String(t.frameId)}:{tabId:Co})};"tab-connected"===n.type?this._getActiveTab().then((({url:e}={})=>{n.content={tab:Co,url:e},r(n)})):r(n)}))}},e(this._initPortListener)}async _findDestinationTab(e){const t=(await this._getAllTabs()).find((t=>String(t.id)===String(e)));return t}async _sendMessageToPorts(e,t,n){var r;try{const o=null===(r=this._tabPorts[t])||void 0===r?void 0:r.filter((e=>!To(n)||To(e.sender.frameId)&&e.sender.frameId===n));if(null==o?void 0:o.length)o.forEach((t=>t.postMessage(e)));else if(isNaN(Number(t)))Ao.warn(`tab with id ${t} couldn't be found and not valid to send a tab message`);else{const r=await this._findDestinationTab(t);if(!r||"complete"!==r.status)return;const o={type:xo(),data:e};Ao.warn("no specified port on current destination"),this._sendMessageToTab(o,Number(t),n).catch((async e=>{const r=await this._findDestinationTab(t);throw{message:null==e?void 0:e.message,stack:null==e?void 0:e.stack,extra:{tabId:t,frameId:n,isOpen:!!r,status:null==r?void 0:r.status}}}))}}catch(r){Ao.error("send message to tab emit an error",r,{tabId:t,frameId:n,msg:e})}}getPortExists(e){return!!this._tabPorts[e]}sendTo(e,t,n,r){const{tabId:o,frameId:i=null}="object"==typeof e?e:{tabId:String(e)},a={type:t,content:n};r&&"function"==typeof r&&(a.callid=Pe(),this._callbacks[a.callid]=r),this._sendMessageToPorts(a,o,i?Number(i):void 0)}listen(e,t){this._messageHelper.listen(e,t)}}const Ro={},No={start(e){Ro[e]=Date.now()},stop(e){const t=this.passed(e);return delete Ro[e],t},passed:e=>e&&Ro[e]?Date.now()-Ro[e]:0},Do=Z.create("lib.profiler");class Mo{constructor(){this.timings={},this.track=async(e,...t)=>this._track(!1,e,...t),this.trackAsync=async(e,...t)=>this._track(!0,e,...t),this._track=async(e,t,...n)=>{const r=t.name+(e?"__sync":"");No.start(r);try{e?await t(...n):t(...n)}catch(e){throw e}finally{this.timings[r]=No.stop(r)}}}static start(e){No.start(e)}static stop(e,t=3e4){const n=No.stop(e),r=Dt();return n>t&&(Do.warn(`profiler_${e}_time_exceeded ${n}`),"pageConfig_init"===e&&r.tooLongPageConfigInit(n),"updateUser"===e&&r.tooLongUserUpdateTime(n)),n}start(e){No.start(e)}stop(e){this.timings[e]=No.stop(e)}}const jo="%appName%",Lo={extensionSettingsToolbar:"%appName%SettingsToolbar",gdocsSidebarCardList:"%appName%AdvancedIssues",assistantCardList:"%appName%AdvancedIssues",extensionSettingsAssistant:"%appName%AssistantSettings",gdocsGoals:"%appName%AssistantGoals",extensionBusinessUphookPopup:"gb%appName%UphookPopup",gbExtensionSettingsToolbar:"gb%appName%SettingsToolbar",gbExtensionSettingsAssistant:"gb%appName%AssistantSettings",extensionGButton:"%appName%GButton",extPreviewsPopup:"%appName%PreviewsPopup",toneSuggestion:"%appName%ToneDetector"};function Uo(e,t){return{key:e,value:t}}function Fo(e){const t=Lo[e];return t?t.replace(jo,((e,t)=>{const n=u.getAppName(U(),R().bundleInfo.extensionType,R().bundleInfo.deploymentType);return 0===t?n:(r=n).charAt(0).toUpperCase()+r.slice(1);var r})):e}function Bo(e,t){return Uo(e,t)}function Go(e){return e.map((e=>[e.key,e.value].map(encodeURIComponent).join("="))).join("&")}function zo(e,t){if(0===t.length)return e;const n=e.includes("?");return[e,Go(t)].join(n?"&":"?")}function Wo(e){const t=[];return void 0!==e.medium&&t.push(Bo("utm_medium",e.medium)),void 0!==e.source&&t.push(Bo("utm_source",e.source)),void 0!==e.campaign&&t.push(Bo("utm_campaign",Fo(e.campaign))),e.clickToRun&&t.push(Bo("click_to_run","true")),t}function qo(e){return Wo(e)}Uo("fromExtension","true");Wo({medium:"internal"})[0];const Vo=__webpack_require__(93281),Ho={american:new Map(Vo.american),australian:new Map(Vo.australian),british:new Map(Vo.british),canadian:new Map(Vo.canadian),indian:new Map(Vo.indian)};function $o(e,t="american"){const n=Ho[t];return n.has(e)?n.get(e):e}var Ko,Yo,Jo,Xo,Qo,Zo;!function(e){e.contractions=new Set(["n't","'ve","'d","'s","'m","'re","'ll","N'T","'VE","'D","'S","'M","'RE","'LL","nt","ve","d","s","m","re","ll","NT","VE","D","S","M","RE","LL"]),e.personalPronouns=new Set(["i","you","he","she","it","we","they","me","him","her","us","them"]),e.subjPronouns=new Set(["i","you","he","she","it","we","they","what","who"]),e.objPronouns=new Set(["me","him","her","it","us","you","them","whom"]),e.possDepPronouns=new Set(["her","his","my","their","your","our"]),e.possIndepPronouns=new Set(["hers","his","mine","theirs","yours","ours"]),e.possPronouns=new Set([...e.possDepPronouns,...e.possIndepPronouns,"whose"]),e.demPronouns=new Set(["this","that","these","those"]),e.condClause=new Set(["if","when","then"]),e.greetings=new Set(["hi","hey","hello","howdy","sup","whazzup","hiya","yo","whatup","greetings"]),e.toBeForms=new Set(["is","am","'m","'s","be","was","were"]),e.modalVerbs=new Set(["can","could","may","might","shall","should","will","would","must"]),e.interPronouns=new Set(["who","whom","which","what","whose","whoever","whatever","whichever","whomever"]),e.timeRelated=new Set(["week","month","tomorrow","yesterday","today","weekend","time","someday","evening","night","morning","midnight","hour","minute","day","second","then","before","after"]),e.numerals=new Set(["two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty","twenty-one","twenty-two","twenty-three","twenty-four","twenty-five","twenty-six","twenty-seven","twenty-eight","twenty-nine","thirty","thirty-one","forty","fifty","sixty","seventy","eighty","ninety","hundred","thousand","many","multiple","few","million"]),e.identifyingPronouns=new Set(["anything","everybody","another","each","few","many","none","some","all","any","anybody","anyone","everyone","everything","no one","nobody","nothing","none","other","others","several","somebody","someone","something","most","enough","little","more","both","either","neither","one","much","such"])}(Ko||(Ko={})),function(e){e._=""}(Yo||(Yo={})),function(e){e._=""}(Jo||(Jo={})),function(e){e._=""}(Xo||(Xo={})),function(e){e.sentenceStartTag="<S>",e.sentenceEndTag="</S>",e.urlTag="<URL>",e.emailTag="<EMAIL>",e.basicPunctuationExceptPeriod=",:;!?",e.basicPunctuationChars="."+e.basicPunctuationExceptPeriod;const n=new RegExp(`(${Array.from(Ko.contractions.values()).map((e=>`${e}$`)).concat("^'","'$").join("|")})`);e.urlReString="(\\S+:\\/\\/)?[^\\s,\\.]+(\\.[^\\s,\\.]+)*(\\.\\w[^\\s,\\.]+)";const r=new RegExp(`^${e.urlReString}$`);e.emailReString="[^\\s@]+@[^\\s,\\.]+(\\.[^\\s,\\.]+)+";const o=new RegExp(`^${e.emailReString}$`);e.numeralReString="[\\d\\.,:-]+(st|nd|rd|th|s)?";const i=new RegExp(`^${e.numeralReString}$`),a=new RegExp([e.numeralReString,e.emailReString,e.urlReString,`[^\\s${(0,t.hr)(e.basicPunctuationChars)}]+`,"[()\\[\\]<>|\"']",`[{}${(0,t.hr)(e.basicPunctuationChars)}\\-/\\\\]+`,"\\s+",".+?"].join("|"),"g");function*s(e,t){if(0!==e.length)for(const r of e.match(a))if(!/^\s*$/.test(r))for(const e of r.split(n))""!==e&&(yield t?t(e):e)}function u(t){const n=t.replace(/\d(?![^\d]*$)|[04-9]/g,"0");return i.test(n)?n:o.test(n)&&e.emailTag||r.test(n)&&e.urlTag||n}function c(e){return Array.from(s(e,u))}function l(e){return e.join(" ")}e.normalizeToken=u,e.tokenize=function(e){return Array.from(s(e))},e.tokenizeNorm=c,e.join=l,e.normalize=function(e){return l(c(e))},e.isUpper=e=>e.toUpperCase()===e,e.isLower=e=>e.toLowerCase()===e,e.isAcronym=t=>t.length>1&&e.isUpper(t),e.isCapitalized=t=>t.length>0&&e.isUpper(t[0])&&e.isLower(t.slice(1)),e.isNamelike=t=>e.isCapitalized(t),e.isMaybeNamelike=t=>t.length>0&&e.isUpper(t[0]),e.isNumeral=e=>Ko.numerals.has(e)||i.test(e),e.containsContractions=e=>Ko.contractions.has(e)||e.includes("'"),e.isContractionPart=e=>Ko.contractions.has(e)}(Qo||(Qo={}));class ei{getLastSentence(e){return e.slice(-50)}}function ti(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function ni(e,t){return e<<t|e>>>32-t}!function(e){const t=new Map([["child","children"],["goose","geese"],["man","men"],["woman","women"],["tooth","teeth"],["foot","feet"],["mouse","mice"],["person","people"],["photo","photos"],["piano","pianos"],["halo","halos"],["sheep","sheep"],["series","series"],["species","species"],["deer","deer"],["fish","fish"]]),n=new Set("aeouiy".split(""));e.pluralize=function(e){return t.get(e)||e.replace(/(on|o|\wy|fe|f|sh|ch|x|z|[ius]?s|)$/g,(t=>"s"===t||"ss"===t||"sh"===t||"ch"===t||"x"===t||"z"===t?`${e}es`:"f"===t||"fe"===t?`${e}ves`:t.endsWith("y")?`${e}${t[0]}${n.has(t[0])?"ies":"s"}`:"o"===t?`${e}es`:"us"===t?`${e}i`:"is"===t?`${e}es`:"on"===t?`${e}a`:`${e}s`))},e.singularize=function(e){return e.replace(/(ies|es|s)$/g,(e=>"ies"===e?"y":""))},e.isProperNoun=function(e){return/^[A-Z]/.test(e)||/^[a-z]+-[A-Z]/.test(e)}}(Zo||(Zo={}));const ri=3432918353,oi=461845907;class ii{getHash(e,t=0){const n=(new TextEncoder).encode(e),r=n.length%4,o=n.length-r;let i,a=t,s=0;for(i=0;i<o;i+=4)a=ti(ni(a^ti(ni(ti(n[i]|n[i+1]<<8|n[i+2]<<16|n[i+3]<<24,ri),15),oi),13),5)+3864292196;switch(s=0,r){case 3:s^=n[i+2]<<16;case 2:s^=n[i+1]<<8;case 1:s^=n[i],a^=ti(ni(ti(s,ri),15),oi)}return function(e){return e=ti(e^e>>>16,2246822507),(e=ti(e^e>>>13,3266489909))^e>>>16}(a^n.length)>>>0}}var ai;!function(e){e.preferred=ii}(ai||(ai={}));const si=(0,t.Vo)((()=>{try{return new Set(__webpack_require__(56013))}catch(e){return new Set}})),ui=(0,t.Vo)((()=>{try{return new Set(__webpack_require__(79725))}catch(e){return new Set}}));class ci{isPossiblyOffensive(e){return si.get().has(ci.hash.getHash(e))||si.get().has(ci.hash.getHash(Zo.singularize(e)))}isContextuallyOffensive(e){return ui.get().has(ci.hash.getHash(e))}}ci.hash=new ai.preferred;class li{constructor(e,t,n=new ci,r=[.2,.45,.18,.12,.05],o=.35,i=.15){this._vocab=e,this._lm=t,this._offs=n,this._w=r,this._probabilityThreshold=o,this._margin=i,this._numComponents=this._w.length,this._genderPronouns=["he","him","his","she","her","hers"]}_normalizeContext(e){return e.slice(1-this._numComponents)}getParameters(){return{componentWeights:this._w,probabilityThreshold:this._probabilityThreshold,winningMargin:this._margin}}completeWord(e,n){if(Zo.isProperNoun(e)||!/^[a-z]/.test(e))return null;if(this._vocab.getWordCount(e)>1e3)return null;const r=this._normalizeContext(n),o=Array(this._numComponents).fill(0),i=[];for(const t of this._vocab.getWords(e)){const e=[...r,t],n=[];for(let t=1;t<=e.length;++t){const r=e.slice(-t),i=this._lm.getFreq(r);if(!i)break;o[t-1]+=i[0],n.push(i[0])}i.push([t,n])}const a=[null,null];for(const[e,t]of i){const n=t.reduce(((e,t,n)=>e+t/o[n]*this._w[n]),0);(!a[0]||n>a[0][1])&&(a[1]=a[0],a[0]=[e,n,t.length])}return a[0]&&a[0][0].length>=8&&[...r,a[0][0]].slice(-a[0][2]).every((e=>!this._offs.isPossiblyOffensive(e)&&!this._genderPronouns.includes(e)&&!Zo.isProperNoun(e)))&&!this._offs.isContextuallyOffensive(a[0][0])&&a[0][1]>=this._probabilityThreshold&&(null===a[1]||a[0][1]-a[1][1]>this._margin)?(0,t.bc)(a[0][0],a[0][1]):null}}function di(e){return e.trim().toLowerCase().split(/\s+|(?=n't|'m|'re|'d|'ll|'ve|'s)|\b(?=[.,:;!?])/)}var pi;!function(e){e._=""}(pi||(pi={}));const hi=["let","what","free","and","for","that","like","to","how","wanted","if","but","hopefully","although","however","though","also","nor","or","so","yet","accordingly","again","instead","also","likewise","besides","moreover","consequently","namely","finally","nevertheless","otherwise","further","still","furthermore","hence","then","therefore","indeed","thus","after","since","when","although","whenever","as","supposing","where","because","than","whereas","before","that","wherever","but that","whether","which","till","while","unless","who","matter","until","why","how","what"];class fi{constructor(e,t,n){this._vocab=e,this._trie=t,this._table=n}complete(e){const t=/[,:-]$/.test(e)?e+" ":e,n=di(t),r=t.endsWith(" ")?null:n.pop();if(0===n.length)return null;if(r&&r.includes("'"))return null;const o=this._trie.match(n);if(!o||0===o.frequency)return null;let i=0,a=null;for(const[e,n]of this._table.getPhrases(t))(!a||a[1]<n)&&(a=[e,n]),i+=n;if(!a)return null;const[s,u]=a;if(u<10||s.toLowerCase()===e)return null;if(!r)return[s,Math.min(1,u/o.frequency)];if(s.slice(e.length).split(" ")[0].includes("'"))return null;const c=u/(i+Math.max(0,o.frequency-i)*(this._vocab.getFrequency(r)/this._vocab.getTotalFrequency()));return[s,Math.min(1,c)]}}class gi{constructor(e){this._phrases=e.reduce(((e,[t,n,r])=>(r&&e.push([t,n]),e)),[]).sort(((e,t)=>{const n=e[0].toLowerCase(),r=t[0].toLowerCase();return n<r?-1:n>r?1:0}))}*getPhrases(e){const t=this._lowerBound(e),n=this._lowerBound(e+"zzz");for(let e=t;e<n;e++)yield this._phrases[e]}_lowerBound(e){const t=this._phrases.length;if(!t)return 0;let n=0,r=t;for(;n<r;){const t=n+r>>1;this._phrases[t][0].toLowerCase()<e?n=t+1:r=t}return n}}class mi{constructor(){this.nextWord=new Map}}class yi{constructor(){this.frequency=0,this.isTerminal=!1,this.nextWord=new Map}}class vi{constructor(){this._root=new mi}_add(e,t,n){let r=this._root;for(const[o,i]of e.entries()){if(r.nextWord.has(i))r=r.nextWord.get(i);else{const e=new yi;r.nextWord.set(i,e),r=e}o===e.length-1&&(r.frequency=t,r.isTerminal=n)}}match(e){let t=this._root;for(const n of e){if(!t.nextWord.has(n))return null;t=t.nextWord.get(n)}return t}static create(e){const t=new vi;for(const[n,r,o]of e)t._add(di(n),r,o);return t}}const bi=["cowgirl position","pregnancy termination","shooting themselves","killed children","father disappeared","female domestic","male impotence","black criminals","breast reduction","male narrator","caste discrimination","kill themselves","killed civilians","white courtesy","men diagnosed","mother suffered","naked children","killing terrorists","female circumcision","woman murdered","breast prosthesis","criminal intimidation","shoot something","shooting ourselves","women hardcore","victims of violence","kidnapping children","kill children","shooting anything","torture techniques","kill ourselves","kills thousands","abused prescription","kidnapped daughter","breast conservation","killing ourselves","black violence","female infanticide","breast screening","right-wing conspiracy","breast development","shot themselves","postpartum hemorrhage","abuse children","abuse of children","abused children","abusing children","black propaganda","borderline personality","borderline personality disorder","brown discharge","female sterilization","kill civilians","kill terrorists","killed themselves","killing children","killing civilians","killing themselves","kills children","male chastity","male circumcision","male menopause","male violence","man murdered","men dominate","right-wing propaganda","shoot ourselves","shoot themselves","shot ourselves","torture prisoners","torturing prisoners","torturing yourself"];var _i,wi;!function(e){e.SentenceStart="Completions/Watson/Sentence/Start",e.ClausalPrefix="Completions/Watson/Sentence/ClausalPrefix",e.ClausalSuffix="Completions/Watson/Sentence/ClausalSuffix"}(_i||(_i={}));class Si{constructor(e){this._model=e,this.probabilityThreshold=.7}complete(e){const t=e.replace(/\s+/g," ").toLowerCase();const n=[t],r=/(\s|^)\S+(?=\s)/g;let o=null;for(;null!==(o=r.exec(t));){const e=o[0];(e.endsWith(",")||hi.includes(e.trim()))&&n.push(t.slice(o.index+e.length+1))}for(const e of n){const n=this._model.complete(e);if(n){const[r,o]=n;if(r.slice(e.length).length<2)continue;const i=e===t?_i.SentenceStart:_i.ClausalPrefix;return{completion:r.slice(e.length),patternName:i,probability:i===_i.SentenceStart?o:o-.2}}}return null}}class Ii{constructor(){this.probabilityThreshold=1}complete(e){return null}}!function(e){const t=[["black",null],["white",null],["brown",null],["schoolgirl"],["schoolgirls"],["schoolboy"],["schoolboys"],["subhuman"],["sexist"],["sexists"],["same-sex"],["metrosexual"],["counter-terrorism"],["counter-terrorist"],["counter-terrorists"],["anti-terrorism"],...bi.map((e=>e.split(" ")))];e.create=async function(n,r){const o=await n.getNgrams();if(!o)throw new Error("Failed to load language model");const i=await n.getWatsonVocab();if(!i)throw new Error("Failed to load Watson vocab");const a=new li(i,o),s=await async function(e,t){const n=await e.getFrequentPhrases();if(!n)throw new Error("Failed to load phrases");const r=new fi(t,vi.create(n),new gi(n));return new Si(r)}(n,i).catch((()=>new Ii));return new xi(a,s,(e=>{const t=r.view("dapi").get();return $o(e,(null==t?void 0:t.dialectStrong)||(null==t?void 0:t.dialectWeak))}),(n=>{var o,i;const a=null===(i=null===(o=r.view("dynamicConfig").get())||void 0===o?void 0:o.autocomplete)||void 0===i?void 0:i.bannedPhrases;return e.applyBanFilter(n,t.concat(null!=a?a:[]))}))},e.applyBanFilter=function(e,t){return t.some((t=>{const n=e.slice(-t.length);return n.length===t.length&&n.every(((e,n)=>e===t[n]||null===t[n]))}))},e.getStub=function(){return new Ei}}(wi||(wi={}));class xi{constructor(e,t,n,r){this._model=e,this._sentenceModel=t,this._applyDialectFilter=n,this._applyBanFilter=r,this._sentenceSplitter=new ei}complete(e){const t=this._sentenceSplitter.getLastSentence(e),n=e.length-t.length,r=n,o=e.length,i=Qo.tokenizeNorm(t),a=i.pop();if(void 0===a||!e.endsWith(t)||!t.endsWith(a))return null;const s=this._model.completeWord(a,i);if(!s)return null;const[u,c]=s;if(u.length-a.length<4)return null;const l=this._applyDialectFilter(u),d=(l.startsWith(a)?l:u).slice(a.length),p=t+d;return this._applyBanFilter(Qo.tokenizeNorm(p))?null:{textBegin:n,textEnd:o+d.length,prefixBegin:r,prefixEnd:o,text:p,patternName:"Completions/Watson/Word",confidence:c,threshold:this._model.getParameters().probabilityThreshold}}completePhrase(e){const t=e.split(/[.;!?\n]/g).pop().trimStart(),n=e.length-t.length,r=n,o=e.length,i=this._sentenceModel.complete(t);if(!i)return null;const{completion:a,probability:s,patternName:u}=i;return s<this._sentenceModel.probabilityThreshold?null:{textBegin:n,textEnd:e.length+a.length,prefixBegin:r,prefixEnd:o,text:t+a,patternName:u,confidence:s,threshold:this._sentenceModel.probabilityThreshold}}}class Ei{complete(e){return null}completePhrase(e){return null}}class ki{constructor(e){this._factory=e,this._loadProcess=null,this._instance=null}_getInstance(){var e;return this._loadProcess||(this._loadProcess=this._factory().then((e=>this._instance=e))),null!==(e=this._instance)&&void 0!==e?e:wi.getStub()}complete(e){return this._getInstance().complete(e)}completePhrase(e){return this._getInstance().completePhrase(e)}}var Ti=__webpack_require__(16105);class Ai{constructor(e,n,r=new Set,o=new Map,i=null,a=Z.create(Ai.name)){this._model=e,this._feedback=n,this._bannedSuggestions=r,this._bannedCorrections=o,this._felog=i,this._log=a,this._uidPrefix=t.iy.create().slice(0,6),this._nextAlertId=0,this._tokenBoundary={checkTrigger:new RegExp(`^([\\s${(0,t.hr)(Qo.basicPunctuationChars)}"\\[\\]()<>]+)$`),precedingToken:new RegExp(`(${[Qo.numeralReString,Qo.emailReString,Qo.urlReString,`[^\\s${(0,t.hr)(Qo.basicPunctuationChars)}"\\[\\]()<>]+`].join("|")})$`),triggerToken:new RegExp(`([\\s${(0,t.hr)(Qo.basicPunctuationChars)}"\\[\\]()<>]+)$`)}}async check(e,t,n,r){var o,i;if(1===t.length){const a=t[0];if(Ti.q.isIns(a)&&a.text.match(this._tokenBoundary.checkTrigger)&&n&&n.end-n.start==0&&a.pos+a.text.length===n.start)if(e.slice(a.pos,a.pos+a.text.length)===a.text){const t=null===(o=e.slice(0,a.pos+a.text.length).match(this._tokenBoundary.triggerToken))||void 0===o?void 0:o[1],n=void 0!==t?a.pos-t.length+a.text.length:void 0,s=null===(i=e.slice(0,n).match(this._tokenBoundary.precedingToken))||void 0===i?void 0:i[1];if(void 0!==s&&void 0!==n&&void 0!==t){if("."!==t){const o=function(e,t,n){const r=e.slice(Math.max(0,t-n),t);return t-n>0?r.slice(r.split(/\W+/,1)[0].length+r.split(/\w+/,2).reduce(((e,t)=>e||t.length),0)):r}(e,n-s.length,60),i={start:n-s.length,end:n};try{const e=await(this._felog&&this._felog.predictTime.measureAsync||(e=>e()))((()=>this._model.checkToken(o,s,t)));if(e&&!this._bannedSuggestions.has(e)&&null!==this._bannedCorrections.get(s)&&this._bannedCorrections.get(s)!==e)return{alerts:[{range:i,originalText:s,replacement:e,revision:r,context:o,id:`ac-${this._uidPrefix}-${(this._nextAlertId++).toString(10)}`}],revision:r}}catch(e){this._log.error("model crashed",e)}}}else this._log.warn("couldn't extract preceding or trigger token")}else this._log.warn(`last change not consistent with actual text, ${e.slice(a.pos,a.pos+a.text.length)} <> ${a.text}`)}else this._log.warn(`Unsupported changes of length ${t.length} (only length 1 is supported), changes:`,JSON.stringify(t));return{alerts:[],revision:r}}onCorrectionRejected({original:e,suggested:t}){this._log.info(`feedback: REJECTED {${e}=>${t}}`),this._feedback.onCorrectionRejected(e)}onCorrectionAccepted({original:e,suggested:t}){this._log.info(`feedback: accepted {${e}=>${t}}`),this._feedback.onCorrectionAccepted(e)}dispose(){}}class Ci{check(e,t,n,r){return Promise.resolve({alerts:[],revision:r})}onCorrectionRejected(e){}onCorrectionAccepted(e){}dispose(){}}var Oi,Pi,Ri,Ni,Di,Mi,ji,Li,Ui=__webpack_require__(54347);!function(e){e.load=function(e){return new Map(e)}}(Oi||(Oi={}));class Fi{constructor(e,t=Z.create(Fi.name)){this._prefs=e,this._log=t,this._feedbackStorageKey="apollo-feedback"}async read(){try{return new Map(await this._prefs.get(this._feedbackStorageKey))}catch(e){return this._log.warn("failed to read feedback storage",e),new Map}}async write(e){try{await this._prefs.set(this._feedbackStorageKey,Array.from(e.entries()))}catch(e){this._log.warn("failed to write feedback storage",e)}}}class Bi{constructor(e=new Map,t=(e=>{})){this._data=e,this._onChanged=t,this._maxSize=1e4}isRejected(e){return this._data.get(e)||null}reject(e){var t;this._data.size>this._maxSize&&(this._data=new Map([...this._data.entries()].slice(this._maxSize/2))),this._data.set(e,{times:((null===(t=this._data.get(e))||void 0===t?void 0:t.times)||0)+1,lastTime:Date.now()}),this._onChanged(this._data)}accept(e){this._data.has(e)&&(this._data.delete(e),this._onChanged(this._data))}}class Gi{constructor(e,t=new Set){this._persistentFeedback=e,this._sessionRejects=t,this._persistentRejectTimesThreshold=3}isRejected(e){var t;return this._sessionRejects.has(e)||((null===(t=this._persistentFeedback.isRejected(e))||void 0===t?void 0:t.times)||0)>=this._persistentRejectTimesThreshold}onCorrectionRejected(e){this._sessionRejects.add(e),this._persistentFeedback.reject(e)}onCorrectionAccepted(e){this._sessionRejects.has(e)||this._persistentFeedback.accept(e)}}class zi{constructor(e){this._source=e,this._possDepProns=new Set(["his","her"]),this._objProns=new Set(["him","her"]),this._subjProns=new Set(["he","she"])}_getPossOrObjSubsts(e){if(e.length>1){const t=e[e.length-2],n=!0,r=!0,o=!0;return[...this._possDepProns.has(t)&&(n||r)?this._possDepProns.values():this._objProns.has(t)&&o?this._objProns.values():[]].map((t=>[...e.slice(0,-2),t,...e.slice(-1)]))}return[]}_getSubjSubsts(e){if(e.length>2){const t=!0,n=!0,r=!0,o=!0,i=e[e.length-3];return[...this._subjProns.has(i)&&(t&&r||n&&(r||o))?this._subjProns.values():[]].map((t=>[...e.slice(0,-3),t,...e.slice(-2)]))}return[]}getProbability(e){const t=this._getPossOrObjSubsts(e),n=this._getSubjSubsts(e),[r,o]=(t.length>0?t:n.length>0?n:[e]).reduce(((e,t)=>{var n;return(null===(n=this._source.getFreq(t))||void 0===n?void 0:n.map(((t,n)=>t+e[n])))||e}),[0,0]);return o>0?r/o:0}}function Wi(e){let t=e-(e>>1&1431655765);return t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}class qi{constructor(){this._mkBitMap=e=>{const t={};let n=0;for(const[r,o]of e)t[r]=[n,o],t[r.toUpperCase()]=t[r],n+=o;return t},this._bitMap=this._mkBitMap([..."eioantrslcp".split("").map((e=>(0,t.bc)(e,3))),..."bdfghjkmquvwxyz".split("").map((e=>(0,t.bc)(e,2)))])}toRepr(e){const t=[0,0];for(let n=0;n<e.length;n++){const[r=null,o=null]=this._bitMap[e[n]]||[];if(null===r||null===o)continue;let i=r;for(;t[i>>5]&1<<(31&i)>>>0&&i<r+o;)i++;i<r+o&&(t[i>>5]|=1<<(31&i))}return t}getDistance(e,t){return Wi(e[0]^t[0])+Wi(e[1]^t[1])}}!function(e){const n=-16;e.toVector=function(e){return(0,t.bc)(1,Math.max(n,Math.log(e.lm1)),Math.max(n,Math.log(e.lm2)),Math.max(n,Math.log(e.lm3)),e.lenDiffRatio,e.inLen,e.replLen,Number(e.capChange),Number(e.pwCondClause),Number(e.pwDemP),Number(e.pwGreet),Number(e.pwIdP),Number(e.pwInterP),Number(e.pwModalV),Number(e.pwNum),Number(e.pwSubjP),Number(e.pwTemporal),Number(e.pwToBeForm),Number(e.pwIng),Number(e.pwEd),Number(e.inCap),Number(e.pwCap),Number(e.replPlural),Number(e.replSameLength),Number(e.replSameAsPW),Number(e.inFirstInSent),Number(e.addingContraction),Number(e.pwPossOrObjP),e.editDist.ds,e.editDist.is,e.editDist.caps,e.editDist.subs,e.editDist.xp,e.editDist.len,e.keyShapeDist[0],e.keyShapeDist[1],e.keyShapeDist[2],e.hausdorffDist,Math.max(n,e.noisyChanP))}}(Pi||(Pi={})),function(e){let n;!function(e){e.add=(e,t)=>[e[0]+t[0],e[1]+t[1],e[2]+t[2]],e.subtract=(e,t)=>[e[0]-t[0],e[1]-t[1],e[2]-t[2]],e.abs=e=>[Math.abs(e[0]),Math.abs(e[1]),Math.abs(e[2])],e.zero=[0,0,0],e.length=e=>e.reduce(((e,t)=>e+t**2),0)}(n=e.KeySpace||(e.KeySpace={}));const r=new Map([].concat(...[(0,t.bc)(0,["`1234567890-=","~!@#$%^&*()_+"]),(0,t.bc)(2,["qwertyuiop[]\\","QWERTYUIOP{}|"]),(0,t.bc)(2,["asdfghjkl;'",'ASDFGHJKL:"']),(0,t.bc)(3,["zxcvbnm,./","ZXCVBNM<>?"])].map((([e,n],r)=>[].concat(...n.map(((n,o)=>n.split("").map(((n,i)=>(0,t.bc)(n,(0,t.bc)(r,e+i,o)))))))))));function o(e){return r.get(e)||null}function i(e,t){const n=r.get(e),o=r.get(t);return n&&o?n.map(((e,t)=>Math.abs(e-o[t]))):[0,0,0]}function a(e,t){return e.reduce(((e,r)=>{const o=t.reduce(((e,t)=>null===e||n.subtract(r,t).reduce(((e,t)=>e+t**2),0)<n.subtract(r,e).reduce(((e,t)=>e+t**2),0)?t:e),null)||[0,0,0];return n.add(e,n.abs(n.subtract(o,r)))}),n.zero)}function s(e,t){let n,r=0;for(const o of e){n=1/0;for(const e of t){const t=o.reduce(((t,n,r)=>t+(n-e[r])**2),0);if(t<n&&(n=t),n<r)break}n>r&&1/0>n&&(r=n)}return Math.sqrt(r)}e.getKeyPosition=o,e.getKeyDistance=i,e.getLength=function(e){if(e.length>0){let n=(0,t.bc)(0,0,0);for(let t=1;t<e.length;t++)n=i(e[t],e[t-1]).map(((e,t)=>e+n[t]));return n}return(0,t.bc)(0,0,0)},e.getStringVector=function(e){return e.split("").map(o).filter((e=>null!==e))},e.getShapeDistance=function(e,t){return n.add(a(e,t),a(t,e))},e.getDirectedHausdorffDist=s,e.getHausdorffDist=function(e,t){return Math.max(s(e,t),s(t,e))}}(Ri||(Ri={}));class Vi{constructor(e,t,n,r,o){this.ds=e,this.is=t,this.caps=n,this.subs=r,this.xp=o,this.len=this.ds+this.is+this.caps+this.subs+this.xp}add(e){return new Vi(this.ds+e.ds,this.is+e.is,this.caps+e.caps,this.subs+e.subs,this.xp+e.xp)}toVector(){return(0,t.bc)(this.ds,this.is,this.caps,this.subs,this.xp,this.len)}equals(e){return this.len===e.len&&this.ds===e.ds&&this.is===e.is&&this.caps===e.caps&&this.subs===e.subs&&this.xp===e.xp}static min(...e){return e.length>1?e.reduce(((e,t)=>t.len<e.len?t:e)):e[0]}}function Hi(e,t){const n=Array.from(new Array(e.length+1),((e,n)=>Array.from(new Array(t.length+1),((e,t)=>0===n?new Vi(0,t,0,0,0):new Vi(0===t?n:0,0,0,0,0)))));for(let r=1;r<e.length+1;r++)for(let o=1;o<t.length+1;o++){const i=e[r-1]!==t[o-1]?1===r&&1===o&&e[r-1].toLowerCase()===t[o-1].toLowerCase()?new Vi(0,0,1,0,0):new Vi(0,0,0,1,0):new Vi(0,0,0,0,0);n[r][o]=Vi.min(n[r-1][o].add(new Vi(1,0,0,0,0)),n[r-1][o-1].add(i),n[r][o-1].add(new Vi(0,1,0,0,0))),r>1&&o>1&&e[r-2]===t[o-1]&&e[r-1]===t[o-2]&&(n[r][o]=Vi.min(n[r][o],n[r-2][o-2].add(new Vi(0,0,0,0,1))))}return n}function $i(e,t,n=Hi(e,t)){return 0===e.length?new Vi(0,t.length,0,0,0):0===t.length?new Vi(e.length,0,0,0,0):n[e.length][t.length]}class Ki{constructor(e,t=new ai.preferred,n=65535){if(this._data=e,this._hashFun=t,this._parityHashSize=n,this._data.values.length!==this._data.hashes.length)throw new TypeError(`values and hashes buffer size don't match (${this._data.values.length} !== ${this._data.hashes.length})`)}get(e){const t=this._data.displacement[this._hashFun.getHash(e,0)%this._data.displacement.length],n=t<0?-t-1:this._hashFun.getHash(e,t)%this._data.values.length,r=this._data.values[n];return this._data.hashes[n]===this._hashFun.getHash(e,r)%this._parityHashSize?r:null}}class Yi{constructor(e,t){this._hash=e,this._vals=t}get(e){const t=this._hash.get(e);return null!==t&&t<this._vals.length?this._vals[t]:null}}class Ji{static isBigEndianArch(){return 43707===new Uint16Array(new Uint8Array([170,187]).buffer)[0]}constructor(e,t=0){if(this._buf=e,this._offset=t,this._view=new DataView(this._buf),this.readInt32=this._mkReader((e=>[this._view.getInt32(e,!0),4])),this.readFloat32=this._mkReader((e=>[this._view.getFloat32(e,!0),4])),this.readUint16Array=()=>{const e=this.readInt32(),t=new Uint16Array(this._buf,this._offset,e);return this._offset+=Uint16Array.BYTES_PER_ELEMENT*e,t},this.readInt32Array=()=>{const e=this.readInt32(),t=new Int32Array(this._buf,this._offset,e);return this._offset+=Int32Array.BYTES_PER_ELEMENT*e,t},this.readFloat32Array=()=>{const e=this.readInt32(),t=new Float32Array(this._buf,this._offset,e);return this._offset+=Float32Array.BYTES_PER_ELEMENT*e,t},Ji.isBigEndianArch())throw new Error("big endian architecture is not supported")}_mkReader(e){return()=>{const[t,n]=e(this._offset);return this._offset+=n,t}}*readArray(e,t){const n=e();for(let e=0;e<n;e++)yield t()}}!function(e){e.load=function(e){const n=new Ji(new Uint8Array(e).buffer);return{totals:new Map(n.readArray(n.readInt32,(()=>(0,t.bc)(n.readInt32(),n.readFloat32())))),freqs:n.readFloat32Array(),perfHash:{displacement:n.readInt32Array(),values:n.readUint16Array(),hashes:n.readUint16Array()}}}}(Ni||(Ni={}));class Xi{static load(e){const t=Ni.load(e);return new Xi(new Ki(t.perfHash),t.totals,t.freqs)}constructor(e,t,n){this._ngrams=e,this._totals=t,this._freqs=n}getFreq(e){if(0===e.length)return null;const n=Qo.join(e.slice(void 0,-1)),r=1===e.length?this._totals.get(1):this._freqs[this._ngrams.get(n)||-1]||null,o=this._ngrams.get(""!==n?Qo.join([n,e[e.length-1]]):e[e.length-1]);return o&&r&&o<this._freqs.length?(0,t.bc)(this._freqs[o]+1,r):null}getProbability(e){const t=this.getFreq(e);return t?t[0]/t[1]:0}}class Qi{constructor(e,t=-16,n=t,r=0){this._logProbs=e,this._minLogProb=t,this._unknownLogProb=n,this._maxLogProb=r}getLogProb(e,t,n){const r=function(e,t,n){var r,o,i,a,s,u,c;let l=e.length,d=t.length;const p=[];for(;d>0||l>0;){p.push({x:d,y:l,a:e[l-1],b:t[d-1],l:n[l][d].len,e:n[l][d]});const h=n[l][d].len,f=null===(o=null===(r=n[l-1])||void 0===r?void 0:r[d])||void 0===o?void 0:o.len,g=null===(i=n[l][d-1])||void 0===i?void 0:i.len,m=null===(s=null===(a=n[l-1])||void 0===a?void 0:a[d-1])||void 0===s?void 0:s.len,y=null===(c=null===(u=n[l-2])||void 0===u?void 0:u[d-2])||void 0===c?void 0:c.len;d>0&&l>0&&void 0!==m&&m<h&&m<=y&&m<=f&&m<=g?(l-=1,d-=1):d>0&&void 0!==g&&g<h&&g<=y&&g<=f&&g<=m?d-=1:l>0&&void 0!==f&&f<h&&f<=y&&f<=g&&f<=m?l-=1:(l=Math.max(0,l-1),d=Math.max(0,d-1))}p.push({x:d,y:l,a:e[l-1],b:t[d-1],l:n[l][d].len,e:n[l][d]});const h=[];let f=["","",""],g=!1;const m=()=>{!f||""===f[1]&&""===f[2]||h.push(f),f=["","",""]};for(let e=p.length-2;e>=0;e--)p[e].e.equals(p[e+1].e)?(g||m(),g=!0,f[0]+=p[e].a):(g=!1,p[e].y!==p[e+1].y&&(f[1]+=p[e].a),p[e].x!==p[e+1].x&&(f[2]+=p[e].b));return m(),h}(e,t,n);return Math.max(r.length>0?r.map((e=>{const t=this._logProbs.get(this.editToString(e));return null!==t?t:this._unknownLogProb})).reduce(((e,t)=>e+t),0):this._maxLogProb,this._minLogProb)}editToString(e){return Qi.editToString(e)}static load(e){const t=Ni.load(e);return new Qi(new Yi(new Ki(t.perfHash),t.freqs))}}!function(e){function t([e]){return e.slice(-1)}e.getContext=t,e.editToTotal=function(e){return t(e)+e[1]},e.editToString=function(n){const r=t(n);return r+n[1]+e.editSepChar+r+n[2]},e.splitEditString=function(t){return t.split(e.editSepChar)},e.preprocToken=function(t){return e.tokenStartChar+t+e.tokenEndChar},e.tokenStartChar="^",e.tokenEndChar="$",e.editSepChar="|"}(Qi||(Qi={}));class Zi{constructor(e,t,n,r,o,i=new Gi(new Bi(new Map)),a=(e=>e),s=Zi.defaultCorrectionCandidates){this._lm=e,this._replaceDict=t,this._vocab=n,this._noisyChan=r,this._spellModel=o,this._feedback=i,this._applyDialectFilter=a,this._correctionCandidates=s,this._config={spellModelThresh:this._spellModel.threshold,maxInputLen:25,maxHammingDistThresh:[[5,2],[9,3],[11,4],[12,5]],candidates:this._correctionCandidates}}_getMaxHammingDist(e){return(this._config.maxHammingDistThresh.find((([t])=>e<=t))||this._config.maxHammingDistThresh[this._config.maxHammingDistThresh.length-1])[1]}_shouldUseModel(e,t,n){return(e.length>1||"i"===e)&&e.length<=this._config.maxInputLen&&/^\w+$/.test(e)&&!n&&!/^[haHA]+$/.test(e)&&!Qo.isAcronym(e)&&!Qo.isMaybeNamelike(e)&&!this._vocab.contains(e.toLowerCase())&&!this._vocab.contains(e)&&(!/-/g.test(e)||e.split("-").some((e=>!this._vocab.contains(e))))&&!(Qo.tokenize(e).length>1)&&!this._vocab.isPossiblyOffensive(e)}async _predict(e,n,r,o,i){var a,s;const u=this._getMaxHammingDist(n.length),c=this._vocab.getClosest(n,u,this._config.candidates,u).filter((e=>!Qo.isContractionPart(e)&&!this._vocab.isPossiblyOffensive(e))),l=(null===(a=e[e.length-1])||void 0===a?void 0:a.toLowerCase())||"",d=e[e.length-1]||"",p=c.map((r=>{const a=Qo.tokenizeNorm(r),s=Qi.preprocToken(n),u=Qi.preprocToken(r),c=Hi(s,u),p=Ri.getStringVector(n),h=Ri.getStringVector(r),f={lm1:this._lm.getProbability(a),lm2:this._lm.getProbability([...e.slice(-1),...a]),lm3:this._lm.getProbability([...e.slice(-2),...a]),editDist:$i(s,u,c),noisyChanP:this._noisyChan.getLogProb(s,u,c),lenDiffRatio:(r.length-n.length)/n.length,inLen:n.length,replLen:r.length,pwIdP:Ko.identifyingPronouns.has(l),pwModalV:Ko.modalVerbs.has(l),pwGreet:Ko.greetings.has(l),pwDemP:Ko.demPronouns.has(l),pwCondClause:Ko.condClause.has(l),pwInterP:Ko.interPronouns.has(l),pwNum:Qo.isNumeral(l),pwSubjP:Ko.subjPronouns.has(l),pwPossOrObjP:Ko.possDepPronouns.has(l)||Ko.possIndepPronouns.has(l)||Ko.objPronouns.has(l),pwTemporal:Ko.timeRelated.has(l),pwToBeForm:Ko.toBeForms.has(l),pwIng:l.endsWith("ing"),pwEd:l.endsWith("ed"),capChange:r.toLowerCase()===n||n.toLowerCase()===r,inCap:Qo.isCapitalized(n),pwCap:Qo.isCapitalized(d),replPlural:r.endsWith("s"),replSameLength:r.length===n.length,replSameAsPW:l===r,inFirstInSent:o,addingContraction:!i&&Qo.containsContractions(r),keyShapeDist:Ri.getShapeDistance(p,h),hausdorffDist:Ri.getHausdorffDist(p,h)};return(0,t.bc)(r,f)})),h=(await this._spellModel.predictVector(p.map((([e,t])=>Pi.toVector(t))))).map(((e,n)=>(0,t.bc)(p[n][0],e,p[n][1])));return(0,t.bc)((null===(s=function(e,t){return 0===e.length?void 0:e.reduce(((e,n)=>{const r=t(n);return r>e[1]?[n,r]:e}),[e[0],t(e[0])])[0]}(h.filter((([e,t])=>t>=this._config.spellModelThresh)),(([,e])=>e)))||void 0===s?void 0:s[0])||null,h)}async checkTokenVerbose(e,n,r){if(this._feedback.isRejected(n))return(0,t.bc)(null);if(this._replaceDict.has(n))return(0,t.bc)(this._replaceDict.get(n)||null);{const o=[Qo.sentenceStartTag,...Qo.tokenizeNorm(e)],i=o[o.length-1]===Qo.sentenceStartTag||!!o[o.length-1].match(/^[\.!?]+$/),a=Qo.containsContractions(n);return this._shouldUseModel(n,i,a)?await this._predict(o,n,Qo.tokenizeNorm(r),i,a):(0,t.bc)(null)}}async checkToken(e,t,n){const[r]=await this.checkTokenVerbose(e,t,n);return r&&this._applyDialectFilter(r)}}Zi.defaultCorrectionCandidates=50;class ea{constructor(e,t,n){this._model=e,this._batchSize=t,this.threshold=n,this._serializedRun=function(e){let t=Promise.resolve();return(...n)=>{const r=t.then((t=>e(...n)));return t=r,r}}(((...e)=>this._model.run(...e)))}predict(e,t){throw new Error("synchronous prediction is not supported")}async predictVector(e){if(0===e.length)return[];const t=e.map((e=>e.slice(1))),n=Array.from(new Array(this._batchSize-t.length),(()=>new Array(t[0].length).fill(0))),r=(await this._serializedRun([new Ui.Tensor([].concat(...t,...n),"float32",[this._batchSize,t[0].length])])).get("output");return r.data instanceof Float32Array?Array.from(r.data).slice(0,t.length):new Array(t.length)}static createDefault(e,t){return new ea(e,t,.95)}}!function(e){e.base="data",e.replaceDict="a0.pt",e.vocabulary="b1.pt",e.ngrams="c2.pt",e.noisyChannel="d3.pt",e.nnClassifierModel="e4.pt"}(Di||(Di={})),function(e){e.load=function(e){return new Map(e.map((([e,t])=>[e,new Map(t.map((([e,t,n,r])=>[e,{word:e,freq:t,repr:[n,r]}])))])))}}(Mi||(Mi={}));class ta{constructor(e,t,n=new ci){this._hamDist=e,this._dict=t,this._offensive=n}contains(e){const t=this._dict.get(e.length);return t&&t.has(e)}isPossiblyOffensive(e){return this._offensive.isPossiblyOffensive(e)}getClosest(e,n,r,o=n){const i=this._hamDist.toRepr(e),a=e.length,s=[];for(let e=Math.max(0,a-o);e<a+o;e++)if(this._dict.get(e))for(const r of this._dict.get(e).values()){const e=this._hamDist.getDistance(i,r.repr);e<=n&&s.push((0,t.bc)(r,e))}const u=([e])=>e.freq;return s.sort(((e,t)=>u(t)-u(e))).slice(0,r).map((e=>e[0].word))}getFrequency(e){var t,n;return(null===(n=null===(t=this._dict.get(e.length))||void 0===t?void 0:t.get(e))||void 0===n?void 0:n.freq)||0}}!function(e){let t=null;e.create=async function(e,n,r,o,i,a=Z.create("AutocorrectCheckingServiceFactory")){var s;t||(t=async function(e,t,n,r){const o=await t.fetchInternalResource(`${Di.base}/${Di.replaceDict}`,"json").then((e=>Oi.load(e))).catch((e=>(r.error("failed loading replace dict",e),null))),i=await e.getLengthGroupedDict(),a=i&&new ta(new qi,i),s=await e.getNgrams(),u=s&&new zi(s),c=await t.fetchInternalResource(`${Di.base}/${Di.noisyChannel}`,"buffer").then((e=>Qi.load(e))).catch((e=>(r.error("failed loading noisy channel",e),null))),l=await(async()=>{const e=new Ui.InferenceSession({backendHint:"cpu"});return await e.loadModel(await t.fetchInternalResource(`${Di.base}/${Di.nnClassifierModel}`,"buffer")),e})().catch((e=>(r.error("failed to init onnx model",e),null))),d=new Fi(n),p=new Bi(await d.read(),(e=>d.write(e)));return{sharedReplaceDict:o,sharedVocabulary:a,sharedNgramModel:u,sharedNoisyChan:c,sharedNnClassifierModel:l,sharedFeedbackSet:p}}(e,n,r,a));const{sharedReplaceDict:u,sharedVocabulary:c,sharedNgramModel:l,sharedNoisyChan:d,sharedNnClassifierModel:p,sharedFeedbackSet:h}=await t;if(u&&c&&l&&d&&p){const e=new Gi(h),t=null===(s=o.view("dynamicConfig").get())||void 0===s?void 0:s.autocorrect;return new Ai(new Zi(l,u,c,d,ea.createDefault(p,Zi.defaultCorrectionCandidates),e,(e=>{const t=o.view("dapi").get();return $o(e,(null==t?void 0:t.dialectStrong)||(null==t?void 0:t.dialectWeak))})),e,new Set(null==t?void 0:t.bannedDict),new Map(null==t?void 0:t.bannedCorrections),i.autocorrect)}throw new Error("autocorrect backend unavailable")}}(ji||(ji={})),function(e){e.base="data",e.phrases="f5.pt",e.vocab="g6.pt"}(Li||(Li={}));class na{constructor(e){this._words=[...e].sort(((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0));for(let e=1;e<this._words.length;++e)this._words[e][1]+=this._words[e-1][1]}_lowerBound(e){const t=this._words.length;if(!t)return 0;let n=0,r=t;for(;n<r;){const t=n+r>>1;this._words[t][0]<e?n=t+1:r=t}return n}getWordCount(e){const t=this._lowerBound(e);return this._lowerBound(e+"zzz")-t}*getWords(e){const t=this._lowerBound(e),n=this._lowerBound(e+"zzz");for(let e=t;e<n;e++)yield this._words[e][0]}getFrequency(e){const t=this._lowerBound(e),n=this._lowerBound(e+"zzz");return t===n?0:0===t?this._words[n-1][1]:this._words[n-1][1]-this._words[t-1][1]}getTotalFrequency(){const e=this._words.length;return e?this._words[e-1][1]:0}static fromJSON(e){return new na(e)}static _getWords(e,t){const n=[];for(const[r,o]of e.entries())for(const e of o.keys()){const r=Qo.tokenizeNorm(e);if(1!==r.length||r[0]!==e)continue;const o=t.getFreq(r);o&&o[0]>=5e4&&n.push([e,o[0]])}return n}static create(e,t){return new na(this._getWords(e,t))}static createJSON(e,t){const n=this._getWords(e,t);return n.sort(((e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0)),n}}class ra{constructor(e){this._extensionApi=e,this._log=Z.create(ra.name)}async getLengthGroupedDict(){return void 0===this._lengthGroupedDict&&(this._lengthGroupedDict=await this._extensionApi.fetchInternalResource(`${Di.base}/${Di.vocabulary}`,"json").then((e=>Mi.load(e))).catch((e=>(this._log.error("Failed to create length-grouped dictionary",e),null)))),this._lengthGroupedDict}async getNgrams(){return void 0===this._ngrams&&(this._ngrams=await this._extensionApi.fetchInternalResource(`${Di.base}/${Di.ngrams}`,"buffer").then((e=>Xi.load(e))).catch((e=>(this._log.error("Failed to create ngram model",e),null)))),this._ngrams}async getFrequentPhrases(){return await this._extensionApi.fetchInternalResource(`${Li.base}/${Li.phrases}`,"json").catch((e=>(this._log.error("Failed to load frequent phrases",e),null)))}async getWatsonVocab(){return await this._extensionApi.fetchInternalResource(`${Li.base}/${Li.vocab}`,"json").then((e=>na.fromJSON(e))).catch((e=>(this._log.error("Failed to load Watson vocab",e),null)))}}class oa{constructor(e,t=Z.create(oa.name)){this._factory=e,this._log=t,this._instances=new Map,this.api=this._createApi(["check","onCorrectionRejected","onCorrectionAccepted"])}_createApi(e){return re(e.map((e=>[e,({token:t,args:n})=>{const r=this._instances.get(t);if(r)return r[e](...n);throw new Error(`no instance for ${t}`)}])))}async startSession(){const e=t.iy.create(),n=await this._factory();return this._instances.set(e,n),e}closeSession(e){const t=this._instances.get(e);t?(t.dispose(),this._instances.delete(e)):this._log.warn(`no instance for ${e}, ignoring`)}dispose(){for(const[e,t]of this._instances.entries())try{t.dispose()}catch(t){this._log.error(`failed trying to dispose instance ${e}`,t)}this._instances.clear()}}var ia=__webpack_require__(95195),aa=__webpack_require__(64015),sa=__webpack_require__(32952),ua=__webpack_require__(40327),ca=function(e){return{_tag:"Of",value:e}},la=function(e,t){return{_tag:"Concat",left:e,right:t}};var da="required",pa="optional",ha=function(e,t,n){return{_tag:"Key",key:e,kind:t,errors:n}},fa=function(e,t,n){return{_tag:"Index",index:e,kind:t,errors:n}},ga=function(e,t){return{_tag:"Member",index:e,errors:t}};function ma(){return{concat:la}}function ya(e){var t=new Map;return function(n){if(!t.has(n)){var r=e(n);return t.set(n,r),r}return t.get(n)}}var va=function(e){return null===e?"null":typeof e},ba=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return-1!==e.findIndex((function(e){return e===t}))}}},_a={is:function(e){return"string"==typeof e}},wa={is:function(e){return"number"==typeof e&&!isNaN(e)}},Sa={is:function(e){return"boolean"==typeof e}},Ia={is:Array.isArray},xa={is:function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}},Ea=function(e){return function(t){return{is:function(n){return t.is(n)&&e(n)}}}},ka=function(e){return{is:function(t){return null===t||e.is(t)}}},Ta=function(e){return(0,ua.pipe)(xa,Ea((function(t){for(var n in e)if(!(n in t)||!e[n].is(t[n]))return!1;return!0})))},Aa=Ta,Ca=function(e){return(0,ua.pipe)(xa,Ea((function(t){for(var n in e){var r=t[n];if(void 0!==r&&!e[n].is(r))return!1}return!0})))},Oa=function(e){return(0,ua.pipe)(Ia,Ea((function(t){return t.every(e.is)})))},Pa=function(e){return(0,ua.pipe)(xa,Ea((function(t){for(var n in t)if(!e.is(t[n]))return!1;return!0})))},Ra=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return Array.isArray(t)&&t.length===e.length&&e.every((function(e,n){return e.is(t[n])}))}}},Na=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},Da=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{is:function(t){return e.some((function(e){return e.is(t)}))}}},Ma=function(e){return function(t){return(0,ua.pipe)(xa,Ea((function(n){var r=n[e];return r in t&&t[r].is(n)})))}},ja=function(e){var t=ya(e);return{is:function(e){return t().is(e)}}},La=Ie.yR,Ua=function(e){return function(t){return{is:function(n){return t.is(n)||e().is(n)}}}},Fa=function(){return{is:function(e){return!1}}},Ba=function(e){return function(t){return{is:function(n){return t.is(n)&&e.is(n)}}}},Ga=function(){return{is:function(e){return!0}}},za="io-ts/Guard",Wa={URI:za,literal:ba,string:_a,number:wa,boolean:Sa,nullable:ka,type:Aa,struct:Ta,partial:Ca,record:Pa,array:Oa,tuple:Ra,intersect:Na,sum:Ma,lazy:function(e,t){return ja(t)},readonly:La},qa={UnknownArray:Ia,UnknownRecord:xa},Va={union:Da},Ha={refine:Ea};function $a(e){return function(t,n){return{decode:function(r){return t(r)?e.of(r):e.throwError(n(r))}}}}function Ka(t){return function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return{decode:function(o){return ba.apply(e,r).is(o)?t.of(o):t.throwError(n(o,r))}}}}}function Ya(e){return function(t){return function(n){return{decode:function(r){return null===r?e.of(null):e.bimap(n.decode(r),(function(e){return t(r,e)}),(function(e){return e}))}}}}}function Ja(e){var t=rs(e);return function(n){return function(r){return{decode:function(o){return t(r,(function(t,r){return e.mapLeft(r.decode(o[t]),(function(e){return n(t,e)}))}))}}}}}function Xa(e){var t=ns(e);return function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return{decode:function(o){return t(r,(function(t,r){return e.mapLeft(r.decode(o[t]),(function(e){return n(t,e)}))}))}}}}}function Qa(e){return function(t){return function(n){return{decode:function(r){return e.ap(e.map(n.decode(r),(function(e){return function(t){return function(e,t){if(void 0!==e&&void 0!==t){var n=va(e),r=va(t);if("object"===n||"object"===r)return Object.assign({},e,t)}return t}(e,t)}})),t.decode(r))}}}}}function Za(e){return function(t){return function(n,r){var o=ya(r);return{decode:function(r){return e.mapLeft(o().decode(r),(function(e){return t(n,e)}))}}}}}function es(e){return function(t){return function(n){return{decode:function(r){return e.chain(n.decode(r),t.decode)}}}}}var ts,ns=function(e){return function(t,n){return t.reduce((function(t,r,o){return e.ap(e.map(t,(function(e){return function(t){return e.push(t),e}})),n(o,r))}),e.of([]))}},rs=function(e){return function(t,n){var r=Object.keys(t);if(0===r.length)return e.of({});for(var o=e.of({}),i=function(r){o=e.ap(e.map(o,(function(e){return function(t){return e[r]=t,e}})),n(r,t[r]))},a=0,s=r;a<s.length;a++){i(s[a])}return o}},os=function(e){var t={};for(var n in e){var r=e[n];ia.isRight(r)&&(t[n]=r.right)}return t},is=ma(),as={URI:ia.URI,_E:void 0,map:function(e,t){return(0,ua.pipe)(e,ia.map(t))},ap:function(e,t){return ia.isLeft(e)?ia.isLeft(t)?ia.left(is.concat(e.left,t.left)):e:ia.isLeft(t)?t:ia.right(e.right(t.right))},of:ia.right,chain:function(e,t){return(0,ua.pipe)(e,ia.chain(t))},throwError:ia.left,bimap:function(e,t,n){return(0,ua.pipe)(e,ia.bimap(t,n))},mapLeft:function(e,t){return(0,ua.pipe)(e,ia.mapLeft(t))},alt:function(e,t){if(ia.isRight(e))return e;var n=t();return ia.isLeft(n)?ia.left(is.concat(e.left,n.left)):n}},ss=function(e,t){return ca(function(e,t){return{_tag:"Leaf",actual:e,error:t}}(e,t))},us=(ia.right,function(e,t){return function(e,t){return $a(as)(e,(function(e){return ss(e,t)}))}(e.is,t)}),cs=Ka(as)((function(e,t){return ss(e,t.map((function(e){return JSON.stringify(e)})).join(" | "))})),ls=us(_a,"string"),ds=us(wa,"number"),ps=us(Sa,"boolean"),hs=us(Ia,"Array<unknown>"),fs=us(xa,"Record<string, unknown>"),gs=Ya(as)((function(e,t){return la(ca(ga(0,ss(e,"null"))),ca(ga(1,t)))})),ms=function(e){return Ja(as)((function(e,t){return ca(ha(e,da,t))}))(e)},ys=function(e){return(0,ua.pipe)(fs,Ts(ms(e)))},vs=ys,bs=function(e){return function(e){var t=rs(e),n=e.of(ia.right(void 0)),r=e.of(ia.left(void 0));return function(o){return function(i){return{decode:function(a){return e.map(t(i,(function(t,i){var s=a[t];return void 0===s?t in a?n:r:e.bimap(i.decode(s),(function(e){return o(t,e)}),(function(e){return ia.right(e)}))})),os)}}}}}(as)((function(e,t){return ca(ha(e,pa,t))}))(e)},_s=function(e){return function(e){var t=ns(e);return function(n){return function(r){return{decode:function(o){return t(o,(function(t,o){return e.mapLeft(r.decode(o),(function(e){return n(t,e)}))}))}}}}}(as)((function(e,t){return ca(fa(e,pa,t))}))(e)},ws=function(e){return function(e){var t=rs(e);return function(n){return function(r){return{decode:function(o){return t(o,(function(t,o){return e.mapLeft(r.decode(o),(function(e){return n(t,e)}))}))}}}}}(as)((function(e,t){return ca(ha(e,pa,t))}))(e)},Ss=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xa(as)((function(e,t){return ca(fa(e,da,t))})).apply(void 0,e)},Is=Qa(as),xs=function(e){return function(t){return function(e){return function(t){return function(n){return function(r){var o=Object.keys(r);return{decode:function(i){var a=i[n];return Object.prototype.hasOwnProperty.call(r,a)?r[a].decode(i):e.throwError(t(n,a,o))}}}}}}(as)((function(e,t,n){return ca(ha(e,da,ss(t,0===n.length?"never":n.map((function(e){return JSON.stringify(e)})).join(" | "))))}))(e)(t)}},Es=Za(as)((function(e,t){return ca(function(e,t){return{_tag:"Lazy",id:e,errors:t}}(e,t))})),ks=Ie.yR,Ts=es(as),As="io-ts/Decoder",Cs={URI:As,literal:cs,string:ls,number:ds,boolean:ps,nullable:gs,type:vs,struct:ys,partial:function(e){return(0,ua.pipe)(fs,Ts(bs(e)))},record:function(e){return(0,ua.pipe)(fs,Ts(ws(e)))},array:function(e){return(0,ua.pipe)(hs,Ts(_s(e)))},tuple:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,ua.pipe)(hs,Ts(Ss.apply(void 0,e)))},intersect:Is,sum:function(e){return function(t){return(0,ua.pipe)(fs,Ts(xs(e)(t)))}},lazy:Es,readonly:ks},Os=[],Ps=function(e,t){return void 0===t&&(t=Os),{value:e,forest:t}},Rs=function(e){return e.value+Ns("\n",e.forest)},Ns=function(e,t){for(var n,r="",o=t.length,i=0;i<o;i++){var a=i===o-1;r+=e+(a?"":"")+" "+(n=t[i]).value,r+=Ns(e+(o>1&&!a?"  ":"   "),n.forest)}return r},Ds=(ts={Leaf:function(e,t){return Ps("cannot decode ".concat(JSON.stringify(e),", should be ").concat(t))},Key:function(e,t,n){return Ps("".concat(t," property ").concat(JSON.stringify(e)),Ms(n))},Index:function(e,t,n){return Ps("".concat(t," index ").concat(e),Ms(n))},Member:function(e,t){return Ps("member ".concat(e),Ms(t))},Lazy:function(e,t){return Ps("lazy type ".concat(e),Ms(t))},Wrap:function(e,t){return Ps(e,Ms(t))}},function(e){switch(e._tag){case"Leaf":return ts.Leaf(e.actual,e.error);case"Key":return ts.Key(e.key,e.kind,e.errors);case"Index":return ts.Index(e.index,e.kind,e.errors);case"Member":return ts.Member(e.index,e.errors);case"Lazy":return ts.Lazy(e.id,e.errors);case"Wrap":return ts.Wrap(e.error,e.errors)}}),Ms=function(e){for(var t=[],n=e,r=[];;)switch(n._tag){case"Of":r.push(Ds(n.value));var o=t.pop();if(void 0===o)return r;n=o;break;case"Concat":t.push(n.right),n=n.left}},js=function(e){return Ms(e).map(Rs).join("\n")},Ls=__webpack_require__(71249),Us=__webpack_require__(73975),Fs=__webpack_require__(45614),Bs=Us.yv,Gs=Us.lr,zs=Us.vD;Us.f7((function(e,t){return e.length===t.length})),Us.f7((function(e,t){for(var n in e)if(!(n in t))return!1;for(var n in t)if(!(n in e))return!1;return!0}));var Ws=Us.MW,qs=Ws;var Vs=Fs.getEq,Hs=Ls.Eh,$s=Us.IP;var Ks=Ie.yR,Ys={URI:Us.ov,literal:function(){return Us.w4},string:Bs,number:Gs,boolean:zs,nullable:function(e){return{equals:function(t,n){return null===t||null===n?t===n:e.equals(t,n)}}},type:qs,struct:Ws,partial:function(e){return{equals:function(t,n){for(var r in e){var o=t[r],i=n[r];if(!(void 0===o||void 0===i?o===i:e[r].equals(o,i)))return!1}return!0}}},record:Vs,array:Hs,tuple:$s,intersect:function(e){return function(t){return{equals:function(n,r){return t.equals(n,r)&&e.equals(n,r)}}}},sum:function(e){return function(t){return{equals:function(n,r){var o=n[e];return o===r[e]&&t[o].equals(n,r)}}}},lazy:function(e,t){return function(e){var t=ya(e);return{equals:function(e,n){return t().equals(e,n)}}}(t)},readonly:Ks};function Js(e){return ya(e)}function Xs(e){return function(t){return t(e)}}var Qs,Zs,eu,tu,nu,ru,ou,iu,au,su,uu,cu,lu,du,pu,hu,fu,gu,mu,yu,vu,bu=__webpack_require__(22232),_u=__webpack_require__(5114),wu=__webpack_require__(8125),Su=__webpack_require__(55415),Iu=__webpack_require__(26328),xu=__webpack_require__(83078);!function(e){e.Click="click",e.CloseAssistant="closeAssistant",e.Focus="focus",e.SelectSliderChoice="selectSliderChoice"}(Qs||(Qs={})),function(e){e.Dismiss="dismiss",e.Fulfill="fulfill"}(Zs||(Zs={})),function(e){e.FadeIn="fadeIn",e.FadeOut="fadeOut",e.SlideLeft="slideLeft",e.SlideRight="slideRight"}(eu||(eu={})),function(e){e.DarkPrimary="darkPrimary",e.DarkSecondary="darkSecondary",e.Link="link",e.Outlined="outlined",e.Primary="primary",e.Secondary="secondary",e.Toggle="toggle",e.Yellow="yellow"}(tu||(tu={})),function(e){e.Round="round",e.Square="square"}(nu||(nu={})),function(e){e.Deselected="deselected",e.Disabled="disabled",e.Enabled="enabled",e.Hidden="hidden",e.Selected="selected"}(ru||(ru={})),function(e){e.CoreBlue1="CoreBlue1",e.CoreBlue10="CoreBlue10",e.CoreBlue20="CoreBlue20",e.CoreBlue30="CoreBlue30",e.CoreBlue40="CoreBlue40",e.CoreBlue50="CoreBlue50",e.CoreBlue60="CoreBlue60",e.CoreBlue70="CoreBlue70",e.CoreCoral1="CoreCoral1",e.CoreCoral10="CoreCoral10",e.CoreCoral30="CoreCoral30",e.CoreCoral40="CoreCoral40",e.CoreCoral50="CoreCoral50",e.CoreCoral60="CoreCoral60",e.CoreCyan1="CoreCyan1",e.CoreCyan10="CoreCyan10",e.CoreCyan20="CoreCyan20",e.CoreCyan30="CoreCyan30",e.CoreCyan40="CoreCyan40",e.CoreCyan50="CoreCyan50",e.CoreCyan60="CoreCyan60",e.CoreGreen1="CoreGreen1",e.CoreGreen10="CoreGreen10",e.CoreGreen20="CoreGreen20",e.CoreGreen30="CoreGreen30",e.CoreGreen40="CoreGreen40",e.CoreGreen50="CoreGreen50",e.CoreGreen60="CoreGreen60",e.CoreGreen70="CoreGreen70",e.CoreIndigo1="CoreIndigo1",e.CoreIndigo10="CoreIndigo10",e.CoreIndigo20="CoreIndigo20",e.CoreIndigo30="CoreIndigo30",e.CoreIndigo40="CoreIndigo40",e.CoreIndigo50="CoreIndigo50",e.CoreIndigo60="CoreIndigo60",e.CoreIndigo70="CoreIndigo70",e.CoreLime1="CoreLime1",e.CoreLime10="CoreLime10",e.CoreLime20="CoreLime20",e.CoreLime30="CoreLime30",e.CoreLime40="CoreLime40",e.CoreLime50="CoreLime50",e.CoreMagenta1="CoreMagenta1",e.CoreMagenta10="CoreMagenta10",e.CoreMagenta30="CoreMagenta30",e.CoreMagenta40="CoreMagenta40",e.CoreMagenta60="CoreMagenta60",e.CoreMagenta70="CoreMagenta70",e.CoreNeutral0="CoreNeutral0",e.CoreNeutral1="CoreNeutral1",e.CoreNeutral10="CoreNeutral10",e.CoreNeutral20="CoreNeutral20",e.CoreNeutral30="CoreNeutral30",e.CoreNeutral40="CoreNeutral40",e.CoreNeutral50="CoreNeutral50",e.CoreNeutral60="CoreNeutral60",e.CoreNeutral70="CoreNeutral70",e.CoreNeutral80="CoreNeutral80",e.CoreNeutral90="CoreNeutral90",e.CorePurple1="CorePurple1",e.CorePurple10="CorePurple10",e.CorePurple20="CorePurple20",e.CorePurple30="CorePurple30",e.CorePurple40="CorePurple40",e.CorePurple50="CorePurple50",e.CorePurple60="CorePurple60",e.CoreRed1="CoreRed1",e.CoreRed10="CoreRed10",e.CoreRed20="CoreRed20",e.CoreRed30="CoreRed30",e.CoreRed40="CoreRed40",e.CoreRed50="CoreRed50",e.CoreRed60="CoreRed60",e.CoreRed70="CoreRed70",e.CoreSky1="CoreSky1",e.CoreSky10="CoreSky10",e.CoreSky20="CoreSky20",e.CoreSky30="CoreSky30",e.CoreSky40="CoreSky40",e.CoreSky50="CoreSky50",e.CoreSky60="CoreSky60",e.CoreSky70="CoreSky70",e.CoreYellow1="CoreYellow1",e.CoreYellow10="CoreYellow10",e.CoreYellow20="CoreYellow20",e.CoreYellow30="CoreYellow30",e.CoreYellow40="CoreYellow40",e.CoreYellow50="CoreYellow50",e.CoreYellow60="CoreYellow60",e.CoreYellow70="CoreYellow70",e.CoreYellow80="CoreYellow80",e.CoreYellowBrand1="CoreYellowBrand1",e.CoreYellowBrand10="CoreYellowBrand10",e.CoreYellowBrand20="CoreYellowBrand20",e.CoreYellowBrand30="CoreYellowBrand30",e.CoreYellowBrand40="CoreYellowBrand40",e.CoreYellowBrand50="CoreYellowBrand50"}(ou||(ou={})),function(e){e.ButtonAccept="button:accept",e.ButtonGoPremiumYellow="button:goPremiumYellow",e.ButtonNext="button:next",e.ButtonPrev="button:prev",e.StrongAlertRefBulkAccept="strongAlertRef:BulkAccept",e.StrongAlertRefBulkDismiss="strongAlertRef:BulkDismiss",e.StrongAlertRefBulkDismissBufferOuter="strongAlertRef:BulkDismissBufferOuter",e.StrongAlertRefUpgradeHook="strongAlertRef:UpgradeHook"}(iu||(iu={})),function(e){e.Asc="asc",e.Desc="desc"}(au||(au={})),function(e){e.EqualTo="equalTo",e.NotEqualTo="notEqualTo"}(su||(su={})),function(e){e.Default="default",e.Loading="loading"}(uu||(uu={})),function(e){e.Center="center",e.Left="left",e.Right="right"}(cu||(cu={})),function(e){e.Accept="accept",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.BulletList="bullet-list",e.Clarity="clarity",e.Close="close",e.Controls="controls",e.Copy="copy",e.Correctness="correctness",e.Delivery="delivery",e.Diamond="diamond",e.DiamondSmall="diamondSmall",e.Dictionary="dictionary",e.Edit="edit",e.Engagement="engagement",e.ExternalLink="external-link",e.Feedback="feedback",e.GButtonSmall="gButtonSmall",e.Gear="gear",e.Ignore="ignore",e.Info="info",e.More="more",e.Mute="mute",e.NewSmall="newSmall",e.Performance="performance",e.Proofreader="proofreader",e.Report="report",e.Sensitivity="sensitivity",e.Sparkles="sparkles",e.User="user"}(lu||(lu={})),function(e){e.AllSuggestions="allSuggestions",e.Clarity="clarity",e.Correctness="correctness",e.Delivery="delivery",e.Engagement="engagement",e.StyleGuide="styleGuide"}(du||(du={})),function(e){e.Bottom="bottom",e.Left="left",e.Right="right",e.Top="top"}(pu||(pu={})),function(e){e.Radius0="Radius0",e.Radius1="Radius1",e.Radius2="Radius2",e.Radius3="Radius3",e.RadiusHalf="RadiusHalf"}(hu||(hu={})),function(e){e.D0="0",e.D0125="0.125",e.D025="0.25",e.D03125="0.3125",e.D0375="0.375",e.D05="0.5",e.D075="0.75",e.D1="1",e.D125="1.25"}(fu||(fu={})),function(e){e.Bold="bold",e.Italic="italic",e.Outline="outline",e.StrikeoutDiagonal="strikeoutDiagonal",e.StrikeoutHorizontal="strikeoutHorizontal"}(gu||(gu={})),function(e){e.HeadingLevel3="headingLevel3",e.HeadingLevel4="headingLevel4",e.Medium="medium",e.Regular="regular",e.Small="small"}(mu||(mu={})),function(e){e.EaseIn="easeIn",e.EaseInOut="easeInOut",e.EaseOut="easeOut",e.Linear="linear"}(yu||(yu={})),function(e){e.Bottom="bottom",e.Middle="middle",e.Top="top"}(vu||(vu={}));Js((function(e){return Ic(e)}));var Eu=Js((function(e){var t;return e.sum("type")(((t={}).notify=Tu(e),t.openSettings=Au(e),t.openLearnMore=Cu(e),t.openToneDetector=Ou(e),t.upgradeToPremium=Pu(e),t.showHighlights=Ru(e),t.hideHighlights=Nu(e),t.openFeedback=Du(e),t.openCreateSnippetModal=Mu(e),t.closeCard=ju(e),t.nextCard=Lu(e),t.prevCard=Uu(e),t.removeRoot=Fu(e),t.removeAlerts=Bu(e),t.applyAlerts=Gu(e),t.selectAlternative=zu(e),t.transition=Wu(e),t.openLink=qu(e),t.copyToClipboard=Vu(e),t.nativeOpenAssistant=Hu(e),t.pushAssistantFeed=$u(e),t.popAssistantFeed=Ku(e),t.focusAssistantCard=Yu(e),t.switchView=Ju(e),t.newRevision=Xu(e),t.highlightAlert=Qu(e),t.stopApplyingAlerts=Zu(e),t.closePopover=ec(e),t.interactPopover=nc(e),t))})),ku=Dd(Qs),Tu=Js((function(e){return e.intersect(e.partial({sourceId:hd(e)}))(e.struct({type:e.literal("notify"),userAction:ku(e)}))})),Au=Js((function(e){return e.struct({type:e.literal("openSettings")})})),Cu=Js((function(e){return e.struct({type:e.literal("openLearnMore")})})),Ou=Js((function(e){return e.struct({type:e.literal("openToneDetector")})})),Pu=Js((function(e){return e.struct({type:e.literal("upgradeToPremium")})})),Ru=Js((function(e){return e.struct({type:e.literal("showHighlights")})})),Nu=Js((function(e){return e.struct({type:e.literal("hideHighlights")})})),Du=Js((function(e){return e.struct({type:e.literal("openFeedback")})})),Mu=Js((function(e){return e.struct({type:e.literal("openCreateSnippetModal"),snippetContent:e.string})})),ju=Js((function(e){return e.struct({type:e.literal("closeCard")})})),Lu=Js((function(e){return e.struct({type:e.literal("nextCard")})})),Uu=Js((function(e){return e.struct({type:e.literal("prevCard")})})),Fu=Js((function(e){return e.struct({type:e.literal("removeRoot")})})),Bu=Js((function(e){return e.struct({type:e.literal("removeAlerts")})})),Gu=Js((function(e){return e.struct({type:e.literal("applyAlerts"),alternativeIndex:e.number})})),zu=Js((function(e){return e.struct({type:e.literal("selectAlternative"),alternativeIndex:e.number})})),Wu=Js((function(e){return e.struct({type:e.literal("transition"),fromName:e.string,toName:e.string,animateFrom:oc(e),animateTo:oc(e)})})),qu=Js((function(e){return e.struct({type:e.literal("openLink"),url:e.string})})),Vu=Js((function(e){return e.struct({type:e.literal("copyToClipboard"),text:e.string})})),Hu=Js((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("nativeOpenAssistant")}))})),$u=Js((function(e){return e.intersect(e.partial({cardId:e.string}))(e.struct({type:e.literal("pushAssistantFeed"),feedId:e.string}))})),Ku=Js((function(e){return e.struct({type:e.literal("popAssistantFeed")})})),Yu=Js((function(e){return e.struct({type:e.literal("focusAssistantCard"),cardId:e.string})})),Ju=Js((function(e){return e.struct({type:e.literal("switchView"),where:hd(e),selected:Td(e)})})),Xu=Js((function(e){return e.struct({type:e.literal("newRevision")})})),Qu=Js((function(e){return e.struct({type:e.literal("highlightAlert")})})),Zu=Js((function(e){return e.struct({type:e.literal("stopApplyingAlerts")})})),ec=Js((function(e){return e.struct({type:e.literal("closePopover"),rootPopoverId:hd(e)})})),tc=Dd(Zs),nc=Js((function(e){return e.struct({type:e.literal("interactPopover"),rootPopoverId:hd(e),popoverViewId:hd(e),interaction:tc(e)})})),rc=Js((function(e){return e.readonly(e.array(Eu(e)))})),oc=Dd(eu),ic=Js((function(e){return e.lazy("Behavior",(function(){return ac(e)}))})),ac=Js((function(e){var t;return e.sum("type")(((t={})["behavior:strongAlertRef"]=sc(e),t["behavior:animation:fadeIn"]=uc(e),t["behavior:animation:fadeOut"]=cc(e),t["behavior:popoverAnchor"]=lc(e),t))})),sc=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.struct({type:e.literal("behavior:strongAlertRef"),id:hd(e),alertIds:e.readonly(e.array(e.string)),onEmpty:rc(e)}))})),uc=Js((function(e){return e.struct({type:e.literal("behavior:animation:fadeIn"),id:hd(e),timeCurve:Rd(e)})})),cc=Js((function(e){return e.struct({type:e.literal("behavior:animation:fadeOut"),id:hd(e),timeCurve:Rd(e)})})),lc=Js((function(e){return e.lazy("BehaviorPopoverAnchor",(function(){return dc(e)}))})),dc=Js((function(e){return e.intersect(e.partial({view:Sd(e)}))(e.struct({type:e.literal("behavior:popoverAnchor"),id:hd(e),positionHint:xd(e)}))})),pc=Js((function(e){return e.readonly(e.array(ic(e)))})),hc=Js((function(e){return e.struct({topLeft:Ed(e),topRight:Ed(e),bottomRight:Ed(e),bottomLeft:Ed(e)})})),fc=Dd(tu),gc=Dd(nu),mc=Dd(ru),yc=Dd(ou),vc=Dd(iu),bc=Js((function(e){return e.intersect(e.partial({label:e.string}))(e.intersect(e.partial({description:e.string}))(e.struct({})))})),_c=Js((function(e){var t;return e.sum("kind")(((t={}).unknown=wc(e),t.known=Sc(e),t))})),wc=Js((function(e){return e.struct({kind:e.literal("unknown"),value:e.string})})),Sc=Js((function(e){return e.struct({kind:e.literal("known"),value:vc(e)})})),Ic=Js((function(e){return e.lazy("Content",(function(){return xc(e)}))})),xc=Js((function(e){var t;return e.sum("type")(((t={}).text=Ec(e),t.assistantFeed=Oc(e),t.assistantCard=Rc(e),t.popoverStack=Dc(e),t.inlineCard=jc(e),t["gButton:default"]=Uc(e),t["gButton:tone"]=Fc(e),t["gButton:proofit"]=Bc(e),t["gButton:get-started"]=Gc(e),t.gButton=zc(e),t.proofitButton=Wc(e),t.lensesSwitchPanel=Vc(e),t.strongAlertRef=Hc(e),t.column=Kc(e),t.row=Jc(e),t.block=Zc(e),t.box=tl(e),t.scroll=rl(e),t.list=dl(e),t.dropDownMenuButton=hl(e),t.icon=yl(e),t.image=vl(e),t.button=bl(e),t.clickableText=wl(e),t.count=Sl(e),t.alertsCount=Il(e),t.alternativeChoice=kl(e),t.slider=Rl(e),t.alternativeSlider=jl(e),t.nativeSkillsModal=Ul(e),t.nativeSkillsList=Fl(e),t.nativeSkillsView=Bl(e),t.nativeToneInsightsModal=Gl(e),t.nativeLearnMoreModal=zl(e),t.nativeSettingsModal=Wl(e),t.nativeFeedbackModal=ql(e),t.nativeGetStartedChecklistModal=Vl(e),t.nativeProofitModal=Hl(e),t.nativeKeyTakeawaysAssistantCard=$l(e),t.nativeInlineCardContent=Kl(e),t.nativePerformanceScoreButton=Yl(e),t.viewStack=Jl(e),t.nativeExperimentalGBConsistencyUpsellFooter=Ql(e),t.radioButtonsGroup=ed(e),t.nativeExperimentalGBToneInsightsUpsellFooter=td(e),t.collapsedCard=nd(e),t.longFormCard=od(e),t.progressBar=sd(e),t.horizontalRule=ud(e),t))})),Ec=Js((function(e){return e.intersect(e.partial({backgroundColor:yc(e)}))(e.intersect(e.partial({outlineColor:yc(e)}))(e.struct({type:e.literal("text"),id:hd(e),meta:bc(e),size:Pd(e),text:e.string,textColor:yc(e),format:e.readonly(e.array(Od(e)))})))})),kc=Dd(au),Tc=Js((function(e){return e.struct({orderBy:e.string,direction:kc(e)})})),Ac=Dd(su),Cc=Js((function(e){return e.struct({property:e.string,condition:Ac(e),value:e.number})})),Oc=Js((function(e){return e.lazy("ContentAssistantFeed",(function(){return Pc(e)}))})),Pc=Js((function(e){return e.intersect(e.partial({onEmpty:rc(e)}))(e.intersect(e.partial({onAssistantClose:rc(e)}))(e.struct({type:e.literal("assistantFeed"),id:hd(e),header:Ic(e),ordering:e.readonly(e.array(Tc(e))),filtering:e.readonly(e.array(Cc(e))),onRemove:rc(e)})))})),Rc=Js((function(e){return e.lazy("ContentAssistantCard",(function(){return Nc(e)}))})),Nc=Js((function(e){return e.intersect(e.partial({properties:e.readonly(e.record(e.nullable(e.number)))}))(e.intersect(e.partial({footer:Ic(e)}))(e.struct({type:e.literal("assistantCard"),id:hd(e),meta:bc(e),child:Ic(e),onFocus:rc(e)})))})),Dc=Js((function(e){return e.lazy("ContentPopoverStack",(function(){return Mc(e)}))})),Mc=Js((function(e){return e.struct({type:e.literal("popoverStack"),id:hd(e),views:e.readonly(e.record(Sd(e))),selected:Td(e)})})),jc=Js((function(e){return e.lazy("ContentInlineCard",(function(){return Lc(e)}))})),Lc=Js((function(e){return e.intersect(e.partial({minWidth:kd(e)}))(e.intersect(e.partial({maxWidth:kd(e)}))(e.intersect(e.partial({behaviors:pc(e)}))(e.struct({type:e.literal("inlineCard"),id:hd(e),meta:bc(e),child:Ic(e),onFocus:rc(e)}))))})),Uc=Js((function(e){return e.struct({type:e.literal("gButton:default"),id:hd(e),meta:bc(e),actions:rc(e)})})),Fc=Js((function(e){return e.struct({type:e.literal("gButton:tone"),id:hd(e),meta:bc(e),actions:rc(e)})})),Bc=Js((function(e){return e.struct({type:e.literal("gButton:proofit"),id:hd(e),meta:bc(e),actions:rc(e)})})),Gc=Js((function(e){return e.struct({type:e.literal("gButton:get-started"),id:hd(e),meta:bc(e),actions:rc(e)})})),zc=Js((function(e){return e.struct({type:e.literal("gButton"),id:hd(e),meta:bc(e),actions:rc(e)})})),Wc=Js((function(e){return e.struct({type:e.literal("proofitButton"),id:hd(e),meta:bc(e),actions:rc(e)})})),qc=Js((function(e){return e.struct({id:hd(e),meta:bc(e),kind:fd(e),label:e.string,onClickActions:rc(e)})})),Vc=Js((function(e){return e.struct({type:e.literal("lensesSwitchPanel"),id:hd(e),meta:bc(e),lensSwitchButtons:e.readonly(e.array(qc(e)))})})),Hc=Js((function(e){return e.lazy("ContentStrongAlertRef",(function(){return $c(e)}))})),$c=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.struct({type:e.literal("strongAlertRef"),id:hd(e),alertIds:e.readonly(e.array(e.string)),onEmpty:rc(e),child:Ic(e)}))})),Kc=Js((function(e){return e.lazy("ContentColumn",(function(){return Yc(e)}))})),Yc=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.intersect(e.partial({behaviors:pc(e)}))(e.struct({type:e.literal("column"),id:hd(e),children:e.readonly(e.array(Ic(e)))})))})),Jc=Js((function(e){return e.lazy("ContentRow",(function(){return Xc(e)}))})),Xc=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.intersect(e.partial({spacing:Cd(e)}))(e.intersect(e.partial({behaviors:pc(e)}))(e.struct({type:e.literal("row"),id:hd(e),left:e.readonly(e.array(Ic(e))),right:e.readonly(e.array(Ic(e))),verticalAlign:Nd(e)}))))})),Qc=Js((function(e){return e.struct({vertical:Ad(e),horizontal:Ad(e)})})),Zc=Js((function(e){return e.lazy("ContentBlock",(function(){return el(e)}))})),el=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.intersect(e.partial({fraction:e.number}))(e.intersect(e.partial({spacing:Cd(e)}))(e.intersect(e.partial({innerSpacing:Qc(e)}))(e.intersect(e.partial({horizontalAlign:ld(e)}))(e.intersect(e.partial({verticalAlign:Nd(e)}))(e.intersect(e.partial({maxLines:e.number}))(e.struct({type:e.literal("block"),id:hd(e),parts:e.readonly(e.array(Ic(e)))}))))))))})),tl=Js((function(e){return e.lazy("ContentBox",(function(){return nl(e)}))})),nl=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.intersect(e.partial({padding:Cd(e)}))(e.intersect(e.partial({borderRadius:hc(e)}))(e.intersect(e.partial({backgroundColor:yc(e)}))(e.intersect(e.partial({minWidth:kd(e)}))(e.intersect(e.partial({behaviors:pc(e)}))(e.struct({type:e.literal("box"),id:hd(e),child:Ic(e)})))))))})),rl=Js((function(e){return e.lazy("ContentScroll",(function(){return ol(e)}))})),ol=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.struct({type:e.literal("scroll"),id:hd(e),child:Ic(e),maxHeight:kd(e)}))})),il=Js((function(e){var t;return e.sum("type")(((t={}).text=al(e),t.icon=sl(e),t))})),al=Js((function(e){return e.struct({type:e.literal("text"),text:e.string})})),sl=Js((function(e){return e.struct({type:e.literal("icon"),icon:dd(e)})})),ul=Js((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.struct({id:hd(e),meta:bc(e),label:il(e),onClickActions:rc(e)}))})),cl=Js((function(e){return e.lazy("ContentListItem",(function(){return ll(e)}))})),ll=Js((function(e){return e.intersect(e.partial({behaviors:pc(e)}))(e.intersect(e.partial({tooltip:e.string}))(e.struct({id:hd(e),meta:bc(e),label:Ic(e),actions:rc(e),secondaryButtons:e.readonly(e.array(ul(e)))})))})),dl=Js((function(e){return e.lazy("ContentList",(function(){return pl(e)}))})),pl=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.struct({type:e.literal("list"),id:hd(e),meta:bc(e),items:e.readonly(e.array(cl(e)))}))})),hl=Js((function(e){return e.intersect(e.partial({name:_c(e)}))(e.struct({type:e.literal("dropDownMenuButton"),id:hd(e),meta:bc(e),icon:dd(e),onClickActions:rc(e),menu:yd(e)}))})),fl=Js((function(e){var t;return e.sum("kind")(((t={}).known=gl(e),t.url=ml(e),t))})),gl=Js((function(e){return e.struct({kind:e.literal("known"),name:pd(e)})})),ml=Js((function(e){return e.intersect(e.partial({size:Ad(e)}))(e.struct({kind:e.literal("url"),name:e.string,url:e.string}))})),yl=Js((function(e){return e.intersect(e.partial({backgroundColor:yc(e)}))(e.struct({type:e.literal("icon"),id:hd(e),meta:bc(e),source:fl(e)}))})),vl=Js((function(e){return e.intersect(e.partial({backgroundColor:yc(e)}))(e.intersect(e.partial({borderRadius:kd(e)}))(e.struct({type:e.literal("image"),id:hd(e),meta:bc(e),name:_c(e),url:e.string,width:kd(e),height:kd(e)})))})),bl=Js((function(e){return e.lazy("ContentButton",(function(){return _l(e)}))})),_l=Js((function(e){return e.intersect(e.partial({tooltip:e.string}))(e.intersect(e.partial({horizontalAlign:ld(e)}))(e.intersect(e.partial({behaviors:pc(e)}))(e.struct({type:e.literal("button"),id:hd(e),meta:bc(e),name:_c(e),kind:fc(e),state:mc(e),label:Ic(e),actions:rc(e),shape:gc(e)}))))})),wl=Js((function(e){return e.struct({type:e.literal("clickableText"),id:hd(e),meta:bc(e),name:_c(e),onClickActions:rc(e),text:e.string,size:Pd(e),textColor:yc(e),format:e.readonly(e.array(Od(e)))})})),Sl=Js((function(e){return e.struct({type:e.literal("count"),id:hd(e),meta:bc(e),value:e.string,backgroundColor:yc(e)})})),Il=Js((function(e){return e.intersect(e.partial({backgroundColor:yc(e)}))(e.intersect(e.partial({outlineColor:yc(e)}))(e.struct({type:e.literal("alertsCount"),id:hd(e),meta:bc(e),size:Pd(e),textColor:yc(e),format:e.readonly(e.array(Od(e)))})))})),xl=Js((function(e){return e.lazy("ContentAlternativeChoiceAlterna",(function(){return El(e)}))})),El=Js((function(e){return e.struct({label:Ic(e),preview:Ic(e)})})),kl=Js((function(e){return e.lazy("ContentAlternativeChoice",(function(){return Tl(e)}))})),Tl=Js((function(e){return e.struct({type:e.literal("alternativeChoice"),id:hd(e),meta:bc(e),alternatives:e.readonly(e.array(xl(e)))})})),Al=Js((function(e){var t;return e.sum("type")(((t={}).icon=Ol(e),t))})),Cl=Js((function(e){var t;return e.sum("kind")(((t={}).known=gl(e),t.url=ml(e),t))})),Ol=Js((function(e){return e.intersect(e.partial({backgroundColor:yc(e)}))(e.struct({type:e.literal("icon"),id:hd(e),source:Cl(e)}))})),Pl=Js((function(e){return e.struct({id:hd(e),icon:Al(e),label:e.string,actions:rc(e)})})),Rl=Js((function(e){return e.struct({type:e.literal("slider"),id:hd(e),meta:bc(e),segmentSize:kd(e),fillColor:yc(e),choices:e.readonly(e.array(Pl(e)))})})),Nl=Js((function(e){var t;return e.sum("type")(((t={}).icon=Ol(e),t))})),Dl=Js((function(e){return e.lazy("ContentAlternativeSliderChoice",(function(){return Ml(e)}))})),Ml=Js((function(e){return e.struct({id:hd(e),icon:Nl(e),label:e.string,actions:rc(e),preview:Ic(e)})})),jl=Js((function(e){return e.lazy("ContentAlternativeSlider",(function(){return Ll(e)}))})),Ll=Js((function(e){return e.struct({type:e.literal("alternativeSlider"),id:hd(e),meta:bc(e),segmentSize:kd(e),fillColor:yc(e),choices:e.readonly(e.array(Dl(e)))})})),Ul=Js((function(e){return e.struct({type:e.literal("nativeSkillsModal"),id:hd(e)})})),Fl=Js((function(e){return e.struct({type:e.literal("nativeSkillsList"),id:hd(e),onSelect:rc(e)})})),Bl=Js((function(e){return e.struct({type:e.literal("nativeSkillsView"),id:hd(e)})})),Gl=Js((function(e){return e.struct({type:e.literal("nativeToneInsightsModal"),id:hd(e)})})),zl=Js((function(e){return e.struct({type:e.literal("nativeLearnMoreModal"),id:hd(e)})})),Wl=Js((function(e){return e.struct({type:e.literal("nativeSettingsModal"),id:hd(e)})})),ql=Js((function(e){return e.struct({type:e.literal("nativeFeedbackModal"),id:hd(e)})})),Vl=Js((function(e){return e.struct({type:e.literal("nativeGetStartedChecklistModal"),id:hd(e),onComplete:rc(e)})})),Hl=Js((function(e){return e.struct({type:e.literal("nativeProofitModal"),id:hd(e)})})),$l=Js((function(e){return e.struct({type:e.literal("nativeKeyTakeawaysAssistantCard"),id:hd(e)})})),Kl=Js((function(e){return e.struct({type:e.literal("nativeInlineCardContent"),id:hd(e),onDetailsClick:rc(e)})})),Yl=Js((function(e){return e.struct({type:e.literal("nativePerformanceScoreButton"),id:hd(e)})})),Jl=Js((function(e){return e.lazy("ContentViewStack",(function(){return Xl(e)}))})),Xl=Js((function(e){return e.struct({type:e.literal("viewStack"),id:hd(e),views:e.readonly(e.record(Ic(e))),selected:Td(e)})})),Ql=Js((function(e){return e.struct({type:e.literal("nativeExperimentalGBConsistencyUpsellFooter"),id:hd(e)})})),Zl=Js((function(e){return e.struct({id:hd(e),meta:bc(e),label:e.string,onSelect:rc(e)})})),ed=Js((function(e){return e.struct({type:e.literal("radioButtonsGroup"),id:hd(e),meta:bc(e),options:e.readonly(e.array(Zl(e)))})})),td=Js((function(e){return e.struct({type:e.literal("nativeExperimentalGBToneInsightsUpsellFooter"),id:hd(e)})})),nd=Js((function(e){return e.lazy("ContentCollapsedCard",(function(){return rd(e)}))})),rd=Js((function(e){return e.intersect(e.partial({quickActions:Ic(e)}))(e.struct({type:e.literal("collapsedCard"),id:hd(e),meta:bc(e),child:Ic(e)}))})),od=Js((function(e){return e.lazy("ContentLongFormCard",(function(){return id(e)}))})),id=Js((function(e){return e.struct({type:e.literal("longFormCard"),id:hd(e),collapsedContent:Ic(e),fullContent:Ic(e),behaviors:pc(e),feedProperties:cd(e)})})),ad=Dd(uu),sd=Js((function(e){return e.intersect(e.partial({pinPointValue:vd(e)}))(e.intersect(e.partial({borderColor:yc(e)}))(e.struct({type:e.literal("progressBar"),id:hd(e),meta:bc(e),backgroundColor:yc(e),fillColor:yc(e),value:vd(e),state:ad(e)})))})),ud=Js((function(e){return e.struct({type:e.literal("horizontalRule"),id:hd(e),meta:bc(e)})})),cd=Js((function(e){return e.readonly(e.record(e.nullable(e.number)))})),ld=Dd(cu),dd=Js((function(e){var t;return e.sum("type")(((t={}).icon=yl(e),t))})),pd=Dd(lu),hd=Js((function(e){return e.string})),fd=Dd(du),gd=Js((function(e){return e.intersect(e.partial({icon:dd(e)}))(e.struct({id:hd(e),meta:bc(e),text:e.string,onClickActions:rc(e)}))})),md=Js((function(e){return e.intersect(e.partial({title:e.string}))(e.struct({items:e.readonly(e.array(gd(e)))}))})),yd=Js((function(e){return e.struct({meta:bc(e),label:e.string,sections:e.readonly(e.array(md(e)))})})),vd=Js((function(e){return e.number})),bd=Js((function(e){var t;return e.sum("kind")(((t={}).component=_d(e),t.gButton=wd(e),t))})),_d=Js((function(e){return e.struct({kind:e.literal("component"),id:hd(e)})})),wd=Js((function(e){return e.struct({kind:e.literal("gButton")})})),Sd=Js((function(e){return e.lazy("PopoverView",(function(){return Id(e)}))})),Id=Js((function(e){return e.intersect(e.partial({onShow:rc(e)}))(e.intersect(e.partial({onDismiss:rc(e)}))(e.intersect(e.partial({onFulfill:rc(e)}))(e.struct({id:hd(e),rootPopoverId:hd(e),anchor:bd(e),child:Ic(e)}))))})),xd=Dd(pu),Ed=Dd(hu),kd=Js((function(e){return e.number})),Td=Js((function(e){return e.string})),Ad=Dd(fu),Cd=Js((function(e){return e.struct({top:Ad(e),right:Ad(e),bottom:Ad(e),left:Ad(e)})})),Od=Dd(gu),Pd=Dd(mu),Rd=Dd(yu),Nd=Dd(vu);function Dd(e){var t=Object.keys(e).map((function(t){return e[t]})),n=t[0],r=t.slice(1);return Js((function(e){return e.literal.apply(e,(0,Xr.__spreadArray)([n],r,!1))}))}var Md,jd,Ld,Ud,Fd,Bd,Gd,zd,Wd,qd,Vd,Hd,$d,Kd,Yd,Jd,Xd,Qd,Zd,ep,tp,np,rp,op,ip,ap,sp,up,cp,lp,dp,pp,hp=["proofitButton","newRevision","gButton:default","gButton:tone","gButton:proofit","gButton:get-started","nativePerformanceScoreButton"],fp=__webpack_require__(18208);function gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mp(e){if(Array.isArray(e))return e}function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vp(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function bp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yp(e,t,n[t])}))}return e}function wp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Sp(e,t){return mp(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||xp(e,t)||bp()}function Ip(e){return function(e){if(Array.isArray(e))return gp(e)}(e)||vp(e)||xp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(e,t){if(e){if("string"==typeof e)return gp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gp(e,t):void 0}}function Ep(e){return hp.includes(e.type)}(jd=Md||(Md={})).isStrongAlertRefComponent=function(e){return"child"in e},jd.isStrongAlertRefBehavior=function(e){return!("child"in e)},(Ud=Ld||(Ld={})).isStrongAlertRef=function(e){return"strongAlertRef"===e.type},Ud.create=function(e,t,n){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:n,id:up.from("strongAlertRef")}},(zd=Fd||(Fd={})).isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},(Gd=zd.StrongAlertRef||(zd.StrongAlertRef={})).create=function(e,t){return{id:up.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}},Gd.eq=Xs(Ys)(sc),zd.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},(Bd=zd.PopoverAnchor||(zd.PopoverAnchor={})).create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}},Bd.nonEmpty=function(e){return!!e.view},(qd=Wd||(Wd={})).create=function(e,t,n,r,o){return{type:"row",left:e,right:t,spacing:n,verticalAlign:r,id:up.from("row"),behaviors:o?[Fd.PopoverAnchor.create(o,pu.Top)]:void 0}},qd.isRow=function(e){return"row"===e.type},(Vd||(Vd={})).create=function(e){return{type:"column",children:e,id:up.from("column")}},function(e){var t=e.Type="block";e.create=function(e,n,r){for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return{type:t,name:cp.unknown(e),parts:i,spacing:n,innerSpacing:r,id:up.from(e)}},e.isBlock=function(e){return e.type===t},e.hasOnlyTextParts=function(e){return e.parts.every($d.isText)}}(Hd||(Hd={})),function(e){var t=e.Type="text";e.create=function(e,n,r,o,i,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return{type:t,text:e,size:n,format:r,textColor:o,backgroundColor:i,outlineColor:a,id:up.from(t),meta:s}},e.isText=function(e){return e.type===t}}($d||($d={})),(Kd||(Kd={})).create=function(e,t){return{label:e,preview:t}},(Yd||(Yd={})).create=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:"alternativeChoice",alternatives:n,id:up.from("alternativeChoice"),meta:e}},(Jd||(Jd={})).create=function(e,t){return{type:"viewStack",id:up.from("ViewStack"),views:t,selected:e}},function(e){var t=e.Type="button";!function(e){e.isTransitionAction=function(e){return"transition"===e.type},e.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},e.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}}}(e.Action||(e.Action={})),e.isButton=function(e){return"button"===e.type},e.create=function(e,n,r,o,i,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nu.Square,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=up.from(e);return{type:t,id:c,name:cp.unknown(e),tooltip:i,kind:o,state:ru.Enabled,label:{type:Hd.Type,name:cp.unknown(""),parts:[$d.create(n,mu.Regular,[],ou.CoreNeutral0,void 0,void 0)],spacing:a,id:up.from("label-button-"+c)},actions:r,shape:s,meta:u}},e.createIcon=function(e,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nu.Square,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=up.from(e),c="icon-button-"+e;return{type:t,id:u,name:cp.unknown(e),tooltip:i,kind:o,state:ru.Enabled,label:{type:Hd.Type,name:cp.unknown(c),spacing:Zd.create("0","0.25","0","0.25"),parts:[Qd.create(n,void 0)],id:up.from(c)},actions:r,shape:a,meta:s}}}(Xd||(Xd={})),function(e){var t,n=e.Type="icon";(t=e.Source||(e.Source={})).createKnown=function(e){return{kind:"known",name:e}},t.createUrl=function(e,t,n){return{kind:"url",name:t,url:e,size:n}},e.create=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:n,source:e,backgroundColor:t,id:up.from(n),meta:r}}}(Qd||(Qd={})),(Zd||(Zd={})).create=function(e,t,n,r){return{top:e,bottom:n,left:r,right:t}},(ep||(ep={})).create=function(e,t){return{vertical:t,horizontal:e}},function(e){var t=e.Type="count";e.create=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"count",backgroundColor:n,value:e,id:up.from(t),meta:r}}}(tp||(tp={})),((rp=np||(np={})).Choice||(rp.Choice={})).create=function(e,t,n){return{type:"sliderChoice",id:up.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n}},rp.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"slider",segmentSize:e,fillColor:t,choices:n,id:up.from("slider"),meta:r}},((ip=op||(op={})).Choice||(ip.Choice={})).create=function(e,t,n,r){return{id:up.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:n,preview:r}},ip.create=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:n,id:up.from("alternativeSlider"),meta:r}},(sp=ap||(ap={})).create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"list",items:e,id:up.from("list"),meta:t}},(sp.Item||(sp.Item={})).create=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{id:up.from("listItem"),label:e,behaviors:n,actions:t,secondaryButtons:r,meta:o}},(up||(up={})).from=function(e){return e+"#"+fp.alphanumeric(6)},(cp||(cp={})).unknown=function(e){return{kind:"unknown",value:e}},(dp=lp||(lp={})).create=function(e,t,n){return{type:"popoverStack",id:e,views:n,selected:t}},dp.createView=function(e,t,n,r){return{id:e,rootPopoverId:t,child:n,anchor:{kind:"component",id:r||fp.alphanumeric(3)}}},function(e){var t,n=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Ip(o).concat([e.id]);switch(r){case t.PreOrder:return(0,Ie.zG)(n(e,i),(function(t){return _(e,n,r,i)}));case t.PostOrder:return(0,Ie.zG)(_(e,n,r,i),(function(t){return n(e,i)}));default:(0,bu.vE)(r)}},r=function(e,t,n,r){var o=r;return pp.forEach(e,(function(e,n){return o=t(o,e,n)}),n),o},o=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return(0,Ie.zG)(n(e),(function(e){return f(e,n,r)}));case t.PostOrder:return(0,Ie.zG)(f(e,n,r),_u.map(n));default:(0,bu.vE)(r)}},a=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return(0,Ie.zG)(e,_u.fromPredicate(n),_u.chain((function(e){return(0,Ie.zG)(g(e,n,r),_u.map((function(t){return _p({},e,t)})))})));case t.PostOrder:return(0,Ie.zG)(g(e,n,r),_u.chain((function(t){return _u.fromPredicate(n)(_p({},e,t))})));default:(0,bu.vE)(r)}},s=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;switch(r){case t.PreOrder:return(0,Ie.zG)(n(e),_u.chain((function(e){return(0,Ie.zG)(m(e,n,r),_u.map((function(t){return _p({},e,t)})))})));case t.PostOrder:return(0,Ie.zG)(m(e,n,r),_u.chain((function(t){return n(_p({},e,t))})));default:(0,bu.vE)(r)}},u=function(e){return a(e,(0,wu.ff)(h),t.PostOrder)};!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=n,e.reduce=r,e.findFirst=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pp.TreeTraversal.PreOrder;return(0,Ie.zG)(pp.reduce(e,(function(e,n){return _u.isNone(e)&&n.type===t?_u.some(n):e}),n,_u.none))},e.findFirstWithPredicate=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pp.TreeTraversal.PreOrder;return(0,Ie.zG)(pp.reduce(e,(function(e,n){return _u.isNone(e)&&t(n)?_u.some(n):e}),n,_u.none))};var c=e.over=function(e,n,r){var o,a=mp(o=n)||vp(o)||xp(o,i)||bp(),s=a[0],u=a.slice(1);return Ls.xb(u)&&s===e.id?r(e):v(e,Ie.Q1,t.PreOrder,(function(t){return e.id===s&&t.id===u[0]?c(t,u,r):_u.some(t)}))};e.map=o,e.filter=a,e.filterMap=s,e.compact=u;e.getAlertIds=function(e){switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":return _u.none;case"longFormCard":return(0,Ie.zG)(e.behaviors,aa.hX(Fd.isStrongAlertRef),aa.UI((function(e){return e.alertIds})),aa.xH,Iu.nI);case"strongAlertRef":return _u.some(e.alertIds);case"inlineCard":return(0,Ie.zG)((0,Ie.zG)(e.behaviors,_u.fromNullable,_u.map((0,Ie.ls)(aa.hX(Fd.isStrongAlertRef),aa.UI((function(e){return e.alertIds})),aa.xH))));case"list":return(0,Ie.zG)(e.items,aa.UI((function(e){return(0,Ie.zG)(e.behaviors,_u.fromNullable,_u.map((0,Ie.ls)(aa.hX(Fd.isStrongAlertRef),aa.UI((function(e){return e.alertIds})),aa.xH)))})),_u.sequenceArray,_u.map(aa.xH));default:if(Ep(e))return _u.none;(0,bu.vE)(e)}},e.getAllAlertIds=function(e){return r(e,(function(e,t){return(0,Ie.zG)(pp.getAlertIds(t),_u.map((function(t){return e.concat(t)})),_u.getOrElse((function(){return e})))}),t.PreOrder,[])},e.getSDUIId=function(e){return _u.fromNullable(e.id)},e.setPopoverView=function(e,t){return o(e,(function(e){switch(e.type){case"box":case"row":case"button":return(0,Ie.zG)(_u.fromNullable(e.behaviors),_u.chain(aa.Ew(Fd.isPopoverAnchor)),_u.fold((0,Ie.a9)(e),(function(n){var r=n.view,o=wp(n,["view"]);return(0,Ie.zG)(_u.fromNullable(r),_u.fold((function(){return(0,Ie.zG)(t,_u.filter((function(e){return"component"===e.anchor.kind&&e.anchor.id===o.id})),_u.fold((0,Ie.a9)(e),(function(t){return _p({},e,{behaviors:[_p({},o,{view:t})]})})))}),(function(n){return(0,Ie.zG)(t,_u.filter((function(e){return Su.isEqual(e.anchor,n.anchor)})),_u.fold((function(){return _p({},e,{behaviors:[o]})}),(function(t){return t.rootPopoverId===n.rootPopoverId&&t.id===n.id?e:_p({},e,{behaviors:[_p({},o,{view:t})]})})))})))})));default:return e}}))},e.removeStrongAlertRef=function(e){return function(t){var n=(0,Ie.zG)(t,aa.UI((function(e){return e.alertIds})),aa.xH,(function(e){return new Set(e)})),r=(0,Ie.zG)(t,Ls.hX(Md.isStrongAlertRefComponent)),o=(0,Ie.zG)(t,Ls.hX(Md.isStrongAlertRefBehavior));return(0,Ie.zG)(s(e,d(n,r,o)),_u.chain(u))}};var l=function(e,t){var n;return _p({},e,{behaviors:null===(n=e.behaviors)||void 0===n?void 0:n.map((function(e){return"behavior:strongAlertRef"===e.type?_p({},e,{alertIds:e.alertIds.filter((function(e){return!t.has(e)}))}):e}))})},d=function(e,t,n){return function(r){switch(r.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":return _u.some(r);case"longFormCard":return _u.some(_p({},r,{behaviors:r.behaviors.map((function(t){return Fd.isStrongAlertRef(t)?_p({},t,{alertIds:t.alertIds.filter((function(t){return!e.has(t)}))}):t}))}));case"strongAlertRef":return t.some((function(e){return p.equals(r,e)}))?_u.none:_u.some(_p({},r,{alertIds:r.alertIds.filter((function(t){return!e.has(t)}))}));case"inlineCard":return r.behaviors&&r.behaviors.some((function(e){return Fd.isStrongAlertRef(e)&&n.some((function(t){return Fd.StrongAlertRef.eq.equals(e,t)}))}))?_u.none:_u.some(l(r,e));case"list":var o=r.items.filter((function(e){return!e.behaviors||!e.behaviors.some((function(e){return Fd.isStrongAlertRef(e)&&n.some((function(t){return Fd.StrongAlertRef.eq.equals(e,t)}))}))}));return 0===o.length?_u.none:_u.some(_p({},r,{items:o.map((function(t){return l(t,e)}))}));default:if(Ep(r))return _u.some(r);(0,bu.vE)(r)}}},p=(e.switchViewStack=function(e,t,n){return(0,Ie.zG)(c(e,t,(function(e){return"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[n]?_u.some(e):_u.some(_p({},e,{selected:n}))})),_u.fold((function(){return e}),Ie.yR))},e.toContentMap=function(e){return pp.reduce(e,(function(e,t,n){return e[t.id]={content:t,path:n},e}),t.PreOrder,{})},e.eq=Xs(Ys)(Ic)),h=e.isEmpty=function(e){if(null==e)return!0;switch(e.type){case"column":return aa.xb(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":return null==e.child;case"row":return aa.xb(e.left)&&aa.xb(e.right);case"block":return aa.xb(e.parts);case"list":return aa.xb(e.items);case"button":return null==e.label;case"alternativeChoice":return aa.xb(e.alternatives);case"alternativeSlider":return aa.xb(e.choices);case"assistantFeed":return null==e.header;case"viewStack":return Su.isEmptyObject(e.views);case"longFormCard":return null==e.fullContent;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(Ep(e))return!1;(0,bu.vE)(e)}};e.isSwitchViewAction=function(e){return"switchView"===e.type};e.bulkSwitchView=function(e,t,n){var r=null!=n?n:pp.toContentMap(e);return t.reduce((function(e,t){var n=t.selected,o=t.where;return(0,Ie.zG)(r[o],_u.fromNullable,_u.map(Su.pick("path")),_u.fold((function(){return e}),(function(t){return pp.switchViewStack(e,t,n)})))}),e)},e.getCardPropsForFeed=function(e){var t=e.filtering.filter((function(e){return e.condition===su.EqualTo}));return t.reduce((function(e,t){return _p({},e,yp({},t.property,t.value))}),{})};var f=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return v(e,n,r,o)},g=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return v(e,n,r,a)},m=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder;return v(e,n,r,s)},y=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;return(0,Ie.zG)(e,aa.u4(new Array,(function(e,t){return(0,Ie.zG)(o(t,n,r),_u.fold(Ie.Q1,(function(t){return e.push(t)}))),e})))},v=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,o=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return(0,Ie.zG)(y(e.children,n,r,o),(function(t){return _p({},e,{children:t})}),_u.some);case"assistantCard":var i=(0,Ie.zG)(_u.fromNullable(e.footer),_u.chain((function(e){return o(e,n,r)})),_u.getOrElse((function(){})));return(0,Ie.zG)(o(e.child,n,r),_u.map((function(t){return _p({},e,{child:t,footer:i})})));case"strongAlertRef":case"scroll":case"inlineCard":case"box":return(0,Ie.zG)(o(e.child,n,r),_u.map((function(t){return _p({},e,{child:t})})));case"row":var a=y(e.right,n,r,o),s=y(e.left,n,r,o);return _u.some(_p({},e,{left:s,right:a}));case"block":return(0,Ie.zG)(y(e.parts,n,r,o),(function(t){return _p({},e,{parts:t})}),_u.some);case"list":return(0,Ie.zG)(e.items,aa.UI((function(e){return(0,Ie.zG)(o(e.label,n,r),_u.map((function(t){return _p({},e,{label:t})})))})),aa.hX(_u.isSome),aa.UI(xu.unsafeGet),(function(t){return _p({},e,{items:t})}),_u.some);case"button":return(0,Ie.zG)(o(e.label,n,r),_u.map((function(t){return _p({},e,{label:t})})));case"alternativeChoice":return(0,Ie.zG)(e.alternatives,aa.UI((function(e){return(0,Ie.zG)([o(e.label,n,r),o(e.preview,n,r)],_u.sequenceArray,_u.map((function(e){return e})),_u.map((function(t){var n=Sp(t,2),r=n[0],o=n[1];return _p({},e,{label:r,preview:o})})))})),aa.hX(_u.isSome),aa.UI(xu.unsafeGet),(function(t){return _p({},e,{alternatives:t})}),_u.some);case"alternativeSlider":return(0,Ie.zG)(e.choices,aa.UI((function(e){return(0,Ie.zG)(o(e.preview,n,r),_u.map((function(t){return _p({},e,{preview:t})})))})),aa.hX(_u.isSome),aa.UI(xu.unsafeGet),(function(t){return _p({},e,{choices:t})}),_u.some);case"assistantFeed":return(0,Ie.zG)(o(e.header,n,r),_u.map((function(t){return _p({},e,{header:t})})));case"popoverStack":return(0,Ie.zG)(Object.keys(e.views),aa.u4({},(function(t,i){return(0,Ie.zG)(o(e.views[i].child,n,r),_u.fold((function(){return delete t[i],t}),(function(n){return t[i]=_p({},e.views[i],{child:n}),t})))})),(function(t){return _p({},e,{views:t})}),_u.some);case"viewStack":return(0,Ie.zG)(Object.keys(e.views),aa.u4({},(function(t,i){return(0,Ie.zG)(o(e.views[i],n,r),_u.fold((function(){return delete t[i],t}),(function(e){return t[i]=e,t})))})),(function(t){return _p({},e,{views:t})}),_u.some);case"collapsedCard":var u=(0,Ie.zG)(_u.fromNullable(e.quickActions),_u.chain((function(e){return o(e,n,r)})),_u.getOrElse((function(){})));return(0,Ie.zG)(o(e.child,n,r),_u.map((function(t){return _p({},e,{child:t,quickActions:u})})));case"longFormCard":return(0,Ie.zG)(o(e.fullContent,n,r),_u.chain((function(t){return(0,Ie.zG)(o(e.collapsedContent,n,r),_u.map((function(n){return _p({},e,{fullContent:t,collapsedContent:n})})))})));case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"radioButtonsGroup":return _u.some(e);default:if(Ep(e))return _u.some(e);(0,bu.vE)(e)}},b=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;return e.forEach((function(e){return n(e,r,o,i)}))},_=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.PreOrder,i=arguments.length>3?arguments[3]:void 0;switch(e.type){case"column":return b(e.children,r,o,i);case"assistantCard":return null!=e.footer&&n(e.footer,r,o,i),n(e.child,r,o,i);case"popoverStack":return b(Object.values(e.views).map((function(e){return e.child})),r,o,i);case"strongAlertRef":case"box":case"scroll":case"inlineCard":return n(e.child,r,o,i);case"row":return b(e.left,r,o,i),b(e.right,r,o,i);case"block":return b(e.parts,r,o,i);case"list":return b(e.items.map((function(e){return e.label})),r,o,i);case"button":return n(e.label,r,o,i);case"alternativeChoice":return e.alternatives.forEach((function(e){var t=e.label,n=e.preview;return b([t,n],r,o,i)}));case"alternativeSlider":return e.choices.forEach((function(e){var t=e.preview;return n(t,r,o,i)}));case"assistantFeed":return n(e.header,r,o,i);case"viewStack":return b(Object.values(e.views),r,o,i);case"collapsedCard":return null!=e.quickActions&&n(e.quickActions,r,o,i),n(e.child,r,o,i);case"longFormCard":return n(e.collapsedContent,r,o,i),n(e.fullContent,r,o,i);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"radioButtonsGroup":return;default:if(Ep(e))return;(0,bu.vE)(e)}},w=(e.Functor={map:function(e,n){return o(e,n,t.PreOrder)}},Xs(Cs)(Ic));e.dslRootParser=(0,Ie.ls)(w.decode,ia.mapLeft((function(e){return new Error(js(e))})))}(pp||(pp={}));const kp={supportedComponents:{text:!0,button:!0,alternativeChoice:!0,count:!0,icon:!0,block:!0,row:!0,column:!0,slider:!0,alternativeSlider:!0,transition:!0,openSettings:!0,openToneDetector:!0,openFeedback:!0,openLearnMore:!0,notify:!0,closeCard:!0,nextCard:!0,prevCard:!0,removeRoot:!0,applyAlerts:!0,selectAlternative:!0,upgradeToPremium:!0,showHighlights:!0,hideHighlights:!0,strongAlertRef:!0,removeAlerts:!0,openLink:!0,copyToClipboard:!0,scroll:!0,list:!0,image:!0,assistantFeed:!0,assistantCard:!0,gButton:!0,pushAssistantFeed:!0,popAssistantFeed:!0,focusAssistantCard:!0,alertsCount:!0,nativeToneInsightsModal:!0,nativeLearnMoreModal:!0,nativeSettingsModal:!0,nativeFeedbackModal:!0,viewStack:!0,switchView:!0,dropDownMenuButton:!0,proofitButton:!0,nativeProofitModal:!0,nativeKeyTakeawaysAssistantCard:!1,newRevision:!1,nativeExperimentalGBConsistencyUpsellFooter:!0,nativeExperimentalGBToneInsightsUpsellFooter:!0,box:!0,openCreateSnippetModal:!0,clickableText:!0,lensesSwitchPanel:!1,radioButtonsGroup:!1,nativeSkillsModal:!1,nativeGetStartedChecklistModal:!0,"behavior:strongAlertRef":!0,inlineCard:!0,closePopover:!0,interactPopover:!0,popoverStack:!0,"behavior:popoverAnchor":!0,nativeSkillsList:!1,nativeSkillsView:!1,nativeInlineCardContent:!0,collapsedCard:!1,nativeOpenAssistant:!1,highlightAlert:!0,progressBar:!1,"behavior:animation:fadeIn":!1,"behavior:animation:fadeOut":!1,"gButton:default":!1,"gButton:tone":!1,"gButton:proofit":!1,"gButton:get-started":!1,nativePerformanceScoreButton:!1,longFormCard:!1,horizontalRule:!1,stopApplyingAlerts:!1},dslParser:pp.dslRootParser,dslSchemaVersion:"4.22.1"};var Tp=__webpack_require__(87459),Ap=__webpack_require__(36991);function Cp(e,t){return e.reduce(((e,t)=>(Ap.s.isInsertString(t)?(e.text=`${e.text.substring(0,e.index)}${t.insert}${e.text.substring(e.index)}`,e.index+=t.insert.length):Ap.s.isDelete(t)?e.text=`${e.text.substring(0,e.index)}${e.text.substring(e.index+t.delete)}`:Ap.s.isRetain(t)?e.index+=t.retain:function(e){var t;return Ap.s.isInsertEmbed(e)&&!0===(null===(t=e.insert)||void 0===t?void 0:t.linebreak)}(t)&&(e.text=`${e.text.substring(0,e.index)}\n${e.text.substring(e.index)}`,e.index+=1),e)),{text:t,index:0}).text}var Op=__webpack_require__(63513),Pp=__webpack_require__(81531),Rp=__webpack_require__(35214),Np=__webpack_require__(32426),Dp=__webpack_require__(45701),Mp=Rp.getFunctionMonoid(_u.getApplyMonoid({concat:(0,Np.getJoinSemigroup)(Dp.ordNumber).concat,empty:0}))();function jp(e){return function(t){return t.iterNumber>=e?_u.none:_u.some(0)}}function Lp(e){return function(t){return _u.some(e*Math.pow(2,t.iterNumber))}}var Up={iterNumber:0,cumulativeDelay:0,previousDelay:_u.none};var Fp,Bp=Mp,Gp=__webpack_require__(76024),zp=__webpack_require__(46680),Wp=function(){function e(e){void 0===e&&(e=5*Gp.MS_IN_MIN),this._windowTime=e,this._count=0}return e.prototype.inc=function(){this._count++,this._startCounter()},Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),e.prototype._startCounter=function(){var e=this;this._timer=this._timer||setTimeout((function(){e._timer=void 0,e._count-- >0&&e._startCounter()}),this._windowTime)},e}();!function(e){var t,n;!function(e){e[e.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",e[e.GOING_AWAY=1001]="GOING_AWAY",e[e.CLOSED_ABNORMALLY=1006]="CLOSED_ABNORMALLY",e[e.NOT_CONSISTENT=1007]="NOT_CONSISTENT",e[e.VIOLATED_POLICY=1008]="VIOLATED_POLICY",e[e.TOO_BIG=1009]="TOO_BIG",e[e.UNEXPECTED_CONDITION=1011]="UNEXPECTED_CONDITION",e[e.SERVICE_RESTART=1012]="SERVICE_RESTART",e[e.CLIENT_MALFUNCTION=3e3]="CLIENT_MALFUNCTION",e[e.BLOCKED_BY_CLIENT=4e3]="BLOCKED_BY_CLIENT",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.SERVER_SHUTDOWN=4002]="SERVER_SHUTDOWN",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.PRECONDITION_FAILED=4012]="PRECONDITION_FAILED",e[e.TOO_MANY_REQUESTS=4029]="TOO_MANY_REQUESTS",e[e.UNKNOWN_WS_ERROR=-1]="UNKNOWN_WS_ERROR"}(t=e.WsCodes||(e.WsCodes={})),function(e){e.capi="capi",e.dox="dox"}(n=e.ClientType||(e.ClientType={}));var r=Gp.MS_IN_MIN;e.getIdleReconnect=function(e){var t=Pp.C8.Logging.getLogger("coreclients.".concat(n[e],".reconnect"),zp.i.TRACE);return function(n,r){var o={client:e,code:n.code,reason:n.reason,reconnectCounter:r.retryStatus.iterNumber};return t.info("skipping reconnect ",o),ia.right({kind:"idle"})}},e.getDefaultReconnect=function(e,r){var o=this;void 0===r&&(r=5);var i=Pp.C8.Logging.getLogger("coreclients.".concat(n[e],".reconnect"),zp.i.TRACE),a=new Wp;return function(n,s,u){return function(e){return"RUNTIME_ERROR"===e.error.status}(n)&&(i.debug("disconnected because of runtime error"),a.inc()),(0,ua.pipe)(function(e,n,r,o,i,a){if(void 0===a&&(a="backOffReconnect"),n.iterNumber>10)return ia.left(new Error("Maximum number (".concat(10,") of reconnect attempts reached")));switch(e.code){case t.NORMAL_CLOSURE:case t.GOING_AWAY:return(0,ua.pipe)(i.canGoIdle?"idle":"backOffReconnect",ia.right);case t.TOO_BIG:return ia.left(new Error("WS closed because message was too big"));case t.UNEXPECTED_CONDITION:return(0,ua.pipe)(r>o?"idle":"backOffReconnect",ia.right);case t.CLOSED_ABNORMALLY:case t.VIOLATED_POLICY:case t.SERVICE_RESTART:case t.SERVER_SHUTDOWN:case t.TOO_MANY_REQUESTS:return ia.right("backOffReconnect");case t.NOT_FOUND:return ia.left(new Error("WS closed due to not found error"));case t.UNAUTHORIZED:return ia.left(new Error("WS closed due to unauthorized error"));case t.CLIENT_MALFUNCTION:case t.BLOCKED_BY_CLIENT:return!i.isStable&&n.iterNumber>1?ia.left(new Error("Failed to init connection for the second time")):ia.right("backOffReconnect");case t.NOT_CONSISTENT:return n.iterNumber>1?ia.left(new Error("Tried to send invalid message for the second time in a row")):ia.right("backOffReconnect");case t.PRECONDITION_FAILED:return ia.left(new Error("Precondition failed"));default:return ia.right(a)}}(n,s.retryStatus,a.count,r,u),ia.chain((function(t){var r,a={client:e,code:n.code,reason:n.reason,reconnectDecision:t,reconnectStatus:s.retryStatus};switch(t){case"idle":return i.debug("Skip reconnect, going idle",a),ia.right({kind:"idle"});case"backOffReconnect":return i.debug("Trying to reconnect",a),ia.right({kind:"scheduledReconnect",reconnect:(r=s.retryStatus,(0,Xr.__awaiter)(o,void 0,void 0,(function(){var e;return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,s.scheduleReconnect(r)];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),i.warn("Reconnect failed due to error ",e),[3,3];case 3:return[2]}}))})))});default:return ia.left(new Error("unsupported reconnect decision: "+t))}})))}},e.defaultRetryPolicy=function(e,t){return void 0===e&&(e=Gp.MS_IN_SEC),void 0===t&&(t=Gp.MS_IN_MIN),function(e,t){return function(n){return(0,ua.pipe)(n,t,_u.map((function(t){return Math.min(e,t)})))}}(t,Lp(e))};var o=function(){function t(t,n,o){void 0===n&&(n=[e.defaultRetryPolicy()]),void 0===o&&(o=r),this._reconnect=t,this.retryPolicies=n,this._resetTimeout=o,this._log=Pp.C8.Logging.getLogger("coreclients.reconnect.scheduler"),this._resetTimeoutHandle=_u.none,this._policy=Rp.fold(Bp)(n),this.retryStatus=Up}return t.prototype.reset=function(){this.retryStatus=Up,this._resetTimeoutHandle=_u.none},t.prototype.scheduleReconnect=function(e){var t=this;return void 0===e&&(e=this.retryStatus),this.retryStatus=function(e,t){var n=e(t);return{iterNumber:t.iterNumber+1,cumulativeDelay:t.cumulativeDelay+_u.getOrElse((function(){return 0}))(n),previousDelay:n}}(this._policy,e),this._abortReset(),(0,ua.pipe)(this.retryStatus.previousDelay,xu.tap((function(e){return t._log.debug("Reconnecting after timeout ".concat(e))})),_u.fold(this._reconnect,(function(e){return(0,wu.gw)(e).then(t._reconnect)})),(function(e){return e.then((function(e){return t._scheduleReset(),e}))}))},t.prototype._scheduleReset=function(){var e=this;this._resetTimeoutHandle=_u.some(+setTimeout((function(){e._log.debug("Resetting reconnect scheduler due to a timeout"),e.reset()}),this._resetTimeout))},t.prototype._abortReset=function(){var e=this;(0,ua.pipe)(this._resetTimeoutHandle,xu.tap((function(t){e._resetTimeoutHandle=_u.none,clearTimeout(t)})))},t}();e.ReconnectSchedulerImpl=o}(Fp||(Fp={}));var qp,Vp,Hp,$p=function(){},Kp=function(){this.onSessionStarted=$p,this.onWaitForOT=$p,this.onReady=$p,this.onSessionInbound=$p,this.beforeAlert=$p,this.onAlert=$p,this.onRemove=$p,this.onChange=$p,this.onSynonyms=$p,this.onSnippets=$p,this.onPlagiarism=$p,this.onBeforeAsyncCheckFinish=$p,this.onAsyncCheckFinish=$p,this.onError=$p,this.onBeforeFinish=$p,this.onFinish=$p,this.onStats=$p,this.onTextMaps=$p,this.onTextInfo=$p,this.onEmotions=$p,this.onPong=$p,this.onDebugInfo=$p,this.onConnect=$p,this.onDisconnect=$p,this.onClose=$p,this.onQueueMsgAccepted=$p,this.onQueueMsgDropped=$p,this.onAck=$p,this.onMessageReceived=$p,this.onMessageSent=$p,this.onAutoComplete=$p,this.onAttentionHeatmap=$p,this.onAttentionInfo=$p,this.onProofitAvailability=$p,this.onProofitCancelled=$p,this.onProofitCompleted=$p,this.onProofitProgress=$p,this.onProofitProgressProblem=$p,this.onProofitSubmit=$p,this.onShortenItFinished=$p,this.onSDUI=$p,this.onPublishedAck=$p,this.onGbRuleCreated=$p,this.onReconnectInfo=$p,this.onCheetahSetContext=$p,this.onCheetahChunk=$p,this.onCheetahResult=$p,this.onCheetahError=$p,this.onShowSurvey=$p},Yp=__webpack_require__(62965),Jp=__webpack_require__(51072),Xp=__webpack_require__(73353),Qp=function(){function e(e,t,n,r){this.from=e,this.to=t,this.event=n,this.args=r}return e.prototype.toString=function(){return"Transition: From: "+this.from+" to: "+this.to+" (Args: "+this.args+")"},e}(),Zp=function(){function e(t,n,r){this._name=t,this._log=Pp.C8.Logging.getLogger("coreclients.fsm"),this._parents={},this._transitions={},this._scheduled=[],this._listeners={},this._inTransition=!1,this._verbose=!1,this._id=++e._ids,this._current=n,this._final=null!=r?r:null}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinal",{get:function(){return this._final===this._current},enumerable:!1,configurable:!0}),e.prototype.transition=function(e,t,n){this._transitions[e<<11|n]=t},e.prototype.parent=function(e,t){this._parents[e]=t},e.prototype.is=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.findIndex((function(t){return t===e._current}))>=0},e.prototype.from=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(th.bind.apply(th,(0,Xr.__spreadArray)([void 0,this],e,!1)))},e.prototype.with=function(e){return new eh(this,e)},e.prototype.verbose=function(e,t){return this._verbose=!0,this._states=e,this._events=t,this},e.prototype.on=function(e,t){return this._addCallback(this._listeners,e,t),this},e.prototype.event=function(e,t){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,Xr.__generator)(this,(function(r){return[2,new Promise((function(r,o){return(0,Xr.__awaiter)(n,void 0,void 0,(function(){var n,i,a,s;return(0,Xr.__generator)(this,(function(u){switch(u.label){case 0:if(this._verbose&&this._trace("Handling event ".concat(this._eventName(e),", currently in ").concat(this._stateName(this._current))),this._current===this._final)return this._trace("Cannot handle event ".concat(e,": FSM is in it's final state ").concat(this._current)),[2,r(!1)];if(this._inTransition)return this._scheduled.push(new rh(e,t,r,o)),[2];n=this._current,i=null,a=function(){var o,a,u,c,l,d,p;return(0,Xr.__generator)(this,(function(h){switch(h.label){case 0:if(void 0===(o=s._transitions[n<<11|e]))return[3,10];s._inTransition=!0,a=Boolean(s._listeners[o])?s._listeners[o]:[],u=new Qp(s._current,o,e,t),h.label=1;case 1:h.trys.push([1,7,8,9]),s._verbose&&s._trace("Transition from ".concat(s._stateName(u.from)," to ").concat(s._stateName(u.to)," on ").concat(s._eventName(e)," ")+"Arguments: "+t),s._current=o,c=a.map((function(e){return Promise.resolve(e(u))})),s._inTransition=!1,l=function(e){return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return[4,s.event(e.event,e.args).then((function(t){return e.done(t)})).catch((function(t){return e.fail(t)}))];case 1:return t.sent(),[2]}}))},d=s._scheduled.shift(),h.label=2;case 2:return void 0===d?[3,5]:[5,l(d)];case 3:h.sent(),h.label=4;case 4:return d=s._scheduled.shift(),[3,2];case 5:return[4,Promise.all(c).then((function(e){return r(!0)}))];case 6:return h.sent(),[3,9];case 7:return p=h.sent(),i=p,[3,9];case 8:return s._inTransition=!1,[7];case 9:return[2,"break"];case 10:return n=s._parents[n],[2]}}))},s=this,u.label=1;case 1:return void 0===n?[3,3]:[5,a()];case 2:return"break"===u.sent()?[3,3]:[3,1];case 3:return Boolean(i)?o(i):r(!1),[2]}}))}))}))]}))}))},e.prototype._addCallback=function(e,t,n){var r=e[t];return Boolean(r)||(r=[],e[t]=r),r.push(n),this},e.prototype._eventName=function(e){return void 0===this._events?e:this._events[e]},e.prototype._stateName=function(e){return void 0===this._states?e:this._states[e]},e.prototype._trace=function(e){this._log.trace("FSM#".concat(this._id).concat(this._name&&"_"+this._name," [VERBOSE]: ")+e)},e._ids=0,e}(),eh=function(){function e(e,t){this.hsm=e,this.state=t}return e.prototype.childrenOf=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){return e.hsm.parent(e.state,t)})),this.hsm},e.prototype.parentOf=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){return e.hsm.parent(t,e.state)})),this.hsm},e}(),th=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hsm=e,this._states=t}return e.prototype.to=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nh(this.hsm,this._states,e)},e}(),nh=function(){function e(e,t,n){this.hsm=e,this.from=t,this.to=n}return e.prototype.on=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){return e.from.forEach((function(n){return e.to.forEach((function(r){return e.hsm.transition(n,r,t)}))}))})),this.hsm},e}(),rh=function(e,t,n,r){this.event=e,this.args=t,this.done=n,this.fail=r},oh=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this._capacity=e,this._start=t,this._allowOverflow=n,this._nextId=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),e.prototype.newId=function(){var e=this._nextId;if(e>this._capacity){if(!this._allowOverflow)throw new bu.ej("ids limit reached: "+this._capacity);this._nextId=e=0}return this._nextId++,e},e.prototype.reset=function(){this._nextId=this._start},e}(),ih=__webpack_require__(8709),ah=__webpack_require__(95574);!function(e){e.split=function(e,t){return[e]}}(qp||(qp={})),function(e){e.fromArrayOfDeltas=function(t,n){var r=n;return t.map((function(t){var n=e.delta(t,r);return r+=Ap.s.calcDiffLength(t),n}))};var t=function(){function e(e,t){this.delta=e,this.prevLen=t,this.kind="delta",this._length=void 0,this._amount=void 0,this._text=void 0}return Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=Ap.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return Boolean(this._amount)?this._amount:this._amount=Ap.s.calcAmountLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=ah.tryCatchError((function(){return e.delta.ops.reduce((function(e,t){return Ap.s.match((function(t){return"".concat(e).concat(t.insert)}),(function(){throw new Error("can not get text on delta with deletes")}),(function(){throw new Error("can not get text on delta with retains")}))(t)}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.delta.ops.length},enumerable:!1,configurable:!0}),e.prototype.compose=function(t){return new e(this.delta.compose(t.delta),this.prevLen)},e.prototype.transform=function(t,n){return void 0===n&&(n=!0),new e(t.delta.transform(this.delta,n),this.prevLen+t.length)},e.prototype.toJSON=function(){return{kind:this.kind,delta:Ap.s.anonymizeTextAndStringAttrs(this.delta),prevLen:this.prevLen,length:this.length,amount:this.amount}},e.prototype.toString=function(){return"Delta(".concat(this.delta,", pl: ").concat(this.prevLen,")")},e}(),n=function(){function e(){this.kind="flush"}return e.prototype.toString=function(){return"Flush()"},e}(),r=function(){function e(e){this.delta=e,this.kind="reset"}return Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=ah.tryCatchError((function(){return e.delta.ops.reduce((function(e,t){if(Ap.s.isInsert(t))return"".concat(e).concat(t.insert);throw Ap.s.isDelete(t)?new Error("can not get text on delta with deletes"):new Error("can not get text on delta with retains")}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=Ap.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),e.prototype.compose=function(e){return i(this.delta.compose(e.delta))},e.prototype.toJSON=function(){return{kind:this.kind,delta:Ap.s.anonymizeTextAndStringAttrs(this.delta),length:this.length}},e.prototype.toString=function(){return"Reset(".concat(this.delta,")")},e}();function o(e,n){return void 0===n&&(n=0),new t(e,n)}function i(e){return Ap.s.containsInsertsOnly(e)?ia.right(new r(e)):ia.left(new Error("Delta should contains only inserts to be Reset, but got ".concat(JSON.stringify(Ap.s.anonymizeTextAndStringAttrs(e)))))}e.delta=o,e.ins=function(e,t,n){return void 0===n&&(n=0),o((new ih.i).retain(e).insert(t),n)},e.del=function(e,t,n){return void 0===n&&(n=0),o((new ih.i).retain(e).delete(t),n)},e.ret=function(e,t,n){return void 0===t&&(t=0),o((new ih.i).retain(e,n),t)},e.res=i,e.unsafeRes=(0,Ie.ls)(i,ah.unsafeGet),e.resFromText=function(e){return ah.unsafeGet(i((new ih.i).insert(e)))},e.flush=function(){return new n},e.isDelta=function(e){return"delta"===e.kind},e.isReset=function(e){return"reset"===e.kind},e.isFlush=function(e){return"flush"===e.kind}}(Vp||(Vp={})),function(e){e.diffAsChanges=function(e,t){var n=(new ih.i).insert(e),r=(new ih.i).insert(t);return Vp.delta(n.diff(r),e.length)}}(Hp||(Hp={}));var sh=__webpack_require__(43388);!function(e){function t(t,n,r){var o=e.call(this,"AssertionError: ".concat(r))||this;return o.expected=t,o.actual=n,o.name="AssertionError",o}(0,Xr.__extends)(t,e),t.prototype.toString=function(){return"".concat(this.message,"\nExpected: ").concat(this.expected,"\nActual: ").concat(this.actual)}}(bu.sH);var uh=function(e){function t(t){var n=e.call(this,Boolean(t)?t:"Timeout")||this;return n.name="TimeoutError",n}return(0,Xr.__extends)(t,e),t.isTimeoutError=function(e){return e instanceof t},t}(bu.sH),ch=function(e){function t(t){var n=e.call(this,Boolean(t)?t:"Dropped")||this;return n.name="DroppedError",n}return(0,Xr.__extends)(t,e),t.isDroppedError=function(e){return e instanceof t},t}(bu.sH),lh=function(e){function t(t){var n=e.call(this,Boolean(t)?t:"Not Connected to WS")||this;return n.name="NotConnectedError",n}return(0,Xr.__extends)(t,e),t.isNotConnectedError=function(e){return e instanceof t},t}(bu.sH),dh=function(e){function t(t){var n=e.call(this,Boolean(t)?t:"Not ready")||this;return n.name="NotReady",n}return(0,Xr.__extends)(t,e),t.isNotReadyError=function(e){return e instanceof t},t}(bu.sH);function ph(e,t){void 0===t&&(t=function(){return!0});var n,r=Rp.fold(Bp)(e);return function(e){return(0,sh.retrying)(r,(function(t){return(0,ua.pipe)(t.previousDelay,_u.fold((function(){return e}),(function(r){return(0,ua.pipe)(mh(t.iterNumber,r),Yp.a1(e),Yp.Vn((function(e){var r;return"stack"in(r=e)&&void 0!==r.stack&&(1===t.iterNumber?n=e.stack:void 0!==n&&(e.stack=n)),e})))})))}),(function(e){return ia.isLeft(e)&&t(e.left)}))}}var hh,fh,gh,mh=function(e,t){return Yp.dk((function(){return Pp.C8.Logging.root.getLogger("coreclients.utils").trace("retryWithDelay: count ".concat(e,", timeout: ").concat(t))}))},yh=function(){function e(e,t,n){void 0===e&&(e=5e3),void 0===t&&(t=""),void 0===n&&(n=new uh),this._timeout=e,this._timeoutError=n,this._notifications=new Map,this._log=Pp.C8.Logging.getLogger("coreclients.valueNotifier"+(t.length>0?"."+t:""))}return e.prototype.waitFor=function(e,t){var n=this;return function(){return n._startNotificationWatch(e,t)}},e.prototype.notify=function(e){this._stopNotification(e,ia.right(void 0))},e.prototype.error=function(e,t){this._log.trace("onError:(".concat(e,")")),this._stopNotification(e,ia.left(t))},e.prototype.clear=function(e){var t=this;this._log.trace("clearing notification watches: "+e),this._notifications.forEach((function(n,r){t.error(r,new ch("clearing value notifier and dropping all pending notification watches:"+e))}))},e.prototype._startNotificationWatch=function(e,t){var n=this;this._log.debug("Starting notification watch: ".concat(e)),(0,bu.kG)(!this._notifications.has(e),"must not start watch for same notification twice, notification already watched: "+e);var r={};return r.promise=new Promise((function(e){r.notifyValue=function(){return e(ia.right(t))},r.notifyError=function(t){return e(ia.left(t))}})),r.timer=self.setTimeout((function(){return n._stopNotification(e,ia.left(n._timeoutError))}),this._timeout),this._notifications.set(e,r),r.promise},e.prototype._stopNotification=function(e,t){this._log.trace("_stopNotification: stopping notification watch: ".concat(e),t);var n=this._notifications.get(e);void 0===n?this._log.error("Got result for unknown notification or notification has already expired.",{id:e,result:t}):(clearTimeout(n.timer),(0,ua.pipe)(t,ia.fold((function(e){return n.notifyError(e)}),(function(){return n.notifyValue()}))),this._notifications.delete(e))},e}(),vh=function(){function e(e,t,n){void 0===e&&(e=5e3),void 0===t&&(t=""),void 0===n&&(n=new uh),this._timeout=e,this.name=t,this._timeoutError=n,this._requests=new Map,this._log=Pp.C8.Logging.getLogger("coreclients.valueRequester"+(t.length>0?"."+t:""))}return e.prototype.watchRequest=function(e){return this._startRequestWatch(e)},e.prototype.onValue=function(e,t){this._stopRequest(e,ia.right(t))},e.prototype.onError=function(e,t){this._log.trace("onError:(".concat(e,")")),this._stopRequest(e,ia.left(t))},e.prototype.clear=function(e){var t=this;this._log.trace("clearing request watches: "+e),this._requests.forEach((function(n,r){t.onError(r,new ch("command (".concat(t.name,") can not be executed, reason: ").concat(e)))}))},e.prototype._startRequestWatch=function(e){var t=this;this._log.debug("Starting request watch: ".concat(e)),(0,bu.kG)(!this._requests.has(e),"must not start watch for same request twice, request already watched: "+e);var n={};return n.promise=new Promise((function(e){n.resolve=e})),n.timer=self.setTimeout((function(){return t._stopRequest(e,ia.left(t._timeoutError))}),this._timeout),this._requests.set(e,n),n.promise},e.prototype._stopRequest=function(e,t){this._log.trace("_stopRequest: stopping request watch: ".concat(e),t);var n=this._requests.get(e);void 0===n?this._log.warn("Got result for unknown request or request has already expired.",{id:e,result:t}):(clearTimeout(n.timer),n.resolve(t),this._requests.delete(e))},e}();!function(e){e.NotFixed="NOT_FIXED"}(hh||(hh={})),function(e){e.isCheetahEvent=function(e){return"cheetah:chunk"===e.kind||"cheetah:result"===e.kind||"cheetah:setContext"===e.kind||"cheetah:error"===e.kind},e.isCheetahAck=function(e){return"cheetah:ack"===e.kind}}(fh||(fh={})),function(e){e.is=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return e===t.kind}))}},e.isUserFeedbackWithGeneralScore=function(e){var t;return Boolean(null===(t=e.outcomeScores)||void 0===t?void 0:t.GeneralScore)},e.isUserFeedbackWithScoreStatus=function(e){return Boolean(e.scoreStatus)}}(gh||(gh={}));var bh,_h=__webpack_require__(80800);function wh(e,t){var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return n>=55296&&n<57344&&r>=56320&&r<57344}function Sh(e){return function(e){for(var t,n,r=0,o=e.length,i=0;i<o;i++)(t=e.charCodeAt(i))>=55296&&t<57344&&t<56320&&i+1<o&&(n=e.charCodeAt(i+1))>=56320&&n<57344?(r+=4,i++):r+=t<128?1:t<2048?2:3;return r}(e)/1e3}!function(e){e.transformPosition=function(e,t){var n=Op.wQ.Position.rebase(e,t);return(!0===e.updatable?Op.wQ.Position.isSquashed(n):!Op.wQ.Position.hasEqualLength(e,n))?_u.none:_u.some(Su.update(e,n))},e.transformAlertChanged=function(e,t){if(0===t.delta.ops.length)return _u.some(Su.update(e,{rev:t.revision}));if(void 0!==e.transformJson){var n=Op.lB.rebase(e.transformJson,t.delta);return Op.lB.isSquashed(n)?_u.none:_u.some(Su.update(e,{transformJson:n,rev:t.revision}))}return _u.some(e)},e.transformAlert=function(t,n){if(0===n.delta.ops.length)return _u.some(Su.update(t,{rev:n.revision}));var r=(0,Ie.zG)(Op.wQ.hasPosition(t)?e.transformPosition(t,n.delta):_u.some(t),_u.map((function(e){return Su.update(e,{rev:n.revision})})));return(0,Ie.zG)(r,_u.chain(Op.wQ.matchBy(_u.some,(function(e){var t=Op.lB.rebase(e.transformJson,n.delta);return(!0===e.updatable?Op.lB.isSquashed(t):!0!==Op.lB.isValidAfterTransform(e.transformJson,t))?_u.none:_u.some(Su.update(e,{transformJson:t}))}),(function(e){var t=Op.lB.rebase(e.subalerts,n.delta);return Op.lB.isSquashed(t)?_u.none:_u.some(Su.update(e,{subalerts:t}))}))))},e.transformAttentionHeatmap=function(e,t){var n=function(e){return e.map((function(e){return Op.Vm.Range.rebase(e,t.delta)}))},r=n(e.update),o=r.filter(Op.Vm.Range.isSquashed).map((function(e){return e.id}));return Su.update(e,{rev:t.revision,add:n(e.add).filter((0,Ie.ff)(Op.Vm.Range.isSquashed)),update:r.filter((0,Ie.ff)(Op.Vm.Range.isSquashed)),remove:(0,Xr.__spreadArray)((0,Xr.__spreadArray)([],e.remove,!0),o,!0)})}}(bh||(bh={}));var Ih,xh=function(e){return 1e3*e},Eh=function(e){return e/1e3};!function(e){function t(e){return"change"===e.kind}function n(e){return"change_chunked"===e.kind}e.isChange=(0,wu.Kg)(t,n),e.isFullChange=t,e.isChunkedChange=n,e.isCmd=function(e){return"cmd"===e.kind},e.isCmdIncRevision=function(e){return"cmdIncRevision"===e.kind}}(Ih||(Ih={}));var kh,Th,Ah,Ch,Oh,Ph=function(){function e(e,t,n,r,o,i,a){var s=this;void 0===i&&(i=100),void 0===a&&(a=.1),this._shouldIncreaseRevision=e,this._acceptHandler=t,this._dropHandler=n,this._stateChangeHandler=r,this._idGenerator=o,this._maxMessageSizeKb=i,this._messagePaddingKb=a,this._log=Pp.C8.Logging.getLogger("coreclients.capi.queue",zp.i.DEBUG),this._changes=[],this._staged=[],this._stagedOperationId=null,this._stagedAmount=0,this.transformChangeAgainstQueue=function(e){var t=s._getQueuedDeltaAndLatestRevision(e.rev);return bh.transformAlertChanged(e,t)},this._split=function(e){var t=JSON.stringify([e.delta]);return s._log.trace("change delta string",{deltasStr:t,size:Sh(t)}),function(e,t,n){if(void 0===n&&(n=0),(0,bu.kG)(n<t,"padding must be less than the max message size"),Eh(3*e.length)+n<t)return[e];if(Sh(e)<t-n)return[e];for(var r=Math.max(2,Math.floor(xh(t-n)/3)),o=Math.ceil(e.length/r),i=new Array(o),a=0,s=0;a<e.length;){var u=wh(e,a+r-1)?r-1:r;i[s++]=e.substr(a,u),a+=u}return i}(t,s._maxMessageSizeKb,s._messagePaddingKb)},this._acceptMessage=function(e){s._updateCheckedTextSize(e),s._acceptHandler(e)},this._dropMessages=function(e,t){e.forEach(s._updateCheckedTextSize),s._dropHandler(e,t)},this._updateCheckedTextSize=function(e){Ih.isChange(e)?s._changeStagedAmount(-e.change.amount):s._shouldIncreaseRevision(e.cmd)&&s._changeStagedAmount(-Op.hD)},this._log.debug("capi queue created",{maxMessageSizeKb:this._maxMessageSizeKb,messagePaddingKb:this._messagePaddingKb}),this.clear("init")}return e.prototype.pushChanges=function(e){var t=this,n=(0,ua.pipe)(this._tail(),_u.filter(Ih.isChange));return(0,ua.pipe)(n,_u.fold((function(){return t._log.trace("pushChanges() adding new change to queue"),t._enqueueChange(e,t._split(e))}),(function(n){t._log.trace("pushChanges() composing with latest change");var r=n.change.compose(e),o=t._split(r);if(t._replaceChange(t._changes.length-1,r,o),!0===r.isEmpty){var i=t._changes.pop();t._stateChangeHandler(t.isEmpty,t.isStaging),setTimeout((function(){return t._acceptMessage(i)}),0)}return n.id})))},e.prototype.pushCommand=function(e){var t=this._idGenerator();return this._shouldIncreaseRevision(e)?(this._changeStagedAmount(Op.hD),this._changes.push({kind:"cmdIncRevision",cmd:e,id:t,rev:this._incRevision()})):this._changes.push({kind:"cmd",cmd:e,id:t,rev:this.localRevision}),this._stateChangeHandler(this.isEmpty,this.isStaging),t},Object.defineProperty(e.prototype,"isStaging",{get:function(){return this._staged.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._changes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommitedChanges",{get:function(){return this._changes.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localRevision",{get:function(){return void 0!==this._revision?this._revision:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stagedAmount",{get:function(){return this._stagedAmount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasChanges",{get:function(){return this._changes.some(Ih.isChange)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._changes.length},enumerable:!1,configurable:!0}),e.prototype.poll=function(){var e=this;return(0,bu.kG)(null===this._stagedOperationId,"Should not be in staging mode"),(0,ua.pipe)(_u.fromNullable(this._changes.shift()),_u.map((function(t){return Ih.isCmd(t)||e._staged.push(t),e._stagedOperationId=t.id,e._stateChangeHandler(e.isEmpty,e.isStaging),t})))},e.prototype.shift=function(){var e=_u.fromNullable(this._changes.shift());return this._stateChangeHandler(this.isEmpty,this.isStaging),e},e.prototype.peek=function(){return this.isEmpty?_u.none:_u.fromNullable(this._changes[0])},e.prototype.ackOperation=function(e){(0,bu.kG)(!!this._stagedOperationId&&e===this._stagedOperationId,"Cannot ack operation by wrong id. Expected: '".concat(this._stagedOperationId,", got: '").concat(e,"'")),this._stagedOperationId=null},e.prototype.ackRevision=function(e){this._ackedRevisions.add(e),this._cleanStaged()},e.prototype.transformAlertAgainstQueue=function(e){var t=this._getQueuedDeltaAndLatestRevision(e.rev);return bh.transformAlert(e,t)},e.prototype.transformAttentionHeatmapAgainstQueue=function(e){var t=this._getQueuedDeltaAndLatestRevision(e.rev);return bh.transformAttentionHeatmap(e,t)},e.prototype.clear=function(e){var t=(0,Xr.__spreadArray)((0,Xr.__spreadArray)([],this._changes,!0),this._staged,!0);this._changes=[],this._staged=[],this._stagedOperationId=null,this._ackedRevisions=new Set,this._revision=void 0,t.length>0&&this._dropMessages(t,e),this._stateChangeHandler(this.isEmpty,this.isStaging)},e.prototype._tail=function(){return this.isEmpty?_u.none:_u.fromNullable(this._changes[this._changes.length-1])},e.prototype._incRevision=function(){return void 0===this._revision?this._revision=0:this._revision+=1},e.prototype._enqueueChange=function(e,t){var n,r=this,o=this._incRevision();if(this._changeStagedAmount(e.amount),1===t.length)n=this._idGenerator(),this._changes.push({kind:"change",change:e,id:n,rev:o,deltasString:t[0]});else{this._log.trace("change is larger than maximum allowed size, splitting to chunks",t.length);var i=t.map((function(e){return{id:r._idGenerator(),chunk:e}}));n=this._idGenerator(),this._changes.push({kind:"change_chunked",change:e,id:n,rev:o,chunks:i})}return this._stateChangeHandler(this.isEmpty,this.isStaging),n},e.prototype._replaceChange=function(e,t,n){var r=this,o=this._changes[e];(0,bu.kG)(Ih.isChange(o),"queued change should exist");var i=o;this._changeStagedAmount(-i.change.amount+t.amount),n.length>1?this._changes[e]=(0,Xr.__assign)((0,Xr.__assign)({},i),{kind:"change_chunked",chunks:n.map((function(e){return{id:r._idGenerator(),chunk:e}}))}):this._changes[e]=(0,Xr.__assign)((0,Xr.__assign)({},i),{kind:"change",change:t,deltasString:n[0]})},e.prototype._cleanStaged=function(){for(;void 0!==this._staged[0]&&this._ackedRevisions.has(this._staged[0].rev);){var e=this._staged.shift();this._ackedRevisions.delete(e.rev),this._stateChangeHandler(this.isEmpty,this.isStaging),this._acceptMessage(e)}},e.prototype._changeStagedAmount=function(e){this._stagedAmount+=e},e.prototype._getQueuedDeltaAndLatestRevision=function(e){var t=this._staged.filter((function(t){return t.rev>e})).concat(this._changes).filter(Ih.isChange);return{delta:Ap.s.squash(t.map((function(e){return e.change.delta}))),revision:(0,ua.pipe)(Ls.Z$(t),_u.map((function(e){return e.rev})),_u.getOrElse((function(){return e})))}},e.prototype.toJSON=function(){return{isEmpty:this.isEmpty,isStaging:this.isStaging,changes:this._changes.map((function(e){return Ih.isChange(e)?{kind:"change",prevLen:e.change.prevLen,changeDiff:e.change.length,changeAmount:e.change.amount}:e}))}},e}();!function(e){e.fromRaw=function(e){return(0,Xr.__assign)((0,Xr.__assign)({},e),{suggestionsCard:(0,ua.pipe)(_u.fromNullable(e.suggestionsCard),_u.map((function(e){return{title:e.title,miniTitle:_u.fromNullable(e.miniTitle)}}))),successCard:(0,ua.pipe)(_u.fromNullable(e.successCard),_u.map((function(e){return{title:e.title,miniTitle:_u.fromNullable(e.miniTitle)}}))),defaultCard:(0,Xr.__assign)((0,Xr.__assign)({},e.defaultCard),{miniTitle:_u.fromNullable(e.defaultCard.miniTitle),details:_u.fromNullable(e.defaultCard.details)})})}}(kh||(kh={})),function(e){function t(e,t){var n=t/60,r=Gp.secondsToTime(e/n);return r.s=r.h>0&&r.m>10?0:Math.floor(r.s),r}e.calculateReadingTime=function(e){return t(e,250)},e.calculateSpeakingTime=function(e){return t(e,130)},e.generateStats=function(t,n){var r={words:t,chars:n,sentences:Math.floor(t/5),readingTime:{},speakingTime:{},uniqueWords:40*Math.random(),uniqueWordsIndex:100*Math.random(),rareWords:20*Math.random(),rareWordsIndex:100*Math.random(),wordLength:5.4,wordLengthIndex:100*Math.random(),sentenceLength:16.7,sentenceLengthIndex:100*Math.random(),readabilityScore:73,readabilityDescription:"Your text is likely to be understood by a reader who has at least 7th grade education (age 12)"};return r.readingTime=e.calculateReadingTime(r.words),r.speakingTime=e.calculateSpeakingTime(r.words),r}}(Th||(Th={})),function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.WAITING_FOR_OT=3]="WAITING_FOR_OT",e[e.WAITING_FOR_ACK=4]="WAITING_FOR_ACK",e[e.SESSION_INBOUND=5]="SESSION_INBOUND",e[e.ANY=6]="ANY",e[e.CLOSED=7]="CLOSED"}(Ah||(Ah={})),function(e){e[e.CONNECT=0]="CONNECT",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECT=2]="DISCONNECT",e[e.WAIT=3]="WAIT",e[e.READY=4]="READY",e[e.SEND=5]="SEND",e[e.ACK=6]="ACK",e[e.CLOSE=7]="CLOSE"}(Ch||(Ch={})),function(e){e.getUnsafe=function(){return(0,Ie.ls)(Ie.MZ,ia.right)}}(Oh||(Oh={}));var Rh,Nh=function(e){if("string"==typeof e)return e;if("submit_ot"===e.action){if(e.chunked)return JSON.stringify(e);var t=(0,Xr.__assign)((0,Xr.__assign)({},e),{deltasString:void 0,deltas:void 0}),n=JSON.stringify(t);return n.substring(0,n.length-1)+',"deltas": '.concat(e.deltasString,"}")}return JSON.stringify(e)},Dh=function(){function e(e,t,n,r){var o=this,i=e.context,a=void 0===i?void 0:i,s=e.dialect,u=void 0===s?"undefined":s,c=e.client,l=e.clientVersion,d=void 0===l?"":l,p=e.extDomain,h=void 0===p?void 0:p,f=e.sendDelay,g=void 0===f?50:f,m=e.docid,y=void 0===m?"":m,v=e.clientSupports,b=void 0===v?[]:v,_=e.sduiConfig,w=e.sduiProtocolVersion,S=void 0===w?void 0:w,I=e.isDemoDoc,x=void 0!==I&&I,E=e.maxMessageSizeKb,k=e.messagePaddingKb,T=e.startSessionOptions,A=void 0===T?{}:T,C=e.idGenerator,O=void 0===C?new oh(_h.d1,0,!1):C,P=e.shouldSendFeedback,R=void 0===P?Ie.W8:P;this._connectionOptions=r,this._log=Pp.C8.Logging.getLogger("coreclients.capi",zp.i.TRACE),this._queueIdGenerator=new oh(_h.d1,0,!1),this._textSize=0,this._asyncChecksManager=new Mh,this._cachedSessionUuid=null,this._pingsMap=new Map,this._validateAlert=Rh.validate,this._statsRequester=new vh(15e3,"CAPI.DocStats"),this._synonymsRequester=new vh(15e3,"CAPI.Synonyms"),this._snippetsRequester=new vh(15e3,"CAPI.Snippets"),this._getTextRequester=new vh(15e3,"CAPI.Text"),this._commandsRequester=new vh(15e3,"CAPI.Commands"),this._otChunksNotifier=new yh(15e3,"CAPI.OT.Chunks"),this.resetReconnectInfo=function(){o._reconnectInfo=void 0,o._handleReconnectInfo()},this.reportLensFeedback=function(e,t){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:t,lens:e},o._commandsRequester)},this.reportSystemFeedback=function(e){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:e},o._commandsRequester)},this.reportEmotionFeedback=function(e,t,n){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:t,emotion:e,subtype:n},o._commandsRequester)},this.reportEmotionSentenceFeedback=function(e,t){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:t,alertId:e},o._commandsRequester)},this.reportMuteFeedback=function(e,t,n){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:n,userMuteScope:t,userMuteCategories:e},o._commandsRequester)},this.reportAutocorrectFeedback=function(e,t){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:e,before:t.before,after:t.after,context:t.context,expected:t.expected},o._commandsRequester)},this.reportAutocompleteFeedback=function(e,t){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:e,alertId:t.alertId,begin:t.begin,end:t.end,context:t.context,before:t.before,after:t.after,text:t.text,pname:t.pname},o._commandsRequester)},this.reportAutocompleteRejectedFeedback=function(e){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:Op._Y.COMPLETION_REJECTED,alertId:e.alertId,begin:e.begin,end:e.end,context:e.context,before:e.before,after:e.after,text:e.text,pname:e.pname,subtype:e.subtype},o._commandsRequester)},this.reportSnippetFeedback=function(e,t){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"feedback",type:e,snippetUuid:t},o._commandsRequester)},this.requestSynonyms=function(e,t){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"synonyms",begin:e,token:t},o._synonymsRequester)},this.requestSnippets=function(e){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"get_snippets_list",institutionId:e},o._snippetsRequester)},this.shortenItSubmit=function(e){return(0,ua.pipe)(Yp.dk((function(){o._log.trace("shorten-it submit")})),Yp.tS((function(){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"shorten_it_submit",alertId:e},o._commandsRequester)})))},this.requestDocStats=this._sendLazyInbandCommand((function(){return{id:o._idGenerator.newId(),action:"get_text_stats"}}),this._statsRequester),this.enablePlagiarismSearch=(0,ua.pipe)(Yp.dk((function(){o._log.trace("Enable plagiarism search"),o._asyncChecksManager.resetCheck("plagiarism")})),Yp.tS((function(){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"toggle_checks",checks:{plagiarism:!0}},o._commandsRequester)}))),this.disablePlagiarismSearch=this._sendLazyInbandCommand((function(){return{id:o._idGenerator.newId(),action:"toggle_checks",checks:{plagiarism:!1}}}),this._commandsRequester),this.realtimeProofitSubmit=function(e){return o._log.trace("Submit real-time Proofit job"),o._sendInbandCommand({id:o._idGenerator.newId(),action:"realtime_proofit_submit",reconnect:e},o._commandsRequester)},this.realtimeProofitCancel=(0,ua.pipe)(Yp.dk((function(){o._log.trace("Cancel real-time Proofit job")})),Yp.tS((function(){return o._sendInbandCommand({id:o._idGenerator.newId(),action:"realtime_proofit_cancel"},o._commandsRequester)}))),this.submitRecipients=function(e){return o._log.trace("Submit recipients for better suggestions!"),o._sendInbandCommand({id:o._idGenerator.newId(),action:"submit_recipients",recipients:e},o._commandsRequester)},this.submitScoreSurveyResult=function(e,t){return o._log.trace("Submit score survey result:",{placement:e,score:t}),o._sendInbandCommand({id:o._idGenerator.newId(),action:"submit_survey_result",type:_h.v0.Survey.Data.ScoreSurvey.type,placement:e,score:t},o._commandsRequester)},this.ping=this._sendLazyInbandCommand((function(){return{id:o._idGenerator.newId(),action:"ping"}}),this._commandsRequester),this.canGoIdle=function(){return o._changesQueue.isEmpty&&!o._changesQueue.isStaging},this.isStable=function(e){var t=void 0===e?o._idGenerator.id:o._idGenerator.id+1;return(void 0===e||"error"!==e.action)&&t>5},this.updateContextInfo=function(e){return o._log.trace("Update thread context info"),o._sendInbandCommand({id:o._idGenerator.newId(),action:"update_context_info",docContext:e},o._commandsRequester)},this.published=function(){return o._log.trace("Send published event"),o._sendInbandCommand({id:o._idGenerator.newId(),action:"published"},o._commandsRequester)},this.cheetahStartSession=function(e){return o._log.trace("Flush before cheetah:startSession"),(0,ua.pipe)(o._pushChanges(Vp.flush()),ia.mapLeft((function(e){return o._log.trace("Error on flush before cheetah:startSession",{error:e}),e})),Yp.Uo,Yp.tS((function(){return o._log.trace("Send cheetah:startSession request",{data:e}),o._sendInbandCommand((0,Xr.__assign)({id:o._idGenerator.newId(),action:"cheetah:startSession",rev:-1},e),o._commandsRequester)})))},this.cheetahAction=function(e){return o._log.trace("Send cheetah:action request.",{data:e}),o._sendInbandCommand((0,Xr.__assign)({id:o._idGenerator.newId(),action:"cheetah:action",rev:-1},e),o._commandsRequester)},this.cheetahInterrupt=function(e){return o._log.trace("Send cheetah:interrupt request.",{data:e}),o._sendInbandCommand((0,Xr.__assign)({id:o._idGenerator.newId(),action:"cheetah:interrupt"},e),o._commandsRequester)},this.cheetahSetVoice=function(e){return o._log.trace("Send cheetah:setVoice request.",{data:e}),o._sendInbandCommand((0,Xr.__assign)({id:o._idGenerator.newId(),action:"cheetah:setVoice"},e),o._commandsRequester)},this.cheetahEndSession=function(){return o._log.trace("Send cheetah:endSession request."),o._sendInbandCommand({id:o._idGenerator.newId(),action:"cheetah:endSession"},o._commandsRequester)},this._handleReconnectInfo=function(){var e,t;!(null===(e=o._changesQueue)||void 0===e?void 0:e.isEmpty)||(null===(t=o._changesQueue)||void 0===t?void 0:t.isStaging)?void 0!==o._lastPublishedReconnectInfo&&(o._lastPublishedReconnectInfo=void 0,o._handler.onReconnectInfo({kind:"reconnect_info_updated"})):o._lastPublishedReconnectInfo!==o._reconnectInfo&&(o._handler.onReconnectInfo({kind:"reconnect_info_updated",reconnectInfo:o._reconnectInfo}),o._lastPublishedReconnectInfo=o._reconnectInfo)},this._setReconnectInfo=function(e){o._reconnectInfo=e,o._handleReconnectInfo()},this._setReconnecInfoForNewSession=function(){null!==o._cachedSessionUuid?o._setReconnectInfo({sessionUuid:o._cachedSessionUuid}):o.resetReconnectInfo()},this._resetIdGenerators=function(){o._idGenerator.reset(),o._queueIdGenerator.reset(),o._queueIdGenerator.newId()},this._cleanupOldSession=function(e){o._clear(e),o._commandsRequester.clear(e),o._statsRequester.clear(e),o._synonymsRequester.clear(e),o._getTextRequester.clear(e)},this._supportsReconnect=function(){return o._clientSupports.includes(_h.zV.reconnect)},this._initReconnection=function(){return(0,Xr.__awaiter)(o,void 0,void 0,(function(){var e,t;return(0,Xr.__generator)(this,(function(n){switch(n.label){case 0:return this._supportsReconnect()?[3,1]:(this._resetIdGenerators(),null!==this._cachedSessionUuid?[2,{sessionUuid:this._cachedSessionUuid}]:[2,void 0]);case 1:return this._reconnectInfo?[3,7]:null===this._cachedSessionUuid?[3,2]:(this._setReconnectInfo({sessionUuid:this._cachedSessionUuid}),[3,6]);case 2:return"function"!=typeof this._startSessionOptions?[3,4]:[4,this._startSessionOptions()];case 3:return t=n.sent(),[3,5];case 4:t=this._startSessionOptions,n.label=5;case 5:(e=t).reconnectInfo&&this._setReconnectInfo(e.reconnectInfo),n.label=6;case 6:return this._resetIdGenerators(),[3,8];case 7:this._changesQueue.isEmpty&&!this._changesQueue.isStaging||(this._setReconnecInfoForNewSession(),this._resetIdGenerators()),n.label=8;case 8:return[2,this._reconnectInfo]}}))}))},this._startSession=function(){return(0,Xr.__awaiter)(o,void 0,void 0,(function(){var e,t,n,r;return(0,Xr.__generator)(this,(function(o){switch(o.label){case 0:return this._log.trace("_startSession"),"function"!=typeof this._startSessionOptions?[3,2]:[4,this._startSessionOptions()];case 1:return t=o.sent(),[3,3];case 2:t=this._startSessionOptions,o.label=3;case 3:return e=t,[4,this._initReconnection()];case 4:return n=o.sent(),r=(0,Xr.__assign)((0,Xr.__assign)((0,Xr.__assign)({id:this._idGenerator.newId(),action:"start",client:this._client.type,clientSubtype:this._client.sub,clientVersion:this._clientVersion,dialect:this._dialect,docid:this._docid,extDomain:this._extDomain,documentContext:this._context&&Xp.R$.serialize(this._context),clientSupports:this._clientSupports.map((function(e){return e===_h.zV.cheetah?"cheetah:".concat(Op.vv.version):e})),isDemoDoc:this._isDemoDoc},null!==n?{reconnectInfo:n}:{}),void 0!==this._sduiConfig?{sdui:this._sduiConfig}:{}),e),[4,this._fsm.event(Ch.SEND)];case 5:return o.sent(),this._sendMessage(r),[2]}}))}))},this._handleNewSession=function(e){void 0!==o._reconnectInfo&&o._log.debug("Exited old session: ".concat(o._reconnectInfo.sessionUuid)),o._log.debug("Starting new session: ".concat(e)),o._fsm.is(Ah.CONNECTED)&&(o._cleanupOldSession("new session"),o._fsm.event(Ch.WAIT)),o._setReconnectInfo({sessionUuid:e,messagesReceived:1,messagesSent:1})},this._handleExistingSession=function(e){o._log.debug("Continuing session: ".concat(e)),o._fsm.is(Ah.CONNECTED)?(o._fsm.event(Ch.READY),o._handler.onReady({kind:"ready"})):o._fsm.event(Ch.ACK)},this._handleStart=function(e){o._log.trace("_handleStart"),o._fsm.event(Ch.ACK);var t=e.userMutedCategories,n=e.allowedFeatures,r=e.cheetahUsage,i=e.domainCategory,a=e.domainName,s=e.isEnterprise,u=e.defaultDocumentContext,c=e.sessionUuid,l=e.reconnectedInfo,d=void 0===o._reconnectInfo||c!==o._reconnectInfo.sessionUuid;(null===o._cachedSessionUuid||o._supportsReconnect())&&(o._cachedSessionUuid=c),d?o._handleNewSession(c):o._handleExistingSession(c),o._handler.onSessionStarted({kind:"session_started",userMutedCategories:t,allowedFeatures:n,cheetahUsage:r,domainCategory:i,domainName:a,isEnterprise:s,defaultDocumentContext:Xp.R$.parseDefault(u),sessionUuid:c,reconnectedInfo:l,isNewSession:d})},this._waitForSubmitOt=function(){o._handler.onWaitForOT({kind:"wait_for_ot"})},this._sessionInbound=function(e){o._handler.onSessionInbound({kind:"session_inbound"}),o._trySend(e)},this._canSend=function(){return!o._fsm.is(Ah.DISCONNECTED,Ah.CONNECTING,Ah.CLOSED)},this._send=function(){return(0,Xr.__awaiter)(o,void 0,void 0,(function(){var e,t,n=this;return(0,Xr.__generator)(this,(function(r){switch(r.label){case 0:return this._resetTimer(),this._fsm.is(Ah.SESSION_INBOUND)&&this._changesQueue.hasCommitedChanges?[4,this._fsm.event(Ch.SEND)]:[3,6];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),e=this._changesQueue.poll(),[4,(0,ua.pipe)(e,_u.map((function(e){return(0,Xr.__awaiter)(n,void 0,void 0,(function(){var t;return(0,Xr.__generator)(this,(function(n){switch(n.label){case 0:return t=Ih.isChange(e),[4,this._sendMessage(this._processQueueMessage(e))];case 1:return n.sent(),t?[3,3]:(this._log.trace("message sent is not Change, firing CAPI FSM ACK immediately"),[4,this._fsm.event(Ch.ACK)]);case 2:n.sent()?this._changesQueue.ackOperation(e.id):this._log.debug("can not do ack for non change msg because we are in unexpected state",{state:Ah[this._fsm.current]}),n.label=3;case 3:return[2]}}))}))})))];case 3:return r.sent(),[3,5];case 4:return t=r.sent(),this._log.error("unexpected error on sending",t),[3,5];case 5:return[3,7];case 6:this._trySend(this._fsm.current),r.label=7;case 7:return[2]}}))}))},this._processQueueMessage=function(e){return Ih.isChange(e)?o._processSubmitOTMessage(e):"rev"in e.cmd?(0,Xr.__assign)((0,Xr.__assign)({},e.cmd),{rev:e.rev,id:e.id}):(0,Xr.__assign)((0,Xr.__assign)({},e.cmd),{id:e.id})},this._resetTimer=function(){void 0!==o._timeout&&(clearTimeout(o._timeout),o._timeout=void 0)},this._onQueueMsgAccepted=function(e){o._handler.onQueueMsgAccepted({kind:"queue_msg_accepted",message:e})},this._onQueueStateChanged=function(){o._handleReconnectInfo()},this._onQueueMsgDropped=function(e,t){e.filter(Ih.isCmd).forEach((function(e){var n=new ch("message dropped from queue:"+t);switch(e.cmd.action){case"ping":case"option":case"toggle_checks":case"set_context":case"feedback":o._commandsRequester.onError(e.id,n);break;case"get_text_stats":o._statsRequester.onError(e.id,n);break;case"synonyms":o._synonymsRequester.onError(e.id,n);break;case"get_debug_info":o._getTextRequester.onError(e.id,n)}})),o._handler.onQueueMsgDropped({kind:"queue_msgs_dropped",messages:e,reason:t})},this._handler=t,this._context=a,this._dialect=u,this._client=c,this._clientVersion=d,this._extDomain=h,this._sendDelay=g,this._docid=y,this._clientSupports=b,this._isDemoDoc=x,this._startSessionOptions=A,this._idGenerator=O,this._shouldSendFeedback=R;var N=null==_?void 0:_.dslParser;if(void 0!==_){var D=(0,ua.pipe)(_.supportedComponents,Fs.filter(Ie.yR),Fs.collect(Ie.yR));this._sduiConfig={supportedComponents:D,protocol:null!=S?S:_h.Wz.v2,dslSchema:_.dslSchemaVersion}}this._changesQueue=new Ph(this._shouldHaveSeparateRevision,this._onQueueMsgAccepted,this._onQueueMsgDropped,this._onQueueStateChanged,(function(){return o._queueIdGenerator.newId()}),E,k),this._fsm=new Zp("capi",Ah.DISCONNECTED,Ah.CLOSED).with(Ah.ANY).parentOf(Ah.CONNECTED,Ah.CONNECTING,Ah.DISCONNECTED,Ah.WAITING_FOR_OT,Ah.WAITING_FOR_ACK,Ah.SESSION_INBOUND).from(Ah.ANY).to(Ah.CLOSED).on(Ch.CLOSE).from(Ah.DISCONNECTED).to(Ah.CONNECTING).on(Ch.CONNECT).from(Ah.CONNECTING).to(Ah.CONNECTING).on(Ch.CONNECT).from(Ah.CONNECTING).to(Ah.CONNECTED).on(Ch.CONNECTED).from(Ah.CONNECTED,Ah.WAITING_FOR_OT,Ah.WAITING_FOR_ACK,Ah.SESSION_INBOUND,Ah.CONNECTING).to(Ah.DISCONNECTED).on(Ch.DISCONNECT).from(Ah.CONNECTED).to(Ah.WAITING_FOR_OT).on(Ch.WAIT).from(Ah.CONNECTED,Ah.WAITING_FOR_OT).to(Ah.SESSION_INBOUND).on(Ch.READY).from(Ah.SESSION_INBOUND).to(Ah.WAITING_FOR_ACK).on(Ch.SEND).from(Ah.WAITING_FOR_ACK).to(Ah.SESSION_INBOUND).on(Ch.ACK).on(Ah.CONNECTED,this._startSession).on(Ah.WAITING_FOR_OT,this._waitForSubmitOt).on(Ah.SESSION_INBOUND,(function(e){return o._sessionInbound(e.to)})),this._log.isEnabled(zp.i.TRACE)&&this._fsm.verbose(Ah,Ch),n.onConnecting((function(){return o._handleConnecting()})).onConnect((function(e){return o._handleConnect(e)})).onDisconnect((function(e){return o._handleDisconnect(e)})).onMessage((function(e,t){return o._handleMessage(t,N)})),(0,wu.iR)("closeCapiSocket",(function(e,t){void 0===e&&(e=1e3),null!==o._conn&&o._conn._ws.close(e,t)})),(0,wu.iR)("capiState",this),(0,wu.iR)("capiReadyToReceive",(function(){return o._fsm.is(Ah.SESSION_INBOUND)&&o._changesQueue.isEmpty})),(0,wu.iR)("capiRuntimeError",(function(){var e=Vp.ins(0,"test",100500);o.pushChanges(e)}))}return e.prototype.pushChanges=function(e){return this._pushChangesTask(e)},Object.defineProperty(e.prototype,"checkingState",{get:function(){return 0===this._checkedTextSize||1===this._textSize?"idle":this._checkedTextSize>Op.hD&&this._textSize>Op.hD/3?"full":"checking"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asyncChecksState",{get:function(){return this._asyncChecksManager.getState()},enumerable:!1,configurable:!0}),e.prototype.setSessionOption=function(e){switch(e.kind){case Op.rP.Context:return this.setContext(e.context);case Op.rP.GnarContainerId:return this.setOption(e.kind,e.id);default:return(0,bu.vE)(e)}},e.prototype.setContext=function(e){return this._log.debug("setContext(...)"),this._context=e,this._sendInbandCommand({action:"set_context",id:this._idGenerator.newId(),rev:-1,documentContext:Xp.R$.serialize(e)},this._commandsRequester)},e.prototype.setOption=function(e,t){return this._log.trace("Set option "+t),this._sendInbandCommand({id:this._idGenerator.newId(),action:"option",name:e,value:t},this._commandsRequester)},e.prototype.sendUserAction=function(e,t){var n=this;return this._log.debug("sendUserAction",{componentId:e,userAction:t}),(0,ua.pipe)(this._connectionOptions.getSessionId(),ia.fromOption((function(){return new Error("Can not sendUserAction because sessionId is empty")})),Yp.Uo,Yp.tS((function(r){return n._sendInbandCommand({id:n._idGenerator.newId(),action:"user_action",sessionId:r,componentId:e,userAction:t},n._commandsRequester)})))},e.prototype.sendDebugReport=function(e,t){return this._log.debug("sendDebugReport",{componentId:e,errorMessage:t}),this._sendInbandCommand({id:this._idGenerator.newId(),action:"debug_report",type:"sdui_decode_error",componentId:e,errorMessage:t},this._commandsRequester)},e.prototype.sendFeedback=function(e){if(this._log.debug("sendFeedback",e.kind),!this._shouldSendFeedback(e))return this._log.debug("Skip sending ".concat(e.kind," based on CAPI Client configured, see 'shouldSendFeedback'")),Yp.of(void 0);switch(e.kind){case Op.PZ.ACCEPTED:return this._sendAlertAcceptedFeedback(e);case Op.PZ.IGNORE:return this.reportIgnoreFeedback(e.id,e.reason,e.subtype,e.pnameQualifier,e.drilldownSuggestionIds);case Op.PZ.ACKNOWLEDGED:return this.reportAcknowledgeFeedback(e.id,e.subtype,e.text,e.pnameQualifier);case Op.PZ.ADD_TO_DICTIONARY:case Op.PZ.LOOKED:case Op.PZ.CLOSED:case Op.PZ.LIKE:case Op.PZ.DISLIKE:case Op.PZ.WRONG_SUGGESTION:case Op.PZ.OFFENSIVE_CONTENT:case Op.PZ.EXPANDED:case Op.PZ.IGNORE_BULK_ACCEPTED:case Op.PZ.HIDE:return this.reportAlertFeedback(e.id,e.kind,e.subtype);case Op.P2.DRILLDOWN:return this._reportDrilldownFeedback(e.id,e.alternativeIndex,e.drilldownSuggestionIds,e.subtype);case Op.at.SYNONYM_ACCEPTED:return this.reportSynonymFeedback(e.id,e.kind,e.replacementText,e.subtype);case Op.at.SYNONYM_DISMISSED:return this.reportSynonymFeedback(e.id,e.kind,e.subtype);case Op.y_.EMOTION_LIKE:case Op.y_.EMOTION_DISLIKE:case Op.y_.EMOTION_OFFENSIVE:return this.reportEmotionFeedback(e.emotionName,e.kind,e.subtype);case Op.fA.EMOTION_SENTENCE_LIKE:case Op.fA.EMOTION_SENTENCE_DISLIKE:return this.reportEmotionSentenceFeedback(e.id,e.kind);case Op.Mw.MUTE:case Op.Mw.UNMUTE:return this.reportMuteFeedback(e.userMuteCategories,e.userMuteScope,e.kind);case Op.KI.RECHECK_SHOWN:return this.reportSystemFeedback(e.kind);case Op.KX.LENS_CLOSE:case Op.KX.LENS_OPEN:case Op.KX.DISMISS_BY_LENS:return this.reportLensFeedback(e.lensName,e.kind);case Op.VD.AUTOCORRECT_ACCEPT:case Op.VD.AUTOCORRECT_DISMISS:case Op.VD.AUTOCORRECT_REPLACE:return this.reportAutocorrectFeedback(e.kind,e);case Op._Y.COMPLETION_REJECTED:return this.reportAutocompleteRejectedFeedback(e);case Op._Y.COMPLETION_ACCEPTED:case Op._Y.COMPLETION_IGNORED:case Op._Y.COMPLETION_SHOWN:return this.reportAutocompleteFeedback(e.kind,e);case Op.DI.BULK_ACCEPTED:return this.reportAlertsBatchFeedback(e.alertIds,e.kind,e.subtype);case Op.JE.SNIPPET_ACCEPTED:return this.reportSnippetFeedback(e.kind,e.snippetUuid);case Op._l.ASSISTANT_OPENED:return this._reportAssistantFeedback(e.kind);case Op.Q1.AUTOAPPLY_TRIGGERED:case Op.Q1.AUTOAPPLY_LOOKED:case Op.Q1.AUTOAPPLY_REVERTED:return this._reportAutoapplyFeedback(e.alertId,e.kind,e.subtype);default:return(0,bu.vE)(e)}},e.prototype._reportDrilldownFeedback=function(e,t,n,r){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Op.P2.DRILLDOWN,alertId:e,alternativeIndex:t,drilldownSuggestionIds:n,subtype:r},this._commandsRequester)},e.prototype._reportAssistantFeedback=function(e){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:e},this._commandsRequester)},e.prototype._sendAlertAcceptedFeedback=function(e){return"replacementText"in e?this._reportTextAlertAcceptedFeedback(e.id,e.replacementText,e.subtype,e.reason,e.gbPrompt):"alternativeIndex"in e?this._reportTransformJsonAlertAcceptedFeedback(e.id,e.alternativeIndex,e.gapValue,e.subtype,e.drilldownSuggestionIds,e.dismissedTransformGroups,e.reason,e.gbPrompt):(0,bu.vE)(e)},e.prototype.reportIgnoreFeedback=function(e,t,n,r,o){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Op.PZ.IGNORE,alertId:e,userReason:t,subtype:n,pnameQualifier:r,drilldownSuggestionIds:o},this._commandsRequester)},e.prototype.reportAcknowledgeFeedback=function(e,t,n,r){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Op.PZ.ACKNOWLEDGED,alertId:e,subtype:t,pnameQualifier:r,text:n},this._commandsRequester)},e.prototype.reportAlertFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:t,alertId:e,subtype:n},this._commandsRequester)},e.prototype.reportAlertsBatchFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:t,alertIds:e,subtype:n},this._commandsRequester)},e.prototype._reportTextAlertAcceptedFeedback=function(e,t,n,r,o){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Op.PZ.ACCEPTED,alertId:e,text:t,subtype:n,userReason:r,gbPrompt:o},this._commandsRequester)},e.prototype._reportTransformJsonAlertAcceptedFeedback=function(e,t,n,r,o,i,a,s){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Op.PZ.ACCEPTED,alertId:e,alternativeIndex:t,gapValue:n,subtype:r,drilldownSuggestionIds:o,dismissedTransformGroups:i,userReason:a,gbPrompt:s},this._commandsRequester)},e.prototype.reportSynonymFeedback=function(e,t,n,r){switch(t){case Op.at.SYNONYM_ACCEPTED:var o={id:this._idGenerator.newId(),action:"feedback",type:Op.at.SYNONYM_ACCEPTED,text:n,alertId:e,subtype:r};return this._sendInbandCommand(o,this._commandsRequester);case Op.at.SYNONYM_DISMISSED:return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:Op.at.SYNONYM_DISMISSED,alertId:e,subtype:r},this._commandsRequester);default:return(0,bu.vE)(t)}},e.prototype._reportAutoapplyFeedback=function(e,t,n){return this._sendInbandCommand({id:this._idGenerator.newId(),action:"feedback",type:t,alertId:e,subtype:n},this._commandsRequester)},e.prototype.isClosed=function(){return this._fsm.is(Ah.CLOSED)},e.prototype.close=function(e){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return this.isClosed()?(this._log.trace("close: CAPI already closed, skipping"),[2]):(this._log.trace("close: closing CAPI"),[4,this._fsm.event(Ch.CLOSE,e)]);case 1:return t.sent()?this._clear(e):this._log.error("Cannot go to CLOSED state"),[2]}}))}))},e.prototype.getText=function(){return Jp.toPromise(this._sendInbandCommand({id:this._idGenerator.newId(),action:"get_debug_info"},this._getTextRequester))},e.prototype._handleConnecting=function(){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._fsm.event(Ch.CONNECT)];case 1:return e.sent()||this._log.error("Can not enter CONNECTING state",{fsmState:Ah[this._fsm.current]}),[2]}}))}))},e.prototype._handleConnect=function(e){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Xr.__generator)(this,(function(r){switch(r.label){case 0:this._log.trace("_handleConnect(".concat(Ah[this._fsm.current],"): received new ws connection")),this._conn=e,t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._fsm.event(Ch.CONNECTED)];case 2:return r.sent()||(t="failed to switch to CONNECTED state"),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(Boolean(t))throw this._log.warn("Connection cannot be finalized.",t),t;return[2]}}))}))},e.prototype._handleDisconnect=function(e){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Xr.__generator)(this,(function(r){switch(r.label){case 0:return this._log.trace("_handleDisconnect(".concat(Ah[this._fsm.current],")"),e),[4,this._fsm.event(Ch.DISCONNECT,e.reason)];case 1:return t=r.sent(),n=this._fsm.is(Ah.CLOSED)?zp.i.WARN:zp.i.ERROR,t||this._log.log(n,"Can not enter DISCONNECTED state",{reason:e,fsmState:Ah[this._fsm.current]}),[2]}}))}))},e.prototype._handleMessage=function(e,t){var n;if(void 0!==this._reconnectInfo){var r=null!==(n=this._reconnectInfo.messagesReceived)&&void 0!==n?n:0;this._setReconnectInfo((0,Xr.__assign)((0,Xr.__assign)({},this._reconnectInfo),{messagesReceived:r+1}))}switch(this._handler.onMessageReceived({kind:"message_received",message:e}),this._log.isEnabled(zp.i.TRACE)&&this._log.trace("Message <<< "+JSON.stringify(e).replace("\n"," ").substring(0,300)),e.action){case"start":this._handleStart(e);break;case"alert":this._handleAlert(e);break;case"remove":this._handler.onRemove({kind:"alert_removed",alertId:Op.wQ.Id.create(e.id),hint:(0,ua.pipe)(_u.fromNullable(e.hint),_u.filter((function(e){return e===hh.NotFixed}))),mergedIn:(0,ua.pipe)(_u.fromNullable(e.mergedIn),_u.map((function(e){return Op.wQ.Id.create(e)})))});break;case"alert_changes":this._handleAlertChange(e);break;case"finished":this._handleFinish(e);break;case"async_check_finished":this._handleAsyncCheckFinished(e);break;case"complete":this._handleComplete(e);break;case"heatmap":this._handleAttentionHeatmap(e);break;case"attention_widget":this._handleAttentionInfo(e);break;case"submit_ot":this._handleSubmitOtAck(e);break;case"submit_ot_chunk":this._handleSubmitOtChunkAck(e);break;case"feedback":case"option":case"toggle_checks":case"set_context":case"submit_recipients":case"user_action":case"debug_report":case"cheetah":case"shorten_it_submit":case"update_context_info":case"submit_survey_result":this._handleCommandAck(e);break;case"perfstats":this._handleAck(e);break;case"error":this._handleError(e);break;case"pong":this._handlePong(e);break;case"synonyms":this._handleSynonyms(e);break;case"get_snippets_list_response":this._handleSnippets(e);break;case"text_stats":this._handleTextStats(e);break;case"text_maps":this._handleTextMaps(e);break;case"text_info":this._handleTextInfo(e);break;case"emotions":this._handleEmotions(e);break;case"debug_info":this._handler.onDebugInfo({kind:"debug_info",info:e}),this._getTextRequester.onValue(e.id,e.text);break;case"realtime_proofit_availability":this._handleProofitAvailability(e);break;case"realtime_proofit_submit_resp":this._handleProofitSubmit(e);break;case"realtime_proofit_progress":this._handleProofitProgress(e);break;case"realtime_proofit_cancel_resp":this._handleProofitCancelled(e);break;case"shorten_it_finished":this._handleShortenItFinished(e);break;case"published":this._handlePublishedAck(e);break;case"sdui_add":null!=t?this._handleSDUIAdd(e,t):this._handleUnexpectedSDUIMessage(e);break;case"sdui_update":null!=t?this._handleSDUIUpdate(e,t):this._handleUnexpectedSDUIMessage(e);break;case"sdui_remove":null!=t?this._handleSDUIRemove(e):this._handleUnexpectedSDUIMessage(e);break;case"gb_rule_created":this._handler.onGbRuleCreated({kind:"gb_rule_created",categoryTitle:e.categoryTitle,styleGuideId:e.styleGuideId,descriptionLength:e.descriptionLength});break;case"cheetah:setContext":this._handleCheetahSetContext(e);break;case"cheetah:chunk":this._handleCheetahChunk(e);break;case"cheetah:result":this._handleCheetahResult(e);break;case"cheetah:error":this._handleCheetahError(e);break;case"show_survey":this._handleShowSurvey(e);break;default:this._log.error("Unknown message",{message:e}),(0,bu.vE)(e)}},e.prototype._handleCheetahChunk=function(e){this._handler.onCheetahChunk({kind:e.action,message:e})},e.prototype._handleCheetahResult=function(e){this._handler.onCheetahResult({kind:e.action,message:e})},e.prototype._handleCheetahError=function(e){this._handler.onCheetahError({kind:e.action,message:e})},e.prototype._handleCheetahSetContext=function(e){this._handler.onCheetahSetContext({kind:e.action,message:e})},e.prototype._handleAlert=function(e){var t=this;this._handler.beforeAlert({kind:"before_alert"});var n=Op.wQ.fromAlertMessage(e);this._log.trace("_handleAlert",e.id);var r=this._changesQueue.transformAlertAgainstQueue(n);(0,ua.pipe)(r,ia.fromOption((function(){return new Error("alert ".concat(n.id," position overlap: ").concat(JSON.stringify(n).substring(0,200)))})),ia.chain(this._validateAlert),ia.fold((function(e){t._log.isEnabled(zp.i.TRACE)&&t._log.trace("OT ALERT: discarding alert due to error",e)}),(function(e){return t._handler.onAlert({kind:"alert_received",alert:e})})))},e.prototype._handleAlertChange=function(e){return(0,ua.pipe)({kind:"alert_changed",alertId:Op.wQ.Id.create(e.id),rev:e.rev,extraProperties:e.extra_properties&&Op.wQ.parseExtraProperties(e.extra_properties),transformJson:e.transformJson&&Op.A1.toAbs(e.transformJson),muted:e.muted},this._changesQueue.transformChangeAgainstQueue,_u.fold(Ie.Q1,this._handler.onChange))},e.prototype._handleComplete=function(e){this._handler.onAutoComplete({kind:"autocomplete_received",complete:e})},e.prototype._handleAttentionHeatmap=function(e){var t=Op.Vm.fromAttentionHeatmapMessage(e);this._handler.onAttentionHeatmap({kind:"attention_heatmap_received",heatmap:this._changesQueue.transformAttentionHeatmapAgainstQueue(t)})},e.prototype._handleAttentionInfo=function(e){var t;2===e.version?this._handler.onAttentionInfo({kind:"attention_info_received",rev:e.rev,wordsCount:e.wordsCount,checklist:e.checklist.map(kh.fromRaw),headerMessage:e.headerMessage,predictionMessage:e.predictionMessage,hidden:null!==(t=e.hidden)&&void 0!==t&&t}):this._log.error("Got an unsupported attention_widget message version",e)},e.prototype._handleTextMaps=function(e){var t={score:e.score,generalScore:e.generalScore,textMaps:e.textMaps};this._handler.onTextMaps({kind:"text_maps",data:t})},e.prototype._handleTextInfo=function(e){var t={wordsCount:e.wordsCount,charsCount:e.charsCount-1,readingTime:Th.calculateReadingTime(e.wordsCount),speakingTime:Th.calculateSpeakingTime(e.wordsCount),readabilityScore:e.readabilityScore,messages:_u.fromNullable(e.messages),sessionStats:e.sessionStats};this._handler.onTextInfo({kind:"text_info",data:t})},e.prototype._handleEmotions=function(e){this._handler.onEmotions({kind:"emotions",emotions:e.emotions,institutionLogo:e.institutionLogo,brandTonesEnabled:e.brandTonesEnabled,brandTonesConfigured:e.brandTonesConfigured,hidden:e.hidden})},e.prototype._handleProofitAvailability=function(e){this._handler.onProofitAvailability({id:e.id,kind:"realtime_proofit_availability",available:e.available,quota:e.quota})},e.prototype._handleProofitSubmit=function(e){this._handler.onProofitSubmit({id:e.id,kind:"realtime_proofit_submit_resp",status:e.status})},e.prototype._handleProofitProgress=function(e){"in_progress"===e.status?this._handler.onProofitProgress((0,Xr.__assign)({kind:"realtime_proofit_in_progress"},e)):"completed"===e.status?this._handler.onProofitCompleted((0,Xr.__assign)({kind:"realtime_proofit_completed"},e)):"error"===e.status?this._handler.onProofitProgressProblem((0,Xr.__assign)({kind:"realtime_proofit_progress_error"},e)):"rejected"===e.status&&this._handler.onProofitProgressProblem((0,Xr.__assign)({kind:"realtime_proofit_progress_rejected"},e))},e.prototype._handleProofitCancelled=function(e){this._handler.onProofitCancelled({id:e.id,kind:"realtime_proofit_cancel_resp",refunded:e.refunded,quota:e.quota})},e.prototype._handleShortenItFinished=function(e){this._handler.onShortenItFinished({kind:"shorten_it_finished",alertId:Op.wQ.Id.create(e.alertId)})},e.prototype._handlePublishedAck=function(e){this._handleCommandAck(e),this._handler.onPublishedAck({kind:"published_ack",survey:e.survey})},e.prototype._handleShowSurvey=function(e){this._handler.onShowSurvey({kind:"show_survey",survey:e.survey})},e.prototype._handleFinish=function(e){this._log.trace("_handleFinish"),this._handler.onBeforeFinish({kind:"before_finish"}),this._changesQueue.ackRevision(e.rev);var t=this._createFinishEvent(e);this._handler.onFinish(t)},e.prototype._handleAsyncCheckFinished=function(e){this._handler.onBeforeAsyncCheckFinish({kind:"before_async_check_finish"}),this._asyncChecksManager.finish(e),this._handler.onAsyncCheckFinish({kind:"async_check_finished",check:e.check,revision:e.rev,outcomeScores:e.outcomeScores})},e.prototype._handleSubmitOtAck=function(e){this._log.trace("<<< Acknowledge for "+e.action,{message:e}),this._fsm.is(Ah.WAITING_FOR_ACK)?(this._handleAck(e),this._changesQueue.ackOperation(e.id),this._fsm.event(Ch.ACK)):this._log.error("Got an unexpected submit_ot ack",{curentState:Ah[this._fsm.current]})},e.prototype._sendNextOtChunk=function(e){var t=this;return 0===e.chunks.length?(this._log.trace("no more chunks, sending final submit_ot message"),Yp.Y3((function(){return(0,Xr.__awaiter)(t,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._sendMessage(e.submitOt)];case 1:return[2,t.sent()]}}))}))}),(function(e){return new Error("failed to send final submit_ot message: ".concat(e))}))):(this._log.trace("sending next submit_ot chunk"),(0,ua.pipe)(Yp.Y3((function(){return(0,Xr.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Xr.__generator)(this,(function(n){switch(n.label){case 0:return t=e.chunks.splice(0,1)[0],[4,this._sendMessage(t)];case 1:return n.sent(),[2,t]}}))}))}),(function(e){return new Error("failed to send next chunk message: ".concat(e))})),Yp.tS((function(n){return t._waitForOtChunkAck(n,e)}))))},e.prototype._waitForOtChunkAck=function(e,t){var n=this;return(0,ua.pipe)(this._otChunksNotifier.waitFor(e.id,t),Yp.tS(this._sendNextOtChunk.bind(this)),Yp.Vn((function(e){return n._log.error("failed sending OT chunks",e),e})))},e.prototype._handleSubmitOtChunkAck=function(e){this._log.trace("<<< Acknowledge for "+e.action,{message:e}),this._otChunksNotifier.notify(e.id)},e.prototype._handleCommandAck=function(e){this._log.trace("<<< Acknowledge for "+e.action,{message:e}),this._commandsRequester.onValue(e.id),this._handleAck(e)},e.prototype._handleAck=function(e){(0,ua.pipe)(jh(e),_u.fold(Ie.gn,this._handler.onAck))},e.prototype._handlePong=function(e){var t=self.performance.now();this._handler.onPong({kind:"pong",latency:(0,ua.pipe)(_u.fromNullable(this._pingsMap.get(e.id)),_u.map((function(e){return t-e})))})},e.prototype._handleSynonyms=function(e){var t=this._parseSynonymsResult(e);this._handler.onSynonyms({kind:"synonyms",synonyms:t,word:e.token,position:e.synonyms.pos}),this._synonymsRequester.onValue(e.id,t)},e.prototype._handleSnippets=function(e){this._handler.onSnippets({kind:"get_snippets_list_response",snippets:e}),this._snippetsRequester.onValue(e.id,e)},e.prototype._handleTextStats=function(e){e.readingTime=Th.calculateReadingTime(e.words),e.speakingTime=Th.calculateSpeakingTime(e.words),this._handler.onStats({kind:"stats",stats:e}),this._statsRequester.onValue(e.id,e)},e.prototype._handleSDUIAdd=function(e,t){var n=this;(0,ua.pipe)(this._toSduiIdDslSchemaTuple(e,t),_u.map((function(t){var r=t[0],o=t[1];return n._handler.onSDUI({kind:e.action,sdui:o,sduiRootId:r,rev:e.rev})})))},e.prototype._handleSDUIRemove=function(e){this._handler.onSDUI({kind:e.action,sduiRootId:Op.t_.Id.create(e.sduiRootId),rev:e.rev})},e.prototype._handleSDUIUpdate=function(e,t){var n=this;(0,ua.pipe)(this._toSduiIdDslSchemaTuple(e,t),_u.map((function(t){var r=t[0],o=t[1];return n._handler.onSDUI({kind:e.action,sdui:o,sduiRootId:r,rev:e.rev})})))},e.prototype._handleUnexpectedSDUIMessage=function(e){null!=this._sduiConfig?this._log.error("skip ".concat(e.messageId," due to not configured dslParser.")):this.sendDebugReport(e.messageId,"got unexpected sdui message without sending sduiConfig")()},e.prototype._toSduiIdDslSchemaTuple=function(e,t){var n=this,r=e.sdui,o=e.rev,i=e.messageId,a=e.sduiRootId,s=Op.t_.Id.create(a);return void 0===r?(this.sendDebugReport(i,"got unexpected empty sdui content for ".concat(o))(),this._log.error("skip ".concat(i," due to empty sdui content"),{messageId:i,rev:o}),_u.none):(0,ua.pipe)(t(r),ia.fold((function(e){return n.sendDebugReport(i,e.message)(),n._log.error("skip ".concat(i," due to incorrect sdui content"),{messageId:i,rev:o}),_u.none}),(function(e){return _u.some([s,e])})))},e.prototype._createFinishEvent=function(e){return{kind:"finish",revision:e.rev,score:(0,ua.pipe)(_u.fromNullable(e.generalScore),_u.filter((function(e){return e>=0})),_u.map((function(t){return{errorRateScore:e.score,rank:t}}))),scoreStatus:_u.fromNullable(e.scoresStatus),removed:new Set(e.removed),dialect:e.dialect,outcomeScores:_h.v0.OutcomeScores.normalize(e.outcomeScores),foreign:e.foreign}},e.prototype._parseSynonymsResult=function(e){var t=this,n=function(e){return e.derived};return{id:e.id.toString(),originalWord:e.token,synonymsOrGroups:function(e){return 0===e.synonyms.meanings.length?_u.none:1===e.synonyms.meanings.length?_u.some(ia.left(e.synonyms.meanings[0].synonyms.map(n))):_u.some(ia.right(e.synonyms.meanings.map((function(r){return void 0===r.meaning&&t._log.warn("Absent meaning in synonyms group.",{token:e.token}),{meaning:Boolean(r.meaning)?r.meaning:"",words:r.synonyms.map(n)}}))))}(e),pname:e.synonyms.pname}},e.prototype._trySend=function(e){void 0===this._timeout&&e===Ah.SESSION_INBOUND?this._timeout=self.setTimeout(this._send,this._sendDelay):e!==Ah.WAITING_FOR_OT||this._changesQueue.isEmpty?this._log.trace("_trySend(".concat(Ah[e],") send timeout already set or not waiting for ot, ignoring")):(this._log.trace("_trySend(".concat(Ah[e],") moving to READY")),this._fsm.event(Ch.READY),this._handler.onReady({kind:"ready"}))},e.prototype._shouldHaveSeparateRevision=function(e){return"set_context"===e.action},e.prototype._pushChangesTask=function(e){var t=this;this._log.debug("pushChanges(".concat(Ah[this._fsm.current],"):"),JSON.stringify(e));return Vp.isReset(e)&&this._fsm.is(Ah.SESSION_INBOUND,Ah.WAITING_FOR_ACK)?(this._log.debug("pushChanges(".concat(Ah[this._fsm.current],"): got reset while active session, starting new session")),function(){return(0,Xr.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Xr.__generator)(this,(function(n){switch(n.label){case 0:this._log.debug("pushChanges(".concat(Ah[this._fsm.current],"): starting new session")),n.label=1;case 1:return n.trys.push([1,3,,4]),this.resetReconnectInfo(),this._resetIdGenerators(),this._cleanupOldSession("new session started by pushing RESET state"),[4,this._startSession()];case 2:return n.sent(),[2,this._pushChanges(e)];case 3:return t=n.sent(),this._log.warn("pushChanges(".concat(Ah[this._fsm.current],"): failed sending start message: "),t),[2,ia.left(t)];case 4:return[2]}}))}))}):Yp.fj((function(){return t._pushChanges(e)}))},e.prototype._pushChanges=function(e){var t=this;if(!this._canSend())return this._log.debug("pushChanges: cannot send, rejecting changes",e.kind),ia.left(new lh("Cannot accepts changes as WS connection is down"));var n=function(e){t._asyncChecksManager.stage(t._changesQueue.localRevision);var n=t._changesQueue.pushChanges(e);return t._textSize=e.prevLen+e.length,t._trySend(t._fsm.current),ia.right(_u.some(n))};return Vp.isDelta(e)?this._fsm.is(Ah.WAITING_FOR_OT)?ia.left(new dh("Capi is waiting for reset change but got a delta, dropping change")):n(e):Vp.isReset(e)?n(Vp.delta(e.delta)):(this._changesQueue.isEmpty||this.ping(),ia.right(_u.none))},e.prototype._sendInbandCommand=function(e,t){return this._sendLazyInbandCommand((function(){return e}),t)},e.prototype._sendLazyInbandCommand=function(e,t){var n=this;return function(){var r=e();if(n._log.trace("_sendInbandCommand(".concat(Ah[n._fsm.current],"): "),r.action),n._canSend()){var o=n._changesQueue.isEmpty,i=n._changesQueue.pushCommand(r),a=t.watchRequest(i);return o?(n._log.trace("_sendInbandCommand: Q.isEmpty, sending command immediately"),n._send()):(n._log.trace("_sendInbandCommand: Q.notEmpty, delaying sending command"),n._trySend(n._fsm.current)),a}return n._log.debug("_sendInbandCommand: cannot send, rejecting command",r.action),Promise.resolve(ia.left(new lh("Cannot send commands as WS connection is down")))}},e.prototype._processSubmitOTMessage=function(e){if(Ih.isChunkedChange(e)){var t=e.chunks.map((function(e){return{id:e.id,action:"submit_ot_chunk",chunk:e.chunk}})),n=t.splice(0,1)[0],r={chunks:t,submitOt:{id:e.id,action:"submit_ot",rev:e.rev,doc_len:e.change.prevLen,chunked:!0}};return this._waitForOtChunkAck(n,r)(),n}return{id:e.id,action:"submit_ot",rev:e.rev,doc_len:e.change.prevLen,deltas:[e.change.delta],deltasString:e.deltasString,chunked:!1}},e.prototype._sendMessage=function(e){var t=this;return this._log.isEnabled(zp.i.TRACE)&&this._log.trace("Sending >>>> "+JSON.stringify(e).replace("\n"," ").substring(0,300)),this._handler.onMessageSent({kind:"message_sent",message:e}),"ping"===e.action&&this._pingsMap.set(e.id,self.performance.now()),(0,bu.CE)(this._conn,"_sendMessage should never be called without a connection").send(e).catch((function(e){return t._log.debug("fail on send",e)})).then((function(){var e;if(void 0!==t._reconnectInfo){var n=null!==(e=t._reconnectInfo.messagesSent)&&void 0!==e?e:0;t._setReconnectInfo((0,Xr.__assign)((0,Xr.__assign)({},t._reconnectInfo),{messagesSent:n+1}))}}))},Object.defineProperty(e.prototype,"_checkedTextSize",{get:function(){return this._changesQueue.stagedAmount},enumerable:!1,configurable:!0}),e.prototype._clear=function(e){this._log.debug("clearing message queue, reason: "+e),this._pingsMap.clear(),this._changesQueue.isEmpty||this._log.warn("clean queue with messages",{reason:e,queue:this._changesQueue.toJSON()}),this._changesQueue.clear(e),this._asyncChecksManager.reset(),this._resetTimer()},e.prototype._handleError=function(e){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){switch(e.error){case Op.jK.CANNOT_GET_TEXT_STATS:this._statsRequester.onError(e.id,new Error("Server Error"));break;case Op.jK.CANNOT_FIND_SYNONYM:this._synonymsRequester.onError(e.id,new Error("can not find synonym"));break;case Op.jK.RUNTIME_ERROR:this._fsm.is(Ah.WAITING_FOR_ACK)?(this._log.error("Got runtime_error for submit_ot",{message:e}),this._clear("runtime_error on submit_ot")):(this._handler.onError((0,Xr.__assign)({kind:"error"},e)),this._clear("runtime_error"));break;default:this._handler.onError((0,Xr.__assign)({kind:"error"},e)),this._log.error("Error",{message:e})}return[2]}))}))},e}(),Mh=function(){function e(){this._wasChecked={plagiarism:!1},this.reset()}return e.prototype.getState=function(){return{plagiarism:this._pendingRevision>this._finishedRevisions.plagiarism?this._wasChecked.plagiarism?"checking":"full":"idle"}},e.prototype.stage=function(e){this._pendingRevision=Math.max(this._pendingRevision,e)},e.prototype.finish=function(e){this._finishedRevisions[e.check]=Math.max(this._finishedRevisions[e.check],e.rev),this._wasChecked[e.check]=!0},e.prototype.reset=function(){this._pendingRevision=0,this._finishedRevisions={plagiarism:-1}},e.prototype.resetCheck=function(e){this._finishedRevisions[e]=-1},e}(),jh=function(e){switch(e.action){case"option":return _u.some({kind:"option_ack"});case"set_context":case"submit_ot":return _u.some({kind:"set_context_ack",revision:e.rev});case"submit_recipients":return _u.some({kind:"submit_recipients_ack"});case"toggle_checks":return _u.some({kind:"toggle_checks_ack"});case"feedback":return _u.some({kind:"feedback_ack",outcomeScores:e.scores?_h.v0.OutcomeScores.normalize(e.scores):void 0,scoreStatus:e.scoresStatus});case"published":return _u.some({kind:"published_ack",survey:e.survey});case"submit_survey_result":return _u.some({kind:"submit_survey_result_ack"});case"cheetah":return _u.some({kind:"cheetah:ack",id:e.id});case"submit_ot_chunk":case"shorten_it_submit":case"perfstats":case"user_action":case"debug_report":case"update_context_info":return _u.none;default:return(0,bu.vE)(e)}};!function(e){e.validate=function(e){var t=e.extra_properties.drilldownTree;return void 0===t?ia.right(e):(0,ua.pipe)(e,ia.fromPredicate(Op.wQ.withTransformJson,(function(){return n("no transformJSON")})),ia.chain((function(e){var t=e.transformJson.alternatives;return(0,ua.pipe)(t,ia.fromOption((function(){return n("no alternatives")})))})),ia.chain((function(o){var i=o.alternatives;return t.length>0&&r(i)(t)?ia.right(e):ia.left(n("incomplete tree"))})));function n(t){return new Error("Incorrect drilldownTree: ".concat(JSON.stringify(e.extra_properties.drilldownTree)," - ").concat(t))}function r(e){return function(t){return t.every((function(t){var n=t[0],o=t[1];return void 0!==e[n]&&(!!Op.H5.isLeaf(o)||r(e)(o))}))}}}}(Rh||(Rh={}));var Lh=function(){function e(e,t,n){var r=this,o=e.handler,i=e.reconnectHandler,a=void 0===i?Fp.getDefaultReconnect(Fp.ClientType.capi):i,s=e.maxReconnectDelay,u=e.baseReconnectDelay,c=(0,Xr.__rest)(e,["handler","reconnectHandler","maxReconnectDelay","baseReconnectDelay"]);this._connect=t,this._ws=n,this._log=Pp.C8.Logging.getLogger("coreclients.capi.connection"),this._isIdle=!1,this._isStarted=!1,this._currentSessionId=xu.empty(),this._getSessionId=function(){return r._currentSessionId};var l=(0,Xr.__assign)((0,Xr.__assign)({},o||{}),{onError:function(e){var t,n;null===(t=r._onConnectionFailed)||void 0===t||t.call(r,new Error("Server Error during session start: code(".concat(e.error,") severity(").concat(e.severity,")"))),null===(n=null==o?void 0:o.onError)||void 0===n||n.call(o,e)},onWaitForOT:function(e){var t;(0,bu.kG)(void 0!==r._onConnectionSuccess&&void 0!==r._onConnectionFailed,"expected initial connect promise to be initialized at this stage"),r._log.trace("sending initial reset Delta to CAPI"),r._capi.pushChanges(r._contentSource())().then(ia.fold((function(e){r._onConnectionFailed(e),r._onConnectionFailed=void 0}),_u.fold(wu.Q1,(function(e){r._onConnectionSuccess(e),r._onConnectionSuccess=void 0})))),null===(t=null==o?void 0:o.onWaitForOT)||void 0===t||t.call(o,e)},onSessionStarted:function(e){var t;e.isNewSession||(r._onConnectionSuccess(),r._onConnectionSuccess=void 0),r._currentSessionId=_u.some(e.sessionUuid),null===(t=null==o?void 0:o.onSessionStarted)||void 0===t||t.call(o,e)}});this._handler=Object.assign(new Kp,l),this._ws.onMessage((function(e,t){r._capi.isStable(t)&&d.reset()})).onConnecting((function(){r._isIdle=!1})).onConnect((function(){return r._handler.onConnect({kind:"connect"})})).onDisconnect((function(e){if(r._currentSessionId=_u.none,!r._capi.isClosed()){var t={canGoIdle:r._capi.canGoIdle(),isStable:r._capi.isStable()};r._log.debug("calling reconnect handler:",t),(0,ua.pipe)(a(e,d,t),(function(t){return r._handler.onDisconnect({kind:"disconnect",reason:e,reconnectCounter:d.retryStatus.iterNumber,reconnectResult:t}),t}),ia.fold((function(e){r._log.warn("error reconnecting, closing CAPI:",e.message),r._capi.close("error reconnecting:"+e.message)}),(function(e){"idle"===e.kind&&(r._isIdle=!0)})))}}));var d=new Fp.ReconnectSchedulerImpl((function(){return r.connect(r._contentSource).then((function(e){var t=e[0];e[1];return t}))}),[Fp.defaultRetryPolicy(u,s)]);this._capi=new Dh(c,this._handler,this._ws,{getSessionId:this._getSessionId})}return e.prototype.connect=function(e,t){return void 0===t&&(t=!0),(0,Xr.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,Xr.__generator)(this,(function(o){switch(o.label){case 0:return(0,bu.kG)(!this._capi.isClosed(),"cannot connect when CAPI is closed"),t||this._capi.resetReconnectInfo(),this._isIdle=!1,this._isStarted=!0,this._contentSource=e,this._log.trace("connect: initializing new ws connection"),[4,this._connect(this._ws)];case 1:return n=o.sent(),this._conn=n,[2,new Promise((function(e,t){r._onConnectionFailed=t,r._onConnectionSuccess=function(t){return e(t?[n,t]:[n])},setTimeout((function(){return t("failed to reconnect or connect to new CAPI session")}),5e3)}))]}}))}))},e.prototype.close=function(e,t){return void 0===e&&(e=Fp.WsCodes.NORMAL_CLOSURE),(0,Xr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Xr.__generator)(this,(function(r){switch(r.label){case 0:return n=Boolean(t)?t:"CAPI WS Close called",this._log.trace("close: closing CAPI because: ".concat(n)),[4,this._capi.close(n)];case 1:return r.sent(),this._conn?(this._log.debug("close: closing connection because: ".concat(n)),[4,this._conn.close({code:e,reason:n})]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},Object.defineProperty(e.prototype,"isIdle",{get:function(){return this._isIdle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDisconnected",{get:function(){return this._ws.isDisconnected()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wasStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"client",{get:function(){return this._capi},enumerable:!1,configurable:!0}),e}(),Uh=function(e,t){var n=this;this._innerWSHandler=e,this.accessToken=t,this.onConnecting=function(e){return n._innerWSHandler.onConnecting(e),n},this.onConnect=function(e){return n._innerWSHandler.onConnect(e),n},this.onDisconnect=function(e){return n._innerWSHandler.onDisconnect(e),n},this.onMessage=function(e){return n._innerWSHandler.onMessage(e),n},this.connect=function(e){return(0,Xr.__awaiter)(n,void 0,void 0,(function(){var t,n,r;return(0,Xr.__generator)(this,(function(o){switch(o.label){case 0:return"function"!=typeof this.accessToken?[3,2]:[4,this.accessToken()];case 1:return n=o.sent(),[3,3];case 2:n=void 0,o.label=3;case 3:return void 0!==(t=n)&&((r=new URL(e)).searchParams.append("accessToken",t),e=r.toString()),[2,this._innerWSHandler.connect(e)]}}))}))},this.isDisconnected=function(){return n._innerWSHandler.isDisconnected()}};const Fh={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Bh;const Gh=new Uint8Array(16);function zh(){if(!Bh&&(Bh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bh(Gh)}const Wh=[];for(let e=0;e<256;++e)Wh.push((e+256).toString(16).slice(1));function qh(e,t=0){return(Wh[e[t+0]]+Wh[e[t+1]]+Wh[e[t+2]]+Wh[e[t+3]]+"-"+Wh[e[t+4]]+Wh[e[t+5]]+"-"+Wh[e[t+6]]+Wh[e[t+7]]+"-"+Wh[e[t+8]]+Wh[e[t+9]]+"-"+Wh[e[t+10]]+Wh[e[t+11]]+Wh[e[t+12]]+Wh[e[t+13]]+Wh[e[t+14]]+Wh[e[t+15]]).toLowerCase()}const Vh=function(e,t,n){if(Fh.randomUUID&&!t&&!e)return Fh.randomUUID();const r=(e=e||{}).random||(e.rng||zh)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return qh(r)};var Hh;try{Hh=null!==WebSocket&&void 0!==WebSocket?WebSocket:self.MozWebSocket}catch(Tn){}function $h(e,t){return Boolean(t)?new Hh(e,t):new Hh(e)}Boolean(Hh)&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty($h,e,{get:function(){return Hh[e]}})}));var Kh,Yh,Jh=Boolean(Hh)?$h:null;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.CLOSED=3]="CLOSED",e[e.ANY=4]="ANY"}(Kh||(Kh={})),function(e){e[e.CONNECT=0]="CONNECT",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECT=2]="DISCONNECT",e[e.SEND=3]="SEND",e[e.CLOSE=4]="CLOSE"}(Yh||(Yh={}));var Xh,Qh=function(e){Pp.C8.Logging.getLogger("coreclients.errPrintln").error("WebSocket Error",e)},Zh=function(){function e(e){var t=this;this._createWSInstance=e,this._log=Pp.C8.Logging.getLogger("coreclients.ws"),this._ondisconnect=[],this._onconnecting=[],this._onconnect=[],this._onerror=[Qh],this._onmessage=[],this._read=function(e){try{var t=JSON.parse(e);if(Boolean(t)&&"object"==typeof t&&null!==t)return t}catch(e){}return e},this._write=function(e){return"string"==typeof e?e:JSON.stringify(e)},this._createConnection=function(e){return new ef(e,t._write)},this._fsm=new Zp("ws",Kh.DISCONNECTED,Kh.CLOSED).with(Kh.ANY).parentOf(Kh.CLOSED,Kh.CONNECTED,Kh.CONNECTING,Kh.DISCONNECTED).from(Kh.CONNECTING).to(Kh.CONNECTED).on(Yh.CONNECTED).from(Kh.CONNECTED,Kh.CONNECTING).to(Kh.DISCONNECTED).on(Yh.DISCONNECT).from(Kh.DISCONNECTED).to(Kh.CONNECTING).on(Yh.CONNECT).from(Kh.ANY).to(Kh.CLOSED).on(Yh.CLOSE).from(Kh.CONNECTED).to(Kh.CONNECTED).on(Yh.SEND).on(Kh.CONNECTED,(function(e){return(0,Xr.__awaiter)(t,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return e.from===Kh.CONNECTED?[3,2]:[4,Promise.all(this._onconnect.map((function(t){return Promise.resolve(t(e.args))})))];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})).on(Kh.DISCONNECTED,(function(e){return t._ondisconnect.forEach((function(t){return t(e.args)}))})),this._log.isEnabled(zp.i.TRACE)&&this._fsm.verbose(Kh,Yh)}return e.create=function(t){return void 0===t&&(t=function(e){return new Jh(e)}),new e(t)},e.prototype.reader=function(e){return this._read=e,this},e.prototype.writer=function(e){return this._write=e,this},e.prototype.withConnection=function(e){return this._createConnection=e,this},e.prototype.onConnecting=function(e){return this._onconnecting.push(e),this},e.prototype.onConnect=function(e){return this._onconnect.push(e),this},e.prototype.onDisconnect=function(e){return this._ondisconnect.push(e),this},e.prototype.onMessage=function(e){return this._onmessage.push(e),this},e.prototype.onError=function(e){return this._onerror.push(e),this},e.prototype.connect=function(e){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){return(0,bu.kG)(this.isDisconnected(),"can only connect WS that is currently disconnected, was ".concat(Kh[this._fsm.current])),[2,this._createWebSocket(e,this._fsm)]}))}))},e.prototype.isDisconnected=function(){return this._fsm.is(Kh.DISCONNECTED)},e.prototype.isConnecting=function(){return this._fsm.is(Kh.CONNECTING)},e.prototype.isConnected=function(){return this._fsm.is(Kh.CONNECTED)},e.prototype._createWebSocket=function(e,t){var n=this;return this._log.trace("_createWebSocket(".concat(Kh[t.current],")")),t.event(Yh.CONNECT).then((function(r){return new Promise((function(o,i){if(!r){var a=new of({status:"Unknown",message:"Cannot connect",code:Fp.WsCodes.UNKNOWN_WS_ERROR,url:e});return t.event(Yh.DISCONNECT,new rf(a)),void i(new Error("\n            WebSocket [ERROR] FSM cannot be switched to CONNECTING state from ".concat(Kh[t.current],"\n          ")))}n._log.debug("Connecting to "+e),n._onconnecting.forEach((function(e){return e()}));var s=n._createWSInstance(e),u=function(e){var t=xu.empty();return{scheduleIO:function(n){(0,ua.pipe)(t,_u.map(self.clearTimeout)),t=(0,ua.pipe)(n,_u.map((function(t){return self.setTimeout(t,e)})))}}}(1e3);function c(e){var n=t.is(Kh.CONNECTING);t.event(Yh.DISCONNECT,e),n&&i(e.error)}s.onopen=function(a){return(0,Xr.__awaiter)(n,void 0,void 0,(function(){var n,a,u,c=this;return(0,Xr.__generator)(this,(function(l){switch(l.label){case 0:this._log.debug("Connection to ".concat(e," opened")),n=new tf(t,this._createConnection(s,this._write)),a=void 0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t.event(Yh.CONNECTED,n)];case 2:return(r=l.sent())||(a=new Error("WebSocket [ERROR] FSM cannot be switched to CONNECTED state from ".concat(Kh[t.current]))),[3,4];case 3:return u=l.sent(),this._log.warn("WebSocket [ERROR] FSM cannot be switched to CONNECTED state due to error in event handler",u),a=u,[3,4];case 4:return Boolean(a)?(i(a),s.close(Fp.WsCodes.BLOCKED_BY_CLIENT,"WebSocket lib initialized"),[2]):(s.onmessage=function(e){var t=c._read(e.data);c._onmessage.forEach((function(e){return e(n,t)}))},o(n),[2])}}))}))},s.onclose=function(r){n._log.debug("Connection to ".concat(e," closed"),{code:r.code,reason:r.reason,fsmState:Kh[t.current]}),u.scheduleIO(_u.none);var o=new of({status:r.reason,message:"Connection closed: "+r.reason,code:r.code,url:e});c(new rf(o))},s.onerror=function(){n._log.debug("Connection to ".concat(e," errored"));var t=new of({status:"ws_error",message:"WebSocket error",url:e}),r=new rf(t);u.scheduleIO(_u.some((function(){try{n._onerror.forEach((function(e){return e(t)}))}catch(e){n._log.error("OnError handler thrown an error",e)}c(r)})))}}))}))},e}(),ef=function(){function e(e,t){this._ws=e,this._serializer=t}return e.prototype.send=function(e){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){return[2,this._ws.send(this._serializer(e))]}))}))},e.prototype.close=function(e){var t=this,n=void 0===e?{}:e,r=n.code,o=void 0===r?Fp.WsCodes.NORMAL_CLOSURE:r,i=n.reason;return new Promise((function(e){t._ws.close(o,i),e()}))},Object.defineProperty(e.prototype,"state",{get:function(){return this._ws.readyState},enumerable:!1,configurable:!0}),e}(),tf=function(){function e(e,t){this._fsm=e,this._inner=t,this._log=Pp.C8.Logging.getLogger("coreclients.ws.connection")}return Object.defineProperty(e.prototype,"_ws",{get:function(){return this._inner._ws},enumerable:!1,configurable:!0}),e.prototype.send=function(e){var t=this;return this._fsm.event(Yh.SEND).then((function(n){if(!n)throw new Error("WebSocket [ERROR]: Trying to send on invalid connection state: "+Kh[t._fsm.current]);if(t.state!==Xh.State.OPEN)throw new Error("WebSocket [ERROR]: Trying to send on invalid websocket state: "+Xh.State[t.state]);return t._inner.send(e)}))},e.prototype.close=function(e){var t=this,n=void 0===e?{}:e,r=n.code,o=void 0===r?Fp.WsCodes.NORMAL_CLOSURE:r,i=n.reason;return this._fsm.event(Yh.CLOSE).then((function(e){return e?(t._log.debug("Closing connection",{code:o,reason:i,fsmState:Kh[t._fsm.current]}),t._inner.close({code:o,reason:i})):(t._log.warn("Tried to close connection which is already closed or closing",{fsmState:Kh[t._fsm.current]}),Promise.resolve())}))},Object.defineProperty(e.prototype,"state",{get:function(){return this._inner.state},enumerable:!1,configurable:!0}),e}();!function(e){!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(e.State||(e.State={}))}(Xh||(Xh={}));var nf,rf=function(){function e(e){this._error=e}return e.prototype.toString=function(){return this._error.message},Object.defineProperty(e.prototype,"code",{get:function(){return this._error.code},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return"WebSocket [CLOSE]: statusCode="+this._error.code+" reason: "+this._error.status},enumerable:!1,configurable:!0}),e}();!function(e){e.is=function(e){return null!=e&&(void 0!==e.code||void 0!==e.reason)}}(nf||(nf={}));var of=function(e){function t(t){var n=t.code,r=void 0===n?-1:n,o=t.status,i=t.url,a=t.message,s=t.body,u=e.call(this,a)||this;return u.name="WSError",u.url=i,u.code=function(e,t){if(1005===e&&Boolean(t)){var n=t.toLowerCase();return n.indexOf("user not found")>=0?Fp.WsCodes.UNAUTHORIZED:n.indexOf("cannot find document")>=0?Fp.WsCodes.NOT_FOUND:n.indexOf("SERVER_SHUTDOWN")>=0?Fp.WsCodes.SERVER_SHUTDOWN:e}return e}(r,a),u.body=s,u.status=o,u}return(0,Xr.__extends)(t,e),t.prototype.toString=function(){return"Websocket Error\n      Message: ".concat(this.message,"\n      Status: ").concat(this.status,"\n      Code: ").concat(this.code,"\n      Url: ").concat(this.url)},t}(bu.sH);var af=function(){function e(e,t){this._innerCon=e,this._addTimer=t}return e.prototype.send=function(e){return this._innerCon.send(this._addTimer(e))},e.prototype.close=function(e){return this._innerCon.close(e)},Object.defineProperty(e.prototype,"_ws",{get:function(){return this._innerCon._ws},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._innerCon.state},enumerable:!1,configurable:!0}),e}(),sf=function(){return Math.trunc(self.performance.now())};function uf(e,t){return new ef(e,t)}var cf=function(){function e(e,t,n,r,o,i){var a=this;void 0===n&&(n=10),void 0===r&&(r=sf),void 0===o&&(o=Vh),void 0===i&&(i=uf),this._innerWs=e,this._idGenerator=t,this._bufferSize=n,this._clientClock=r,this._timerIdGenerator=o,this._defaultConnection=i,this._log=Pp.C8.Logging.getLogger("coreclients.capi.latencyMeasuringWSHandler"),this._timers=[],this._connection=null,this._innerWs=e.onDisconnect((function(){a._timers=[]})).onMessage((function(e,t){a._processTimerResponse(t)})).withConnection((function(e,t){return new af(a._defaultConnection(e,t),(function(e){return a._addTimerToRequest(e)}))})).onConnect((function(e){a._connection=e}))}return e.prototype.onConnecting=function(e){return this._innerWs.onConnecting(e),this},e.prototype.onConnect=function(e){return this._innerWs.onConnect(e),this},e.prototype.onDisconnect=function(e){return this._innerWs.onDisconnect(e),this},e.prototype.onMessage=function(e){return this._innerWs.onMessage(e),this},e.prototype.connect=function(e){return this._innerWs.connect(e)},e.prototype.isDisconnected=function(){return this._innerWs.isDisconnected()},e.prototype._addTimerToRequest=function(e){if("string"==typeof e)return e;switch(e.action){case"ping":case"submit_ot":return(0,Xr.__assign)((0,Xr.__assign)({},e),{timer:{client_clock:this._clientClock(),id:this._timerIdGenerator()}});default:return e}},e.prototype._processTimerResponse=function(e){var t=this;switch(e.action){case"pong":case"finished":return void(e.timer&&(this._timers.push({id:e.timer.id,name:e.timer.name,client_clock:this._clientClock()}),this._timers.length>=this._bufferSize&&setTimeout((function(){return t._flush()}),0)));default:return}},e.prototype._flush=function(){this._timers.length>0&&(null===this._connection?this._log.warn("tried flushing when not connected"):(this._connection.send({id:this._idGenerator.newId(),action:"perfstats",timers:this._timers}),this._timers=[]))},e}(),lf=__webpack_require__(66310);var df=__webpack_require__(23063);function pf(e){return function(t){return t.lift(new hf(e))}}var hf=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new ff(e,this.value))},e}(),ff=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return Xr.__extends(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(Qr.L),gf=__webpack_require__(76974),mf=__webpack_require__(68425);function yf(){return(0,mf.J)(1)}function vf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yf()(gf.of.apply(void 0,e))}var bf=__webpack_require__(67827);function _f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,bf.K)(n)?(e.pop(),function(t){return vf(e,t,n)}):function(t){return vf(e,t)}}class wf{constructor(e,t,n,r){var o,i;this._events=e,this._capi=t,this._ded=n,this._capiConnection=r,this._log=Pp.C8.Logging.getLogger("CapiSyncManager"),this._subs=[],this._isReady=!1,this.connectFromIdleSource=()=>{this._ded.flushChanges();const e=this._ded.getContents();return this._log.debug("sending ded current delta",Ap.s.anonymizeTextAndStringAttrs(e.delta)),e},this.connectFromResetSource=()=>{const e=this._initialDelta?this._initialDelta:this._ded.getContents();return this._initialDelta=void 0,e},this.setSessionOption=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.setSessionOption(e)))),this.sendFeedback=e=>(0,ua.pipe)(this._capi.sendFeedback(e),Yp.g_((e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.g_(bu.vE,(()=>Yp.t$(e))))),(()=>Yp.F2(void 0)))),this.requestDocStats=(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.requestDocStats))),this.requestSynonyms=(e,t)=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.requestSynonyms(e,t)))),this.requestSnippets=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.requestSnippets(e)))),this.shortenItSubmit=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.shortenItSubmit(e)))),this.enablePlagiarismSearch=(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.enablePlagiarismSearch))),this.disablePlagiarismSearch=(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.disablePlagiarismSearch))),this.realtimeProofitSubmit=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.realtimeProofitSubmit(e)))),this.realtimeProofitCancel=(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.realtimeProofitCancel))),this.submitRecipients=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.submitRecipients(e)))),this.submitScoreSurveyResult=(e,t)=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.submitScoreSurveyResult(e,t)))),this.sendUserAction=(e,t)=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.sendUserAction(e,t)))),this.sendDebugReport=(e,t)=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.sendDebugReport(e,t)))),this.ping=(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.ping))),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.updateContextInfo=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.updateContextInfo(e)))),this.setContext=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.setContext(e)))),this.published=()=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.published()))),this.cheetahStartSession=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.cheetahStartSession(e)))),this.cheetahAction=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.cheetahAction(e)))),this.cheetahInterrupt=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.cheetahInterrupt(e)))),this.cheetahSetVoice=e=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.cheetahSetVoice(e)))),this.cheetahEndSession=()=>(0,ua.pipe)(Yp.dk((()=>this._checkConnected())),Yp.tS((()=>this._capi.cheetahEndSession()))),this._subs.push(this._events.pipe(xe.h(gh.is("ready")),(o=this._events.pipe(xe.h(gh.is("disconnect")),df.q(1),pf(!1),_f(!0)),i?(0,lf.w)((function(){return o}),i):(0,lf.w)((function(){return o}))),_f(!1)).subscribe((e=>{this._isReady=e})))}pushChanges(e){return()=>Vp.isReset(e)&&!this._capiConnection.wasStarted?(this._log.debug("Got new Reset, triggering connection"),this._initialDelta=e,this._capiConnection.connect(this.connectFromResetSource,!1).then((([e,t])=>ia.right(void 0!==t?_u.some(t):_u.none))).catch((e=>(this._log.warn("failed to connect to CAPI",e),ia.left(e))))):this._capiConnection.wasStarted?this._isReady?this._capi.pushChanges(e)():(this._log.debug("Skipped sending change to CAPI as it is not ready yet"),this._initialDelta&&Vp.isDelta(e)&&(this._log.debug("Got change while establishing new CAPI connection, appending to initial Delta"),(0,ua.pipe)(this._initialDelta.compose(e),ia.fold((()=>{this._log.error("Got invalid change while establishing new CAPI connection, skiping")}),(e=>{this._initialDelta=e})))),this._capiConnection.isIdle?(this._log.debug("received new change while CAPI is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch((e=>this._log.warn("failed to connect to CAPI",e))).then((()=>ia.right(_u.none)))):(this._log.debug("capi is not idle, skip capi reconnect"),Promise.resolve(ia.right(_u.none)))):(this._log.debug("Skipped sending change to CAPI as it is not started yet, triggering new connection"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch((e=>this._log.warn("failed to connect to CAPI",e))).then((()=>ia.right(_u.none))))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_checkConnected(){this._capiConnection.isIdle?(this._log.debug("received new command while CAPI connection is idle, connecting"),this._capiConnection.connect(this.connectFromIdleSource,!1).catch((e=>this._log.warn("failed to connect to CAPI",e)))):this._log.trace("already connected or cannot connect, skipping")}dispose(){this._subs.forEach((e=>e.unsubscribe()))}}function Sf(e){return function(){return e.toPromise()}}var If;!function(e){e.ricScheduler=function(t){return"requestIdleCallback"in self?function(e){var n=self;return qr.y.create((function(r){var o=n.requestIdleCallback((function(t){(t.timeRemaining()>0||t.didTimeout)&&r.next(e)}),{timeout:t});return function(){return n.cancelIdleCallback(o)}}))}:e.rafScheduler},e.rafScheduler=function(e){return qr.y.create((function(t){var n=requestAnimationFrame((function(){return t.next(e)}));return function(){return cancelAnimationFrame(n)}}))},e.syncScheduler=function(e){return gf.of(e)},e.inRaf=function(t){return t.pipe(lf.w(e.rafScheduler))},e.inRic=function(t,n){return t.pipe(lf.w(e.ricScheduler(n)))}}(If||(If={}));const xf=1e4,Ef=200;class kf{constructor(e,t){this._events=e,this._capi=t,this.retryCommandWhen=(0,wu.Kg)(ch.isDroppedError,uh.isTimeoutError),this.pushChanges=e=>this._capi.pushChanges(e),this.setSessionOption=e=>this._capi.setSessionOption(e),this.resetReconnectInfo=()=>this._capi.resetReconnectInfo(),this.sendFeedback=e=>{switch(e.kind){case Op.Mw.MUTE:case Op.Mw.UNMUTE:return(0,ua.pipe)(Jp.tryDelay(this._capi.sendFeedback(e),(e=>this._untilWaitingForOT(e)),xf),ph([jp(2),Lp(Ef)],this.retryCommandWhen));case Op.KI.RECHECK_SHOWN:return(0,ua.pipe)(this._capi.sendFeedback(e),Yp.vx((()=>Yp.F2((0,wu.Q1)()))));default:return this._capi.sendFeedback(e)}},this.requestSynonyms=(e,t)=>(0,ua.pipe)(Jp.tryDelay(this._capi.requestSynonyms(e,t),(e=>this._untilFinished(e)),xf),ph([jp(2),Lp(Ef)],this.retryCommandWhen)),this.requestSnippets=e=>(0,ua.pipe)(Jp.tryDelay(this._capi.requestSnippets(e),(e=>this._untilFinished(e)),xf),ph([jp(2),Lp(Ef)],this.retryCommandWhen)),this.shortenItSubmit=e=>(0,ua.pipe)(Jp.tryDelay(this._capi.shortenItSubmit(e),(e=>this._untilFinished(e)),xf),ph([jp(2),Lp(Ef)],this.retryCommandWhen)),this.requestDocStats=(0,ua.pipe)(Jp.tryDelay(this._capi.requestDocStats,(e=>this._untilFinished(e)),xf),ph([jp(2),Lp(Ef)],this.retryCommandWhen)),this.enablePlagiarismSearch=(0,ua.pipe)(Jp.tryDelay(this._capi.enablePlagiarismSearch,(e=>this._untilFinished(e)),xf),ph([jp(2),Lp(Ef)],this.retryCommandWhen)),this.disablePlagiarismSearch=()=>this._capi.disablePlagiarismSearch(),this.realtimeProofitSubmit=e=>this._capi.realtimeProofitSubmit(e),this.realtimeProofitCancel=()=>this._capi.realtimeProofitCancel(),this.submitRecipients=e=>(0,ua.pipe)(Jp.tryDelay(this._capi.submitRecipients(e),(e=>this._untilFinished(e)),xf),ph([jp(2),Lp(Ef)],this.retryCommandWhen)),this.submitScoreSurveyResult=(e,t)=>this._capi.submitScoreSurveyResult(e,t),this.sendUserAction=(e,t)=>this._capi.sendUserAction(e,t),this.sendDebugReport=(e,t)=>this._capi.sendDebugReport(e,t),this.ping=()=>this._capi.ping(),this.getText=()=>this._capi.getText(),this.close=e=>this._capi.close(e),this.isClosed=()=>this._capi.isClosed(),this.updateContextInfo=e=>this._capi.updateContextInfo(e),this.setContext=e=>this._capi.setContext(e),this.published=()=>this._capi.published(),this.cheetahStartSession=e=>this._sendCheetahCommand((()=>this._capi.cheetahStartSession(e))),this.cheetahAction=e=>this._sendCheetahCommand((()=>this._capi.cheetahAction(e))),this.cheetahInterrupt=e=>this._sendCheetahCommand((()=>this._capi.cheetahInterrupt(e))),this.cheetahSetVoice=e=>this._sendCheetahCommand((()=>this._capi.cheetahSetVoice(e))),this.cheetahEndSession=()=>this._sendCheetahCommand((()=>this._capi.cheetahEndSession()))}_sendCheetahCommand(e){return(0,ua.pipe)(Jp.tryDelay(e(),(e=>this._untilFinished(e)),xf),ph([jp(2),Lp(Ef)],ch.isDroppedError))}get checkingState(){return this._capi.checkingState}get asyncChecksState(){return this._capi.asyncChecksState}_untilWaitingForOT(e){return this._untilEvent(e,"wait_for_ot")}_untilFinished(e){return this._untilEvent(e,"finish")}_untilEvent(e,t){return lh.isNotConnectedError(e)?(0,ua.pipe)(this._events,xe.h((e=>e.kind===t)),df.q(1),Jr.U(wu.Q1),Sf,_u.some):_u.none}}var Tf,Af,Cf,Of=__webpack_require__(35387),Pf=function(e){return Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]})),e},Rf={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=\\[\\]]*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"}}},Nf=function(e){var t=this;void 0===e&&(e=Rf),this._sanitizationSeed=-1,this._sensitiveToSanitizedMap=new Map,this._sanitizedToSensitiveMap=new Map,this.sanitizeMessage=function(e){return Cf.replaceInRequest(e,t.sanitizeText,t.matchInText)},this.sanitizeChange=function(e){return Cf.replaceInChangeWithAttributes(e,t.sanitizeText,t.matchInText)},this.sanitizeDelta=function(e){return Cf.replaceInDeltaWithAttributes(e,t.sanitizeText,t.matchInText)},this.sanitizeSdui=function(e){return Cf.replaceInSdui(e,t.sanitizeText)},this.sanitizeText=function(e){return Tf.replaceInText(t._dlpRegexConfiguration,e,t._sanitizeDlpMatch)},this.unsanitizeMessage=function(e){return Cf.replaceInResponse(e,t.unsanitizeText)},this.unsanitizeChange=function(e){return Cf.replaceInChange(e,t.unsanitizeText)},this.unsanitizeDelta=function(e){return Cf.replaceInDelta(e,t.unsanitizeText)},this.unsanitizeSdui=function(e){return Cf.replaceInSdui(e,t.unsanitizeText)},this.unsanitizeText=function(e){return Tf.replaceInText(t._dlpRegexConfiguration,e,t._unsanitizeDlpMatch)},this.matchInText=function(e){return Tf.matchInText(t._dlpRegexConfiguration,e)},this.clear=function(){t._sanitizationSeed=-1,t._sensitiveToSanitizedMap.clear(),t._sanitizedToSensitiveMap.clear()},this._sanitizeDlpMatch=function(e){var n=e.text;if(!t._sensitiveToSanitizedMap.has(n)){var r=Af.sanitizeDlpMatch(e,++t._sanitizationSeed);t._sensitiveToSanitizedMap.set(n,r),t._sanitizedToSensitiveMap.set(r,n)}return t._sensitiveToSanitizedMap.get(n)},this._unsanitizeDlpMatch=function(e){var n=e.text;return t._sanitizedToSensitiveMap.has(n)?t._sanitizedToSensitiveMap.get(n):n},this._dlpRegexConfiguration=Tf.getRegexConfiguration(e)};!function(e){e.getRegexConfiguration=function(e){return{dlpConfiguration:e,dlpRegex:t(e)}},e.replaceInText=function(e,t,r){var o=e.dlpConfiguration,i=e.dlpRegex;return t.replace(i,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(n(o,{groups:e[e.length-1],index:e[e.length-3]}))}))},e.matchInText=function(e,t){var o=e.dlpConfiguration,i=e.dlpRegex;return r(i,t).map((function(e){return n(o,e)}))};var t=function(e){var t=e.patterns;return new RegExp(Object.entries(t).sort((function(e,t){return e[1].priority-t[1].priority})).map((function(e){var t=e[0],n=e[1],r=n.regex,o=n.prefixes;return r=o.length?"(".concat(o.join("|"),")").concat(r):r,"(?<".concat(t,">").concat(r,")")})).join("|"),"g")},n=function(e,t){var n=t.groups,r=t.index,o=Object.entries(n).find((function(e){return void 0!==e[1]})),i=o[0],a=o[1],s=e.patterns[i];return(0,Xr.__assign)((0,Xr.__assign)({id:i},s),{text:a,start:r,end:r+a.length})},r=function(e,t){var n=[];for(e.lastIndex=0;;){var r=e.exec(t);if(!r)break;n.push(r)}return e.lastIndex=0,n}}(Tf||(Tf={})),function(e){e.sanitizeDlpMatch=function(e,t){var n=e.prefixes,r=e.text,o=n.find((function(e){return 0===r.indexOf(e)}));return void 0!==o?"".concat(o).concat(l(r.slice(o.length),t)):l(r,t)};var t="a".charCodeAt(0),n="z".charCodeAt(0),r="A".charCodeAt(0),o="Z".charCodeAt(0),i="0".charCodeAt(0),a="9".charCodeAt(0),s=function(e){return e>=t&&e<=n},u=function(e){return e>=r&&e<=o},c=function(e){return e>=i&&e<=a},l=function(e,n){for(var o=new Array(e.length),a=n,l=e.length-1;l>=0;l--){var d=e.charCodeAt(l);s(d)?(o[l]=t+(l+a)%26,a/=26):u(d)?(o[l]=r+(l+a)%26,a/=26):c(d)?(o[l]=i+(l+1+a)%10,a/=10):o[l]=d}return String.fromCharCode.apply(String,o)}}(Af||(Af={})),function(e){e.replaceInRequest=function(e,t,r){switch(e.action){case"submit_ot":return n(e,t,r);case"cheetah:action":return h(e,t);case"cheetah:startSession":return f(e,t);default:return e}},e.replaceInResponse=function(e,t){switch(e.action){case"alert":return a(e,t);case"alert_changes":return s(e,t);case"sdui_add":return u(e,t);case"sdui_update":return c(e,t);case"cheetah:chunk":return l(e,t);case"cheetah:result":return d(e,t);case"cheetah:setContext":return p(e,t);default:return e}},e.replaceInChangeWithAttributes=function(e,t,n){return Vp.isDelta(e)?r(e,t,n):Vp.isReset(e)?i(e,t):e},e.replaceInChange=function(e,t){return Vp.isDelta(e)?o(e,t):Vp.isReset(e)?i(e,t):e},e.replaceInDeltaWithAttributes=function(e,n,r){var o=t(e),i=o.text,a=o.ranges,s=n(i);return new ih.i(e.map((function(e,t){return Ap.s.match((function(e){if(Ap.s.isInsertString(e)){var n=a[t],o=n.start,i=n.end,u=s.slice(o,i),c=(0,Xr.__assign)((0,Xr.__assign)({},e),{insert:u}),l=r(u);if(l.length>0){var d=Object.values(l).map((function(e){return{type:e.id,start:e.start,end:e.end}}));c=c.attributes?(0,Xr.__assign)((0,Xr.__assign)({},c),{attributes:Of.x.compose(c.attributes,{sanitized:{matches:d}},!1)}):(0,Xr.__assign)((0,Xr.__assign)({},c),{attributes:{sanitized:{matches:d}}})}return c}return e}),Ie.yR,Ie.yR)(e)})))},e.replaceInDelta=function(e,n){var r=t(e),o=r.text,i=r.ranges,a=n(o);return new ih.i(e.map((function(e,t){return Ap.s.match((function(e){if(Ap.s.isInsertString(e)){var n=i[t],r=n.start,o=n.end,s=a.slice(r,o);return(0,Xr.__assign)((0,Xr.__assign)({},e),{insert:s})}return e}),Ie.yR,Ie.yR)(e)})))},e.replaceInSdui=function(e,t){return(0,ua.pipe)(e,pp.dslRootParser,ia.map((function(e){return v(e,t)})),ia.getOrElse((0,Ie.a9)(e)))};var t=function(e){return e.reduce((function(e,t){var n=e.text,r=e.ranges,o=Ap.s.match((function(e){return Ap.s.isInsertString(e)?e.insert:"\n"}),(0,Ie.a9)(""),(0,Ie.a9)("\n"))(t),i=r.length?r[r.length-1].end:0;return{text:n+o,ranges:(0,Xr.__spreadArray)((0,Xr.__spreadArray)([],r,!0),[{start:i,end:i+o.length}],!1)}}),{text:"",ranges:[]})},n=function(t,n,r){if("deltas"in t){var o=t.deltas.map((function(t){return e.replaceInDeltaWithAttributes(t,n,r)}));return(0,Xr.__assign)((0,Xr.__assign)({},t),{deltas:o,deltasString:JSON.stringify(o)})}return t},r=function(t,n,r){return Vp.delta(e.replaceInDeltaWithAttributes(t.delta,n,r),t.prevLen)},o=function(t,n){return Vp.delta(e.replaceInDelta(t.delta,n),t.prevLen)},i=function(t,n){return Vp.unsafeRes(e.replaceInDelta(t.delta,n))},a=function(e,t){var n=(0,Xr.__assign)((0,Xr.__assign)({},e),{replacements:e.replacements.map(t)});return void 0!==e.text&&(n.text=t(e.text)),void 0!==e.highlightText&&(n.highlightText=t(e.highlightText)),void 0!==e.transforms&&(n.transforms=e.transforms.map(t)),e.transformJson&&(n.transformJson=y(e.transformJson,t)),e.subalerts&&(n.subalerts=e.subalerts.map((function(e){return(0,Xr.__assign)((0,Xr.__assign)({},e),{highlightText:t(e.highlightText),transformJson:y(e.transformJson,t)})}))),n},s=function(e,t){return e.transformJson?(0,Xr.__assign)((0,Xr.__assign)({},e),{transformJson:y(e.transformJson,t)}):e},u=function(t,n){return(0,Xr.__assign)((0,Xr.__assign)({},t),{sdui:e.replaceInSdui(t.sdui,n)})},c=function(t,n){return(0,Xr.__assign)((0,Xr.__assign)({},t),{sdui:e.replaceInSdui(t.sdui,n)})},l=function(e,t){return(0,Xr.__assign)((0,Xr.__assign)({},e),{token:t(e.token)})},d=function(t,n){if(void 0===t.text)return t;var r=void 0!==t.text.delta&&Array.isArray(t.text.delta.ops)?new ih.i((0,Xr.__spreadArray)([],t.text.delta.ops,!0)):new ih.i;return(0,Xr.__assign)((0,Xr.__assign)({},t),{text:(0,Xr.__assign)((0,Xr.__assign)({},t.text),{plain:n(t.text.plain),delta:{ops:e.replaceInDelta(r,n).ops}})})},p=function(e,t){return void 0===e.context.intent?e:(0,Xr.__assign)((0,Xr.__assign)({},e),{context:(0,Xr.__assign)((0,Xr.__assign)({},e.context),{intent:t(e.context.intent)})})},h=function(e,t){var n=e.args.map((function(e){return{name:e.name,value:t(e.value)}}));return(0,Xr.__assign)((0,Xr.__assign)({},e),{args:n})},f=function(e,t){if(!e.outerContext)return e;var n=e.outerContext,r=n.title,o=n.people,i=n.items;return(0,Xr.__assign)((0,Xr.__assign)({},e),{outerContext:Pf((0,Xr.__assign)((0,Xr.__assign)({},e.outerContext),{title:void 0!==r?t(r):r,people:g(o,t),items:m(i,t)}))})},g=function(e,t){return e?Object.entries(e).reduce((function(e,n){var r,o=n[0],i=n[1];return Object.assign(e,((r={})[o]=i.map(t),r))}),{}):e},m=function(e,t){return void 0===e?e:e.map((function(e){var n=e.text,r=e.title,o=e.people;return Pf((0,Xr.__assign)((0,Xr.__assign)({},e),{text:void 0!==n?t(n):n,title:void 0!==r?t(r):r,people:g(o,t)}))}))},y=function(t,n){return t.alternatives?(0,Xr.__assign)((0,Xr.__assign)({},t),{alternatives:t.alternatives.map((function(t){return(0,Xr.__assign)((0,Xr.__assign)({},t),{ops:e.replaceInDelta(new ih.i(t.ops),n).ops})}))}):t},v=function(e,t){return(0,ua.pipe)(pp.map(e,(function(e){return b(e,t)})),_u.getOrElse((0,Ie.a9)(e)))},b=function(e,t){return"text"===e.type?(0,Xr.__assign)((0,Xr.__assign)({},e),{text:t(e.text)}):e}}(Cf||(Cf={}));var Df=function(e,t){var n=this;this._innerWSHandler=e,this._dlpDataSanitizer=t,this.onConnecting=function(e){return n._innerWSHandler.onConnecting(e),n},this.onConnect=function(e){return n._innerWSHandler.onConnect(e),n},this.onDisconnect=function(e){return n._innerWSHandler.onDisconnect((function(t){return n._dlpDataSanitizer.clear(),e(t)})),n},this.onMessage=function(e){return n._innerWSHandler.onMessage((function(t,r){e(t,n._dlpDataSanitizer.unsanitizeMessage(r))})),n},this.connect=function(e){return n._innerWSHandler.connect(e)},this.isDisconnected=function(){return n._innerWSHandler.isDisconnected()}},Mf=function(e){var t=this;void 0===e&&(e=Rf),this.sanitizeWS=function(e,n){return e.writer((function(e){return n(t._dlpDataSanitizer.sanitizeMessage(e))}))},this.sanitizeWSHandler=function(e){return new Df(e,t._dlpDataSanitizer)},this._dlpDataSanitizer=new Nf(e)},jf=__webpack_require__(33290);const Lf={StandWithUkraineGrammarlySuspended:new jf.Cc("standWithUkraineExtensionSuspended","enabled"),StandWithUkraineTheme:new jf.Cc("standWithUkraineExtensionTheme","enabled"),ShortenItPrefetchInternal:new jf.Cc("shorten_it_prefetch_internal","enabled"),TakeawaysPremium:new jf.Cc("takeaways_premium","enabled"),ReaderV1Internal:new jf.Cc("reader_v1_internal","enabled"),ToneAIPersonableStable:new jf.Cc("toneai_personable_stable","enabled"),RtfSnippets:new jf.Cc("rtf_snippets","enabled"),LoadSnippetsViaGoldenGate:new jf.Cc("load_snippets_via_goldengate","enabled"),StudentsOFEGdocs:new jf.Cc("citations_rollout_gdocs","enabled"),StudentsOFEInternal:new jf.Cc("citations_rollout_internal","enabled"),CitationBuilderInternal:new jf.Cc("citation_builder_internal","enabled"),CitationBuilder:new jf.Cc("citation_builder","enabled"),CitationBuilderEditing:new jf.Cc("citation_builder_editing","enabled"),CitationBuilderManualInvocation:new jf.Cc("citation_builder_manual_invocation","enabled"),SingleCardAssistantEveryone:new jf.Cc("single_card_assistant_everyone","enabled"),IPMExtensionRelease:new jf.Cc("ipm_extension_release","enabled"),ExtensionDebugReport:new jf.Cc("extension_debug_report","enabled"),SduiBulkAccept:new jf.Cc("sdui_bulk_accept","enabled"),SduiBulkDismiss:new jf.Cc("sdui_bulk_dismiss","enabled"),GrammarlyBusinessLoggedOutUser:new jf.Cc("gb_logged_out_user_extension_gen_launch","enabled"),KnowledgeHubGdocs:new jf.Cc("knowledge_hub_gdocs","enabled"),KnowledgeHubGmail:new jf.Cc("knowledge_hub_gmail","enabled"),KnowledgeHubSlack:new jf.Cc("knowledge_hub_slack","enabled"),KnowledgeHubWord:new jf.Cc("windowsextension_knowledge_hub_word","enabled"),KnowledgeHubSuggestedTerms:new jf.Cc("knowledge_hub_suggested_terms","enabled"),KnowledgeHubCheetahIntegration:new jf.Cc("gbgo_knowledge_share_web","enabled"),AutoApplyInternal:new jf.Cc("auto_apply_internal","enabled"),IndianEnglishDialect:new jf.Cc("indian_english_dialect","enabled"),IndianEnglishDialectInternal:new jf.Cc("indian_english_dialect_internal","enabled"),ExtensionReconnectToExistingSession:new jf.Cc("extension_reconnect_to_existing_session","enabled"),StaticWSGmail:new jf.Cc("static_ws_gmail","enabled"),ConstructableStylesheets:new jf.Cc("constructable_stylesheets","enabled"),GrammarlyGuard:new jf.Cc("gb_grammarly_guard","enabled"),CheetahFeatureFlagCompose:new jf.Cc("cheetah_extension_feature_flag_compose","enabled"),CheetahFeatureFlagRewrite:new jf.Cc("cheetah_extension_feature_flag_rewrite","enabled"),CheetahFeatureFlagInlineRewrite:new jf.Cc("cheetah_extension_feature_flag_inline_rewrite","enabled"),CheetahFeatureFlagMagicRewrite:new jf.Cc("cheetah_extension_feature_flag_magic_rewrite","enabled"),CheetahFeatureFlagQuickReply:new jf.Cc("cheetah_extension_feature_flag_quick_reply","enabled"),CheetahFeatureFlagInlineQuickReply:new jf.Cc("cheetah_extension_feature_flag_inline_quick_reply","enabled"),CheetahGGoFeatureToggle:new jf.Cc("cheetah_extension_ggo_feature_toggle","enabled"),GDocsSduiIntegration:new jf.Cc("extension_gDocs_sdui_integration","enabled"),ExtensionSduiInlineCards:new jf.Cc("extension_sdui_inline","enabled"),CheetahFeatureFlagGDocsInlineRewrites:new jf.Cc("cheetah_extension_feature_flag_gdocs_inline_rewrites","enabled"),CheetahFeatureFlagOnboarding:new jf.Cc("cheetah_extension_feature_flag_onboarding","enabled"),GDocsTextCorruptionValidateTextBeforeAlertApply:new jf.Cc("gDocs_tc_validate_text_before_alert_apply","enabled"),Iterable:new jf.Cc("iterable_gate_ext","enabled"),DialectSettingsService:new jf.Cc("gb_org_dialect_ext","enabled"),SessionStorageLogsBackup:new jf.Cc("session_storage_logs_backup","enabled"),SduiPopoverNotifications:new jf.Cc("sdui_popover_manager_ext","enabled")};var Uf;!function(e){e.create=function(){return t.iy.create()}}(Uf||(Uf={}));const Ff=(e,t)=>e?e=>!(e.kind in Op.PZ)||!(e=>"subtype"in e)(e)||((e=>e.subtype===Op.e3.Inline)(e)||((e,t)=>t&&e.subtype===Op.e3.Sidebar)(e,t)||!((e,t)=>!t&&e.subtype===Op.e3.Sidebar)(e,t)):void 0;var Bf,Gf;!function(e){e.create=function(e,n,r,o,i){var a;const s=new sa.xQ,u=s.pipe(xe.h((e=>{var t,o;if((e=>"alert_received"===e.kind&&e.alert.pname===Tp.w.STAND_WITH_UKRAINE_ALERT_PNAME)(e)){const e=(null===(t=n())||void 0===t?void 0:t.supportUkraineCard)||{},i=!0!==e.enabled,a=e.maximumAppearances||2,s=(null===(o=r())||void 0===o?void 0:o.supportUkraineCardAppearanceCount)||0;return!i&&s<a}return!0}))),c=function(e){const t=t=>{e.next(t)};return{onSessionStarted:t,onWaitForOT:t,onReady:t,onSessionInbound:t,beforeAlert:t,onAlert:t,onRemove:t,onChange:t,onSynonyms:t,onPlagiarism:t,onTextInfo:t,onEmotions:t,onBeforeAsyncCheckFinish:t,onAsyncCheckFinish:t,onError:t,onBeforeFinish:t,onFinish:t,onConnect:t,onDisconnect:t,onQueueMsgDropped:t,onAck:t,onPong:t,onMessageReceived:t,onMessageSent:t,onAutoComplete:t,onAttentionHeatmap:t,onAttentionInfo:t,onProofitAvailability:t,onProofitCancelled:t,onProofitCompleted:t,onProofitProgress:t,onProofitProgressProblem:t,onProofitSubmit:t,onShortenItFinished:t,onSDUI:t,onGbRuleCreated:t,onReconnectInfo:t,onCheetahSetContext:t,onCheetahChunk:t,onCheetahResult:t,onCheetahError:t,onShowSurvey:t}}(s),l=t(e.useDlp,e.dlpConfiguration,i),d=new Lh({client:{type:e.clientName,sub:e.clientSubType},extDomain:e.domain,clientSupports:(0,aa.qo)(e.supportedFeatures),sduiConfig:e.sduiConfig?{supportedComponents:o.isGateEnabled(Lf.ExtensionSduiInlineCards)?e.sduiConfig.supportedComponents:{...e.sduiConfig.supportedComponents,inlineCard:!1,nativeInlineCardContent:!1},dslParser:kp.dslParser,dslSchemaVersion:e.sduiConfig.dslSchemaVersion}:void 0,sduiProtocolVersion:null===(a=e.sduiConfig)||void 0===a?void 0:a.protocolVersion,dialect:e.dialect,docid:e.docId,handler:c,context:e.context,clientVersion:e.clientVersion,startSessionOptions:e.startSessionOptions,shouldSendFeedback:Ff(Boolean(e.sduiConfig),"google_docs"===e.clientSubType||"google_docs_retail"===e.clientSubType)},(t=>t.connect(e.capiUrl)),l);let p=new ih.i;const h={changes:new qr.y,flushChanges:()=>{},getContents:(e,t)=>(0,ia.getOrElse)((()=>Vp.resFromText(Cp(p,""))))(Vp.res(p))},f=new wf(s.asObservable(),d.client,h,d),g=new kf(s,f),m=s.pipe((0,Jr.U)((()=>g.checkingState)),Zr());return{client:g,pushChanges:e=>(Vp.isReset(e)?p=new ih.i(e.delta):Vp.isFlush(e)||(p=p.compose(e.delta)),g.pushChanges(Vp.isReset(e)?Vp.unsafeRes(new ih.i(e.delta)):Vp.isFlush(e)?Vp.flush():Vp.delta(new ih.i(e.delta),e.prevLen))),getCheckingState:()=>g.checkingState,getCheckingStateObs:()=>m,getAsyncChecksState:()=>g.asyncChecksState,getEventsObs:()=>u,connect(e){p=new ih.i(e.delta),d.connect(h.getContents)},dispose(){s.complete(),s.unsubscribe(),d.close(),g.close("Disposed")}}};const t=(e,t,o)=>{const i=e=>new(WebSocket||self.MozWebSocket)(e);return new Uh(e?r(i,t):n(i),o)},n=e=>new cf(Zh.create(e).writer(Nh),new oh(_h.d1,0,!1),10),r=(e,t)=>{const n=new Mf(t);return n.sanitizeWSHandler(new cf(n.sanitizeWS(Zh.create(e),Nh),new oh(_h.d1,0,!1),10))}}(Bf||(Bf={}));class zf{constructor(e,t=Z.create(zf.name)){this._factory=e,this._log=t,this._instances=new Map,this.api={requestSynonyms:this._callClientMethod("requestSynonyms",((e,t)=>e.requestSynonyms(...t))),requestSnippets:this._callClientMethod("requestSnippets",((e,t)=>e.requestSnippets(...t))),sendFeedback:this._callClientMethod("sendFeedback",((e,t)=>e.sendFeedback(...t))),close:this._callClientMethod("close",((e,t)=>e.close(...t))),enablePlagiarismSearch:this._callClientMethod("enablePlagiarismSearch",(e=>e.enablePlagiarismSearch())),disablePlagiarismSearch:this._callClientMethod("disablePlagiarismSearch",(e=>e.disablePlagiarismSearch())),setSessionOption:this._callClientMethod("setSessionOption",((e,t)=>e.setSessionOption(...t))),setContext:this._callClientMethod("setContext",((e,t)=>e.setContext(...t))),requestDocStats:this._callClientMethod("requestDocStats",(e=>e.requestDocStats())),ping:this._callClientMethod("ping",(e=>e.ping())),getText:this._callClientMethod("getText",(e=>e.getText())),isClosed:this._callClientMethod("isClosed",(e=>e.isClosed())),realtimeProofitSubmit:this._callClientMethod("realtimeProofitSubmit",((e,t)=>e.realtimeProofitSubmit(...t))),realtimeProofitCancel:this._callClientMethod("realtimeProofitCancel",(e=>e.realtimeProofitCancel())),submitRecipients:this._callClientMethod("submitRecipients",((e,t)=>e.submitRecipients(...t))),sendUserAction:this._callClientMethod("sendUserAction",((e,t)=>e.sendUserAction(...t))),shortenItSubmit:this._callClientMethod("shortenItSubmit",((e,t)=>e.shortenItSubmit(...t))),sendDebugReport:this._callClientMethod("sendDebugReport",((e,t)=>e.sendDebugReport(...t))),updateContextInfo:this._callClientMethod("updateContextInfo",((e,t)=>e.updateContextInfo(...t))),published:this._callClientMethod("published",(e=>e.published())),submitScoreSurveyResult:this._callClientMethod("submitScoreSurveyResult",((e,t)=>e.submitScoreSurveyResult(...t))),resetReconnectInfo:this._callClientMethod("resetReconnectInfo",((e,t)=>e.resetReconnectInfo(...t))),cheetahStartSession:this._callClientMethod("cheetahStartSession",((e,t)=>e.cheetahStartSession(...t))),cheetahAction:this._callClientMethod("cheetahAction",((e,t)=>e.cheetahAction(...t))),cheetahInterrupt:this._callClientMethod("cheetahInterrupt",((e,t)=>e.cheetahInterrupt(...t))),cheetahSetVoice:this._callClientMethod("cheetahSetVoice",((e,t)=>e.cheetahSetVoice(...t))),cheetahEndSession:this._callClientMethod("cheetahEndSession",((e,t)=>e.cheetahEndSession(...t))),getCheckingState:this._callWrapperMethod("getCheckingState",(e=>e.getCheckingState())),getCheckingStateObs:this._callWrapperMethod("getCheckingStateObs",(e=>e.getCheckingStateObs())),getAsyncChecksState:this._callWrapperMethod("getAsyncChecksState",(e=>e.getAsyncChecksState())),getEventsObs:this._callWrapperMethod("getEventsObs",(e=>e.getEventsObs())),pushChanges:this._callWrapperMethod("pushChanges",((e,t)=>e.pushChanges(...t))),connect:this._callWrapperMethod("connect",((e,t)=>e.connect(...t)))}}_callClientMethod(e,t){return({token:n,args:r})=>{const o=this._instances.get(n);if(!o)throw new Error(`no instance for ${n}`);try{return t(o.client,r)}catch(t){throw new Error(`method ${e} of instance ${n} threw an error: ${t.message?t.message:t}`)}}}_callWrapperMethod(e,t){return({token:n,args:r})=>{const o=this._instances.get(n);if(!o)throw new Error(`no instance for ${n}`);try{return t(o,r)}catch(t){throw new Error(`method ${e} of instance ${n} threw an error: ${t.message?t.message:t}`)}}}startSession(e){const t=Uf.create();return this._instances.set(t,this._factory(e)),t}stopSession(e){const t=this._instances.get(e);t?(t.dispose(),this._instances.delete(e)):this._log.warn(`no instance for ${e}, ignoring`)}dispose(){for(const e of this._instances.keys())try{this.stopSession(e)}catch(t){this._log.error(`failed trying to dispose instance ${e}`,t)}this._instances.clear()}}!function(e){e.getHandler=function(e){return void 0===e&&(e=wu.Q1),{onSessionStarted:e,onSessionInbound:e,onAlert:e,onError:e,onPong:e,onAck:e,onConnect:e,onDisconnect:e,onMessageReceived:e,onMessageSent:e,onUpdateContextInfoFinished:e,onDocFinished:e,onReaderDocInfo:e,onReaderSummaryItem:e,onReaderSummaryFinished:e,onReaderMainPoint:e,onReaderActionItem:e,onReaderDebug:e,onReconnectInfo:e}}}(Gf||(Gf={}));var Wf,qf,Vf,Hf,$f,Kf,Yf,Jf=__webpack_require__(69243);!function(e){e.codec=Jf.brand(Jf.string,(function(e){return"string"==typeof e}),"DocId"),e.create=function(e){return e},e.eq=Us.yv}(Wf||(Wf={})),function(e){!function(e){e.create=function(e){return e}}(e.Id||(e.Id={}))}(qf||(qf={})),function(e){!function(e){!function(e){e.create=function(e){return String(e)}}(e.Id||(e.Id={}))}(e.SummaryItem||(e.SummaryItem={})),function(e){!function(e){e.create=function(e){return String(e)}}(e.Id||(e.Id={}))}(e.MainPoint||(e.MainPoint={})),function(e){!function(e){e.create=function(e){return String(e)}}(e.Id||(e.Id={}))}(e.ActionItem||(e.ActionItem={})),function(e){!function(e){e.create=function(e){return String(e)}}(e.Id||(e.Id={}))}(e.Debug||(e.Debug={})),function(e){!function(e){e.READER_IGNORE="READER_IGNORE",e.READER_COPY="READER_COPY",e.READER_CHECK="READER_CHECK",e.READER_UNCHECK="READER_UNCHECK",e.READER_LIKE="READER_LIKE",e.READER_DISLIKE="READER_DISLIKE",e.READER_REPLY="READER_REPLY",e.READER_LOOKED="READER_LOOKED",e.READER_PANEL_OPENED="READER_PANEL_OPENED",e.READER_PANEL_READY="READER_PANEL_READY"}(e.Type||(e.Type={}))}(e.Feedback||(e.Feedback={}))}(Vf||(Vf={})),function(e){e.fromAlertMessage=function(e){return(0,Xr.__assign)((0,Xr.__assign)({},Op.wQ.fromAlertMessage((0,Xr.__assign)({},e))),{docId:Wf.create(e.docId),updateContextInfoId:qf.Id.create(e.updateContextInfoId)})}}(Hf||(Hf={})),function(e){e.knowledgeHub="knowledge_hub",e.reader="reader",e.reconnect="reconnect"}($f||($f={})),function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.SESSION_INBOUND=3]="SESSION_INBOUND",e[e.WAITING_FOR_ACK=4]="WAITING_FOR_ACK",e[e.ANY=5]="ANY",e[e.CLOSED=6]="CLOSED"}(Kf||(Kf={})),function(e){e[e.CONNECT=0]="CONNECT",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECT=2]="DISCONNECT",e[e.READY=3]="READY",e[e.SEND=4]="SEND",e[e.ACK=5]="ACK",e[e.CLOSE=6]="CLOSE"}(Yf||(Yf={}));var Xf,Qf,Zf=function(){function e(e,t,n){var r=this,o=e.startSessionOptions,i=e.client,a=e.clientVersion,s=e.extDomain,u=e.clientSupports;this._log=Pp.C8.Logging.getLogger("coreclients.capi",zp.i.TRACE),this._idGenerator=new oh(_h.d1,0,!1),this.setSessionOption=function(e){return function(){return r._log.trace("setSessionOption"),r._sessionInboundMessage({id:r._idGenerator.newId(),action:"option",name:e.kind,value:e.id})}},this.ping=function(){return r._log.trace("Ping"),r._sessionInboundMessage({id:r._idGenerator.newId(),action:"ping"})},this.sendFeedback=function(e){return function(){r._log.trace("sendFeedback");var t=r._idGenerator.newId();if(function(e){return(0,wu.CI)(Vf.Feedback.Type,e.kind)}(e))switch(e.kind){case Vf.Feedback.Type.READER_PANEL_READY:return r._sessionInboundMessage({id:t,action:"feedback",type:e.kind,docId:e.docId});case Vf.Feedback.Type.READER_PANEL_OPENED:return r._sessionInboundMessage({id:t,action:"feedback",type:e.kind,docId:e.docId,subtype:e.subtype,items:e.items});default:return r._sessionInboundMessage((0,Xr.__assign)({id:t,action:"feedback",type:e.kind},Su.omit(e,"kind")))}return r._sessionInboundMessage({id:t,action:"feedback",type:e.kind,subtype:e.subtype,alertId:e.id})}},this.updateContextInfo=function(e){return function(){r._log.trace("updateContextInfo");var t=r._idGenerator.newId(),n=qf.Id.create(t);return r._sessionInboundMessage({id:t,action:"update_context_info",docContext:e}).then(ia.map((function(){return n})))}},this.close=function(e){return(0,Xr.__awaiter)(r,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return this._log.trace("close"),this.isClosed()?(this._log.trace("close: CAPI already closed, skipping"),[2]):(this._log.trace("close: closing CAPI, current state: "+this._fsm.current),[4,this._fsm.event(Yf.CLOSE,e)]);case 1:return t.sent()||this._log.error("Cannot go to CLOSED state"),[2]}}))}))},this.isClosed=function(){return r._fsm.is(Kf.CLOSED)},this.isStable=function(e){var t=void 0===e?r._idGenerator.id:r._idGenerator.id+1;return(void 0===e||"error"!==e.action)&&t>5},this._startSession=function(){return(0,Xr.__awaiter)(r,void 0,void 0,(function(){var e,t;return(0,Xr.__generator)(this,(function(n){switch(n.label){case 0:return this._idGenerator.reset(),[4,this._initReconnection()];case 1:return e=n.sent(),t=(0,Xr.__assign)((0,Xr.__assign)({id:this._idGenerator.newId(),action:"start",client:this._client.type,clientSubtype:this._client.sub,clientVersion:this._clientVersion,extDomain:this._extDomain,clientSupports:this._clientSupports,mode:"STATIC_ONLY"},this._startSessionOptions),null!==e?{reconnectInfo:e}:{}),[4,this._fsm.event(Yf.SEND)];case 2:return n.sent(),[2,this._sendMessage(t)]}}))}))},this._isReady=function(){return"ready"===r.status},this._supportsReconnect=function(){return r._clientSupports.includes($f.reconnect)},this._sessionInboundMessage=function(e){return(0,Xr.__awaiter)(r,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return this._isReady()?[3,1]:(this._log.trace("CAPI can`t accept requests. It can process requests only when it`s connected, has sent a start message and received an ack for it.",{message:e.action,capiState:Kf[this._fsm.current]}),[2,ia.left(new Error("CAPI can't accept requests in the current state: ".concat(Kf[this._fsm.current],". CAPI can process requests only when it's connected, has sent a start message and received an ack for it.")))]);case 1:return[4,this._sendMessage(e).then(ia.right).catch(ia.left)];case 2:return[2,t.sent()]}}))}))},this._sendMessage=function(e){return r._log.trace("Sending >>>> "+JSON.stringify(e).replace("\n"," ").substring(0,300)),r._handler.onMessageSent({kind:"message_sent",message:e}),(0,bu.CE)(r._conn,"_sendMessage should never be called without a connection").send(e).catch((function(e){throw r._log.debug("fail on send",e),e})).then((function(){var e;if(void 0!==r._reconnectInfo){var t=null!==(e=r._reconnectInfo.messagesSent)&&void 0!==e?e:0;r._setReconnectInfo((0,Xr.__assign)((0,Xr.__assign)({},r._reconnectInfo),{messagesSent:t+1}))}}))},this._setReconnectInfo=function(e){r._reconnectInfo=e,r._handleReconnectInfo()},this._handleReconnectInfo=function(){r._lastPublishedReconnectInfo!==r._reconnectInfo&&(r._handler.onReconnectInfo({kind:"reconnect_info_updated",reconnectInfo:r._reconnectInfo}),r._lastPublishedReconnectInfo=r._reconnectInfo)},this._initialSessionUuid=null,this._initReconnection=function(){return(0,Xr.__awaiter)(r,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(e){return this._supportsReconnect()?(this._reconnectInfo||(this._startSessionOptions.reconnectInfo&&this._setReconnectInfo(this._startSessionOptions.reconnectInfo),this._idGenerator.reset()),[2,this._reconnectInfo]):(this._idGenerator.reset(),null!==this._initialSessionUuid?[2,{sessionUuid:this._initialSessionUuid}]:[2,void 0])}))}))},this._handleConnect=function(e){return(0,Xr.__awaiter)(r,void 0,void 0,(function(){var t,n;return(0,Xr.__generator)(this,(function(r){switch(r.label){case 0:this._log.trace("_handleConnect(".concat(Kf[this._fsm.current],"): received new ws connection")),this._conn=e,t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._fsm.event(Yf.CONNECTED)];case 2:return r.sent()||(t="failed to switch to CONNECTED state"),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(Boolean(t))throw this._log.warn("Connection cannot be finalized.",t),t;return[2]}}))}))},this._handleConnecting=function(){return(0,Xr.__awaiter)(r,void 0,void 0,(function(){return(0,Xr.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._fsm.event(Yf.CONNECT)];case 1:return e.sent()||this._log.error("Can not enter CONNECTING state",{fsmState:Kf[this._fsm.current]}),[2]}}))}))},this._handleStart=function(e){r._log.trace("_handleStart"),r._fsm.event(Yf.ACK);var t=e.userMutedCategories,n=e.allowedFeatures,o=e.cheetahUsage,i=e.domainCategory,a=e.domainName,s=e.isEnterprise,u=e.sessionUuid,c=void 0===r._reconnectInfo||u!==r._reconnectInfo.sessionUuid,l={kind:"session_started",userMutedCategories:t,allowedFeatures:n,cheetahUsage:o,domainCategory:i,domainName:a,isEnterprise:s,sessionUuid:u,defaultDocumentContext:_u.none,isNewSession:c};r._initialSessionUuid=null===r._initialSessionUuid?u:r._initialSessionUuid,r._fsm.is(Kf.CONNECTED)&&(r._log.trace("Transitioning to READY state"),r._fsm.event(Yf.READY)),c?r._handleNewSession(u):r._handleExistingSession(u),r._handler.onSessionStarted(l)},this._handleExistingSession=function(e){r._log.debug("Continuing session: ".concat(e))},this._handleNewSession=function(e){void 0!==r._reconnectInfo&&r._log.debug("Exited old session: ".concat(r._reconnectInfo.sessionUuid)),r._log.debug("Starting new session: ".concat(e)),r._setReconnectInfo({sessionUuid:e,messagesReceived:1,messagesSent:1})},this._sessionInbound=function(){r._log.trace("_sessionInbound"),r._handler.onSessionInbound({kind:"session_inbound"})},this._startSessionOptions=o,this._client=i,this._clientVersion=a,this._extDomain=s,this._handler=t,this._clientSupports=u,this._fsm=new Zp("capi",Kf.DISCONNECTED,Kf.CLOSED).with(Kf.ANY).parentOf(Kf.CONNECTED,Kf.CONNECTING,Kf.DISCONNECTED,Kf.SESSION_INBOUND).from(Kf.ANY).to(Kf.CLOSED).on(Yf.CLOSE).from(Kf.DISCONNECTED).to(Kf.CONNECTING).on(Yf.CONNECT).from(Kf.CONNECTING).to(Kf.CONNECTING).on(Yf.CONNECT).from(Kf.CONNECTING).to(Kf.CONNECTED).on(Yf.CONNECTED).from(Kf.CONNECTED,Kf.SESSION_INBOUND,Kf.CONNECTING).to(Kf.DISCONNECTED).on(Yf.DISCONNECT).from(Kf.SESSION_INBOUND).to(Kf.WAITING_FOR_ACK).on(Yf.SEND).from(Kf.WAITING_FOR_ACK).to(Kf.SESSION_INBOUND).on(Yf.ACK).from(Kf.CONNECTED).to(Kf.SESSION_INBOUND).on(Yf.READY).on(Kf.CONNECTED,this._startSession).on(Kf.SESSION_INBOUND,(function(){return r._sessionInbound()})),n.onConnecting((function(){return r._handleConnecting()})).onConnect((function(e){return r._handleConnect(e)})).onDisconnect((function(e){return r._handleDisconnect(e)})).onMessage((function(e,t){return r._handleMessage(t)}))}return Object.defineProperty(e.prototype,"status",{get:function(){switch(this._fsm.current){case Kf.CLOSED:return"closed";case Kf.CONNECTED:case Kf.CONNECTING:case Kf.WAITING_FOR_ACK:return"starting";case Kf.SESSION_INBOUND:return"ready";case Kf.DISCONNECTED:return"disconnected";case Kf.ANY:return this._log.error("Unknown fsm state",{state:this._fsm.current}),"closed";default:(0,bu.vE)(this._fsm.current)}},enumerable:!1,configurable:!0}),e.prototype._handleDisconnect=function(e){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Xr.__generator)(this,(function(r){switch(r.label){case 0:return this._log.trace("_handleDisconnect(".concat(Kf[this._fsm.current],")"),e),[4,this._fsm.event(Yf.DISCONNECT,e.reason)];case 1:return t=r.sent(),n=this._fsm.is(Kf.CLOSED)?zp.i.WARN:zp.i.ERROR,t||this._log.log(n,"Can not enter DISCONNECTED state",{reason:e,fsmState:Kf[this._fsm.current]}),[2]}}))}))},e.prototype._handleMessage=function(e){var t;if(void 0!==this._reconnectInfo){var n=null!==(t=this._reconnectInfo.messagesReceived)&&void 0!==t?t:0;this._setReconnectInfo((0,Xr.__assign)((0,Xr.__assign)({},this._reconnectInfo),{messagesReceived:n+1}))}switch(this._handler.onMessageReceived({kind:"message_received",message:e}),this._log.trace("Message <<< "+JSON.stringify(e).replace("\n"," ").substring(0,300)),e.action){case"start":this._handleStart(e);break;case"update_context_info_finished":this._log.trace("handle update_context_info_finished"),this._handler.onUpdateContextInfoFinished({kind:"update_context_info_finished",updateContextInfoId:qf.Id.create(e.updateContextInfoId)});break;case"doc_finished":this._log.trace("handle doc_finished",{message:e}),this._handler.onDocFinished({kind:"doc_finished",updateContextInfoId:qf.Id.create(e.updateContextInfoId),docId:e.docId,features:e.features,failed:e.failed});break;case"alert":this._log.trace("handle received alert",{message:e}),this._handler.onAlert({kind:"alert_received",alert:Hf.fromAlertMessage(e)});break;case"reader_doc_info":this._log.trace("handle reader_doc_info",{message:e}),this._handler.onReaderDocInfo({kind:"reader_doc_info",docId:e.docId,updateContextInfoId:qf.Id.create(e.updateContextInfoId),filtered:e.filtered,goodForAnnotations:e.goodForAnnotations});break;case"reader_summary_item":this._log.trace("handle reader_summary_item",{message:e}),this._handler.onReaderSummaryItem({kind:"reader_summary_item",docId:e.docId,updateContextInfoId:qf.Id.create(e.updateContextInfoId),id:Vf.SummaryItem.Id.create(e.id),delta:e.delta});break;case"reader_summary_finished":this._log.trace("handle reader_summary_finished",{message:e}),this._handler.onReaderSummaryFinished({kind:"reader_summary_finished",docId:e.docId,updateContextInfoId:qf.Id.create(e.updateContextInfoId),items:e.summaryItems.map(Vf.SummaryItem.Id.create)});break;case"reader_action_item":this._log.trace("handle reader_action_item",{message:e}),this._handler.onReaderActionItem({kind:"reader_action_item",docId:e.docId,updateContextInfoId:qf.Id.create(e.updateContextInfoId),id:Vf.ActionItem.Id.create(e.id),span:e.span,delta:e.delta});break;case"reader_main_point":this._log.trace("handle reader_main_point",{message:e}),this._handler.onReaderMainPoint({kind:"reader_main_point",docId:e.docId,updateContextInfoId:qf.Id.create(e.updateContextInfoId),id:Vf.MainPoint.Id.create(e.id),span:e.span});break;case"reader_debug":this._log.trace("handle reader_debug",{message:e}),this._handler.onReaderDebug({kind:"reader_debug",docId:e.docId,updateContextInfoId:qf.Id.create(e.updateContextInfoId),id:Vf.Debug.Id.create(e.id),span:e.span,delta:e.delta});break;case"feedback":this._log.trace("handle feedback"),this._handler.onAck({kind:"feedback_ack"});break;case"pong":this._log.trace("handle pong"),this._handler.onPong({kind:"pong",latency:_u.none});break;case"option":this._log.trace("handle acknowledge for option",{message:e}),this._handler.onAck({kind:"option_ack"});break;case"update_context_info":this._log.trace("handle acknowledge for update_context_info",{message:e}),this._handler.onAck({kind:"update_context_info_ack",updateContextInfoId:qf.Id.create(e.id)});break;case"error":this._handler.onError((0,Xr.__assign)({kind:"error"},e)),this._log.error("Error",{message:e});break;default:this._log.error("Received unknown message",{message:e}),(0,bu.L0)(e)}},e}(),eg=function(){function e(e,t,n){var r=this,o=e.handler,i=e.reconnectHandler,a=void 0===i?Fp.getDefaultReconnect(Fp.ClientType.capi):i,s=e.maxReconnectDelay,u=e.baseReconnectDelay,c=(0,Xr.__rest)(e,["handler","reconnectHandler","maxReconnectDelay","baseReconnectDelay"]);this._connect=t,this._ws=n,this._log=Pp.C8.Logging.getLogger("coreclients.staticCapi.connection"),this._isIdle=!1,this._isStarted=!1;var l=(0,Xr.__assign)((0,Xr.__assign)({},o||{}),{onError:function(e){var t;null===(t=null==o?void 0:o.onError)||void 0===t||t.call(o,e)},onSessionStarted:function(e){var t;null===(t=null==o?void 0:o.onSessionStarted)||void 0===t||t.call(o,e)}});this._handler=Object.assign(Gf.getHandler(),l),this._ws.onMessage((function(e,t){r._capi.isStable(t)&&d.reset()})).onConnecting((function(){r._isIdle=!1})).onConnect((function(){return r._handler.onConnect({kind:"connect"})})).onDisconnect((function(e){if(!r._capi.isClosed()){var t={canGoIdle:!0,isStable:r._capi.isStable()};r._log.debug("calling reconnect handler:",t),(0,ua.pipe)(a(e,d,t),(function(t){return r._handler.onDisconnect({kind:"disconnect",reason:e,reconnectCounter:d.retryStatus.iterNumber,reconnectResult:t}),t}),ia.fold((function(e){r._log.warn("error reconnecting, closing CAPI:",e.message),r._capi.close("error reconnecting:"+e.message)}),(function(e){"idle"===e.kind&&(r._isIdle=!0)})))}}));var d=new Fp.ReconnectSchedulerImpl((function(){return r.connect()}),[Fp.defaultRetryPolicy(u,s)]);this._capi=new Zf(c,this._handler,this._ws)}return e.prototype.connect=function(){return(0,Xr.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Xr.__generator)(this,(function(t){switch(t.label){case 0:return(0,bu.kG)(!this._capi.isClosed(),"cannot connect when CAPI is closed"),this._isIdle=!1,this._isStarted=!0,this._log.trace("connect: initializing new ws connection"),[4,this._connect(this._ws)];case 1:return e=t.sent(),this._conn=e,[2,e]}}))}))},e.prototype.close=function(e,t){return void 0===e&&(e=Fp.WsCodes.NORMAL_CLOSURE),(0,Xr.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Xr.__generator)(this,(function(r){switch(r.label){case 0:return n=Boolean(t)?t:"CAPI WS Close called",this._log.trace("close: closing CAPI because: ".concat(n)),[4,this._capi.close(n)];case 1:return r.sent(),this._conn?(this._log.debug("close: closing connection because: ".concat(n)),[4,this._conn.close({code:e,reason:n})]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},Object.defineProperty(e.prototype,"isIdle",{get:function(){return this._isIdle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDisconnected",{get:function(){return this._ws.isDisconnected()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wasStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"client",{get:function(){return this._capi},enumerable:!1,configurable:!0}),e}(),tg=__webpack_require__(14601);class ng{constructor(e,t,n,r=Z.create(ng.name)){this._events=e,this._capi=t,this._capiConnection=n,this._log=r,this._subs=new tg.w,this._checkConnected=(0,Ie.zG)((()=>this._capiConnection.isIdle||!this._capiConnection.wasStarted?(this._log.debug(this._capiConnection.isIdle?"received new command while CAPI connection is idle, connecting":"received first command, triggering new connection"),this._capiConnection.connect().then((()=>ia.right(void 0))).catch((e=>(this._log.warn("failed to connect to CAPI",e),ia.left(new Error(`failed to connect to CAPI: ${e}`)))))):Promise.resolve(ia.right(void 0))),Yp.tS((()=>{switch(this._capi.status){case"starting":return()=>this.statusObs.pipe(xe.h((e=>"ready"===e)),df.q(1),pf(ia.right(void 0))).toPromise();case"ready":return Yp.of(void 0);case"disconnected":case"closed":return this._log.warn(`connection is ${this._capi.status}`),Yp.t$(new Error(`connection is ${this._capi.status}`));default:(0,bu.L0)(this._capi.status)}}))),this.ping=(0,Ie.zG)(this._checkConnected,Yp.tS((()=>this._capi.ping))),this.close=e=>this._capi.close(e),this.setSessionOption=e=>(0,Ie.zG)(this._checkConnected,Yp.tS((()=>this._capi.setSessionOption(e)))),this.sendFeedback=e=>(0,Ie.zG)(this._checkConnected,Yp.tS((()=>this._capi.sendFeedback(e)))),this.updateContextInfo=e=>(0,Ie.zG)(this._checkConnected,Yp.tS((()=>this._capi.updateContextInfo(e))))}get statusObs(){return this._events.pipe(Jr.U((()=>this._capi.status)),_f(this._capi.status),Zr())}get status(){return this._capi.status}dispose(){this._subs.unsubscribe()}}!function(e){e.create=function(){return t.iy.create()}}(Xf||(Xf={})),function(e){e.create=function(e,t){const n=new sa.xQ,r=function(e){const t=e=>new(WebSocket||self.MozWebSocket)(e);return new Uh(Zh.create(t),e)}(t),o=new eg({client:{type:e.clientName,sub:e.clientSubType},extDomain:e.domain,clientSupports:e.supportedFeatures,handler:Gf.getHandler((e=>n.next(e))),clientVersion:e.clientVersion,startSessionOptions:e.startSessionOptions||{}},(t=>t.connect(e.capiUrl)),r),i=new ng(n,o.client,o);return{client:i,getStatus:()=>i.status,getStatusObs:()=>i.statusObs,getEventsObs:()=>n,dispose:()=>{n.complete(),n.unsubscribe(),i.close("Disposed")},connect:()=>{o.connect()}}}}(Qf||(Qf={}));class rg{constructor(e,t=Z.create(rg.name)){this._factory=e,this._log=t,this._instances=new Map,this.api={sendFeedback:this._callClientMethod("sendFeedback",((e,t)=>e.sendFeedback(...t))),close:this._callClientMethod("close",((e,t)=>e.close(...t))),setSessionOption:this._callClientMethod("setSessionOption",((e,t)=>e.setSessionOption(...t))),ping:this._callClientMethod("ping",(e=>e.ping())),updateContextInfo:this._callClientMethod("updateContextInfo",((e,t)=>e.updateContextInfo(...t))),getStatus:this._callWrapperMethod("getStatus",(e=>e.getStatus())),getStatusObs:this._callWrapperMethod("getStatusObs",(e=>e.getStatusObs())),getEventsObs:this._callWrapperMethod("getEventsObs",(e=>e.getEventsObs())),connect:this._callWrapperMethod("connect",(e=>e.connect()))}}_callClientMethod(e,t){return({token:n,args:r})=>{const o=this._instances.get(n);if(!o)throw new Error(`no instance for ${n}`);try{return t(o.client,r)}catch(t){throw new Error(`method ${e} of instance ${n} threw an error: ${t.message?t.message:t}`)}}}_callWrapperMethod(e,t){return({token:n,args:r})=>{const o=this._instances.get(n);if(!o)throw new Error(`no instance for ${n}`);try{return t(o,r)}catch(t){throw new Error(`method ${e} of instance ${n} threw an error: ${t.message?t.message:t}`)}}}startSession(e){const t=Xf.create();return this._instances.set(t,this._factory(e)),t}stopSession(e){const t=this._instances.get(e);t?(t.dispose(),this._instances.delete(e)):this._log.warn(`no instance for ${e}, ignoring`)}dispose(){for(const e of this._instances.keys())try{this.stopSession(e)}catch(t){this._log.error(`failed trying to dispose instance ${e}`,t)}this._instances.clear()}}function og(e,t){let n=0,r=e.length-1;for(;n<=r;){const o=n+r>>1,i=t(e[o]);if(i>0)n=o+1;else{if(!(i<0))return{kind:"found",index:o};r=o-1}}return{kind:"notFound",lastSearchRange:[Math.min(n,r),Math.max(n,r)]}}const ig=(e,t)=>e<t?-1:e>t?1:0;class ag{constructor(e){this._sortedFreeDomainsListUrl=e,this._sortedFreeDomainsListCache=_u.none}isGenericEmailDomain(e){return(0,Ie.zG)(this._sortedFreeDomainsListCache,_u.fold((()=>(0,Ie.zG)(this._getSortedFreeDomainsList(),Yp.UI((e=>(this._sortedFreeDomainsListCache=_u.some(e),e))))),(e=>Yp.of(e))),Yp.UI((t=>null!==function(e,t,n){const r=og(e,(e=>n(t,e)));return"found"===r.kind?r.index:null}(t,e,ig))))()}_getSortedFreeDomainsList(){return(0,Ie.zG)(Yp.Y3((()=>fetch(this._sortedFreeDomainsListUrl).then((e=>e.json())).catch((e=>new Error(`HTTP error: ${String(e)}`)))),ia.toError),Yp.tS((e=>Yp.Uo((0,Ie.zG)(Jf.readonlyArray(Jf.string).decode(e),ia.mapLeft((e=>new Error(`Parse error: ${String(e)}`))))))))}}var sg,ug;!function(e){e.anonymous="anonymous",e.registered="registered",e.premium="premium"}(sg||(sg={})),function(e){function t(e){return!e.anonymous&&e.premium}function n(e){var t;return["BUSINESS","NGO","GOV"].includes((null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)||"")}function r(e){return!!e.institutionInfo}function o(e){var t;return(null===(t=e.roles)||void 0===t?void 0:t.map((e=>e.type)).includes("WORKSPACE"))||!1}e.getType=function(e){return e.premium?sg.premium:e.anonymous?sg.anonymous:sg.registered},e.isFree=function(e){return!e.anonymous&&!e.premium},e.isPremium=t,e.isFreeTrial=function(e){return!!(t(e)&&e.customFields&&e.customFields.frontend_premiumTrialEndDate)&&new Date<new Date(e.customFields.frontend_premiumTrialEndDate)},e.getUserRole=function(e,t){var n;return null===(n=e.roles)||void 0===n?void 0:n.find((e=>e.type===t))},e.isEdcBlocked=function(e){return!!e.edc&&!e.edc.compliant},e.isDocsDisabled=function(e){var t,n;return null!==(n=null===(t=e.editorFeatures)||void 0===t?void 0:t.docsDisabled)&&void 0!==n&&n},e.hasRole=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_role&&""!==e.customFields.frontend_role)},e.hasSoundFluentGoals=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_soundFluent&&""!==e.customFields.frontend_soundFluent)},e.hasPrimaryLanguage=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_primaryLanguage&&""!==e.customFields.frontend_primaryLanguage)},e.isBusinessAdmin=function(e){var t;return Boolean(n(e)&&(null===(t=null==e?void 0:e.institutionInfo)||void 0===t?void 0:t.admin))},e.doesUserBelongToBusinessInstitution=n,e.doesUserBelongToInstitution=r,e.doesUserBelongToEDUInstitution=function(e){var t;return"EDU"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)},e.doesUserBelongToNGOInstitution=function(e){var t;return"NGO"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)},e.doesUserBelongToWorkspace=o,e.doesUserBelongToInstitutionOrWorkspace=function(e){return r(e)||o(e)},e.isClaimed=function(e){return e.groups.includes("claimed-invitation")};e.isGrammarlyEmployee=function(e){var t;return e.email.endsWith("@grammarly.com")&&624392205===(null===(t=e.institutionInfo)||void 0===t?void 0:t.id)},e.isTestUser=function(e){return e.email.endsWith("@bh.exacttarget.com")},e.isConsumerUser=function(e){return!r(e)},e.defaultUser={anonymous:!0,groups:[],id:"",premium:!1,isTest:!1,settings:{},subscriptionFree:!1,type:"anonymous",email:"",registrationDate:(new Date).toString(),firstName:""}}(ug||(ug={}));var cg,lg=__webpack_require__(99596);!function(e){var t=function(){};e.Base=t}(cg||(cg={}));var dg=__webpack_require__(24153),pg=__webpack_require__(55485),hg=function(e){function t(t,n,r){var o=e.call(this)||this;return o._url=t,o._ajaxFactory=n,o._fingerprints=r,o._ajax=o._ajaxFactory({requestExtender:dg.d3.toHeaderAppender(o._fingerprints)}),o}return(0,Xr.__extends)(t,e),t.getDefaultUrl=function(e){return"https://goldengate".concat(e,"/knowledge-hub/v1/institution")},t.prototype.getTerms=function(e){var n=lg.cl.get(this._url,e,"term");return this._ajax.json(n,t.TermsIOType)},t.prototype.getTermsAsCSV=function(e){var t=lg.cl.get(this._url,e,"term/csv");return this._ajax.file(t)},t.prototype.getPresets=function(e){var n=lg.cl.get(this._url,e,"presets");return this._ajax.json(n,t.PresetsIOType)},t.prototype.batchTerms=function(e,n){var r=lg.cl.post(this._url,e,"term/batch").json(n);return this._ajax.json(r,t.TermsIOType)},t.prototype.createTerm=function(e,n){var r=lg.cl.post(this._url,e,"term").json(n);return this._ajax.json(r,t.TermIOType)},t.prototype.updateTerm=function(e,n,r){var o=lg.cl.patch(this._url,e,"term",n).json(r);return this._ajax.json(o,t.TermIOType)},t.prototype.deleteTerm=function(e,t){var n=lg.cl.del(this._url,e,"term",t);return this._ajax.empty(n)},t.prototype.bulkCreatePeople=function(e,n){var r=lg.cl.post(this._url,e,"people/bulk").json(n);return this._ajax.json(r,t.KeyPeopleIOType)},t.prototype.bulkTermsUpload=function(e,t){var n=lg.cl.post(this._url,e,"term/csv").multipartFormData("file",t);return this._ajax.json(n)},t.prototype.getSettings=function(e){var n=lg.cl.get(this._url,e,"settings");return this._ajax.json(n,t.SettingsIOType)},t.prototype.setSettings=function(e,t){var n=lg.cl.put(this._url,e,"settings").json(t);return this._ajax.json(n)},t.KeyPersonIOType=Jf.interface({id:Jf.string,displayName:Jf.string}),t.KeyPeopleIOType=Jf.array(t.KeyPersonIOType),t.KeyPeopleBulkCreateRequestIOType=Jf.interface({peopleDetails:Jf.array(Jf.interface({displayName:Jf.string}))}),t.TermSourceIOType=Jf.union([Jf.literal("SAMPLE"),Jf.literal("PRESET"),Jf.literal("MANUAL"),Jf.literal("BULK_UPLOAD"),Jf.literal("GENERATED"),Jf.literal("SUGGESTED_TERM"),Jf.undefined]),t.TermIOType=Jf.interface({id:Jf.string,name:Jf.string,aliases:Jf.array(Jf.string),matchPhrases:Jf.array(Jf.string),description:Jf.union([Jf.string,Jf.undefined]),relatedMaterials:Jf.array(Jf.interface({title:Jf.string,link:Jf.string,createdAt:pg.D.date()})),keyPeopleIds:Jf.array(Jf.string),keyPeople:t.KeyPeopleIOType,isIgnored:Jf.boolean,createdAt:pg.D.date(),updatedAt:pg.D.date(),source:t.TermSourceIOType}),t.TermsIOType=Jf.array(t.TermIOType),t.SettingsIOType=Jf.interface({isEnabled:Jf.boolean}),t.TermCreateRequestIOType=Jf.interface({aliases:Jf.array(Jf.string),description:Jf.string,relatedMaterials:Jf.array(Jf.interface({title:Jf.string,link:Jf.string})),keyPeopleIds:Jf.array(Jf.string),source:t.TermSourceIOType}),t.TermsBatchRequestIOType=Jf.interface({terms:Jf.array(t.TermCreateRequestIOType)}),t.PresetTermIOType=Jf.interface({aliases:Jf.array(Jf.string),description:Jf.string,exists:Jf.boolean}),t.PresetIOType=Jf.interface({name:Jf.string,terms:Jf.array(t.PresetTermIOType)}),t.PresetsIOType=Jf.array(t.PresetIOType),t.TermUpdateRequestIOType=Jf.interface({id:Jf.string,aliases:Jf.array(Jf.string),description:Jf.string,relatedMaterials:Jf.array(Jf.interface({title:Jf.string,link:Jf.string})),keyPeopleIds:Jf.array(Jf.string),createdAt:pg.D.date(),updatedAt:pg.D.date()}),t.TermsBulkUploadResultIOType=Jf.interface({uploadedTermsCount:Jf.number,failedTermsCount:Jf.number,errors:Jf.array(Jf.interface({lineNumber:Jf.number,line:Jf.array(Jf.string),message:Jf.string}))}),t}(cg.Base);class fg{constructor(e,n,r,o=Z.create("KnowledgeHub Service")){this._getUser=r,this._log=o,this._loadingSettingsPromise=null,this._api=(0,t.Vo)((()=>new hg(e,n.ajaxFactory,n.fingerprints)))}setKnowledgeHubSettings(e){const t=this._getRole();return t?this._api.get().setSettings(t.externalId,{isEnabled:e}).catch((e=>(this._log.warn("Knowledge Hub settings set error",e),null))):(this._log.error("Tried to set Knowledge Hub settings for user with no institution or workspace role"),Promise.resolve(null))}async getKnowledgeHubSettings(){return this._loadingSettingsPromise||(this._loadingSettingsPromise=this._loadSettings(),this._loadingSettingsPromise.finally((()=>{this._loadingSettingsPromise=null}))),this._loadingSettingsPromise}_getRole(){const e=this._getUser();if(!e)return;const t=ug.doesUserBelongToInstitution(e)?"INSTITUTION":"WORKSPACE";return ug.getUserRole(e,t)}_loadSettings(){const e=this._getRole();return e?this._api.get().getSettings(e.externalId).catch((e=>(this._log.info("Knowledge Hub settings loading error",e),null))):Promise.resolve({isEnabled:!1})}}const gg={creditCardNumber:"(?<=\\s|^)(?:\\d{4}\\d{4}\\d{4}\\d{4})|(?:\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(?:\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})(?=[.,;:!?\\s]|$)",phoneNumber:"(?<=\\s|^)(?:(?:(?:(?:(?:\\+\\d{1,3})[-\\s.]?(?:(?:\\(\\d{1,5}\\))|\\d{1,5}))|(?:\\(\\d{1,5}\\)))[-\\s.]?\\d{1,2}[-\\s.]?\\d{1,2}[-\\s.]?\\d{2,3}[-\\s.]?\\d{2,3})|(?:\\d{3}[-\\s.]\\d{3,4}[-\\s.]\\d{4,6}))(?=[.,;:!?\\s]|$)",usSSN:"(?<=\\s|^)\\d{3}[-]*\\d{2}[-]*\\d{4}(?=[.,;:!?\\s]|$)"},mg=["creditCardNumber","phoneNumber","usSSN"];class yg{constructor(){this._log=Z.create(yg.name),this._uidPrefix=t.iy.create().slice(0,6),this._nextAlertId=0}check({revision:e,newText:t,affectedRanges:n}){const r=performance.now(),o=n.reduce(((n,r)=>{const{start:o,end:i}=this.getTextRangeForPiiDetection(t,r,20),a=t.substring(o,i);return[...n,...this.findMatchesForAllPatterns(a).map((({matchedText:t,matchIndex:n,patternType:r})=>({range:{start:o+n,end:o+n+t.length},text:t,revision:e,patternType:r,id:`pii-${this._uidPrefix}-${(this._nextAlertId++).toString(10)}`})))]}),[]),i=performance.now()-r;return this._log.trace(`Check to identify PII information in user text took ${i.toString()} milliseconds`),{alerts:o,revision:e}}findMatchesForAllPatterns(e){return mg.reduce(((t,n)=>{const r=gg[n];return[...t,...r?this.findMatchesForPattern(e,n,r):[]]}),[])}findMatchesForPattern(e,t,n){const r=RegExp(n,"g");let o=r.exec(e);const i=[];for(;o;)i.push({matchIndex:o.index,matchedText:o[0],patternType:t}),o=r.exec(e);return i}getTextRangeForPiiDetection(e,t,n){let r=Math.max(0,t.start-n),o=Math.min(e.length,t.end+n);const i=/\s/;for(;r>0&&!i.test(e[r]);)r--;for(;o<e.length&&!i.test(e[o]);)o++;return{start:r,end:o}}}class vg{constructor(e){this._factory=e,this._instance=null}_getInstance(){return this._instance||(this._instance=this._factory()),this._instance}check(e){return this._getInstance().check(e)}}var bg,_g=__webpack_require__(17771);!function(e){let t;!function(e){e.codec=Jf.brand(Jf.string,(e=>"string"==typeof e),"AnnotationId"),e.create=function(e){return e},e.eq=Us.yv}(t=e.Id||(e.Id={})),e.eq=Us.MW({id:t.eq,span:Us.MW({s:Us.lr,e:Us.lr})})}(bg||(bg={}));const wg=Jf.readonly(Jf.type({filteringVersion:Jf.number,filteredMessages:Jf.readonly(Jf.record(Wf.codec,Jf.readonlyArray(Jf.string)))})),Sg=Jf.intersection([wg,Jf.readonly(Jf.partial({goodForAnnotations:Jf.readonlyArray(Wf.codec)}))]);var Ig;!function(e){e.eq=Us.MW({filteringVersion:Us.lr,filteringReasons:Ls.Eh(Us.yv)})}(Ig||(Ig={}));const xg=Jf.readonly(Jf.type({s:Jf.number,e:Jf.number})),Eg=Jf.union([Jf.literal("main_point"),Jf.literal("date"),Jf.literal("question"),Jf.literal("action_item"),Jf.literal("debug")]),kg=Jf.array(Jf.intersection([Jf.type({message_id:Wf.codec,span:xg,type:Eg}),Jf.partial({id:bg.Id.codec})])),Tg=Jf.intersection([Jf.partial({filteringInfo:Sg}),Jf.type({annotations:kg})]);var Ag;!function(e){e.eq=Us.MW({id:bg.Id.eq,span:Us.MW({s:Us.lr,e:Us.lr}),type:Us.yv})}(Ag||(Ag={}));var Cg,Og=__webpack_require__(39335);!function(e){let t;!function(e){e.codec=Jf.brand(Jf.string,(e=>"string"==typeof e),"ReaderSummaryUnitId"),e.create=function(e,t){return`${e}|${Og.createHash("superfasthash").hash(t)}`}}(t=e.Id||(e.Id={})),e.eq=Us.MW({id:Us.yv,text:Us.yv})}(Cg||(Cg={}));const Pg=Jf.array(Jf.intersection([Jf.type({text:Jf.string}),Jf.partial({id:Cg.Id.codec})])),Rg=Jf.intersection([Jf.partial({filteringInfo:wg}),Jf.type({summaries:Jf.array(Jf.type({message_id:Wf.codec,summary:Pg}))})]);var Ng,Dg;!function(e){e.eq=Us.MW({messageId:Wf.eq,summary:Ls.Eh(Cg.eq),filteringInfo:_u.getEq(Ig.eq)})}(Ng||(Ng={}));class Mg{constructor(e,t){this._readerApiUrl=e,this._apiService=t,this._logger=Z.create("ReaderMail Service")}getReaderAnnotations(e){const t=lg.cl.post(this._readerApiUrl.annotations).json(e);return this._apiService.ajax.json(t,Tg).then((0,Ie.ls)((n=e.requestedMessageIds||[],e=>{const t=e.annotations.reduce(((e,t)=>(e.set(t.message_id,(e.get(t.message_id)||[]).concat(t)),e)),new Map);return n.reduce(((n,r)=>(n[r]={messageId:r,annotations:(t.get(r)||[]).map((e=>({id:e.id||bg.Id.create(`${r}|${e.span.s}-${e.span.e}-${e.type}`),span:e.span,type:e.type}))),filteringInfo:(0,Ie.zG)(_u.fromNullable(e.filteringInfo),_u.chain((t=>{var n,o;return _g.Y(_u.option)({filteringReasons:_u.fromNullable(null===(n=t.filteredMessages)||void 0===n?void 0:n[r]),filteringVersion:_u.fromNullable(null===(o=e.filteringInfo)||void 0===o?void 0:o.filteringVersion)})}))),goodForAnnotations:(0,Ie.zG)(_u.fromNullable(e.filteringInfo),_u.chain((e=>_u.fromNullable(e.goodForAnnotations))),_u.fold(Ie.jv,(e=>e.includes(r))))},n)),{})}),ia.right)).catch((e=>(this._logger.warn("annotations error",e),ia.left(e))));var n}getReaderSummaries(e){const t=lg.cl.post(this._readerApiUrl.summaries).json(e);return this._apiService.ajax.json(t,Rg).then((0,Ie.ls)((n=e.requestedMessageIds||[],e=>{const t=e.summaries.reduce(((e,t)=>(e.set(t.message_id,t.summary),e)),new Map);return n.reduce(((n,r)=>(n[r]={messageId:r,summary:(t.get(r)||[]).map((e=>({id:e.id||Cg.Id.create(r,e.text),text:e.text}))),filteringInfo:(0,Ie.zG)(_u.fromNullable(e.filteringInfo),_u.chain((t=>{var n,o;return _g.Y(_u.option)({filteringReasons:_u.fromNullable(null===(n=t.filteredMessages)||void 0===n?void 0:n[r]),filteringVersion:_u.fromNullable(null===(o=e.filteringInfo)||void 0===o?void 0:o.filteringVersion)})})))},n)),{})}),ia.right)).catch((e=>(this._logger.warn("summaries error",e),ia.left(e))));var n}sendReaderEvents(e){const t=lg.cl.post(this._readerApiUrl.eventsV1).json({...e,features:[]});return this._apiService.ajax.empty(t).then((()=>ia.right(void 0))).catch((e=>(this._logger.warn("events error",e),ia.left(e))))}}class jg{constructor(e,t){this._rpcMessageName=e,this._message=t,this.inbound=new qr.y((e=>{const t=(t,n,r)=>{const o=JSON.stringify([r.tabId,r.frameId,t.clientId]);e.next({clientId:o,data:t.data})};return this._message.on(this._rpcMessageName,t),()=>this._message.off(this._rpcMessageName,t)})),this.outbound=e=>{const{tabId:t,frameId:n,clientId:r}=jg.decodeClientId(e.clientId);this._message.sendTo({tabId:t,frameId:n},this._rpcMessageName,{clientId:r,data:e.data})}}static decodeClientId(e){const[t,n,r]=JSON.parse(e);return{tabId:t,frameId:n,clientId:r}}}!function(e){e.trackGnar=function(e,t){jr[e](...t)},e.trackFire=function(e,t){Ur(e,...t)},e.trackCall=function(e,t){CS().telemetryCallProvider.call(e,...t)}}(Dg||(Dg={}));class Lg{constructor(e,t){this._transport=e,this._api=t,this._disposed=!1,this._sub=this._transport.inbound.subscribe((async e=>{try{const t=this._api[e.data.method];if("function"!=typeof t)throw{message:`invalid method name ${String(e.data.method)}`};{const n={clientId:e.clientId},r=await t.call(this._api,n,...e.data.args);this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,res:r}})}}catch(t){this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,err:t}})}}))}dispose(){this._disposed||(this._disposed=!0,this._sub.unsubscribe())}}function Ug(e){return re(Object.entries(e).map((([t,n])=>[t,(t,...r)=>n.apply(e,r)])))}var Fg,Bg,Gg,zg,Wg,qg,Vg;!function(e){e.rpcLegacyMessageName="cs-to-bg-rpc-1557421403805"}(Fg||(Fg={}));class Hg{constructor(e,t,n,r,o,i,a,s,u,c,l,d,p,h,f,g,m,y,v,b,_,w,S=Z.create(Hg.name)){this._persistentStore=e,this._storeActions=t,this._extensionApi=n,this._experimentClient=r,this._autocorrectApi=o,this._completionService=i,this._piiDetectionService=a,this._snippetsService=s,this._knowledgeHubService=u,this._readerMailService=c,this._genericEmailDomainsService=l,this._bgTreatmentService=d,this._bgGatesService=p,this._pageConfig=h,this._settingsActions=f,this._cookiesHelper=g,this._sideEffectEmitter=m,this._dapiService=y,this._dictionaryService=v,this._chipmunkService=b,this._iterableService=_,this._cheetahSettingsService=w,this._log=S,this.publicApi={...Ug({log:e=>{this._log.debug(` log via CS-BG rpc: ${e}`)},getTime:()=>Date.now(),logout:()=>{this._sideEffectEmitter.logoutUser()},openDataControl:()=>{this._extensionApi.openDataControl&&this._extensionApi.openDataControl()},acceptDataControl:async()=>{await Fr.initialEnable(this._storeActions,this._cookiesHelper,this._extensionApi,this._persistentStore)},uninstallExtension:()=>{this._extensionApi.management.uninstallSelf()},getDefinition:this._dictionaryService.getDefinition,fetchMessages:this._chipmunkService.fetchMessages,acknowledgeMessage:this._chipmunkService.acknowledgeMessage,dismissMessage:this._chipmunkService.dismissMessage,iterableGetInAppMessages:this._iterableService.getInAppMessages,iterableTrackInAppOpen:this._iterableService.trackInAppOpen,iterableTrackInAppClose:this._iterableService.trackInAppClose,iterableTrackInAppConsume:this._iterableService.trackInAppConsume,iterableTrackInAppClick:this._iterableService.trackInAppClick,iterableUserUpdate:this._iterableService.userUpdate,autocomplete:me(this._completionService).complete,autocompletePhrase:me(this._completionService).completePhrase,piiDetectionCheck:me(this._piiDetectionService).check,autocorrectStartSession:()=>this._autocorrectApi.startSession(),autocorrectCloseSession:me(this._autocorrectApi).closeSession,autocorrectCheck:this._autocorrectApi.api.check,autocorrectOnCorrectionRejected:this._autocorrectApi.api.onCorrectionRejected,autocorrectOnCorrectionAccepted:this._autocorrectApi.api.onCorrectionAccepted,addSnippet:me(this._snippetsService).addSnippet,getSnippets:me(this._snippetsService).getSnippets,getKnowledgeHubSettings:me(this._knowledgeHubService).getKnowledgeHubSettings,setKnowledgeHubSettings:me(this._knowledgeHubService).setKnowledgeHubSettings,getReaderAnnotations:me(this._readerMailService).getReaderAnnotations,getReaderSummaries:me(this._readerMailService).getReaderSummaries,sendReaderEvents:me(this._readerMailService).sendReaderEvents,isGenericEmailDomain:me(this._genericEmailDomainsService).isGenericEmailDomain,fetchCheetahStatusRateLimited:this._cheetahSettingsService.fetchStatusRateLimited,fetchCheetahStatus:this._cheetahSettingsService.fetchStatus,setCheetahStatus:this._cheetahSettingsService.setStatus,getExperimentTreatment:this._bgTreatmentService.getTreatment,logExperimentTreatment:this._bgTreatmentService.logTreatment,getGateTreatment:this._bgGatesService.getTreatment,getPageConfig:(e,t)=>{const n=this._pageConfig.get(e,t);return this._pageConfig.invalidateMemoized(),n},refreshUser:e=>{this._sideEffectEmitter.refreshUser(e)},enableClickToRunOnAllWebsites:async()=>await this._settingsActions.enableClickToRunOnAllSites(),setDAPIProp:this._dapiService.setProp,fetchAllDAPIPropsRateLimited:this._dapiService.fetchAllPropsRateLimited,sendToFocusTab:CS().message.sendToFocusedTab,proxyMessageToTab:(e,t)=>{0},getContainerIdOrUndefined:_n,trackGnar:Dg.trackGnar,trackFire:Dg.trackFire,trackCall:Dg.trackCall,isGateEnabled:e=>this._experimentClient.isGateEnabled(Lf[e])}),logClient:(e,t)=>{const{tabId:n,frameId:r,clientId:o}=jg.decodeClientId(e.clientId);this._log.debug(` log via CS-BG rpc [${n}:${String(r)}:${o}]: ${t}`)},loadContentScript:e=>{const{frameId:t,tabId:n}=jg.decodeClientId(e.clientId);if("web-extension"===this._extensionApi.tabs.kind){const e=[co.STYLES,co.MAIN];for(const r of e)this._extensionApi.tabs.executeScript(r,Number(n),t)}},enableHistoryLoggerUntil:async(e,t)=>await this._settingsActions.enableHistoryLoggerUntil(t),disableHistoryLogger:async()=>await this._settingsActions.disableHistoryLogger(),enableAdvancedHistoryLoggerUntil:async(e,t)=>await this._settingsActions.enableAdvancedHistoryLoggerUntil(t),disableAdvancedHistoryLogger:async()=>await this._settingsActions.disableAdvancedHistoryLogger(),toggleDebugMenu:async(e,t)=>await this._settingsActions.toggleDebugMenu(t),getBGLogs:()=>CS().historyLogsService.getLogs(),checkAuthPermissions:async()=>{var e;const{dynamicConfig:t}=await this._persistentStore.get(["dynamicConfig"]);return!0===(null==t?void 0:t.requireAuthCookieAccess)?null===(e=this._extensionApi.permissions)||void 0===e?void 0:e.contains(ke()):void 0},requestAuthPermissions:async()=>{var e;const{dynamicConfig:t}=await this._persistentStore.get(["dynamicConfig"]);return!0===(null==t?void 0:t.requireAuthCookieAccess)?null===(e=this._extensionApi.permissions)||void 0===e?void 0:e.request(ke()):void 0},proxyMessageToDevtools:(e,t)=>{const{frameId:n,tabId:r}=jg.decodeClientId(e.clientId)},getTabId:e=>jg.decodeClientId(e.clientId).tabId,isCurrentTabFocused:async e=>{const{tabId:t}=jg.decodeClientId(e.clientId),n="web-extension"===this._extensionApi.tabs.kind?await this._extensionApi.tabs.getActiveTab():void 0;return t===String(null==n?void 0:n.id)},sendToPopup:(e,t)=>{const{frameId:n,tabId:r}=jg.decodeClientId(e.clientId);CS().message.sendTo(Co,t.kind,{caller:{frameId:n,tabId:r},...t})}}}}!function(e){let t,n,r,o,i,a,s,u,c;!function(e){e.parseOrEmpty=function(e){return _u.getOrElse((()=>Xp.R$.unset))(Xp.R$.parse(e))}}(t=e.DocumentContextExt||(e.DocumentContextExt={})),function(e){e.serialize=function(e){return{...e,context:Xp.R$.serialize(e.context)}},e.parse=function(e){return{...e,context:t.parseOrEmpty(e.context)}}}(n=e.DenaliCAPISettings||(e.DenaliCAPISettings={})),function(e){let t;!function(e){let t;!function(e){e.Value="context_serialized"}(t=e.Kind||(e.Kind={}))}(t=e.Serialized||(e.Serialized={}))}(r=e.ContextOption||(e.ContextOption={})),function(e){e.serialize=function(e){return e.kind===Op.rP.Context?{kind:r.Serialized.Kind.Value,context:Xp.R$.serialize(e.context)}:e},e.parse=function(e){return e.kind===r.Serialized.Kind.Value?{kind:Op.rP.Context,context:t.parseOrEmpty(e.context)}:e}}(o=e.SessionOption||(e.SessionOption={})),function(e){e.serialize=e=>{switch(e.kind){case"delta":case"reset":return{...e};default:return e}},e.parse=e=>{switch(e.kind){case"delta":return Gg.createDeltaChange(e.delta,e.prevLen);case"reset":return Gg.createResetChange(e.delta);default:return e}}}(i=e.Change||(e.Change={})),function(e){e.serialize=e=>{const{snippets:t,...n}=e;return{...n,snippets:null==t?void 0:t.map(s.serialize)}},e.parse=e=>{const{snippets:t,...n}=e;return{...n,snippets:null==t?void 0:t.map(s.parse)}}}(a=e.SnippetsResult||(e.SnippetsResult={})),function(e){e.serialize=e=>{const{contentDelta:t,...n}=e;return{...n,contentDelta:u.serialize(t)}},e.parse=e=>{const{contentDelta:t,...n}=e;return{...n,contentDelta:u.parse(t)}}}(s=e.SnippetRule||(e.SnippetRule={})),function(e){e.serialize=e=>({...e}),e.parse=e=>zg.createDelta(e.ops)}(u=e.Delta||(e.Delta={})),function(e){e.serialize=e=>({...e}),e.parse=e=>Gg.createResetChange(e.delta)}(c=e.Reset||(e.Reset={}))}(Bg||(Bg={})),function(e){e.createDeltaChange=Vp.delta,e.createResetChange=Vp.unsafeRes}(Gg||(Gg={})),function(e){e.createDelta=e=>new ih.i(e)}(zg||(zg={})),function(e){e.rpcLegacyMessageName="cs-to-bg-rpc-1587687052565",e.rpcLegacyObservableName="cs-to-bg-observable-rpc-1587687052565"}(Wg||(Wg={})),function(e){e.createWithRandomId=function(e){const n=t.iy.create().slice(0,6);return e&&Z.create("ConnectionId").debug(`Created connectionId "${n}" for "${e}"`),`${e}-${n}`},e.createStatic=function(e){return`${e}`}}(qg||(qg={})),function(e){e.create=function(e,t){return`${e}-${t}`},e.getRevisionNumber=function(e){if(!e)return-1;const t=e.split("-");return t.length>0?Number(t[t.length-1]):-1},e.fromString=function(e){return e},e.unregistered="unreg"}(Vg||(Vg={}));var $g=__webpack_require__(12126);var Kg,Yg=__webpack_require__(40151);function Jg(e){var t=e.error;e.subscriber.error(t)}Kg||(Kg={});var Xg=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,gf.of)(this.value);case"E":return function(e,t){return t?new qr.y((function(n){return t.schedule(Jg,0,{error:e,subscriber:n})})):new qr.y((function(t){return t.error(e)}))}(this.error);case"C":return(0,Yg.c)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function Qg(e,t){void 0===t&&(t=Vr.P);var n,r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return function(e){return e.lift(new em(r,t))}}var Zg,em=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new tm(e,this.delay,this.scheduler))},e}(),tm=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return Xr.__extends(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,o=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(e,i)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new nm(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Xg.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Xg.createComplete()),this.unsubscribe()},t}(Qr.L),nm=function(){return function(e,t){this.time=e,this.notification=t}}();function rm(e){return"tunnel"===e.tag}function om(e){return"tunnel"!==e.tag}function im(e){return om(e.data)}function am(e){return t=>e(t.data)}!function(e){e.isSubscribe=e=>"action"in e.data&&"subscribe"===e.data.action,e.isUnsubscribe=e=>"action"in e.data&&"unsubscribe"===e.data.action,e.isDispose=e=>"action"in e.data&&"dispose"===e.data.action,e.isPong=e=>"pong"in e.data,e.isPing=e=>"ping"in e.data,e.isObservableResult=e=>"subscribableId"in e}(Zg||(Zg={}));const sm=Symbol();function um(e){return Boolean(e)&&e._tag===sm}var cm;function lm(e){return e instanceof qr.y?e:new qr.y((t=>e.subscribe(t)))}!function(e){e.measure=e=>t=>new qr.y((n=>t.subscribe((t=>e((()=>n.next(t)))),(e=>n.error(e)),(()=>n.complete())))),e.using=(e,t)=>function(e,t){return new qr.y((function(n){var r,o;try{r=e()}catch(e){return void n.error(e)}try{o=t(r)}catch(e){return void n.error(e)}var i=(o?(0,$g.D)(o):Yg.E).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}}))}(e,t),e.doNothing=e=>e}(cm||(cm={}));class dm{constructor(e,t,n=Z.create(dm.name),r){this._transport=e,this._observableTransport=t,this._log=n,this._serverId=r,this._calls=new Map,this._subscribeRelatedCalls=new Map,this._observables=new Map,this._subscribers=new Map,this._transportSubscription=lm(this._transport.inbound).pipe((0,xe.h)(om)).subscribe((e=>{this._processResponse(e)})),this._observableTransportSubscription=lm(this._observableTransport.inbound).pipe((0,xe.h)(om)).subscribe((e=>{this._processObservableMessage(e)})),this.api=new Proxy({},{get:(e,t)=>"then"===t?void 0:(...e)=>this._handleCall(t,e)})}_processResponse(e){const t=this._calls.get(e.id);if(t)try{if("err"in e)t.reject(e.err);else if(Zg.isObservableResult(e))try{const n=new qr.y((t=>this._createSubscribeHandler(e.subscribableId,t)));this._observables.set(e.subscribableId,n),t.resolve(n)}catch(t){this._observables.delete(e.subscribableId)}else t.resolve(this.transformResult(e.res))}finally{this._calls.delete(e.id)}else this._log.warn(`received rpc call response for unregistered call ${e.id}`)}transformResult(e){return e}_processObservableMessage(e){if("subscribed"in e){const t=this._subscribeRelatedCalls.get(e.id);if(t)try{t.resolve()}finally{this._subscribeRelatedCalls.delete(e.id)}else this._log.warn(`received rpc call subscribed response for unregistered subscribe call ${e.id}`)}else if("unsubscribed"in e){const t=this._subscribeRelatedCalls.get(e.id);if(t)try{t.resolve()}finally{this._subscribeRelatedCalls.delete(e.id),this._subscribers.delete(e.id)}else this._log.warn(`received rpc call unsubscribed response for unregistered unsubscribe call ${e.id}`)}else if("next"in e)try{const t=this._subscribers.get(e.subscriptionId);t?t.subscriber.next(e.next):this._log.warn(`received observable next message for unregistered subscription ${e.subscriptionId}`)}catch(t){this._subscribers.delete(e.subscriptionId)}else if("complete"in e)try{const t=this._subscribers.get(e.subscriptionId);t?(t.subscriber.complete(),this._subscribers.delete(e.subscriptionId)):this._log.warn(`received observable complete for unregistered subscription ${e.subscriptionId}`)}catch(t){this._subscribers.delete(e.subscriptionId)}else if("err"in e)try{const t=this._subscribers.get(e.subscriptionId);t?t.subscriber.error(e.err):this._log.warn(`received observable error for unregistered subscription  ${e.subscriptionId}`)}finally{this._subscribers.delete(e.subscriptionId)}else if("subErr"in e){const t=this._subscribeRelatedCalls.get(e.id);try{const n=this._subscribers.get(e.id);n?n.subscriber.error(e.subErr):this._log.warn(`received subscription error response for unregistered call ${e.id}`)}finally{t&&(t.reject(e.subErr),this._subscribeRelatedCalls.delete(e.id)),this._observables.delete(e.subscribableId),this._subscribers.delete(e.id)}}else if("ping"in e)try{this._observables.get(e.ping)?this._observableTransport.outbound({pong:e.ping}):this._log.warn(`received ping for unregistered observable ${e.ping}`)}finally{(0,t.EI)()}}_handleCall(e,n){let r=t.iy.create();for(;this._calls.has(r);)r=t.iy.create();const o=Ar.createCompletionSource();this._calls.set(r,o);const i=n.map((e=>um(e)?e.toJSON():e));return this._transport.outbound({id:r,method:e,args:i,serverId:this._serverId}),o.promise}_createSubscribeHandler(e,n){let r=t.iy.create();for(;this._subscribeRelatedCalls.has(r);)r=t.iy.create();const o=Ar.createCompletionSource();return this._subscribeRelatedCalls.set(r,o),this._observableTransport.outbound({id:r,subscribableId:e,action:"subscribe"}),this._subscribers.set(r,{subscribableId:e,subscriber:n}),()=>{this._handleUnsubscribe(r,e)}}_handleUnsubscribe(e,n){let r=t.iy.create();for(;this._subscribeRelatedCalls.has(r);)r=t.iy.create();const o=Ar.createCompletionSource();return this._subscribeRelatedCalls.set(r,o),this._observableTransport.outbound({id:r,subscriptionId:e,subscribableId:n,action:"unsubscribe"}),this._subscribers.delete(e),o.promise}dispose(){for(const e of this._observables.keys())this._observableTransport.outbound({id:t.iy.create(),subscribableId:e,action:"dispose"});this._observables.clear(),this._transportSubscription.unsubscribe(),this._observableTransportSubscription.unsubscribe(),this._calls.clear(),this._subscribeRelatedCalls.clear()}}function pm(e){return Boolean(e)&&"object"==typeof e&&"rpc-server"===e.tag}class hm extends dm{constructor(){super(...arguments),this._servers=[],this._clients=new Map}createProxy(e){const n=t.iy.create(),r=new mm(fm(this._transport,n),fm(this._observableTransport,n),e,void 0,n);return this._servers.push(r),r}transformResult(e){if(pm(e)){let t=this._clients.get(e.serverId);return t||(t=new hm(gm(this._transport,e.serverId),gm(this._observableTransport,e.serverId),this._log),this._clients.set(e.serverId,t)),t.api}return super.transformResult(e)}dispose(){super.dispose();const e=this._servers;this._servers=[];for(const t of e)t.dispose();const t=this._clients.values();this._clients.clear();for(const e of t)e.dispose()}}function fm(e,t){return{inbound:lm(e.inbound).pipe((0,xe.h)(rm),(0,xe.h)((e=>e.serverId===t)),(0,Jr.U)((e=>({clientId:t,data:e.message})))),outbound(n){e.outbound({tag:"tunnel",serverId:t,message:n.data})}}}function gm(e,t){return{inbound:lm(e.inbound).pipe((0,xe.h)(rm),(0,xe.h)((e=>e.serverId===t)),(0,Jr.U)((e=>e.message))),outbound(n){e.outbound({tag:"tunnel",serverId:t,message:n})}}}class mm{constructor(e,t,n,r=9e5,o){this._transport=e,this._observableTransport=t,this._api=n,this._garbageCollectInterval=r,this._serverId=o,this._tag=sm,this._observablesSubscriptions=new Map,this._observables=new Map,this._observableId2subscriptionsIds=new Map,this._internalSubscriptions=[lm(this._transport.inbound).pipe((0,xe.h)(im)).subscribe((e=>{this._processRequest(e)})),lm(this._observableTransport.inbound).pipe((0,xe.h)(im)).subscribe((e=>this._processSubscriptionRequest(e))),Kr(this._garbageCollectInterval).pipe(Qg(this._garbageCollectInterval)).subscribe((()=>this._garbageCollect())),Kr(this._garbageCollectInterval).pipe(Qg(this._garbageCollectInterval/2)).subscribe((()=>this._pingClients()))],this._servers=[],this._clients=new Map}async _processRequest(e){try{const n=this._api[e.data.method];if("function"!=typeof n)throw{message:`invalid method name ${String(e.data.method)}`};{const r={clientId:e.clientId},o=e.data.args.map((t=>pm(t)?this._getClient(e.clientId,t.serverId).api:t));let i=n.apply(this._api,[r,...o]);"function"==typeof i&&(i=i());const a=await i;if(a instanceof qr.y){let n=t.iy.create();for(;this._observables.has(n);)n=t.iy.create();this._observables.set(n,{value:a,touchedAt:Date.now(),id:n}),this._observableId2subscriptionsIds.set(n,new Set),this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,subscribableId:n}})}else if(um(a)){const t=a.toJSON();this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,res:t}})}else this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,res:a}})}}catch(t){this._transport.outbound({clientId:e.clientId,data:{id:e.data.id,err:t}})}}_processSubscriptionRequest(e){var t,n;if(Zg.isPong(e))this._updateGarbageCollectables(e.data.pong);else if(Zg.isSubscribe(e))try{const n=e.data.subscribableId,r=this._observables.get(e.data.subscribableId);if(!r)throw{message:`invalid observable id ${n}`};{this._observables.set(e.data.subscribableId,{...r,clientId:e.clientId});const o=e.data.id;this._updateGarbageCollectables(n);const i=r.value.subscribe((t=>{this._observableTransport.outbound({clientId:e.clientId,data:{subscriptionId:e.data.id,next:t}})}),(t=>{this._observableTransport.outbound({clientId:e.clientId,data:{subscriptionId:e.data.id,err:{message:t}}}),i.unsubscribe(),this._observablesSubscriptions.delete(e.data.id)}),(()=>{this._observableTransport.outbound({clientId:e.clientId,data:{subscriptionId:e.data.id,complete:!0}}),i.unsubscribe(),this._observablesSubscriptions.delete(e.data.id)}));if(this._observablesSubscriptions.set(o,i),!this._observableId2subscriptionsIds.has(n))throw{message:"something wrong, Observable to Subscription map is broken"};null===(t=this._observableId2subscriptionsIds.get(n))||void 0===t||t.add(o),this._observableTransport.outbound({clientId:e.clientId,data:{id:e.data.id,subscribableId:e.data.subscribableId,subscribed:!0}})}}catch(t){this._observableTransport.outbound({clientId:e.clientId,data:{id:e.data.id,subscribableId:e.data.subscribableId,subErr:t}})}else if(Zg.isUnsubscribe(e))try{const t=e.data.subscriptionId,r=this._observablesSubscriptions.get(t);if(r){if(r.unsubscribe(),this._observableTransport.outbound({clientId:e.clientId,data:{id:e.data.id,subscribableId:e.data.subscribableId,unsubscribed:!0}}),this._observablesSubscriptions.delete(t),!this._observableId2subscriptionsIds.has(e.data.subscribableId))throw{message:"something wrong, Observable to Subscription map is broken"};null===(n=this._observableId2subscriptionsIds.get(e.data.subscribableId))||void 0===n||n.delete(t)}}catch(t){this._observableTransport.outbound({clientId:e.clientId,data:{id:e.data.id,subscribableId:e.data.subscribableId,subErr:t}})}else Zg.isDispose(e)&&this._disposeObservable(e.data.subscribableId)}_garbageCollect(){const e=Date.now(),t=[];for(const n of this._observables.values())e-n.touchedAt>this._garbageCollectInterval&&t.push(n.id);t.forEach((e=>{this._disposeObservable(e)}))}_updateGarbageCollectables(e){const t=this._observables.get(e);t&&this._observables.set(e,{...t,touchedAt:Date.now()})}_pingClients(){for(const e of this._observables.values())e.clientId&&this._observableTransport.outbound({clientId:e.clientId,data:{ping:e.id}})}_disposeObservable(e){var t;this._observables.delete(e);const n=this._observableId2subscriptionsIds.get(e);if(n){for(const e of n.values())null===(t=this._observablesSubscriptions.get(e))||void 0===t||t.unsubscribe(),this._observablesSubscriptions.delete(e),n.delete(e);this._observableId2subscriptionsIds.set(e,n)}}_getClient(e,t){const n=e+t;let r=this._clients.get(n);return r||(r=new hm(ym(this._transport,e,t),ym(this._observableTransport,e,t),void 0,t),this._clients.set(n,r)),r}createProxy(e){const n=t.iy.create(),r=new mm(vm(this._transport,n),vm(this._observableTransport,n),e,this._garbageCollectInterval,n);return this._servers.push(r),r}dispose(){this._observables.clear(),this._internalSubscriptions.forEach((e=>e.unsubscribe()));for(const e of this._observablesSubscriptions.values())e.unsubscribe();this._observablesSubscriptions.clear();const e=this._servers;this._servers=[];for(const t of e)t.dispose();const t=this._clients.values();this._clients.clear();for(const e of t)e.dispose()}getObservablesCount(){return this._observables.size}getSubscriptionsCount(){return this._observablesSubscriptions.size}toJSON(){return{tag:"rpc-server",serverId:this._serverId}}}function ym(e,t,n){return{inbound:(0,$g.D)(e.inbound).pipe((0,xe.h)((e=>e.clientId===t)),(0,xe.h)(am(rm)),(0,Jr.U)((e=>e.data)),(0,xe.h)((e=>e.serverId===n)),(0,Jr.U)((e=>e.message))),outbound(r){e.outbound({clientId:t,data:{tag:"tunnel",serverId:n,message:r}})}}}function vm(e,t){return{inbound:(0,$g.D)(e.inbound).pipe((0,xe.h)(am(rm)),(0,xe.h)((e=>e.data.serverId===t)),(0,Jr.U)((e=>({clientId:e.clientId,data:e.data.message})))),outbound(n){e.outbound({clientId:n.clientId,data:{tag:"tunnel",serverId:t,message:n.data}})}}}class bm{constructor(e,t=Z.create(bm.name)){this._capiApi=e,this._log=t,this._rev=Vg.unregistered,this.publicApi=Ug({log:e=>{this._log.debug(` log via CS-BG-CAPI rpc: ${e}`)},startSession:e=>this._capiApi.startSession(Bg.DenaliCAPISettings.parse(e)),stopSession:me(this._capiApi).stopSession,pushChanges:e=>(this._rev=e.rev,this._capiApi.api.pushChanges({token:e.token,args:[Bg.Change.parse(e.args[0])]})),requestSynonyms:this._capiApi.api.requestSynonyms,requestSnippets:e=>(0,ua.pipe)(this._capiApi.api.requestSnippets(e),Yp.UI(Bg.SnippetsResult.serialize)),sendFeedback:this._capiApi.api.sendFeedback,close:this._capiApi.api.close,setSessionOption:e=>this._capiApi.api.setSessionOption({token:e.token,args:[Bg.SessionOption.parse(e.args[0])]}),setContext:e=>this._capiApi.api.setContext({token:e.token,args:[Bg.DocumentContextExt.parseOrEmpty(e.args[0])]}),requestDocStats:this._capiApi.api.requestDocStats,ping:this._capiApi.api.ping,getText:this._capiApi.api.getText,isClosed:this._capiApi.api.isClosed,enablePlagiarismSearch:this._capiApi.api.enablePlagiarismSearch,disablePlagiarismSearch:this._capiApi.api.disablePlagiarismSearch,realtimeProofitSubmit:this._capiApi.api.realtimeProofitSubmit,realtimeProofitCancel:this._capiApi.api.realtimeProofitCancel,shortenItSubmit:this._capiApi.api.shortenItSubmit,submitRecipients:this._capiApi.api.submitRecipients,sendUserAction:this._capiApi.api.sendUserAction,sendDebugReport:this._capiApi.api.sendDebugReport,getCheckingState:this._capiApi.api.getCheckingState,getCheckingStateObs:this._capiApi.api.getCheckingStateObs,getEventsObs:e=>this._capiApi.api.getEventsObs(e).pipe(Jr.U((e=>({rev:this._rev,event:e})))),getAsyncChecksState:this._capiApi.api.getAsyncChecksState,updateContextInfo:this._capiApi.api.updateContextInfo,published:this._capiApi.api.published,submitScoreSurveyResult:this._capiApi.api.submitScoreSurveyResult,resetReconnectInfo:this._capiApi.api.resetReconnectInfo,cheetahStartSession:this._capiApi.api.cheetahStartSession,cheetahAction:this._capiApi.api.cheetahAction,cheetahInterrupt:this._capiApi.api.cheetahInterrupt,cheetahSetVoice:this._capiApi.api.cheetahSetVoice,cheetahEndSession:this._capiApi.api.cheetahEndSession,connect:e=>this._capiApi.api.connect({token:e.token,args:[Bg.Reset.parse(e.args[0])]})})}}var _m;!function(e){e.rpcLegacyMessageName="cs-to-bg-static-capi-rpc-1668544923207",e.rpcLegacyObservableName="cs-to-bg-static-capi-observable-rpc-1668544923207"}(_m||(_m={}));class wm{constructor(e,t=Z.create(wm.name)){this._capiApi=e,this._log=t,this.publicApi=Ug({log:e=>{this._log.debug(` log via CS-BG-STATIC-CAPI rpc: ${e}`)},startSession:e=>this._capiApi.startSession(e),stopSession:e=>this._capiApi.stopSession(e),sendFeedback:this._capiApi.api.sendFeedback,close:this._capiApi.api.close,setSessionOption:this._capiApi.api.setSessionOption,ping:this._capiApi.api.ping,getStatus:this._capiApi.api.getStatus,getStatusObs:this._capiApi.api.getStatusObs,getEventsObs:this._capiApi.api.getEventsObs,updateContextInfo:this._capiApi.api.updateContextInfo,connect:this._capiApi.api.connect})}}var Sm,Im,xm,Em=function(e){function t(t,n,r){var o=e.call(this)||this;return o._url=t,o._ajaxFactory=n,o._fingerprints=r,o._ajax=o._ajaxFactory({requestExtender:dg.d3.toHeaderAppender(o._fingerprints)}),o}var n;return(0,Xr.__extends)(t,e),t.getDefaultUrl=function(e){return"https://goldengate".concat(e,"/snippets/v1/snippets")},t.prototype.getFolders=function(e,t){var n=lg.cl.get(this._url,"/".concat(e,"/").concat(t,"/folders"));return this._ajax.json(n)},t.prototype.addFolder=function(e,t,n){var r=lg.cl.post(this._url,"/".concat(e,"/").concat(t,"/folders")).json(n);return this._ajax.json(r)},t.prototype.updateFolder=function(e,t,n,r){var o=lg.cl.put(this._url,"/".concat(e,"/").concat(t,"/folders/").concat(n)).json(r);return this._ajax.json(o)},t.prototype.deleteManyFolders=function(e,t,n){var r=lg.cl.del(this._url,"/".concat(e,"/").concat(t,"/folders")).queryParam("idsToDelete",n.join(","));return this._ajax.empty(r)},t.prototype.moveSnippets=function(e,t,n){var r=lg.cl.post(this._url,"/".concat(e,"/").concat(t,"/folders/move")).json(n);return this._ajax.empty(r)},t.prototype.getSnippets=function(e,t,n){var r=lg.cl.get(this._url,"/".concat(e,"/").concat(t));return r.queryParam("showDisabledSnippets",!0===n?"true":"false"),this._ajax.json(r)},t.prototype.getSnippetsAndSettings=function(e,t){var n=lg.cl.get(this._url,"/".concat(e,"/").concat(t,"/with-settings"));return this._ajax.json(n)},t.prototype.addSnippet=function(e,t,n){var r=lg.cl.post(this._url,"/".concat(e,"/").concat(t)).json(n);return this._ajax.json(r)},t.prototype.updateSnippet=function(e,t,n,r){var o=lg.cl.put(this._url,"/".concat(e,"/").concat(t,"/").concat(n)).json(r);return this._ajax.empty(o)},t.prototype.deleteSnippet=function(e,t,n){var r=lg.cl.del(this._url,"/".concat(e,"/").concat(t,"/").concat(n));return this._ajax.empty(r)},t.prototype.deleteManySnippet=function(e,t,n){var r=lg.cl.del(this._url,"/".concat(e,"/").concat(t)).json(n);return this._ajax.empty(r)},t.prototype.getSnippetsAsCSV=function(e,t,n,r){var o=lg.cl.get(this._url,"/".concat(e,"/").concat(t),"csv").queryParam("hierarchy",n).queryParam("folderId",r);return this._ajax.file(o)},t.prototype.uploadFile=function(e,t,n,r,o){var i=lg.cl.post(this._url,"/".concat(e,"/").concat(t,"/csv")).queryParam("hierarchy",null!=r?r:"GLOBAL").multipartFormData("file",n);return"string"==typeof o&&""!==o&&i.queryParam("folderId",o),this._ajax.json(i)},t.prototype.setEnabled=function(e,t,n){var r=lg.cl.post(this._url,"/".concat(e,"/").concat(t,"/set-enabled"));return r.queryParam("isEnabled",String(n)),this._ajax.json(r)},t.prototype.isEnabled=function(e,t){var n=lg.cl.get(this._url,"/".concat(e,"/").concat(t,"/enabled"));return this._ajax.json(n)},t.prototype.getSnippetsShortcuts=function(e,t){var n=lg.cl.get(this._url,"/".concat(e,"/").concat(t,"/user-shortcuts"));return this._ajax.json(n)},t.prototype.updateSnippetsShortcuts=function(e,t,n){var r=lg.cl.post(this._url,"/".concat(e,"/").concat(t,"/user-shortcuts")).json(n);return this._ajax.json(r)},t.FolderHierarchy=Jf.union([Jf.literal("GLOBAL"),Jf.literal("PERSONAL"),Jf.literal("USER_GROUPS")]),t.SaveFolderBodyIOType=Jf.partial({name:Jf.string,hierarchy:t.FolderHierarchy,groupIds:Jf.array(Jf.number)}),t.GroupIOType=Jf.interface({id:Jf.number,institutionId:Jf.number,name:Jf.string}),t.FolderIOType=Jf.intersection([Jf.interface({id:Jf.string,name:Jf.string,hierarchy:t.FolderHierarchy,createdAt:pg.D.date(),modifiedAt:pg.D.date()}),Jf.partial({groups:Jf.array(t.GroupIOType)})]),t.GetFoldersResponseIOType=Jf.interface({snippetsFolders:Jf.array(t.FolderIOType)}),t.StringInsertIOType=Jf.interface({insert:Jf.string}),t.ImageInsertIOType=Jf.type({insert:Jf.interface({image:Jf.string})}),t.InsertOperationIOType=Jf.intersection([Jf.union([t.StringInsertIOType,t.ImageInsertIOType]),Jf.partial({attributes:Jf.record(Jf.string,Jf.unknown)})]),t.FormattedTextIOType=Jf.interface({ops:Jf.array(t.InsertOperationIOType)}),t.CreateSnippetIOType=Jf.intersection([Jf.interface({name:Jf.string,contentDelta:t.FormattedTextIOType,hierarchy:t.FolderHierarchy}),Jf.partial({content:Jf.string,folderId:Jf.string})]),t.SnippetRuleIOType=Jf.interface({name:Jf.string,content:Jf.string,contentDelta:t.FormattedTextIOType,hierarchy:t.FolderHierarchy,folder:Jf.interface({id:Jf.string,name:Jf.string}),id:Jf.string,enabled:Jf.boolean,createdAt:pg.D.date(),modifiedAt:pg.D.date(),lastUsed:null!==(n=pg.D.date())&&void 0!==n?n:null,frequency:Jf.number,sample:Jf.boolean}),t.FileUploadResultIOType=Jf.interface({uploadSnippetsCount:Jf.number,errorsToCreateSnippetRequests:Jf.record(Jf.string,Jf.readonlyArray(t.CreateSnippetIOType))}),t.MoveSnippetsRequestIOType=Jf.interface({sourceFolderId:Jf.string,destinationFolderId:Jf.string,snippetIds:Jf.array(Jf.string)}),t.SettingsType=Jf.interface({resourceId:Jf.number,enabled:Jf.boolean,resourceType:Jf.string}),t.SnippetsShortcutsIOType=Jf.interface({snippetsTrigger:Jf.string,createSnippetTrigger:Jf.string}),t.GetSnippetsAndSettingsResponseIOType=Jf.interface({isEnabled:Jf.boolean,snippets:Jf.array(t.SnippetRuleIOType),userShortcuts:t.SnippetsShortcutsIOType}),t}(cg.Base);!function(e){e.workspace="workspace",e.institution="institution"}(Sm||(Sm={})),function(e){e.onBrand="on",e.offBrand="off"}(Im||(Im={})),function(e){e.allSites="ALL_SITES",e.whitelistedSites_DEPRECATED="WHITELISTED_SITES",e.allowlistedSites="ALLOWLISTED_SITES"}(xm||(xm={}));Jf.intersection([Jf.interface({siteRestriction:pg.D.createStringEnum(xm,"siteRestriction")}),Jf.partial({allowlistedSites:pg.D.fallback(Jf.array(Jf.string),[])})]);class km{constructor(e,n,r,o=Z.create("Snippets Service")){this._getUser=r,this._log=o,this._loadingPromise=null,this._api=(0,t.Vo)((()=>new Em(e,n.ajaxFactory,n.fingerprints)))}addSnippet(e){const t=this._getRole();if(!t)return this._log.error("Tried to create a snippet for user with no institution or workspace role"),Promise.resolve(null);const n="INSTITUTION"===t.type?Sm.institution:Sm.workspace;return this._api.get().addSnippet(n,t.externalId,e).catch((e=>(this._log.warn("Snippet creation error",e),null)))}async getSnippets(){return this._loadingPromise||(this._loadingPromise=this._loadSnippets(),this._loadingPromise.finally((()=>{this._loadingPromise=null}))),this._loadingPromise}_getRole(){const e=this._getUser();if(!e)return;const t=ug.doesUserBelongToInstitution(e)?"INSTITUTION":"WORKSPACE";return ug.getUserRole(e,t)}_loadSnippets(){const e=this._getRole();if(!e)return Promise.resolve({isEnabled:!1,userShortcuts:{snippetsTrigger:"",createSnippetTrigger:""},snippets:[]});const t="INSTITUTION"===e.type?Sm.institution:Sm.workspace;return this._api.get().getSnippetsAndSettings(t,e.externalId).catch((e=>(this._log.info("Snippets loading error",e),null)))}}class Tm{constructor(e){this._json=e,this.getDefinition=e=>{const t=lg.cl.post(G().dictionary);for(const[n,r]of Object.entries(e))t.formParam(n,r);return this._json(t)}}}class Am{constructor(e){this._json=e,this.fetchMessages=(e,t)=>{const n=R().appConfig.chipmunk.urls.fetchMessages,r=lg.cl.get(n).queryParam("trigger",e);if(t)for(const[e,n]of Object.entries(t))r.queryParam(e,String(n));return this._handleResult(r)},this.acknowledgeMessage=e=>{const t=R().appConfig.chipmunk.urls.acknowledgeMessage,n=lg.cl.post(t).json({messageId:e});return this._handleResult(n)},this.dismissMessage=e=>{const t=R().appConfig.chipmunk.urls.dismissMessage,n=lg.cl.post(t).json({messageId:e});return this._handleResult(n)},this._handleResult=e=>{try{return this._json(e)}catch(e){return{error:Ke(e)?e.message:String(e)}}}}}class Cm{static isEnabled(){return!1}}const Om=Z.create("lib.bg.bg"),Pm="bg_start_timer";async function Rm(e,t,n,r,o,i,a,s,u,c,l,d,p,h){R().bundleInfo.browser;const f=R();No.start(Pm);const g=e.message;if("background-message-api"!==g.kind)throw new Error(`Unexpected message API kind "${g.kind}"`);const m=await async function(e,t,n,r,o,i,a,s,u,c,l,d,p,h,f){const g=[],m=new Mo,y=Dt(),v=new ra(e),b=async()=>"safariIOSWebExtension"===t.bundleInfo.extensionType?new Ci:ji.create(v,e,r,o,y),_=()=>new yg,w=async()=>"safariIOSWebExtension"===t.bundleInfo.extensionType?wi.getStub():wi.create(v,o).catch((()=>wi.getStub()));g.push(((e,t,n,r,o,i,a,s,u,c,l,d,p,h,f,g,m,y,v,b,_,w)=>{const S=new Hg(e,t,n,r,o,i,a,s,u,c,l,d,p,h,f,g,m,y,v,b,_,w);return new Lg(new jg(Fg.rpcLegacyMessageName,CS().message),S.publicApi)})(o,i,e,p,new oa(b),new ki(w),new vg(_),new km(t.appConfig.url.snippetsApi,d,(()=>o.view("user").get())),new fg(t.appConfig.url.snippetsApi,d,(()=>o.view("user").get())),new Mg(t.appConfig.url.readerMailApi,d),new ag(t.appConfig.url.freeEmailDomainsSortedList),a,s,u,i.settings,n,c,l,new Tm(d.ajax.json),new Am(d.ajax.json),h,f));const S=new zf((e=>Bf.create(e,(()=>o.view("dynamicConfig").get()),(()=>{var e;return null===(e=o.view("extensionSettings").get())||void 0===e?void 0:e.common}),p,d.fingerprints.accessToken)));g.push((e=>{const t=new bm(e).publicApi,n=CS().message;return new mm(new jg(Wg.rpcLegacyMessageName,n),new jg(Wg.rpcLegacyObservableName,n),t)})(S)),g.push(S);const I=new rg((e=>Qf.create(e,d.fingerprints.accessToken)));return g.push((e=>{const t=new wm(e).publicApi,n=CS().message;return new mm(new jg(_m.rpcLegacyMessageName,n),new jg(_m.rpcLegacyObservableName,n),t)})(I)),g.push(I),m.track((()=>uo(i,r,e,t,n,c))),function(){const e=No.stop(Pm);e>3e4&&Dt().bgPageInitTimeout(e)}(),await async function(e){const t=await e.get("bgInitFail");if(!t)return;Dt().bgPageInitFail(t),await e.set("bgInitFail",0)}(r),function(e){e.permissions&&(e.permissions.watchAdded((e=>{const{origins:t}=e;void 0!==t&&(Dm(t)?jr.grantAccessToAllSites():jr.grantAccessToSpecificSite())})),e.permissions.watchRemoved((e=>{const{origins:t}=e;void 0!==t&&(Dm(t)?jr.removeAccessToAllSites():jr.removeAccessToSpecificSite())})))}(e),function(e,t){if(void 0!==e.isExtensionInstalled){const n=async()=>{var n,r;const[o,i]=await Promise.all([null===(n=e.isExtensionInstalled)||void 0===n?void 0:n.call(e,"mseditor",!0),null===(r=e.isExtensionInstalled)||void 0===r?void 0:r.call(e,"office",!0)]);await t.modifyEnvironment({isMSEditorInstalled:o,isOfficeInstalled:i})};n(),setInterval((()=>{n()}),3e4)}}(e,i.environment),{dispose:()=>g.forEach((e=>e.dispose()))}}(e,f,t,n,r,o,i,a,s,u,c,l,d,p,h).then((t=>(e.sendReady&&e.sendReady(),t))).catch((e=>(Dt().bgPageStartFail(e),Om.error("bg page start fail",e),{dispose:Ie.Q1})));return fo(),m}async function Nm(e,t,n,r,o,i,a){const s=F(),u=await t.get("version");if(jr.extensionLoaded(u),s===u)return;await t.set("version",s);if(await t.get("version")===s)if(u){const e=Dt();e.extensionUpdated(s,u),jr.update(u);try{s.split(".")[0]!==u.split(".")[0]&&async function(e,t){const{notification:n,tabs:r}=e;switch(n.kind){case"web-extension":if("web-extension"!==r.kind)throw new Error(`Unexpected tabs kind "${r.kind}"`);const e=(await r.getAllTabs()).filter((({id:e,url:n})=>n&&t(n)&&(!e||e.toString()!==Co)));if(!e.length)return;const o=async()=>{Dt().reloadNotificationClick(),e.forEach((e=>r.reload(e)))};n.create({title:"Grammarly needs to be reloaded",message:"While you were working, we updated Grammarly. To take advantage of these improvements, please save the text you are working on, and click here.",iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAIAAAAErfB6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTgzMjhCMkQ1NjBGMTFFNDg0NjBEMENBNkVFNzA3RDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTgzMjhCMkU1NjBGMTFFNDg0NjBEMENBNkVFNzA3RDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxODMyOEIyQjU2MEYxMUU0ODQ2MEQwQ0E2RUU3MDdEOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxODMyOEIyQzU2MEYxMUU0ODQ2MEQwQ0E2RUU3MDdEOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg1zYWQAAA/kSURBVHja7J15dFNVHsfz0nRJ06ZN932FbtBSoK2AlM2hVhYZAetURWhZnBEQBIvjMIvjco6WEQVZBBmqIiCoqFSQw14KCHSl1G50pUuabiFJmzTdMr9DHY/CS0iT+5Yk93v4Q5P0vnd/n/fu/f3uvb97CY1Gw8EyX3GxCTBgLAwYCwPGwoCxMGAsDBgLA8aAsTBgLAwYCwPGwoCxMGAsDBgDxsKAsTBgLAwYCwPGwoCxMGAsDBgDxsKAsTBgLAwYCwPGwoCxMGAMGAsDxsKAsTBgLAwYCwPG0imeBda5d7C/uru1Ui5uUnY1q7paVFJpX4+sTykfUPUPDf76M2uulZDHd7KxF9kIfPgiX76Ln71LuNB7lIOXnZW1qVSWsJBddtp65T91VBVK6wu66up62oaMqDWXIIIFHhNdgieIgia7hXnYCTFgxlSlEJ9sKc5pK6+Qt1B0iQihz3SPyDk+sWGO3hgwTWpXy4815n3flF/X007bRYMF7gv84hb6x7vbCjFgqgSNcFbtxQuSskHNECM3YEVwZ3pGpYXMgAYcA0ap3PaKHVWnS+7eYcn9xDgHrAlLSnSPwICN1Y3OmvcrTrAH7X2YN0bMTXANxYANEcQ5meXZZ1pvsfw+Z3tFb4qcD1EWBqyvoIvNqs3Zefs0BLUmccMQOq8enZQWMh06aQz4IarplmQUHSqXN5vcnUcKfbeMfzbUwRMDJpeGoznccDWzLFs9NGCi3Yotl7cpan5q4BSCQ2DAv5NyQL255Ogp8U0z8PmTvce9E5Niz7PFgH/RHWXnS3n7oXE2m5AdGupd8ekB9q4YMKdIWr86P0va18MxL4lsBDvj0sZTOSRiAoDPS37eUHjAdDvdh3bJWycsmeU5xkIBn2wpfq348IBmkGO+4hFW78WmzvGJtTjAQDej+OCQBUxocgliS+xzVDBm74oOaJnh3R2yjOlqqCZUFqpsKYDBq4J+17xb5vsElYUqQ8XNHzBEROAzm6tXpUNQZag4VN+cASsH1BDvml9EpKeg4lB9MIJ5AtZwNJtLjprTaIYBguqDEcAUaFx0VtXtcMNVRkYirblW3nbOnnxnoTWfR3C5BLdvaEDRr+pQK8Squ6rBPprvB4wQ3xDybOCjZhUmwZO7KPcDerpegkNEOflOch011tk/xjnAhy/S8WNgXKUQF3TVFUrriqUN9CwGsuXyvkl8xfh5J7YABqs9fXkbDTOAgPOPfnGzPMd42jkZ8OeyfuXZ1tLjzQV5nbWoWlFtihT6fjV1nZHzx2wBvK/mwvsVJ6grH8w0z3fCkqCpY5z8ULn6n9bmfNuUR+mKg40Rc1eEzjR5wE3KrvmXtlBkKS5BJHuPWxeWHCBwQ144dNK7bp85eucaRe22nZV19rQMY9b6sALwywWfUbSuCvqwt2KeHk/xClbwHv5162vopKkofLZX9PaJS00Y8I3OmqXXdlPx4q4MnbV6dBJ4yPQEeAfqLkMv00eBk/jZpL8YvC6T+TiYiq7Xydp+T/yK9eFP0EN32C1/ITjx8JS1VCydNMZEDL/Bue0Vq27sQ1tmsMB93yOrdEc+v0rSK8vvqi25e6daIRGrpJ193T0DaqAl4Nm62ToCrdGOXrGiIHiBHHl2+hQo7etZk59ViHpIeW/CCsPW0DMM+Jkr29EuWAcn+ZOElSIbge6fAcjvGvNOiovLZHoFZjzCarLb6Cf9JiZ5RdtwHzI6BN7ihqIDFyRlaKO7I4++bGKA4TF/7uoOhAWOdfLPmvSig85XDcKbPdVns5sLf5sKrL9cbRyeD566NHga38pGx88GNINr8z+72IaS8cEpawzId2IS8NqCT8+2lqIqLVDgBl2gjncX2t7tVacO1V81fhYSMK+PeGKx/yO63+P063sQTv/9wWvsRxOXmQzgdrV85rm3UYWP4FV9k7jel6/VwbneWf36zS/FqrsIqxDnEvJu7J90XFTWr1yU+2GzqgvVWM2Fx/4+0txUxrzoY415qOiCT/RebKoOQ++pPrf8+l60dEHgnT11aes57csw4LGDENaWi2ZGB8wFRjOZMOn7pnxURS0PnTHdI5L0qyGNBl7cDyt/pGikSTHQuzb/073V57X9IMrJ95WIOQwajRnAVQoxqtz7IIH72rDHtdHNKD74HbonSdsQxweVJ98tO67tBxAfgw+M5FpgNDCdCQA+2VKMqnF+I3qRtrjljdKvUV3o4YNNdZe2lP+g7SZTAiYxZTpmAOe0lSMp53HvmEdcR5F+9Xld7ld3rtNZqf21F+GipF8hHN4aqekYANzWK0ey5w2XINaEJZF+VSpr/E/FD/RXLbM8+1pn9YOf13a3oboEmA4MyGrAP3VUISkn2Xsc6YKH/qHBv908Ytg4hvGObkbRQUW/6r6A+ICWN5sGAzIAGNU47ZKgRC2N86XbilamooMOteKFa7tv3W0c/t+absmKG3vR7uY0IgMysOgOybxpmKN3rCiQNG7ZU3Oew6igFU25sk1kI+ARVu1qObMGpBswtFd1PQg6pIX+8aSfQ2N4XwvJlKhb2g0GBDPquV8m3U10dXcrknQj0nzLAc3goforHHMXGBDMyNI+uFIuNr4Q8K38yRLjL0rKO/u6ORYg/c1IN+AmJYKR98luo0k//1FczLEM6W9GugEjmVqJdvYnbbgut1daCGD9zUg34BaV1PhCSNc2VynEcna4V6wyI92AjfctuQQRJHB/8PNSWSPHYqS/GekGLOtTGlmCq40jaTZHDbrhQPZLfzPSDVg+YGwrqi2nSIJ6Pp/N0t+MdAM2fojYnke+2q3LknLG9Tej+RyrQ38Wr0nIfADTvE0vBky3TOgsI3MGbHyykLZg18XGwXKw6W9GugELeXwjS2hXK0g/97UXWQ5g/c1IN2AnG3sjS+hSd5OugQ0WeFgOYP3NSDfgh6aFPVQajqaebIEE6QC1uUp/M9INWM+sTt26KSVJSAxx8DD+6TEV6W9Guld06Egw0V+lssYHV3QQHGKKW9iJliLqbh4uMctrzHjnQGsjslF23T4j61fSZka6ASNZIZzfVUv6eZJ3NHWAbbm8XfHp8AwZWc7ndbnGA9bfjHQ30eFCBEd03la03unpePDz6R5RjtZ8iu58eehM4+nSb0a6AY9y8OISCI6TId2VB16yhX7xFN15svc4toxdEASYkaWA7ayskcQzJ7Sk6CwLnkbRxivaJjnoFxhQ/2E7BoYqJ7oEG19IubyZdHmwF9/5mYDJVNx2iZQth1+OyIAMAEZ1sK62TK+Xwx53pWDYclvVKZbsYj0iAzIAeDIiV+WcpJR0xAP8rH9HL0Z+2w09HSlXth1vLmjtlSkGeu/7V9fTfqmtHL5lmwEZSF3xsBNGCH2MTzAc1Axllmfvikt/8KvHvMY+HzT1i/rLaO+8Sdn1WvFhHVHyzrg0qq0HpgMDsvoNvhfPRCIp54KkjDRdE/TXqCenuofTWal14ckzPaPYZjpmACM8IOit0mOk20NaEdztE5cicej0UWrglBdHPcZC0zEDOMzRO5hs6asBqu1u21Z5ivQrvpXNvoRV0wzaAXBkYyAhM/45diEtAZI7mM4EAIMW+MWhKiqrNudSe4W2sHt3/PL0kBkUHdZry+W9HZPyauQ81hqNMcAL/eNRraLScDQZRQfrtSRZcwkiI3LexwnLIURG7u8ceXTdIv8EeiwG5tKWNMtGwO62QoQuibxf9WLef3WkFkJD/cO0jFWjZiFZuiWyEbweteDrqet1jAmDy4126zUw10i3ueMwu+guLWQGwtLu9HSkX9ujYyxCwLN9JXzOmZl/A2/I4JEQP3uX1yLnn5u1+YXgRB0tkKRXtvLGJ2jnpw0zF5PnJk0QBcU4ByDcTrhKIV527eNPElbqiBTdbB3Xhz+xJizpcnvlmdZb1zqq9UnkCnXwfNQ9LMkrRh+3vFnVlX59L4F0oScYyrARQIYPxgJDo90QHBinXv1od3y6bm+TR1jN8IiCf/DfnWpFpULcqOxsVcmgqR9eQA9snKztffiiAIFrpNBXqPcsZKms8c95+6HM2V7RaA1l2B8yDDjRPQLtS8y5l1qZenXHm9GL5/qM1+f3rraOU2wdkVz6WGPem6XfDJ/t5aDfDvF6vr6JhgZ7zC983xgxF3mZygH1q0UHX7/5pWKgl55ayPqVG4u+2FxyhIqT24wxEfOAE1xD0bZmv+q7pvx5OZmUrtIaVnZz4dyLmRTtiwnGMfjIFQ5LUlc2Rc6nKPGkrVcOr/Liyx+eo+BwbRB4ailXtm0qPqT/5i8jOhAPzALGMeYOWXH6KMQeq0cnUXe03c+ypjX5WeArLQuZBp6w8Q9T/9Dg6daSz+tydXgP4t67pH/YqSUzg1RgFiOXKVrc4ZQQDSd7jxtu93QfrEGK50ZnzVnJLWiNH7ofCETJJ6ZvCvz9eXrHmwt0TDjeJ7M6nJJD7/GywwBiRYHjRUEQ44Y4eATYuzk/kA8CPlqzsqu+p71SLr55t6FIWj+iAxYhVNuTsMLr/1sSwMMBDYmefp+5HS87rEMNV94q/ZbBG4DYxp5nY03wlIPqngG18efUQXcAEY67rXD4BGL9O+B/jH3K3A6IHnZANhR+wcgh4KwSdCJbJzyPZAaMXQngUKV3YlKMb5dMWlB9MAKq+U3WZfjb82x3xadbThrZfYKKQ/XBCKgKZOMWDgH2rjvj0lAdN2RCgipDxQPI9lk1K8AgcG63TljCI6wshy5UFqqM/Cxr9m7CMstzzHuxqUgSmdgvqCZUlnQTbLMFzLm3gnBL7HNm/x5DBaGaCFeasjdMItV5yc8bCg/QNgBCf78LLTMV767JAAYVSetX52dJzW6zQvCZwatC3u+aHmDOvYOdX8rbX9MtMad4FyIitD6zCQPm3JvG31xy1DzGuZK9x70Tk4Iw3jUHwJx7Y5mHG65mlmWbbpcMne6mqPmpgVMoWotv2oCHBQ11RtEhGuYWkStS6Ltl/LN0jsWaJGDOvfnjrNqcnbdPj2j+jkHZWVmvHp2UFjKd5l1xTRXwsJqUXZnl2aQbsrBKs72iN0XOR3jIrKUAHtaNzpr3K06gXXuLSjHOARsj5hqzag4D/kW57RU7qk6zBzOgXROWlEh98qqlAB5WobQ+q/biBUkZ6Y60NAi62JmeUWkhMyZQOXxhuYCH1a6WH2vM+74pH+3BvboVLHBf4Be30D/egBxADNhAVSnEJ1uKc9rKkRwqT6oIoc90j8g5PrEjzb3HgFGqrVf+U0cVNOAFXXV1PW3GHHHLJYhggcdEl2BohCe7hY1ozxsMmA5B6Fzd3VopF0OU1azqalFJpX09sj6lfED12/OIrLlWQh7fycZeZCPw4Yt8+S4Q54QLvUc5eJnQASCWCNiihM8awoCxMGAsDBgLA8bCgLEwYCwMGAPGwoCxMGAsDBiLav1PgAEASePGMkSWuH0AAAAASUVORK5CYII=",buttons:[{title:"Reload",iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowZDJiMWMzMi1mODMzLTQxOTgtOGVlMy05YWY1OGVmOGUzNzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjFBODMzNzYxQkREMTFFNDk0ODFGNTFFRDg1MkEzMjUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkY1RjA5NjYxQkREMTFFNDk0ODFGNTFFRDg1MkEzMjUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N2FmMWVkMGUtZjZkZC00YmYwLWE2MjctNTBkMjA4MjRiZDViIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjBkMmIxYzMyLWY4MzMtNDE5OC04ZWUzLTlhZjU4ZWY4ZTM3MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuUD9ZcAAAM8SURBVHjatJbbS1RRFIePOjqG99LSLFMzoazMFLsHQQVFl8fee+qhP6cX3+sxiG6QFV0MNCjNjAyx1MoumpmXsRnz0m/Bd2A3TNocpw0fw5lz9v7tddlr7bSWlhYvwNgqzosMcVl0JrtAyAs2FkSeKBQ7xKT4Kqb+t/CcqBD1olpsEDdFdyqF00Q+FtpvWDSLWrEeMsUqPPBRjIifbDCwcBiROrFLrBU1Yp3zzWZxju/axCMxsJTr/yacLopwZw0WWix3i5IE3+eBbSYiXovhIK42KxvESaw0i9aIHC9FI5TguRDLToszWG1jXnwQ4yKb/7N5N01Wd8KomE1GOFc0irPioCh33r0Q98Rz3H/B2ZTF84ZojUuuZYXToEocEydEJe/MymeiQ9wVXaJJHCeT7f01jlNXsq5Ow23VxLaM/79gyXUxJD7x/y/eRcVV8RArk45xLgm0X+wkuSax0iy5EzdvTNyngpm134MmVz5VyEQLREz0inbiFz++sZlFNuitRLiBs5qJG5+KB+J9gnlRYht4pDvntoSiYeOH6BP9WJ/y4VucRSnM4tlK3TvO7EqGVbNNeNRfd9B+feEMpxj4xWImBYaZ6EVCaOOVuCR6QnFdKNXDCtBRToxHVbzixng+rtKEUlSXQ3GeG/FLqS88S62NObGxKraaMCQ7MkjUSidvYpTTqCscQ9gvBHaWt1DJwgGEw9TzWtbyWHvEN86P8QRNwJp9MbttZofWed4kKWzN44jYw1pWYnu4Gk26FtvDS15OsOM6SmhVAIttzl5uo2HW7EFjyrU4QsFop/Ef4OztE5+pyUNUtAgWuCOTZCzlCJ1ibj4x7WbtPj/GvvAivn9LI6/kCJRyIShjYhvfjMYJF/L9IQSbmOtxBepkXgytP4TnaQit9NnDYpvYCBXcKPv5LsLcHFxbg3CjcwW2u9dj1hxAI+ENJEIzT8e9BbjOIwSlxGjaubqGaKt5jpW+pdanb7FmZKmrzxy99gm7m6NdVpGd5csk1TgMENfbhGjmX2+ZUY7XGHGtJ0O308WKnROxQH8epRb3IjpI64wmc71dQHSMLjVDHhRR08NOU4kiPExMO2DJC8JvAQYA0OLb9zl5D+gAAAAASUVORK5CYII="}]}).then((e=>{e.buttonClick.subscribe(o)}));break;case"safari":n.create({title:"Grammarly needs to be reloaded",message:"While you were working, we updated Grammarly. To take advantage of these improvements, please save the text you are working on, and click here."});break;default:throw new Error('Unsupported notification kind "${notification.kind}"')}Dt().reloadNotificationShow()}(Ft(),n.toReload)}catch(t){e.extensionUpdateFail(u)}}else await async function(e,t,n,r,o){const i=Dt();mo(e,t);let a="unknown";try{a=await s()}catch(e){i.cannotGetInstallSource()}u(a),e.permissions&&e.permissions.getAll().then((e=>{const{origins:t}=e;Dm(t)&&jr.grantAccessToAllSites()}));if(!N()){const t=await n.getLlamaRedirectUrl();((null==t?void 0:t.value)?await Fr.findTab(e,t.value):null)||async function(e,t,n){if(D())return;if(j()&&e)return;if(t)return;const r=await n.getChromeStoreInstallUTM(),o=!!r&&"true"===r.value,i=j()?(u=o,c=Cm.isEnabled(),zo(G().extensionSuccess,Wo({medium:u?"navigation":"store",source:U(),clickToRun:c}))):(s=e,zo(G().afterInstall,[Uo("extension_install","true"),...Wo({medium:s?"navigation":"store",source:s?void 0:U()})])),{tabs:a}=Ft();var s;var u,c;jr.welcomePageShow(i);const l=await(e?a.updateCurrent(i):a.open(i,!0));jr.welcomePageOpened(null==l?void 0:l.id,null==l?void 0:l.url)}("funnel"===a,o,n)}async function s(){if(D())return"webstore";const e=await n.getInstallSource();return null===e?"webstore":"funnel"===e.value?"funnel":"blog"===e.value?"blog":"editor"===e.value?"editor":"webstore"}function u(e){i.extensionInstall(a),jr.install(e)}await r()}(e,n,r,o,i),await a.patch({extensionInstallDate:Date.now()});else jr.versionStorageFailed()}function Dm(e){return e&&e.includes("<all_urls>")}const Mm=e=>({setUser:t=>e.patch({user:t},!0),setAlarms:t=>e.patch({alarms:t},!0),setFSM:t=>e.patch({extensionFSM:t}),setDynamicConfig:t=>e.patch({dynamicConfig:t},!0),setMeta:t=>e.patch({extensionMeta:t})}),jm=Object.assign({},{},{common:{enabledDefs:!1,historyLoggerEnabledUntil:null,historyLoggerEnabled:!1,advancedHistoryLoggerEnabledUntil:null,advancedHistoryLoggerEnabled:!1,isDebugMenuVisible:!1,knowledgeHubSettings:{enabled:!0,onboardingSeen:!1}},field:{}}),Lm={id:0,url:""};function Um(e,t){return Object.assign({},e,{common:{...e.common,...t}})}function Fm(e,t,n){return Object.assign({},e,{[t]:{...e[t],...n}})}const Bm=e=>()=>{var t;return null!==(t=e.view("extensionSettings").get())&&void 0!==t?t:jm},Gm=(e,t)=>({setStatus:function(n){const r=Bm(e),{patchCommonSettings:o}=t.settings,i=r().common.cheetah;return o({cheetah:{...i,status:{...null==i?void 0:i.status,...n}}})}}),zm=e=>{function t(t){return e.patch({dapi:t},!0)}return{modifySettings:async n=>{const{dapi:r}=await e.get(["dapi"]);return t(Object.assign({},r,n))},setSettings:t}},Wm=e=>{let t;const n=()=>(t||(t={networkOffline:!self.navigator.onLine,online:!0}),t),r=async()=>{const{connection:t}=await e.get(["connection"]);return null!=t?t:n()};return{initConnection:async()=>{const{connection:t}=await e.get(["connection"]);t||await e.patch({connection:n()})},modifyConnection:async t=>{const n=await r();return e.patch({connection:{...n,...t}})},setOffline:async t=>{const n=await r();if(n.networkOffline!==t)return e.patch({connection:{...n,networkOffline:t}})}}},qm=e=>({modifyEnvironment:async t=>{const{environmentState:n}=await e.get(["environmentState"]);return e.patch({environmentState:{...n,...t}})}}),Vm=e=>{const t=()=>{var t;return null!==(t=e.view("extensionSettings").get())&&void 0!==t?t:jm};return{gdocsOptedIn:()=>e.patch({extensionSettings:Fm(t(),"docs.google.com",{enabled:!0,disabledDate:void 0})})}},Hm=e=>{const t=Bm(e);return{readerToggleFeature:({enabled:n})=>{const r=t().common.readerV1;return e.patch({extensionSettings:Um(t(),{readerV1:"optedOut"===(null==r?void 0:r.kind)&&n?{...r,enabled:n,hoursToWaitBeforeShowingAgain:0}:{...r,enabled:n}})})}}},$m=e=>({enableOnceClickToRun:async()=>{const{clickToRunEnabledOnce:t,activeTab:n}=await e.get(["clickToRunEnabledOnce","activeTab"]);return e.patch({clickToRunEnabledOnce:{...null!=t?t:{},...n?{[n.id]:{[ot(n.url)]:!0}}:{}}})},setActiveTab:t=>e.patch({activeTab:t})});var Km,Ym,Jm,Xm;!function(e){e.fromUserType=e=>{switch(e){case sg.premium:return"premium";case sg.registered:return"free";default:throw Error("Unexpected user type for login reminder")}}}(Km||(Km={})),function(e){let t;!function(e){e.apa="apa",e.mla="mla",e.chicago="chicago"}(t=e.Style||(e.Style={})),e.empty={domains:{},onboardingSeen:!1,style:t.apa}}(Ym||(Ym={})),function(e){e.empty={enabled:!0,onboardingSeen:!1},e.get=t=>({...e.empty,...t})}(Jm||(Jm={})),function(e){e.empty={enabled:!0}}(Xm||(Xm={}));const Qm=e=>{const t=Bm(e);return{toggleDefs:n=>e.patch({extensionSettings:Um(t(),{enabledDefs:n})}),toggleAutocorrect:n=>e.patch({extensionSettings:Um(t(),{autocorrectEnabled:n})}),toggleAutocomplete:n=>e.patch({extensionSettings:Um(t(),{autocompleteEnabled:n})}),toggleCitationBuilderForDomain:({domain:n,enabled:r,pathName:o,inAllowList:i})=>{var a;const s=null!==(a=t().common.citationBuilder)&&void 0!==a?a:Ym.empty;return e.patch({extensionSettings:Um(t(),{citationBuilder:{...s,domains:{...s.domains,[n]:{disabled:!r,toggleDate:(new Date).getTime(),togglePathName:o,inAllowList:i}}}})})},toggleSite:({enabled:n,domain:r,clickToRunEnabled:o})=>e.patch({extensionSettings:Fm(t(),r,{enabled:n,disabledDate:!0===n?void 0:Date.now(),...void 0!==o?{clickToRunEnabled:o}:void 0})}),toggleKnowledgeHub:n=>{const r=Jm.get(t().common.knowledgeHubSettings);return e.patch({extensionSettings:Um(t(),{knowledgeHubSettings:{...r,enabled:n}})})},togglePiiDetection:n=>{var r;const o=null!==(r=t().common.piiDetectionSettings)&&void 0!==r?r:Xm.empty;return e.patch({extensionSettings:Um(t(),{piiDetectionSettings:{...o,enabled:n}})})}}},Zm=e=>{const t=Bm(e),n=async n=>{const r=t(),o=Object.keys(n).every((e=>n[e]===r.common[e]));o||await e.patch({extensionSettings:Um(r,n)})};return{patchCommonSettings:n,setDesktopIntegration:e=>n({isDesktopIntegrationEnabled:e}),enableClickToRunOnAllSites:()=>n({clickToRunOnAllSites:!0}),enableHistoryLoggerUntil:e=>n({historyLoggerEnabledUntil:e}),disableHistoryLogger:()=>n({historyLoggerEnabledUntil:0}),enableAdvancedHistoryLoggerUntil:e=>n({advancedHistoryLoggerEnabledUntil:e}),disableAdvancedHistoryLogger:()=>n({advancedHistoryLoggerEnabledUntil:0}),toggleDebugMenu:(e=!0)=>n({isDebugMenuVisible:e})}},ey=e=>({setDialectSettings:function(t){const{patchCommonSettings:n}=e.settings;return n({dialectSettings:t})}}),ty=(e,n)=>{const r=Bm(e),{patchCommonSettings:o}=n.settings;return{...n.settings,setInitial:()=>{const n=r();return e.patch({extensionSettings:Object.assign({},n,{common:(0,t.b9)({...n.common,autocompleteEnabled:!0,autocorrectEnabled:!0},n.common)})})},showOnboarding:()=>o({showOnboarding:!0,showSiteSpecificOnboarding:!0,showToneDetectorOnboarding:!0,showFirstSuggestionFooters:!0}),showLoginReminder:e=>o({showLoginReminder:!0,loginReminderType:e}),hideLoginReminder:()=>o({showLoginReminder:!1}),setLlamaInstalled:()=>{var e;return o({isLlamaInstalled:!0,isDesktopIntegrationEnabled:null===(e=r().common.isDesktopIntegrationEnabled)||void 0===e||e})},setLlamaUninstalled:()=>o({isLlamaInstalled:void 0,isDesktopIntegrationEnabled:void 0}),setDesktopIntegrationExtensionMode:e=>o({desktopIntegrationExtensionMode:e}),setDesktopIntegrationRedirectUrlHash:e=>o({desktopIntegrationRedirectUrlHash:e}),setAuthenticatedUserWasBusinessAccount:e=>o({authenticatedUserWasBusinessAccount:e,authenticatedUserWasBusinessAccountTimestamp:e?Date.now():void 0}),setPreviousUserType:e=>o({previousUserType:e})}},ny=e=>{const t=(e=>({quickSettings:Qm(e),reader:Hm(e),gdocs:Vm(e),settings:Zm(e),connection:Wm(e),tabs:$m(e),environment:qm(e)}))(e);return{...t,settings:ty(e,t),dapi:zm(e),base:Mm(e),cheetahSettings:Gm(e,t),dialectSettings:ey(t)}};function ry(e){return To(e)&&e>0}const oy=(e,t)=>{var n;const r=[...t].sort(((e,t)=>e-t));return Number.isNaN(e)?null:r.find((t=>t>e))||(null!==(n=r[t.length-1])&&void 0!==n?n:null)},iy=(e,t)=>{const n=[...t.keys()],r=oy(e,n);return r?t.get(r):null};var ay,sy;!function(e){e.refreshDynamicConfig="refreshDynamicConfig",e.refreshUser="refreshUser",e.sendFeMetrics="sendFeMetrics"}(ay||(ay={})),function(e){e.merge=function(e,t){return!t||e.isDefault||e.periodInMinutes===t.periodInMinutes?e:t},e.getRandomMinutes=function(e){return Math.floor(Be(Math.random()*(e+1)))},e.shouldModifyAlarm=function(e,t){return To(t.periodInMinutes)&&e.periodInMinutes!==t.periodInMinutes},e.modify=function(t,n){var r;return e.shouldModifyAlarm(t,n)?{execTimestamp:Math.min(t.execTimestamp,Date.now()+(n.execRandomly?e.getRandomMinutes(n.periodInMinutes):Be(n.periodInMinutes))),periodInMinutes:n.periodInMinutes,...n.execRandomly?{periodEndTimestamp:Math.min(null!==(r=t.periodEndTimestamp)&&void 0!==r?r:1/0,Date.now()+Be(n.periodInMinutes))}:{},isDefault:!!n.isDefault}:t},e.create=function(t){const n=t.execRandomly&&ry(t.periodInMinutes);return{periodInMinutes:t.periodInMinutes,execTimestamp:Date.now()+(To(t.delayInMinutes)?Be(t.delayInMinutes):n?e.getRandomMinutes(t.periodInMinutes):Be(t.periodInMinutes)),isDefault:!!t.isDefault,...n?{periodEndTimestamp:Date.now()+Be(t.periodInMinutes)}:{}}}}(sy||(sy={}));class uy{constructor(e,n,r=t.W3){this._getAlarms=e,this._setAlarms=n,this._debounce=r,this._alarmState={},this._alarmHandlersList=[],this._alarmTimers={},this.update=(e,t)=>{sy.shouldModifyAlarm(this._alarmState[e],t)&&(this._alarmState[e]=sy.modify(this._alarmState[e],t),this._updateStore(),this._waitFoAlarm(e,this._alarmState[e]))},this.register=(e,t)=>!this._isInitialized&&(this._alarmState[e]=sy.create(t),!0),this._updateStore=this._debounce((()=>{this._setAlarms({...this._alarmState})}),Fe(3)),this.onAlarm=e=>{const t=this._isInitialized;this._alarmHandlersList.push(e),t||this._init()}}get _isInitialized(){return!!this._alarmHandlersList.length}async _init(){var e;const t=null!==(e=await this._getAlarms())&&void 0!==e?e:{};Object.keys(t).forEach((e=>{this._alarmState[e]&&(this._alarmState[e]=sy.merge(t[e],this._alarmState[e]))})),Object.keys(this._alarmState).forEach((e=>this._waitFoAlarm(e,this._alarmState[e]))),this._updateStore()}_waitFoAlarm(e,t){clearInterval(this._alarmTimers[e]);const n=Math.max(0,t.execTimestamp-Date.now());this._alarmTimers[e]=setTimeout((()=>{const n=ry(t.periodInMinutes),r=To(t.periodEndTimestamp);if(this._emitAlarm({name:e}),n&&r){const n=Math.max(t.periodEndTimestamp,Date.now());this._alarmState[e]={periodInMinutes:t.periodInMinutes,execTimestamp:n+sy.getRandomMinutes(t.periodInMinutes),periodEndTimestamp:n+Be(t.periodInMinutes)}}else n?this._alarmState[e]={periodInMinutes:t.periodInMinutes,execTimestamp:Date.now()+Be(t.periodInMinutes)}:delete this._alarmState[e];this._updateStore(),n&&this._waitFoAlarm(e,this._alarmState[e])}),n)}_emitAlarm(e){this._alarmHandlersList.forEach((t=>t(e)))}}var cy,ly=__webpack_require__(29042),dy=__webpack_require__(81888),py=__webpack_require__(99950),hy=__webpack_require__(19429),fy=__webpack_require__(73231);!function(e){var t,n,r,o;e.create=function(e){return(0,ua.pipe)(e,t.fromFetch,n.fromExecutor,hy.UI(r.forPromise))},e.createTE=function(e){return(0,ua.pipe)(e,t.fromFetch,n.fromExecutor,hy.UI(r.forTaskEither))},function(e){e.fromFetch=function(e){return function(t,n,r){return function(o){return(0,ua.pipe)(Yp.Y3((function(){return e(o.url,{body:xu.orUndefined(o.body),method:o.method,headers:o.headers,keepalive:o.keepalive,mode:t,credentials:n})}),i("request failed on client side")),Yp.tS((a=o,s=r,function(e){return e.ok?Yp.F2(e):(0,ua.pipe)((function(){return e.text()}),Yp.lk,Yp.Vn((function(t){return s(t,e,a)})))})));var a,s}}}}(t||(t={})),function(e){e.fromExecutor=function(e){return hy.VF((function(t){var n=t.credentials,r=void 0===n?"include":n,o=t.errorMapper,i=void 0===o?lg.tk.mapToHTTPError:o,a=t.requestExtender,s=void 0===a?lg.cl.Extender.identity:a;return function(t){return function(n){return(0,ua.pipe)(t,lg.cl.Extender.compose(s,n),py.map((function(e){return e.build()})),Yp.QM,Yp.tS(e("cors",r,i)))}}}))}}(n||(n={})),function(e){e.forTaskEither=hy.VF((function(e){return(0,Xr.__assign)((0,Xr.__assign)((0,Xr.__assign)({},(0,ua.pipeable)(Yp.Ij)),{of:Yp.Ij.of,throwError:Yp.Ij.throwError,ApplicativePar:Yp.Ij,ApplicativeSeq:Yp.dg,orElse:Yp.vx,retry:s}),o.forTaskEither(e))})),e.forPromise=hy.VF((function(e){var t=o.forTaskEither(e);return(0,Xr.__assign)((0,Xr.__assign)({},(0,ua.pipeable)(fy.promise)),{of:fy.promise.of,throwError:fy.promise.throwError,ApplicativePar:fy.promise,ApplicativeSeq:fy.promiseSeq,orElse:fy.orElse,retry:a,json:(0,Ie.ls)(t.json,Jp.toPromise),file:(0,Ie.ls)(t.file,Jp.toPromise),text:(0,Ie.ls)(t.text,Jp.toPromise),empty:(0,Ie.ls)(t.empty,Jp.toPromise),jsonWithHeaders:(0,Ie.ls)(t.jsonWithHeaders,Jp.toPromise),fileWithHeaders:(0,Ie.ls)(t.fileWithHeaders,Jp.toPromise),textWithHeaders:(0,Ie.ls)(t.textWithHeaders,Jp.toPromise),headers:(0,Ie.ls)(t.headers,Jp.toPromise)})}))}(r||(r={})),function(e){e.forTaskEither=function(e){function t(t,n){return(0,ua.pipe)(t,e,o(lg.tk.MimeType.json),a((function(e){return e.json()})),Jp.flatMapEither(n?function(e){return(0,ua.pipe)(n.decode(e.result),ia.bimap((function(e){return new lg.tk.ParseError("json parse error",e)}),(function(t){return{headers:e.headers,result:t}})))}:ia.right))}function n(t){return(0,ua.pipe)(t,e,o(lg.tk.MimeType.txt,lg.tk.MimeType.stream,lg.tk.MimeType.vnd,lg.tk.MimeType.pdf,lg.tk.MimeType.json,lg.tk.MimeType.zip),a((function(e){return e.blob()})),Yp.UI((function(e){var t=e.headers,n=e.result;return{headers:t,result:{title:dy.parse(Boolean(t.get("Content-Disposition"))?t.get("Content-Disposition"):"downloadedDocument").parameters.filename,data:n}}})))}function r(t){return(0,ua.pipe)(t,e,o(lg.tk.MimeType.any),a((function(e){return e.text()})))}function i(t){return(0,ua.pipe)(t,e,o(lg.tk.MimeType.any),Yp.UI((function(e){return{headers:e.headers}})))}return{json:function(e,n){return(0,ua.pipe)(t(e,n),Yp.UI((function(e){return e.result})))},file:function(e){return(0,ua.pipe)(e,n,Yp.UI((function(e){return e.result})))},text:function(e){return(0,ua.pipe)(e,r,Yp.UI((function(e){return e.result})))},empty:function(e){return(0,ua.pipe)(e,i,Yp.UI(wu.Q1))},jsonWithHeaders:t,fileWithHeaders:n,textWithHeaders:r,headers:i}};var t=function(e){return Boolean(e.headers.get("Content-Type"))?e.headers.get("Content-Type"):e.headers.get("content-type")};function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Yp.DT((function(n){if(201===n.status||204===n.status)return!0;var r=Boolean(t(n))?t(n):lg.tk.MimeType.any;return Boolean(r)&&e.some((function(e){return e===lg.tk.MimeType.any||r.indexOf(e)>-1}))}),(function(n){return new lg.Bb({code:-1,message:"Unexpected Content-Type",status:"Expected: ".concat(e.join(),"\nActual: ").concat(t(n))})}))}function r(e,t){return function(n){return py.task.of(n.header(e,t))}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=r("Accept",e.join(","));return function(t){return(0,ua.pipe)(t(o),Yp.tS(n.apply(void 0,e)))}}function a(e){return Yp.tS((function(t){return Yp.Y3((function(){return e(t).then((function(e){return{result:e,headers:t.headers}}))}),i("client parse error"))}))}}(o||(o={}));var i=function(e){return function(t){if("string"==typeof t)return new lg.Lu(e,t);if(t instanceof Error)return lg.Lu.fromError(e,t);var n="";try{n=JSON.stringify(t)}catch(e){n=String(t)}return new lg.Lu(e,"unexpected result: ".concat(n))}};function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,ua.pipe)(Yp.Y3(t,Ie.yR),ph(e),Jp.toPromise)}}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,ua.pipe)(t(),ph(e))}}}(cy||(cy={}));var gy=function(e,t){return gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},gy(e,t)};function my(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}gy(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var yy,vy,by=function(){return by=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},by.apply(this,arguments)};function _y(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function wy(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HTTP_EXCEPTION=1]="HTTP_EXCEPTION",e[e.INVALID_STATE=2]="INVALID_STATE",e[e.LOCK_TIMEOUT=3]="LOCK_TIMEOUT",e[e.STORAGE_CACHE_SET_ERROR=4]="STORAGE_CACHE_SET_ERROR",e[e.STORAGE_CACHE_REMOVE_ERROR=5]="STORAGE_CACHE_REMOVE_ERROR"}(vy||(vy={}));var Sy,Iy=((yy={})[vy.UNKNOWN]="Unknown error",yy[vy.HTTP_EXCEPTION]="HTTP Exception",yy[vy.INVALID_STATE]="Invalid State",yy[vy.LOCK_TIMEOUT]="Lock Timeout",yy[vy.STORAGE_CACHE_SET_ERROR]="Error storing tokens",yy[vy.STORAGE_CACHE_REMOVE_ERROR]="Error removing tokens",yy),xy=function(e){function t(t,n){void 0===t&&(t=vy.UNKNOWN),void 0===n&&(n=Iy[t]);var r=e.call(this,n)||this;return r.code=t,r}return my(t,e),t.codes=vy,t}(Error);!function(e){e.INVALID_AUTHORIZATION_CODE="Invalid authorization code",e.INVALID_CLIENT_TYPE="Invalid client type",e.INVALID_CODE_VERIFIER="Invalid code verifier",e.INVALID_ORIGIN="Invalid origin",e.INVALID_PUBLIC_KEY="Invalid public key",e.INVALID_REDIRECT_URI="Invalid redirect uri",e.INVALID_REFRESH_TOKEN="Invalid refresh token",e.INVALID_SCOPE="Invalid scope",e.INVALID_GRANT_TYPE="Invalid grant type",e.ACCESS_DENIED="Access is denied",e.INVALID_CLIENT="Invalid client",e.REVOKE_ERROR="Revoke error",e.NOT_ENABLED="Oauth not enabled",e.NOT_IMPLEMENTED="Not implemented"}(Sy||(Sy={}));var Ey=function(e){function t(n,r,o){void 0===r&&(r="unknown");var i=e.call(this,xy.codes.HTTP_EXCEPTION,o)||this;return i.serverCode=r,i.response=n,Object.setPrototypeOf(i,t.prototype),i}return my(t,e),Object.defineProperty(t.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statusText",{get:function(){return this.response.statusText},enumerable:!1,configurable:!0}),t}(xy),ky="grammarly.lock.getAccessToken";function Ty(e){var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",r="";if("undefined"==typeof crypto||void 0===crypto.getRandomValues){t=new Uint8Array(e);for(var o=0;o<e;++o)t[o]=65535*Math.random()|0}else t=crypto.getRandomValues(new Uint8Array(e));return Array.from(t).forEach((function(e){return r+=n[e%n.length]})),r}function Ay(e){try{return btoa(e)}catch(t){return Buffer.from(e,"binary").toString("base64")}}function Cy(e,t){return void 0===t&&(t=3),_y(this,void 0,void 0,(function(){var n;return wy(this,(function(r){switch(r.label){case 0:n=0,r.label=1;case 1:return n<t?[4,e()]:[3,4];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return n++,[3,1];case 4:return[2,!1]}}))}))}var Oy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Py(e,t,n,r,o){for(var i,a,s,u,c,l,d,p,h,f,g,m,y;o>=64;){for(i=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],d=t[6],p=t[7],f=0;f<16;f++)g=r+4*f,e[f]=(255&n[g])<<24|(255&n[g+1])<<16|(255&n[g+2])<<8|255&n[g+3];for(f=16;f<64;f++)m=((h=e[f-2])>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,y=((h=e[f-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,e[f]=(m+e[f-7]|0)+(y+e[f-16]|0);for(f=0;f<64;f++)m=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&d)|0)+(p+(Oy[f]+e[f]|0)|0)|0,y=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&a^i&s^a&s)|0,p=d,d=l,l=c,c=u+m|0,u=s,s=a,a=i,i=m+y|0;t[0]+=i,t[1]+=a,t[2]+=s,t[3]+=u,t[4]+=c,t[5]+=l,t[6]+=d,t[7]+=p,r+=64,o-=64}return r}var Ry,Ny,Dy=function(){function e(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return e.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},e.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(Py(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=Py(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,n=this.bufferLength,r=t/536870912|0,o=t<<3,i=t%64<56?64:128;this.buffer[n]=128;for(var a=n+1;a<i-8;a++)this.buffer[a]=0;this.buffer[i-8]=r>>>24&255,this.buffer[i-7]=r>>>16&255,this.buffer[i-6]=r>>>8&255,this.buffer[i-5]=r>>>0&255,this.buffer[i-4]=o>>>24&255,this.buffer[i-3]=o>>>16&255,this.buffer[i-2]=o>>>8&255,this.buffer[i-1]=o>>>0&255,Py(this.temp,this.state,this.buffer,0,i),this.finished=!0}for(a=0;a<8;a++)e[4*a+0]=this.state[a]>>>24&255,e[4*a+1]=this.state[a]>>>16&255,e[4*a+2]=this.state[a]>>>8&255,e[4*a+3]=this.state[a]>>>0&255;return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},e.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},e}();function My(e){var t=(new Dy).update(e),n=t.digest();return t.clean(),n}function jy(e){return Ay(function(e){return String.fromCharCode.apply(null,Array.from(new Uint8Array(e)))}(e)).replace(/[=]+$/,"").replace(/[+]/g,"-").replace(/[/]/g,"_")}function Ly(e){return _y(this,void 0,void 0,(function(){var t;return wy(this,(function(n){switch(n.label){case 0:return t=function(e){try{return(new TextEncoder).encode(e)}catch(t){return new Uint8Array(Buffer.from(e,"utf8"))}}(e),"undefined"==typeof crypto||void 0===crypto.subtle?[2,My(t)]:[4,crypto.subtle.digest("SHA-256",t)];case 1:return[2,n.sent()]}}))}))}function Uy(){return _y(this,void 0,void 0,(function(){var e,t,n,r;return wy(this,(function(o){switch(o.label){case 0:return e=Ty(43),n=jy,[4,Ly(e)];case 1:return t=n.apply(void 0,[o.sent()]),r=new Date,[2,{codeVerifier:e,codeChallenge:t,createdAt:r}]}}))}))}!function(e){e.GET="get",e.POST="post"}(Ry||(Ry={})),function(e){e.APPLICATION_JSON="application/json"}(Ny||(Ny={}));var Fy,By=function(){function e(e,t){this._fetch=e,this._config=t}return e.prototype.get=function(e){return _y(this,void 0,void 0,(function(){var t,n;return wy(this,(function(r){switch(r.label){case 0:return[4,this._getHeaders()];case 1:return t=r.sent(),[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 2:return n=r.sent(),[2,this._parseResponse(e,n)]}}))}))},e.prototype.post=function(e,t){return _y(this,void 0,void 0,(function(){var n,r;return wy(this,(function(o){switch(o.label){case 0:return[4,this._getHeaders()];case 1:return n=o.sent(),[4,this._fetchWithTimeout(e,{method:Ry.POST,credentials:"include",mode:"cors",headers:by(by({},n),{"Content-Type":Ny.APPLICATION_JSON}),body:JSON.stringify(t)})];case 2:return r=o.sent(),[2,this._parseResponse(e,r)]}}))}))},e.prototype._fetchWithTimeout=function(e,t){void 0===t&&(t={}),t.timeout;var n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["timeout"]);return _y(this,void 0,void 0,(function(){var t=this;return wy(this,(function(r){return[2,this._config.timeout?Promise.race([this._fetch(e,by({},n)),new Promise((function(e,n){return setTimeout((function(){return n(new Error("Fetch Timeout"))}),t._config.timeout)}))]):this._fetch(e,by({},n))]}))}))},e.prototype._getHeaders=function(){return _y(this,void 0,void 0,(function(){return wy(this,(function(e){switch(e.label){case 0:return this._config.applicationHeaders?[2,this._config.applicationHeaders]:this._config.getApplicationHeaders?[4,this._config.getApplicationHeaders()]:[3,2];case 1:return[2,e.sent()];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e,t){return _y(this,void 0,void 0,(function(){var n,r;return wy(this,(function(o){switch(o.label){case 0:return[4,t.clone().json().catch((function(e){return{error:"unknown",message:e.message}}))];case 1:if(n=o.sent(),r=n.message||"HTTP error. Unable to fetch ".concat(e),!t.ok)throw new Ey(t,n.error,r);return[4,t.json()];case 2:return[2,o.sent()]}}))}))},e}(),Gy=function(){function e(e,t,n){this._tokensUrl=e,this._httpClient=new By(t,n)}return e.prototype.authorize=function(e){return this._httpClient.get(e)},e.prototype.getTokens=function(e){return this._httpClient.post(this._tokensUrl+"/oauth2/token",e)},e}();function zy(e){var t=e.baseUrl,n=e.clientId,r=e.scopes,o=e.redirectUri,i=e.mode,a=e.state;return _y(this,void 0,void 0,(function(){var e,s,u,c,l,d,p,h;return wy(this,(function(f){switch(f.label){case 0:return[4,Uy()];case 1:for(h in e=f.sent(),s=e.codeChallenge,u=e.codeVerifier,c=a||Ay(Ty(32)),l={client_id:n,redirect_uri:o,response_type:"code",response_mode:i,code_challenge:s,state:c,scopes:r?r.join(" "):""},d="".concat(t,"?").concat((g=l,Object.keys(g).map((function(e){return encodeURIComponent(e.split(/(?=[A-Z])/).join("_").toLowerCase())+"="+encodeURIComponent(g[e])})).join("&"))),p=new URL(d),l)p.searchParams.set(h,l[h]);return[2,{origin:p.origin,authorizeUrl:d,codeVerifier:u,state:c}]}var g}))}))}function Wy(e){var t=e.tokensClient,n=e.authorizeUrl;return _y(this,void 0,void 0,(function(){return wy(this,(function(e){switch(e.label){case 0:return[4,t.authorize(n)];case 1:return[2,e.sent()]}}))}))}function qy(e){var t=e.tokensClient,n=e.clientId,r=e.grantType,o=e.codeVerifier,i=e.authorizationCode,a=e.refreshToken;return _y(this,void 0,void 0,(function(){var e;return wy(this,(function(s){switch(s.label){case 0:switch(e={client_id:n,grant_type:r},r){case"refresh_token":e=by(by({},e),{refresh_token:a});break;case"authorization_code":e=by(by({},e),{code_verifier:o,authorization_code:i})}return[4,t.getTokens(e)];case 1:return[2,s.sent()]}}))}))}function Vy(e){if(e&&e.expires_at&&e.access_token&&e.refresh_token){var t=(new Date).getTime();return e.expires_at-t<=0?null:e}return null}function Hy(e){var t=e.tokensClient,n=e.clientId,r=e.clientType;return _y(this,void 0,void 0,(function(){return wy(this,(function(e){switch(e.label){case 0:return[4,qy({tokensClient:t,clientId:n,grantType:"Desktop"===r?"urn:ietf:params:oauth:grant-type:client_id":"urn:ietf:params:oauth:grant-type:origin"})];case 1:return[2,e.sent()]}}))}))}function $y(e){var t=e.tokensClient,n=e.clientId,r=e.refreshToken;return _y(this,void 0,void 0,(function(){return wy(this,(function(e){switch(e.label){case 0:return[4,qy({tokensClient:t,clientId:n,grantType:"refresh_token",refreshToken:r})];case 1:return[2,e.sent()]}}))}))}function Ky(e){var t=e.tokensClient,n=e.baseUrl,r=e.clientId,o=e.redirectUri;return _y(this,void 0,void 0,(function(){var e,i,a,s,u,c,l;return wy(this,(function(d){switch(d.label){case 0:return[4,zy({baseUrl:n+"/oauth2/authorize",clientId:r,scopes:["grammarly.capi.all"],mode:"web_message",redirectUri:o})];case 1:return e=d.sent(),i=e.authorizeUrl,a=e.codeVerifier,s=e.state,[4,Wy({tokensClient:t,authorizeUrl:i})];case 2:if(u=d.sent(),c=u.code,l=u.state,s!==l)throw new xy(vy.INVALID_STATE);return[4,qy({tokensClient:t,clientId:r,grantType:"authorization_code",codeVerifier:a,authorizationCode:c})];case 3:return[2,d.sent()]}}))}))}!function(e){e.GET_TOKENS_ATTEMPT_WITH_REFRESH_TOKEN="GET_TOKENS_ATTEMPT_WITH_REFRESH_TOKEN",e.GET_TOKENS_ATTEMPT_WITHOUT_REFRESH_TOKEN="GET_TOKENS_ATTEMPT_WITHOUT_REFRESH_TOKEN",e.GET_TOKENS_SUCCESS="GET_TOKENS_SUCCESS",e.GET_TOKENS_FAILURE="GET_TOKENS_FAILURE",e.INVALID_REFRESH_TOKEN="INVALID_REFRESH_TOKEN",e.ACCESS_DENIED="ACCESS_DENIED",e.LOCK_TIMEOUT="LOCK_TIMEOUT"}(Fy||(Fy={}));var Yy=function(e){return by(by({},e),{timestamp_ms:Date.now()})};function Jy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Xy(e){return void 0===e&&(e=0),_y(this,void 0,void 0,(function(){return wy(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout(t,e)}))];case 1:return t.sent(),[2]}}))}))}var Qy=Jy();function Zy(e){return"".concat(Qy,":").concat(e,":").concat(Math.floor(1e6*(1+Math.random())))}function ev(){return Math.floor(1+9*Math.random())}function tv(e,t,n,r,o){return _y(this,void 0,void 0,(function(){function i(t){return _y(this,void 0,void 0,(function(){var n,o;return wy(this,(function(i){switch(i.label){case 0:return[4,e.getItem(t)];case 1:return null==(n=i.sent())?[2,!1]:n===l?[2,!0]:(o=parseInt(String(n.split(":")[1]),10),[2,!Number.isFinite(o)||o+r<Date.now()])}}))}))}function a(){return _y(this,void 0,void 0,(function(){return wy(this,(function(t){switch(t.label){case 0:return[4,i(u)];case 1:return t.sent()?[4,e.removeItem(u)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,i(c)];case 4:return t.sent()?[4,e.removeItem(c)]:[3,6];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))}var s,u,c,l,d;return wy(this,(function(r){switch(r.label){case 0:s=Date.now(),u="".concat(t,"__$$MUTEX_x"),c="".concat(t,"__$$MUTEX_y"),l=Zy(s),r.label=1;case 1:return[4,a()];case 2:if(r.sent(),Date.now()-s>n)throw new xy(xy.codes.LOCK_TIMEOUT,'"Mutex on '.concat(t," was not achieved in ").concat(n,"ms"));return[4,e.getItem(u)];case 3:return null==r.sent()?[3,5]:[4,Xy(ev())];case 4:return r.sent(),[3,1];case 5:return[4,e.setItem(u,l)];case 6:return r.sent(),[4,e.getItem(c)];case 7:return null==r.sent()?[3,9]:[4,Xy(ev())];case 8:return r.sent(),[3,1];case 9:return[4,e.setItem(c,l)];case 10:return r.sent(),[4,Xy(ev())];case 11:return r.sent(),[4,e.getItem(u)];case 12:return r.sent()===l?[3,17]:[4,Xy(ev())];case 13:return r.sent(),[4,e.getItem(c)];case 14:return r.sent()===l?[3,16]:[4,Xy(ev())];case 15:r.sent(),r.label=16;case 16:return[3,1];case 17:return r.trys.push([17,,21,24]),d=Zy(Date.now()),[4,e.setItem(u,d)];case 18:return r.sent(),[4,e.setItem(c,d)];case 19:return r.sent(),[4,o()];case 20:return r.sent(),[3,24];case 21:return[4,e.removeItem(u)];case 22:return r.sent(),[4,e.removeItem(c)];case 23:return r.sent(),[7];case 24:return[3,25];case 25:return[2]}}))}))}var nv=function(){function e(e){this.locks=new Map,this.storage=e}return e.prototype.acquireLock=function(e){return _y(this,void 0,void 0,(function(){var t=this;return wy(this,(function(n){return[2,new Promise((function(n){return _y(t,void 0,void 0,(function(){var t=this;return wy(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,tv(this.storage,e,6e4,5e3,(function(){return _y(t,void 0,void 0,(function(){var t=this;return wy(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(r){t.locks.set(e,r),n(!0)}))];case 1:return r.sent(),[2]}}))}))}))];case 1:return r.sent(),[3,3];case 2:return r.sent(),n(!1),[3,3];case 3:return[2]}}))}))}))]}))}))},e.prototype.releaseLock=function(e){return _y(this,void 0,void 0,(function(){var t;return wy(this,(function(n){return null!=(t=this.locks.get(e))&&t(),this.locks.delete(e),[2]}))}))},e}(),rv=function(e){var t;this._clientId=e.clientId,this._redirectUri=e.redirectUri,this._domain=(t=e.domain,/^https?:\/\//.test(t)?t:"https://".concat(t))},ov=function(){function e(e,t){this._storage=e,this._storageKey=t}return e.prototype.set=function(e){return _y(this,void 0,void 0,(function(){return wy(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this._storage.setItem(this._storageKey,JSON.stringify(e))];case 1:return t.sent(),[2,e];case 2:throw t.sent(),new xy(vy.STORAGE_CACHE_SET_ERROR);case 3:return[2]}}))}))},e.prototype.get=function(){return _y(this,void 0,void 0,(function(){var e;return wy(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this._storage.getItem(this._storageKey)];case 1:return[2,(e=t.sent())?JSON.parse(e):null];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))},e.prototype.remove=function(){return _y(this,void 0,void 0,(function(){return wy(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._storage.removeItem(this._storageKey)];case 1:return e.sent(),[3,3];case 2:throw e.sent(),new xy(vy.STORAGE_CACHE_REMOVE_ERROR);case 3:return[2]}}))}))},e}(),iv=function(){function e(){this.cache={},this.length=0}return e.prototype.getItem=function(e){return e in this.cache?this.cache[e]:null},e.prototype.setItem=function(e,t){void 0===t?this.removeItem(e):(this.cache.hasOwnProperty(e)||this.length++,this.cache[e]=t)},e.prototype.removeItem=function(e){this.cache.hasOwnProperty(e)&&(delete this.cache[e],this.length--)},e.prototype.key=function(e){return Object.keys(this.cache)[e]||null},e.prototype.clear=function(){this.cache={},this.length=0},e}(),av=function(e){function t(t){var n=e.call(this,t)||this;return n._promiseMap={},n._tokensClient=new Gy(n._domain,t.fetch,t.httpClientOptions),n._storageKey=t.storageKey||"grammarly.".concat(n._clientId,".tokens"),n._storage=t.storage||new iv,n._lock=t.lock||new nv(n._storage),n._onAccessDenied=t.onAccessDenied||function(){},n._cache=new ov(n._storage,n._storageKey),n._logger=Pp.C8.Logging.getLogger("OAuth"),n}return my(t,e),t.prototype._authorize=function(e){return _y(this,void 0,void 0,(function(){var t,n;return wy(this,(function(r){switch(r.label){case 0:t=e.orAnonymous,r.label=1;case 1:return r.trys.push([1,3,,9]),[4,Ky({tokensClient:this._tokensClient,baseUrl:this._domain,clientId:this._clientId,redirectUri:this._redirectUri})];case 2:return[2,r.sent()];case 3:return(n=r.sent())instanceof Ey&&n.message===Sy.ACCESS_DENIED?[3,4]:[3,8];case 4:return t?[4,Hy({tokensClient:this._tokensClient,clientId:this._clientId,clientType:"Web"})]:[3,6];case 5:return[2,r.sent()];case 6:return this._logger.error(Fy.ACCESS_DENIED,Yy(e)),[4,this._onAccessDenied(n)];case 7:r.sent(),r.label=8;case 8:throw n;case 9:return[2]}}))}))},t.prototype._refresh=function(e,t){return _y(this,void 0,void 0,(function(){var n;return wy(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,$y({tokensClient:this._tokensClient,clientId:this._clientId,refreshToken:e})];case 1:case 3:return[2,r.sent()];case 2:return(n=r.sent())instanceof Ey&&n.message===Sy.INVALID_REFRESH_TOKEN?(this._logger.info(Fy.INVALID_REFRESH_TOKEN,Yy(t)),[4,this._authorize(t)]):[3,4];case 4:throw n;case 5:return[2]}}))}))},t.prototype._getAccessToken=function(e){return _y(this,void 0,void 0,(function(){var t,n,r,o,i,a,s=this;return wy(this,(function(u){switch(u.label){case 0:return u.trys.push([0,16,,17]),(t=e.ignoreCache)?[3,2]:(n=Vy,[4,this._cache.get()]);case 1:if(o=n.apply(void 0,[u.sent()]))return[2,o.access_token];u.label=2;case 2:return[4,Cy((function(){return s._lock.acquireLock(ky,5e3)}),10)];case 3:if(!u.sent())return[3,14];u.label=4;case 4:return u.trys.push([4,,11,13]),[4,this._cache.get()];case 5:return r=u.sent(),!t&&(o=Vy(r))?[2,o.access_token]:(i=void 0,!t&&r&&r.refresh_token?[3,7]:(this._logger.info(Fy.GET_TOKENS_ATTEMPT_WITHOUT_REFRESH_TOKEN,Yy(e)),[4,this._authorize(e)]));case 6:return i=u.sent(),[3,9];case 7:return this._logger.info(Fy.GET_TOKENS_ATTEMPT_WITH_REFRESH_TOKEN,Yy(e)),[4,this._refresh(r.refresh_token,e)];case 8:i=u.sent(),u.label=9;case 9:return this._logger.info(Fy.GET_TOKENS_SUCCESS,Yy(e)),[4,this._cache.set((c=i,{expires_at:(new Date).getTime()+1e3*c.expires_in,access_token:c.access_token,refresh_token:c.refresh_token}))];case 10:return[2,(i=u.sent()).access_token];case 11:return[4,this._lock.releaseLock(ky)];case 12:return u.sent(),[7];case 13:return[3,15];case 14:throw this._logger.info(Fy.LOCK_TIMEOUT,Yy(e)),new xy(vy.LOCK_TIMEOUT);case 15:return[3,17];case 16:throw a=u.sent(),this._logger.error(Fy.GET_TOKENS_FAILURE,a,Yy(e)),a;case 17:return[2]}var c}))}))},t.prototype.getAccessToken=function(e){var t=this;void 0===e&&(e={orAnonymous:!1,ignoreCache:!1});var n="".concat(e.orAnonymous,"::").concat(e.ignoreCache),r=this._promiseMap[n];return r||(r=this._getAccessToken(e).finally((function(){delete t._promiseMap[n],r=null})),this._promiseMap[n]=r),r},t.prototype.logout=function(){return _y(this,void 0,void 0,(function(){return wy(this,(function(e){switch(e.label){case 0:return[4,this._cache.remove()];case 1:return e.sent(),[2]}}))}))},t}(rv);const sv=async e=>{const t=lg.cl.get("dummy_url");await dg.d3.toHeaderAppender(e)(t)();const{headers:n}=t.build();return n};class uv{constructor(e,t,n,r,o){this._getCsrfToken=e,this._getContainerIdOrUndefined=t,this._clientName=n,this._clientVersion=r,this._telemetry=o,this._oauthClient=(e=>{const t=Ft().sessionStorage,n=Ft().getUrl("");return new av({clientId:e.clientName,redirectUri:H(n),domain:G().tokens,fetch:self.fetch.bind(self),httpClientOptions:{getApplicationHeaders:()=>sv(e)},storageKey:"gr-oauth-key",storage:{getItem:async e=>(await t.get(e))[e],async setItem(e,n){await t.set({[e]:n})},async removeItem(e){await t.remove(e)}}})})(this.withoutAccessToken),this._getAccessToken=async()=>{try{const e=await this._oauthClient.getAccessToken({orAnonymous:!0});return this._telemetry.getAccessTokenSuccess(),e}catch(e){return void this._telemetry.getAccessTokenError(e.statusCode)}},this.resetUserToken=async()=>{try{await this._oauthClient.getAccessToken({orAnonymous:!0,ignoreCache:!0}),this._telemetry.getAccessTokenSuccess(!0)}catch(e){this._telemetry.getAccessTokenError(e.statusCode,!0)}}}get fingerprints(){return this._fingerprints||(this._fingerprints={...this.withoutAccessToken,accessToken:this._getAccessToken}),this._fingerprints}get withoutAccessToken(){return this._withoutAccessToken||(this._withoutAccessToken={csrfToken:this._getCsrfToken,containerId:this._getContainerIdOrUndefined(),clientName:this._clientName,clientVersion:ly.G.parse(this._clientVersion)}),this._withoutAccessToken}get ajaxFactory(){return this._ajaxFactory||(this._ajaxFactory=cy.create((async(e,t)=>{const n=new URL(e).origin;try{const r=await self.fetch(e,t);return r.ok?this._telemetry.bgApiServiceRequestSuccess(n,t.method,!0):this._telemetry.bgApiServiceRequestFailed(n,t.method,r.status,!0),r}catch(e){throw this._telemetry.bgApiServiceRequestFailed(n,t.method,e.statusCode,!0),e}}))),this._ajaxFactory}get ajax(){return this._ajax||(this._ajax=this.ajaxFactory({requestExtender:dg.d3.toHeaderAppender(this.fingerprints)})),this._ajax}}const cv={ORGANIZATION_CONTROLS:{title:"Browser extension unavailable",message:"Your organization has turned off the Grammarly browser extension."}};var lv;!function(e){e.Enabled="ENABLED",e.OptedOutByUser="OPTED_OUT_BY_USER",e.OptedOutByInstitution="OPTED_OUT_BY_INSTITUTION",e.DeactivatedForUserByGrammarly="DEACTIVATED_FOR_USER_BY_GRAMMARLY",e.DeactivatedForInstitutionByGrammarly="DEACTIVATED_FOR_INSTITUTION_BY_GRAMMARLY",e.DisabledForInstitutionUserGroup="DISABLED_FOR_INSTITUTION_USER_GROUP",e.DisabledWhenUserDataControlEnabled="DISABLED_WHEN_USER_DATA_CONTROL_ENABLED",e.DisabledForAnonymous="DISABLED_FOR_ANONYMOUS",e.NotAvailable="NOT_AVAILABLE"}(lv||(lv={}));var dv=function(e){function t(t,n,r){var o=e.call(this)||this;return o._url=t,o._ajaxFactory=n,o._fingerprints=r,o._ajax=o._ajaxFactory({requestExtender:dg.d3.toHeaderAppender(o._fingerprints)}),o}return(0,Xr.__extends)(t,e),t.getDefaultUrl=function(e){return"https://capi".concat(e,"/api/configuration/cheetah/v1/settings")},t.prototype.getStatus=function(e){void 0===e&&(e=!1);var n=e?lg.cl.post("".concat(this._url,"/get")):lg.cl.get(this._url);return this._ajax.json(n,t.StatusResponseIOType)},t.prototype.setStatus=function(e){var t=lg.cl.post(this._url).json(e);return this._ajax.empty(t)},t.EntryPointsConfigIOType=Jf.readonly(Jf.interface({inlineQuickReplyEnabled:Jf.boolean,inlineRewriteEnabled:Jf.boolean})),t.StatusRequestIOType=Jf.readonly(Jf.interface({cheetahEnabled:Jf.boolean,entryPointsConfig:t.EntryPointsConfigIOType})),t.StatusResponseIOType=Jf.readonly(Jf.interface({cheetahEnabled:Jf.boolean,status:pg.D.createStringEnum(lv,"status"),entryPointsConfig:t.EntryPointsConfigIOType})),t}(cg.Base);!function(e){e.Status=lv}(dv||(dv={}));class pv{constructor(e,n,r,o,i,a=Z.create(pv.name)){this._url=e,this._actions=n,this._store=r,this._apiService=o,this._telemetry=i,this._log=a,this._api=(0,t.Vo)((()=>new dv(this._url,this._apiService.ajaxFactory,this._apiService.fingerprints))),this._lastDataFetchTimestamp=void 0,this.fetchStatusRateLimited=async()=>void 0===this._lastDataFetchTimestamp||Date.now()-this._lastDataFetchTimestamp>Me?this.fetchStatus():ia.right(void 0),this.fetchStatus=async()=>{try{const e=await this._api.get().getStatus(!0);return this._log.info("fetched cheetah status",e),this._lastDataFetchTimestamp=Date.now(),await this._actions.cheetahSettings.setStatus(e),ia.right(void 0)}catch(e){return this._log.warn("CHEETAH SETTINGS SERVICE | fetch status fail. Message: ",e.message),this._telemetry.getCheetahStatusError(e.statusCode,e.body),ia.left(new Error(e))}},this.setStatus=async e=>{var t,n;const r=null===(n=null===(t=(await this._store.get(["extensionSettings"])).extensionSettings)||void 0===t?void 0:t.common.cheetah)||void 0===n?void 0:n.status;try{return this._log.info("setting cheetah status",e),await Promise.all([this._actions.cheetahSettings.setStatus(e),this._api.get().setStatus(e)]),ia.right(null)}catch(e){return await this._actions.cheetahSettings.setStatus(r||{}),this._telemetry.getCheetahStatusError(e.statusCode,e.body),ia.left(new Error(e))}}}}const hv={DraggableGButton:new jf.KS("draggable_g_button",["test_large","test_small","control"]),ClientControlsDlp:new jf.KS("client_controls_dlp_manakin",["enabled"]),ClientControlsDlpBuffering:new jf.KS("client_controls_dlp_buffering_manakin",["enabled"]),FeMetrics:new jf.KS("extension_fe_metrics",["enabled"]),GDocsCanvasAdvancedMappingForAllTablesFirefox:new jf.KS("gdocs_mapping_tables_firefox",["advanced","dummy"]),GDocsCanvasAdvancedMappingNoTablesFirefox:new jf.KS("gdocs_mapping_notables_firefox",["advanced","advanced_legacy","legacy"]),GDocsCanvasAdvancedMappingForTablesInternal:new jf.KS("gdocs_canvas_advanced_mapping_for_tables_internal",["enabled"]),GDocsCanvasAdvancedMappingEverywhereInternal:new jf.KS("gdocs_canvas_advanced_mapping_everywhere_internal",["enabled"]),GDocsCanvasAdvancedMappingNoLegacyFallbackInternal:new jf.KS("gdocs_canvas_advanced_mapping_no_legacy_internal",["enabled"]),HideSafariOnboardingPopup:new jf.KS("hide_safari_onboarding_popup",["control","test"]),ToneDetectorUphook:new jf.KS("tone_detector_uphook",["control","test"]),ShortenItPrefetch:new jf.KS("shorten_it_prefetch",["control","test"]),GDocsAnnotatedCanvas:new jf.KS("gdocs_annotated_canvas",["enabled"]),ReaderV1External:new jf.KS("reader_v1_external",["control","test"]),BusinessUphookQtLogic:new jf.KS("ext_business_uphook_qt_logic",["control","test"]),SherlockOnDevice:new jf.KS("sherlock_on_device_test",["control","test"]),ValueTiming:new jf.KS("habit_loop",["control","score80","score70"]),GetStartedChecklist:new jf.KS("in_product_checklist",["control","auto_open","existing_tour"]),GbSnippetsSelectionPopup:new jf.KS("gb_snippets_selection_popup",["control","test"]),GbUpgradeHookSharedDocumentFreeV2:new jf.KS("gb_upgrade_hook_shared_document_free_v2",["control","test"]),GbUpgradeHookSharedDocumentPremiumV2:new jf.KS("gb_upgrade_hook_shared_document_premium_v2",["control","test"]),GbUpgradeHookWorkplaceAppsFreeV2:new jf.KS("gb_upgrade_hook_workplace_apps_free_v2",["control","test"]),GbUpgradeHookWorkplaceAppsPremiumV2:new jf.KS("gb_upgrade_hook_workplace_apps_premium_v2",["control","test"]),SiteSpecificOnboarding:new jf.KS("site_engagement",["control","gbutton","underline"]),SingleCardAssistantNextToTextField:new jf.KS("sca_positioned_next_to_text_field",["control","test"]),InlineYellowUnderlines:new jf.KS("inline_yellow_underlines_ext",["control","test"]),InlineYellowUnderlinesV2:new jf.KS("inline_yellow_underlines_ext_v2",["control","test"]),ProgressiveExposure:new jf.KS("progressive_exposure",["control","test"]),GBUphookStyleGuideFooterV1:new jf.KS("gb_upgrade_hooks_style_guide_v1",["control","test"]),GBUphookBrandTonesFooterV1:new jf.KS("gb_upgrade_hooks_brand_tones_v1",["control","test"]),UpgradeCardFromCAPI:new jf.KS("extension_upgrade_card_sdui",["control","test"]),UpgradeCardGBRebrand:new jf.KS("gb_upgrade_hooks_advanced_issues_v1",["control","test"]),YellowUnderlinesForPremiumPreviews:new jf.KS("yellow_underlines_ext_previews",["control","test"]),SettingsUphookInFixedFooter:new jf.KS("extension_settings_uphook_in_fixed_footer",["control","test"]),YellowUnderlinesForFreeTrial:new jf.KS("yellow_underlines_ext_free_trial",["control","test"]),Iterable:new jf.KS("iterable_experiment_ext",["enabled"]),GoogleDriveCopyChange:new jf.KS("google_drive_copy_change",["control","test"]),GoogleSheetsCopyChange:new jf.KS("google_sheets_copy_change",["control","test"])};new jf.KS("gdocs_internals_replacement",["disabled"]);var fv,gv,mv=Jf.union([Jf.literal("extensionChrome"),Jf.literal("extensionFirefox"),Jf.literal("extensionEdge"),Jf.literal("officeAddIn"),Jf.literal("officeAddIn-Word"),Jf.literal("officeAddIn-Outlook"),Jf.literal("windowsExtension"),Jf.literal("macExtension"),Jf.literal("MOBILE_IOS"),Jf.literal("IOS_NATIVE_EDITOR"),Jf.literal("IPAD_EDITOR"),Jf.literal("MOBILE_ANDROID")]),yv=Jf.literal("ORGANIZATION_CONTROLS"),vv=Jf.interface({regex:Jf.string,priority:Jf.number,description:Jf.string,prefixes:Jf.array(Jf.string)}),bv=Jf.interface({patterns:Jf.record(Jf.string,vv)}),_v={clients:Jf.array(Jf.interface({client:mv,blocked:Jf.boolean,reason:yv})),domains:Jf.array(Jf.interface({domain:Jf.string,subdomains:Jf.boolean,blocked:Jf.boolean,reason:yv})),applications:Jf.array(Jf.interface({application:Jf.string,blocked:Jf.boolean,reason:yv})),allowedDomains:Jf.array(Jf.interface({domain:Jf.string,enabled:Jf.boolean,subdomains:Jf.boolean})),allowedApplications:Jf.array(Jf.interface({application:Jf.string,enabled:Jf.boolean})),sensitivityLabels:Jf.array(Jf.interface({sensitivityLabel:Jf.string,blocked:Jf.boolean})),confidentialModeEnabled:Jf.boolean,dlpEnabled:Jf.boolean,docsDisabled:Jf.boolean},wv=(0,Xr.__assign)((0,Xr.__assign)({},_v),{dlpConfiguration:bv,allowedApplicationsEnabled:Jf.boolean,allowedDomainsEnabled:Jf.boolean,edcEnabled:Jf.boolean,userEditingEnabled:Jf.boolean,clientControlsEnabled:Jf.boolean,docsDisabledLocked:Jf.boolean}),Sv=(Jf.interface(_v),Jf.interface(wv)),Iv=function(e){function t(t,n,r){var o=e.call(this)||this;return o._url=t,o._ajaxFactory=n,o._fingerprints=r,o._ajax=o._ajaxFactory({requestExtender:dg.d3.toHeaderAppender(o._fingerprints)}),o.removeInvalidClientsAndValidateConfig=function(e){return(0,ua.pipe)(e,o._ajax.map((function(e){return Array.isArray(null==e?void 0:e.clients)&&(e.clients=e.clients.filter((function(e){return mv.is(e.client)}))),e})),o._ajax.chain((function(e){return o._ajax.fromEither((0,ua.pipe)(Sv.decode(e),ia.mapLeft((function(e){return new lg.tk.ParseError("json parse error",e)}))))})))},o}return(0,Xr.__extends)(t,e),t.getDefaultUrl=function(e){return"https://goldengate".concat(e,"/client-controls")},t.prototype.getConfig=function(){var e=lg.cl.get(this._url);return(0,ua.pipe)(this._ajax.json(e),this.removeInvalidClientsAndValidateConfig)},t.prototype.updateConfig=function(e){var t=lg.cl.put(this._url).json(e);return this._ajax.empty(t)},t.targetTag="clientControls",t}(cg.Base);!function(e){e.isClient=mv.is,e.isReason=yv.is}(Iv||(Iv={}));class xv{constructor(e,n,r,o,i,a=Z.create("Client Controls Service")){this._getUserOrUndefined=r,this._extensionAPI=o,this._experimentClient=i,this._log=a,this._parseManagedStorageRecord=e=>e.split(",").map((e=>e.trim())).filter((e=>!!e)),this._parseDomainsManagedStorageRecord=e=>this._parseManagedStorageRecord(e).map((e=>({domain:e,subdomains:!0,blocked:!0,reason:"ORGANIZATION_CONTROLS"}))),this._parseClientsManagedStorageRecord=e=>this._parseManagedStorageRecord(e).filter(Iv.isClient).map((e=>({client:e,blocked:!0,reason:"ORGANIZATION_CONTROLS"}))),this._api=(0,t.Vo)((()=>new Iv(e,n.ajaxFactory,n.fingerprints)))}_shouldLoadConfig(){const e=this._getUserOrUndefined();return e&&ug.doesUserBelongToInstitution(e)}_canUseDlp(){const e=this._getUserOrUndefined();return e&&ug.doesUserBelongToInstitution(e)&&"enabled"===this._experimentClient.getTreatment(hv.ClientControlsDlp)}async _loadConfigFromManagedStorage(){const e=this._extensionAPI.managedStorage;if(!e)return fv.EMPTY_CONFIG;try{const t=await e.get("GrammarlyBlockedClients")||"",n=await e.get("GrammarlyBlockedDomains")||"",r=await e.get("GrammarlyConfidentialModeEnabled")||!1,o=await e.get("GrammarlyDlpEnabled")||!1,i=this._parseClientsManagedStorageRecord(t),a=this._parseDomainsManagedStorageRecord(n);return{clients:i,domains:a,allowedDomains:[],allowedDomainsEnabled:!1,confidentialModeEnabled:r,dlpEnabled:o,dlpConfiguration:{patterns:{}}}}catch(e){return fv.EMPTY_CONFIG}}async load(){if(!this._shouldLoadConfig())return fv.EMPTY_CONFIG;try{const e=await this._api.get().getConfig(),t=await this._loadConfigFromManagedStorage(),n=e.clientControlsEnabled?fv.mergeConfig(e,t):e;return this._canUseDlp()?n:{...n,dlpEnabled:!1}}catch(e){return this._log.warn("Load config error",e),fv.EMPTY_CONFIG}}}!function(e){e.EMPTY_CONFIG={clients:[],domains:[],allowedDomains:[],allowedDomainsEnabled:!1,confidentialModeEnabled:!1,dlpEnabled:!1,dlpConfiguration:{patterns:{}}},e.mergeConfig=(e,t)=>({clients:[...e.clients,...t.clients],domains:[...e.domains,...t.domains],allowedDomains:[...e.allowedDomains,...t.allowedDomains],allowedDomainsEnabled:e.allowedDomainsEnabled||t.allowedDomainsEnabled,confidentialModeEnabled:e.confidentialModeEnabled||t.confidentialModeEnabled,dlpEnabled:e.dlpEnabled||t.dlpEnabled,dlpConfiguration:{patterns:{...e.dlpConfiguration.patterns,...t.dlpConfiguration.patterns}}})}(fv||(fv={})),function(e){let t;!function(e){e.EMPTY="EMPTY",e.dialects=["british","american","australian","canadian","indian"],e.writingTypes=["work","school","otherProjects"],e.primaryLanguages=["english","notEnglish"],e.grammarSkills=["beginner","intermediate","advanced"],e.emogenieEmojiStates=["hide","show"],e.serengetiStates=["enabled","disabled"],e.dunningBillingStatuses=["CREATED","IN_PROGRESS","RECOVERED","CHURNED","CHURNED_PASSIVELY"],e.planPeriods=["MONTHLY","QUARTERLY","ANNUAL"],e.planPeriodsOrNone=[...e.planPeriods,"NONE"];const t=(e,t)=>((e,t)=>e.includes(t))(e,t)?t:null,n=(e,n)=>null!=n&&t(e,n)||null;function r(e){return null!=e?e:null}function o(t){return n(e.dialects,t)}function i(n){return t(e.dunningBillingStatuses,n)||e.EMPTY}const a={dialectStrong:o,dialectWeak:o,writingType:function(t){return n(e.writingTypes,t)},primaryLanguage:function(t){return n(e.primaryLanguages,t)},grammarSkills:function(t){return n(e.grammarSkills,t)},emogenieEmojiState:function(t){return n(e.emogenieEmojiStates,t)},serengetiState:function(t){return n(e.serengetiStates,t)},dunning_billing_status:i,gb_dunning_billing_status:i,billing_subscription_first_premium_date:r,billing_subscription_plan_period:function(t){return n(e.planPeriods,t)},billing_subscription_queued_plan_period:function(t){return n(e.planPeriodsOrNone,t)},billing_subscription_renewal_date:r,ungated_trial_end_date:r,isLlamaInstalled:r,showDesktopIntegrationExtensionToggle:r,snippetsTrigger:r,billing_no_payment_method_subscription_expire_on:r,"DN:getStartedChecklistSettings":r,"cheetah:onboardingState":r,"cheetah:onboardingState:llamaMac":r,"cheetah:onboardingState:llamaWindows":r,"cheetah:onboardingState:editor":r};e.parseProp=function(e,t){return a[e](t)},e.parseProps=function(e){return Object.keys(e).reduce(((t,n)=>(n in a&&(t[n]=a[n](e[n])),t)),{})}}(t=e.Parser||(e.Parser={}))}(gv||(gv={}));var Ev=__webpack_require__(36925);class kv{constructor(e,n,r,o,i,a,s=Z.create(kv.name)){this._store=n,this._actions=r,this._cookiesHelper=o,this._apiService=i,this._telemetry=a,this._log=s,this._lastDataFetchTimestamp=void 0,this._fetchAllProps=async()=>{try{const e=await this._api.get().load(),t=gv.Parser.parseProps(e);return this._lastDataFetchTimestamp=Date.now(),this._log.info("fetched all DAPI props",t),await this._actions.dapi.setSettings(t),t}catch(e){return this._log.warn("DAPI SERVICE | fetch properties fail. Message: ",e.message),this._telemetry.getDapiPropError(e.statusCode,e.body),{}}},this.fetchAllPropsRateLimited=()=>void 0===this._lastDataFetchTimestamp||Date.now()-this._lastDataFetchTimestamp>Me?this._fetchAllProps():this._store.get(["dapi"]).then((e=>e.dapi||{})),this.setProp=async(e,t)=>{const n={[e]:t};try{await this._api.get().save(n)}catch(t){this._log.error(`Error by setting prop ${e} to dapi`,t),Dt().setDapiPropError(t&&t.statusCode,t.body)}await this._actions.dapi.modifySettings(n),Ur("set-dapi-prop",e,t)},this.updateProps=async()=>{const{dapi:e}=await this._store.get(["dapi"]),t=await this._fetchAllProps();this._log.info("new settings",t),"true"===t.isLlamaInstalled&&(await this._actions.settings.setLlamaInstalled(),await this._cookiesHelper.setLlamaInstalled(),await this.setProp("isLlamaInstalled","false"),jr.desktopIntegrationEnabled("dapi-migration")),!(null==t?void 0:t.dialectStrong)&&(null==e?void 0:e.dialectStrong)&&await this.setProp("dialectStrong",null==e?void 0:e.dialectStrong)},this._api=(0,t.Vo)((()=>new Ev.Lj(e,this._apiService.ajaxFactory,this._apiService.fingerprints)))}}var Tv=__webpack_require__(2844),Av=__webpack_require__(24209);function Cv(e){var t,n;return(0,Tv.aj)([(0,Av.T)((null===(t=CS().browserApi.permissions)||void 0===t?void 0:t.removed)||(0,gf.of)(),(null===(n=CS().browserApi.permissions)||void 0===n?void 0:n.added)||(0,gf.of)()).pipe(_f(null),(0,lf.w)((()=>{var e;const t=null===(e=CS().browserApi.permissions)||void 0===e?void 0:e.contains;return t?(0,$g.D)(t({origins:[`https://*.${q()}/*`]})):(0,gf.of)(!0)}))),e()]).pipe((0,xe.h)((([e])=>!e)))}const Ov=e=>"ensureMigrationCompleted"in e,Pv=Z.create("universal/bg/rpc/interframe");function Rv(e){return"object"==typeof e&&e&&"clientId"in e||!1}function Nv(e){return e&&"object"==typeof e&&e.connectionId&&typeof e.connectionId&&"data"in e}function Dv(e,t,n=e+"-response",r=t.getTopFrameId()){const o=(n,o,i)=>{var a;if(i&&Nv(n)&&Rv(n.data)){const o=JSON.stringify([null!==(a=i.frameId)&&void 0!==a?a:null,n.data.clientId]);t.sendTo({tabId:i.tabId,frameId:r},e+"-"+n.connectionId,{...n.data,clientId:o})}else Pv.warn(`Malformed proxy messages in multi bridge with type ${e}`)},i=(e,r,o)=>{if(o&&Nv(e)&&Rv(e.data)){const[r,i]=JSON.parse(e.data.clientId);t.sendTo({tabId:o.tabId,frameId:r},n+"-"+e.connectionId,{...e.data,clientId:i})}else Pv.warn(`Malformed proxy messages in multi bridge with type ${n}`)};return t.on(e,o),t.on(n,i),{dispose(){t.off(e,o),t.off(n,i)}}}var Mv,jv,Lv,Uv,Fv;!function(e){e.bgWakeUp="bgWakeUp",e.bgFirstStart="bgFirstStart",e.alarm="alarm",e.storeChange="storeChange",e.activeTabChange="activeTabChange",e.refreshUser="refreshUser",e.logoutUser="logoutUser"}(Mv||(Mv={})),function(e){e.isBgWakeUp=e=>e.type===Mv.bgWakeUp,e.isBgFirstStart=e=>e.type===Mv.bgFirstStart,e.isStoreChange=e=>e.type===Mv.storeChange&&oe(e.change),e.isReady=t=>{var n,r;return e.isStoreChange(t)&&"ready"===(null===(r=null===(n=t.change.extensionFSM)||void 0===n?void 0:n.newValue)||void 0===r?void 0:r.stage)},e.isDataControl=t=>{var n,r;return e.isStoreChange(t)&&"data_control"===(null===(r=null===(n=t.change.extensionFSM)||void 0===n?void 0:n.newValue)||void 0===r?void 0:r.stage)},e.isRefreshUser=e=>e.type===Mv.refreshUser,e.isAlarm=e=>e.type===Mv.alarm&&oe(e.alarm),e.isActiveTabChange=e=>e.type===Mv.activeTabChange&&oe(e.tab),e.isUserSwitched=t=>{var n,r,o,i;return e.isStoreChange(t)&&(null===(r=null===(n=t.change.user)||void 0===n?void 0:n.newValue)||void 0===r?void 0:r.id)!==(null===(i=null===(o=t.change.user)||void 0===o?void 0:o.oldValue)||void 0===i?void 0:i.id)},e.isLogoutUserEvent=e=>e.type===Mv.logoutUser}(jv||(jv={})),function(e){e.activeTabChange="activeTabChange",e.connectionInit="connectionInit",e.checkOnline="checkOnline",e.openDataControl="openDataControl",e.desktopIntegrationInit="desktopIntegrationInit",e.dynamicConfigAlarm="dynamicConfigAlarm",e.dynamicConfigInit="dynamicConfigInit",e.dynamicConfigNotExists="dynamicConfigNotExists",e.dynamicConfigUserSwitch="dynamicConfigUserSwitch",e.fsmInit="fsmInit",e.settingsInit="settingsInit",e.trackingInitOnBgInit="trackingInitOnBgInit",e.trackingInitOnFSMChangeReady="trackingInitOnFSMChangeReady",e.trackingSetUserOnBgWakeUp="trackingSetUserOnBgWakeUp",e.pageConfigInit="pageConfigInit",e.pageConfigUpdateFromCDN="pageConfigUpdateFromCDN",e.reminderNotificationUpdate="reminderNotificationUpdate",e.renderBadge="renderBadge",e.safariLogoutUser="safariLogoutUser",e.safariUserInfoReporter="safariUserInfoReporter",e.userUpdateOnBgInit="userUpdateOnBgInit",e.userUpdateOnFSMChangeReady="userUpdateOnFSMChangeReady",e.userUpdateOnEmitRefresh="userUpdateOnEmitRefresh",e.userUpdateOnAlarm="userUpdateOnAlarm",e.legacyBgFirstStart="legacyBgFirstStart",e.iterableInit="iterableInit",e.iterableUpdateOnUserSwitch="iterableUpdateOnUserSwitch",e.iterableUpdateOnAlarm="iterableUpdateOnAlarm"}(Lv||(Lv={})),function(e){function t(e,t,n,r){return{name:e,kind:t,condition:n,effect:r}}function n(e,n,r,o){const i=o=>({kind:n,create:()=>t(e,n,r,o)});return o?i(o):i}e.createEffect=n,e.alarm=function(e,n,r){const o=r=>({kind:Mv.alarm,create:o=>(o.register(n.name,n),t(e,Mv.alarm,(e=>jv.isAlarm(e)&&n.name===e.alarm.name),r))});return r?o(r):o},e.storeChange=function(e,t,r){return r?n(e,Mv.storeChange,t,r):n(e,Mv.storeChange,t)},e.refreshUser=function(e,t){return t?n(e,Mv.refreshUser,jv.isRefreshUser,t):n(e,Mv.refreshUser,jv.isRefreshUser)},e.bgWakeUp=function(e,t){return t?n(e,Mv.bgWakeUp,jv.isBgWakeUp,t):n(e,Mv.bgWakeUp,jv.isBgWakeUp)},e.bgFirstStart=function(e,t){return t?n(e,Mv.bgFirstStart,jv.isBgFirstStart,t):n(e,Mv.bgFirstStart,jv.isBgFirstStart)},e.logoutUser=function(e,t){return t?n(e,Mv.logoutUser,jv.isLogoutUserEvent,t):n(e,Mv.logoutUser,jv.isLogoutUserEvent)},e.activeTabChange=function(e,t){return t?n(e,Mv.activeTabChange,jv.isActiveTabChange,t):n(e,Mv.activeTabChange,jv.isActiveTabChange)},e.compose=function(...e){return t=>e.map((e=>e(t)))}}(Uv||(Uv={})),function(e){e.empty="empty",e.local="local",e.server="server",e.localOverride="localOverride"}(Fv||(Fv={}));var Bv=__webpack_require__(32687);class Gv extends Error{constructor(e,t){const n=Bv.PathReporter.report(t);super(e+(n.length>1?`:\n- ${n.join("\n- ")}`:": "+n[0])),this.name="ParseError",this.formattedErrors=n,this.errors=t.left}}const zv=new Jf.Type("ISODate",(e=>e instanceof Date),((e,t)=>{if("string"==typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return(0,Jf.success)(t)}return(0,Jf.failure)(e,t)}),(e=>e.toISOString()));function Wv(e,t){const n=(0,Jf.partial)(e,t);return new Jf.PartialType(null!=t?t:`partialAsUndefined(${n.name})`,n.is,((t,r)=>{if(!t||"object"!=typeof t)return n.validate(t,r);const o={...t};for(const t in e)t in o||(o[t]=void 0);return n.validate(o,r)}),n.encode,e)}function qv(e){return(0,Jf.union)([e,Jf.undefined])}function Vv(e,t,n){return new Jf.Type(null!=n?n:`withDefault(${e.name})`,e.is,((n,r)=>void 0===n?(0,Jf.success)(t):e.validate(n,r)),e.encode)}const Hv=(0,Jf.partial)({chrome:Jf.boolean,edge:Jf.boolean,firefox:Jf.boolean,safari:Jf.boolean},"SwitchByBrowser");const $v=Jf.readonly(Jf.partial({legacyStopWorkingDate:zv}),"SafariAppExtensionMigrationDynamicConfig"),Kv=Jf.readonly(Wv({enableByBrowser:Hv}),"GmailSendEmailPopupDynamicConfig"),Yv=Jf.type({domain:Jf.string,matchSubdomains:Jf.boolean,allowedOriginPatterns:Jf.union([Jf.array(Jf.string),Jf.undefined]),disableByBrowser:qv(Hv)},"IframeIntegrationDomainRule"),Jv=Jf.readonly(Jf.exact(Jf.type({enableGeneric:Vv(Jf.boolean,!1),enableByDomain:Vv(Jf.array(Yv),[]),enableByBrowser:Vv(Hv,{chrome:!0,edge:!0})})),"IframeIntegrationDynamicConfig"),Xv=Jf.readonly(Wv({enableByBrowser:Hv}),"DraggableGButtonDynamicConfig"),Qv=Jf.readonly(Wv({disabled:Jf.boolean,disabledInOutlook:Jf.boolean,disabledInGmail:Jf.boolean,bannedPhrases:Jf.array(Jf.array(Jf.union([Jf.string,Jf.null])))}),"AutocompleteDynamicConfig"),Zv=Jf.readonly(Jf.partial({disabled:Jf.boolean,useHeatmapCanvas:Jf.boolean,onboardingEnabled:Jf.boolean,enableByDomain:Jf.array(Jf.type({domain:Jf.string,allowedPathnamePatterns:qv(Jf.array(Jf.string))}))}),"ReadersAttentionDynamicConfig"),eb=Jf.readonly(Jf.type({enableByBrowser:qv(Hv),enableForGB:qv(Jf.boolean),turnaroundTime:Jf.number}),"ProofitDynamicConfig"),tb=Jf.readonly(Jf.partial({enableByBrowser:Hv}),"ToneAIDynamicConfig"),nb=Jf.readonly(Jf.partial({enableByBrowser:Hv}),"EthicalAIDynamicConfig"),rb=Jf.readonly(Jf.partial({enableByBrowser:Hv}),"SingleCardAssistantDynamicConfig"),ob=Jf.readonly(Jf.partial({enableByBrowser:Hv}),"CheetahDynamicConfig"),ib=Jf.readonly(Wv({disabled:Jf.boolean,disabledByDomainPattern:Jf.array(Jf.string)}),"GapTransformCardDynamicConfig"),ab=Jf.readonly(Jf.partial({enabled:Jf.boolean,disabledByDomain:Jf.array(Jf.string)}),"LlamaIntegrationDynamicConfig"),sb=Jf.readonly(Wv({disabled:Jf.boolean,bannedDict:Jf.array(Jf.string),bannedCorrections:Jf.array(Jf.tuple([Jf.string,Jf.union([Jf.string,Jf.null])]))}),"AutocorrectDynamicConfig"),ub=Jf.readonly(Jf.partial({enableByBrowser:Hv}),"IterableDynamicConfig"),cb=Jf.readonly(Jf.partial({min:Jf.number,max:Jf.number}),"NumberRange"),lb=Jf.readonly(Jf.partial({enabled:Jf.boolean,textLength:cb,mappings:cb,failurePercentage:cb,orAnyOf:Jf.array(Jf.partial({textLength:cb,mappings:cb,failurePercentage:cb,tableMode:Jf.string}))}),"GdocsAdvancedMappingDebugReportingConfig"),db=Jf.readonly(Jf.type({enableCanvas:Jf.boolean,advanceMappingForTables:qv(Jf.boolean),advanceMappingForAll:qv(Jf.boolean),advancedMappingDebugReporting:qv(lb),forceEmptyTextMapping:qv(Jf.boolean),useExtractedTextSelection:qv(Jf.boolean),useAnnotatedCanvas:qv(Jf.boolean),forceSVGMapping:qv(Jf.boolean),highlightColors:qv(Jf.array(Jf.string)),underlineColors:qv(Jf.array(Jf.string)),hideInlineCardWhenOverlappedWithSelectors:qv(Jf.array(Jf.string))}),"GDocsCanvasConfigDynamicConfig"),pb=Jf.readonly(Jf.partial({disabled:Jf.boolean,disableByBrowser:Hv,disableByDomain:Jf.readonlyArray(Jf.string)}),"ReaderDynamicConfig"),hb=Jf.readonly(Jf.partial({enabled:Jf.boolean,maximumAppearances:Jf.number}),"SupportUkraineCardDynamicConfig"),fb=Jf.readonly(Jf.partial({siteDomains:Jf.array(Jf.string)}),"IpmLlamaPreferredWebsitesConfig"),gb=Jf.readonly(Jf.partial({activeItemRadius:Jf.readonly(Jf.partial({default:Jf.number,domainOverride:Jf.readonly(Jf.record(Jf.string,Jf.number))})),maxPrefetchRequestsWithinRadius:Jf.readonly(Jf.partial({default:Jf.number,domainOverride:Jf.readonly(Jf.record(Jf.string,Jf.number))}))})),mb=Jf.readonly(Jf.partial({disabled:Jf.boolean,disableByBrowser:Hv,disableByDomain:Jf.readonlyArray(Jf.string),prefetchOptions:gb,prefetchExperimentOptions:gb}),"ShortenItDynamicConfig"),yb=Jf.readonly(Jf.partial({disabled:Jf.boolean,disableByBrowser:Hv,disableByDomain:Jf.readonlyArray(Jf.string)}),"AttentionScoreCardDynamicConfig"),vb=Jf.readonly(Jf.partial({disabled:Jf.boolean,disableByBrowser:Hv,disableByDomain:Jf.readonlyArray(Jf.string)}),"ConsistencyCardDynamicConfig"),bb=Jf.readonly(Jf.partial({enabled:Jf.boolean,excludeClassNames:Jf.readonlyArray(Jf.string),excludeSelectors:Jf.readonlyArray(Jf.string)}),"SlatejsDynamicConfig"),_b=Jf.readonly(Jf.partial({triggerURLs:Jf.readonlyArray(Jf.string)}),"DraftAIUpsellDynamicConfig"),wb=Jf.readonly(Jf.type({patterns:Jf.record(Jf.string,Jf.type({regex:Jf.string,priority:Jf.number,description:Jf.string,prefixes:Jf.array(Jf.string)}))}),"DlpConfigurationDynamicConfig"),Sb=Jf.readonly(Jf.partial({gButtonHoverTooltipText:Jf.string,popupTitleHTML:Jf.string,popupBodyHTML:Jf.array(Jf.string),popupLearnMoreButtonLabelHTML:Jf.string,popupLearnMoreButtonLink:Jf.string}),"StandWithUkraineGrammarlySuspendedPopupDynamicConfig"),Ib=Jf.readonly(Jf.partial({popupTitleHTML:Jf.string,popupBodyHTML:Jf.array(Jf.string),popupHelpButtonLabelHTML:Jf.string,popupHelpButtonLink:Jf.string,popupIconResetButtonLabelHTML:Jf.string}),"StandWithUkraineBannerPopupDynamicConfig"),xb=Jf.readonly(Jf.type({name:Jf.string,domain:Jf.string,pathname:Jf.string}),"CitationBuilderSource"),Eb=Jf.readonly(Jf.partial({disabled:Jf.boolean,disableByBrowser:Hv,sources:Jf.array(xb),blockedDomains:Jf.array(Jf.string)}),"CitationBuilderDynamicConfig"),kb=Jf.exact(Wv({safariAppExtensionMigration:$v,newRichTextFieldsEnabled:Jf.boolean,fluidDisabledForFirefox:Jf.boolean,fluidDisabledForSafari:Jf.boolean,autocomplete:Qv,autocorrect:sb,gmailSendEmailPopup:Kv,fullSentenceRewritesDisabled:Jf.boolean,overrideKey:Vv(Jf.string,"dynamicConfigOverrideKey"),iframeIntegration:Jv,showExtensionConflictPopup:Jf.boolean,readersAttention:Zv,ungatingRenewalNotificationEnabled:Jf.boolean,proofit:eb,refreshExperimentsInterval:Jf.number,quillJSCatchAllDisabled:Jf.boolean,toneAI:tb,draggableGButton:Xv,requireAuthCookieAccess:Jf.boolean,gapTransformCard:ib,llamaIntegration:ab,highlightsBlendingEnabled:Jf.boolean,gDocsCanvasConfig:db,shortenIt:mb,attentionScoreCard:yb,confidentialModeEnabled:Jf.boolean,consistencyCard:vb,slatejs:bb,dlpEnabled:Jf.boolean,dlpConfiguration:wb,draftAIUpsell:_b,ethicalAI:nb,singleCardAssistant:rb,cheetah:ob,reader:pb,standWithUkraineGrammarlySuspendedPopup:Sb,standWithUkraineBannerPopup:Ib,supportUkraineCard:hb,ipmLlamaPreferredWebsites:fb,citationBuilder:Eb,iterable:ub}),"DynamicConfigMappedData"),Tb={safariAppExtensionMigration:"safariAppExtensionMigration_1558396627629",newRichTextFieldsEnabled:"newRichTextFieldsEnabled_1567530773088",fluidDisabledForFirefox:"fluidDisabledForFirefox_1567530773089",fluidDisabledForSafari:"fluidDisabledForSafari_1567530773090",autocorrect:"autocorrect_1579700246281",autocomplete:"autocomplete_1591162228085",gmailSendEmailPopup:"gmailSendEmailPopup_1588710046696",fullSentenceRewritesDisabled:"fullSentenceRewritesDisabled_1595353312714",iframeIntegration:"iframeIntegration_1593643390051",overrideKey:"overrideKeyName_1596156512364",showExtensionConflictPopup:"showExtensionConflictPopup_1597916739172",readersAttention:"readersAttention_1597884313725",ungatingRenewalNotificationEnabled:"ungatingRenewalNotificationEnabled_1599074790962",proofit:"proofit_1600711036876",refreshExperimentsInterval:"refreshExperimentsInterval_1601638971190",quillJSCatchAllDisabled:"quillJSCatchAllDisabled_1606352678466",toneAI:"toneAI_1622644675216",draggableGButton:"draggableGButton_1610396074136",requireAuthCookieAccess:"requireAuthCookieAccess_1614620202105",gapTransformCard:"gapTransformCard_1618874880869",llamaIntegration:"llamaIntegration_1620108441433",highlightsBlendingEnabled:"highlightsBlendingEnabled_1620339604804",gDocsCanvasConfig:"gDocsCanvasConfig_1621558551011",shortenIt:"shortenIt_1622820878915",attentionScoreCard:"attentionScoreCard_1627677830344",confidentialModeEnabled:"confidentialModeEnabled_1622017526624",consistencyCard:"consistencyCard_1623273583508",slatejs:"slatejs_1624453574243",dlpEnabled:"dlpEnabled_1623225997151",dialectSettings:"dialectSettings_1680596570472",dlpConfiguration:"dlpConfiguration_1645095068823",draftAIUpsell:"draftAIUpsell_1627424945372",ethicalAI:"ethicalAI_1627579461366",singleCardAssistant:"singleCardAssistant_1633644070595",reader:"reader_1659566713539",standWithUkraineGrammarlySuspendedPopup:"standWithUkraineGrammarlySuspendedPopup_1646163255357",standWithUkraineBannerPopup:"standWithUkraineBannerPopup_1646185960586",supportUkraineCard:"supportUkraineCard_1646179710528",ipmLlamaPreferredWebsites:"ipmLlamaPreferredWebsites_1651609778904",citationBuilder:"citationBuilder_1654621818572",cheetah:"cheetah_1677709750926",iterable:"iterable_1683683121357"},Ab=Jf.readonly(Jf.intersection([function(e,t,n){const r={};for(const[e,n]of Object.entries(t))r[n]=e;return new Jf.Type(null!=n?n:`mapped(${e.name})`,e.is,((t,n)=>{if(!t||"object"!=typeof t)return e.validate(t,n);const o={};for(const e in t)e in r?o[r[e]]=t[e]:o[e]=t[e];return e.validate(o,n)}),(n=>{const r=e.encode(n);if(!r)return r;const o={};for(const e in r)e in t?o[t[e]]=r[e]:o[e]=r[e];return o}))}(kb,Tb,"DynamicConfigMappedData"),Jf.exact(Jf.type({version:Jf.string}),"DynamicConfigVersionData")]),"DynamicConfigData");const Cb={source:Fv.local,version:"0",newRichTextFieldsEnabled:!0,fluidDisabledForFirefox:!1,fluidDisabledForSafari:!1,fullSentenceRewritesDisabled:!1,overrideKey:"dynamicConfigOverrideKey",ungatingRenewalNotificationEnabled:!1,quillJSCatchAllDisabled:!1};function Ob(e,t){const n=function(e,t){const n=e.decode(t);if((0,ia.isLeft)(n))throw new Gv("Can't parse dynamic config",n);return n.right}(Ab,t);return{...n,source:e}}const Pb=Z.create(ay.refreshDynamicConfig);async function Rb(e,t,n){const r=await async function(e,t,n){const r=Dt();try{const[n,r]=await Promise.all([Nb(),t.load()]),{dynamicConfigOverrideKey:o}=e,{confidentialModeEnabled:i,dlpEnabled:a,dlpConfiguration:s}=r,u={...n,version:`${n.version}-${Number(i)}-${Number(a)}-${JSON.stringify(s)}`,confidentialModeEnabled_1622017526624:i,dlpEnabled_1623225997151:a,dlpConfiguration_1645095068823:s};return ie(Ob(Fv.server,u),null!=o?o:{})}catch(e){r.dynamicConfigLoadFromServerError(e.message),n.error(`Error getting DynamicConfig from server: ${e.message}`)}return null}(e,n,Pb);return null!==r&&await t.setDynamicConfig(r),r}const Nb=async()=>{const e=await Promise.race([fetch(R().appConfig.url.dynamicConfigUrl),Ar.delay(6e4).then((()=>{throw new Error("Timeout")}))]);if(e.ok)return e.json();{const t=await e.text();throw new Error(`Request error: ${e.status} ${t}`)}},Db=[Be(1),Be(2),Be(3),Be(4),Be(5),Be(5)+De,Be(7),Be(8),Be(9),Be(10),Be(5)+Be(10),Be(5)+Ge(1),Be(5)+Ge(6),Be(5)+Ge(12),Be(5)+Ue(1)],Mb=(e,t,n)=>Uv.compose(Uv.storeChange(Lv.trackingInitOnFSMChangeReady,(e=>{var t,n,r,o;return jv.isStoreChange(e)&&"ready"===(null===(n=null===(t=e.change.extensionFSM)||void 0===t?void 0:t.newValue)||void 0===n?void 0:n.stage)&&(null===(o=null===(r=e.change.extensionFSM)||void 0===r?void 0:r.newValue)||void 0===o?void 0:o.trackingEnabled)})),Uv.createEffect(Lv.trackingInitOnBgInit,Mv.bgWakeUp,(e=>{var t;return jv.isBgWakeUp(e)&&"ready"===(null===(t=e.state.extensionFSM)||void 0===t?void 0:t.stage)&&e.state.extensionFSM.trackingEnabled})))((r=>{var o;e.enableDataSharing(),t(),e.bgPage.bgPageStarted(jv.isBgWakeUp(r)?"wakeUp":"firstStart",(e=>{var t;return e&&null!==(t=oy(Date.now()-e,Db))&&void 0!==t?t:-1})(null===(o=r.state.extensionMeta)||void 0===o?void 0:o.lastBGStartTimestampt)),n.setMeta({lastBGStartTimestampt:Date.now()})}));var jb;!function(e){e.inactive="inactive",e.active="active",e.accepted="accepted"}(jb||(jb={}));var Lb,Ub,Fb=function(){function e(e,t,n){this._url=e,this._ajaxFactory=t,this._fingerprints=n,this._ajax=this._ajaxFactory({errorMapper:lg.tk.mapToHTTPErrorWithoutBody,requestExtender:dg.d3.toHeaderAppender(this._fingerprints)})}return e.prototype.orAnonymous=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=lg.cl.get(this._url,"user/oranonymous").queryParam("app",this._fingerprints.clientName);return e.forEach((function(e){return n.queryParam("field",e)})),this._ajax.json(n)},e.prototype.signup=function(e){var t=lg.cl.post(this._url,"api/signup").json(e);return this._ajax.json(t)},e.prototype.createPartialUser=function(e){var t=lg.cl.post(this._url,"user/partial").formParam("email",e);return this._ajax.empty(t)},e.prototype.getAuthInfo=function(e){var t=lg.cl.post(this._url,"/auth/info").json({email:e});return this._ajax.json(t)},e.prototype.login=function(e,t){var n={email_login:{email:e,password:t}};return this.loginGeneric(n)},e.prototype.loginGeneric=function(e){var t=lg.cl.post(this._url,"api/login").json(e);return this._ajax.json(t)},e.prototype.captchaVerify=function(e){var t=lg.cl.post(this._url,"api/login/captcha-verify").json({googleReCaptchaToken:e});return this._ajax.json(t)},e.prototype.logout=function(){var e=lg.cl.post(this._url,"/logout");return this._ajax.empty(e)},e.prototype.changeName=function(e){var t=lg.cl.post(this._url,"/user").json({name:e});return this._ajax.empty(t)},e.prototype.changeEmail=function(e,t){var n=lg.cl.post(this._url,"/user/email/change").json({newEmail:e,password:t});return this._ajaxCheckLegacyOk(n)},e.prototype.confirmEmailChangeRequest=function(e){var t=lg.cl.get(this._url,"user/email/change/confirm").queryParam("follow",(!1).toString());return Boolean(e)&&t.queryParam("confirm_key",e),this._ajax.empty(t)},e.prototype.migrateAccountToNewEmailLogin=function(e,t){var n=lg.cl.post(this._url,"account/authentication/migrate-to-email-login").json({loginRequest:e,newPassword:t});return this._ajax.json(n)},e.prototype.cancelEmailChangeRequest=function(e){var t=lg.cl.post(this._url,"/user/email/cancel").json({email:e});return this._ajaxCheckLegacyOk(t)},e.prototype.changePassword=function(e,t,n){var r=lg.cl.post(this._url,"/user/password/change").formParam("email",e).formParam("new_pwd",n).formParam("old_pwd",t);return this._ajaxCheckLegacyOk(r)},e.prototype.resetPassword=function(e){var t=lg.cl.post(this._url,"/user/password/reset").formParam("email",e);return this._ajaxCheckLegacyOk(t)},e.prototype.setPassword=function(e,t){var n=lg.cl.post(this._url,"/user/password/set").formParam("new_pwd",e);return Boolean(t)&&n.queryParam("reset_key",t),this._ajaxCheckLegacyOk(n)},e.prototype.validatePasswordResetKey=function(e){var t=lg.cl.get(this._url,"/user/validate_reset_key");return Boolean(e)&&t.queryParam("reset_key",e),this._ajaxCheckLegacyOk(t)},e.prototype.validatePassword=function(e,t){var n=lg.cl.post(this._url,"/user/validate-password").json({password:e,invisibleCaptchaToken:t});return this._ajax.json(n)},e.prototype.getUser=function(e,t){var n=lg.cl.get(this._url,"user").queryParam("app",this._fingerprints.clientName);return null==e||e.forEach((function(e){return n.queryParam("field",e)})),t&&n.queryParams(t),(0,ua.pipe)(this._ajax.json(n),this._ajax.map(Wb))},e.prototype.addGroup=function(e){var t=lg.cl.post(this._url,"user/group").formParam("group",e);return this._ajaxCheckLegacyOk(t)},e.prototype.setUserData=function(e){var t=lg.cl.post(this._url,"user/userdata").json(e);return this._ajaxCheckLegacyOk(t)},e.prototype.getAccountSettings=function(){var e=lg.cl.get(this._url,"/account/settings");return(0,ua.pipe)(this._ajax.json(e),this._ajax.map((function(e){var t=e.trusted,n=e.modes,r=e.enabledAt;return{trusted:t,modes:new Set(n),enabledAt:(0,ua.pipe)(r,_u.fromNullable,_u.map((function(e){return new Date(e)})))}})))},e.prototype.startAdminEmailChange=function(e){var t=lg.cl.post(this._url,"user/admin_change/email").json({newEmail:e});return this._ajaxCheckLegacyOk(t)},e.prototype.approveAdminEmailChangeRequest=function(e){var t=lg.cl.post(this._url,"user/admin_email/approve_change");return t.json(Boolean(e)?{confirmKey:e}:void 0),this._ajax.json(t)},e.prototype.sendConfirmationEmail=function(e){var t=lg.cl.post(this._url,"user/email/confirmation/send").json({source:e});return this._ajax.empty(t)},e.prototype.confirm=function(e){var t=lg.cl.post(this._url,"user/email/confirmation/confirm");return t.json(Boolean(e)?{confirmKey:e}:void 0),this._ajax.empty(t)},e.prototype.sendVerificationEmail=function(e){var t=lg.cl.post(this._url,"user/email/verification/send").json({source:e});return this._ajax.empty(t)},e.prototype.verifySignupEmailVerificationByLink=function(){var e=lg.cl.post(this._url,"user/email/verification/signup-verify-link").json();return this._ajax.json(e)},e.prototype.verifyVerificationEmail=function(e){var t=lg.cl.post(this._url,"user/email/verification/verify").json({code:e});return this._ajax.empty(t)},e.prototype.sendEmailVerificationByLink=function(e){var t=lg.cl.post(this._url,"user/email/verification/send-link").json({source:e});return this._ajax.empty(t)},e.prototype.verifyEmailVerificationByLink=function(e){var t=lg.cl.post(this._url,"/user/email/verification/verify-link").json();return Boolean(e)&&t.cookie("confirm_key",e),this._ajax.empty(t)},e.prototype.sendEmailChangeCode=function(e){var t=lg.cl.post(this._url,"account/email/change/send-email-change-code").json({newEmail:e});return this._ajax.empty(t)},e.prototype.verifyEmailChangeCode=function(e,t,n){var r=lg.cl.post(this._url,"account/email/change/confirm-email-change").json({newEmail:e,password:t,code:n});return this._ajax.json(r)},e.prototype.getUserEmailByConfirmKey=function(e){var t=lg.cl.post(this._url,"user/confirm_key_email");return t.json(Boolean(e)?{confirmKey:e}:void 0),(0,ua.pipe)(this._ajax.json(t),this._ajax.map((function(e){return e.email})))},e.prototype.unlinkSocial=function(e){var t=lg.cl.del(this._url,"user/unlinkSocial/".concat(e));return this._ajax.empty(t)},e.prototype.verifyEmail=function(e){var t=lg.cl.post(this._url,"signup/verify/email").formParam("email",e);return this._ajax.json(t)},e.prototype.oAuthAuthorizationRequest=function(e,t,n){var r=lg.cl.post(this._url,"api/unified-login/code/generate").json({client_id:e,code_challenge:t,action:n});return this._ajax.json(r)},e.prototype.oAuthCodeExchangeRequest=function(e,t,n){var r=lg.cl.post(this._url,"api/unified-login/code/exchange").json({client_id:e,code:t,code_verifier:n});return this._ajax.json(r)},e.prototype.getBackupCodes=function(){var e=lg.cl.get(this._url,"account/mfa/backup");return this._ajax.json(e)},e.prototype.generateNewCodes=function(){var e=lg.cl.post(this._url,"account/mfa/setup/backup");return this._ajax.json(e)},e.prototype.startSmsSetup=function(e){var t=lg.cl.post(this._url,"account/mfa/setup/sms").json({deviceKey:e});return(0,ua.pipe)(this._ajax.json(t),this._ajax.map((function(e){return e.lastDigits})))},e.prototype.startTotpSetup=function(){var e=lg.cl.post(this._url,"account/mfa/setup/totp");return this._ajax.json(e)},e.prototype.verifyMfaCode=function(e,t){void 0===t&&(t="sms");var n=lg.cl.post(this._url,"account/mfa/setup/complete").json({code:e,mode:t});return(0,ua.pipe)(this._ajax.json(n),this._ajax.map((function(e){return e||[]})))},e.prototype.removeMode=function(e){var t=lg.cl.post(this._url,"account/mfa/remove/".concat(e));return this._ajax.empty(t)},e.prototype.revokeAll=function(){var e=lg.cl.post(this._url,"account/mfa/revokeAll");return this._ajax.empty(e)},e.prototype.turnOffMfa=function(){var e=lg.cl.post(this._url,"account/mfa/removeAll");return this._ajax.empty(e)},e.prototype.setDataControl=function(e){var t=lg.cl.post(this._url,"account/data-control").json({enabled:e});return this._ajax.empty(t)},e.prototype._ajaxCheckLegacyOk=function(e){return(0,ua.pipe)(this._ajax.json(e),this._ajax.filterOrElse((function(e){return e.ok}),(function(){return new zb("response not ok")})),this._ajax.map(wu.Q1))},e.prototype.deleteAccount=function(e){var t=lg.cl.post(this._url,"account/delete").json(e);return this._ajax.empty(t)},e.prototype.getSecurityOverview=function(){var e=lg.cl.get(this._url,"account/overview");return this._ajax.json(e)},e.prototype.getDeviceSessions=function(e,t){var n=lg.cl.get(this._url,"account/relations").queryParam("limit",e.toString()).queryParam("offset",t.toString());return this._ajax.json(n)},e.prototype.getSecurityActivity=function(e,t){var n=lg.cl.get(this._url,"account/activity").queryParam("limit",e.toString()).queryParam("offset",t.toString());return this._ajax.json(n)},e.prototype.revokeDeviceSession=function(e){var t=lg.cl.del(this._url,"account/relations").pathParam(e);return this._ajax.empty(t)},e.prototype.revokeAllDeviceSessions=function(){var e=lg.cl.del(this._url,"account/relations");return this._ajax.empty(e)},e.targetTag="auth",e}();!function(e){e.none="NONE",e.email="EMAIL",e.google="GOOGLE",e.facebook="FACEBOOK",e.apple="APPLE",e.sso="SSO"}(Lb||(Lb={})),function(e){!function(e){e.Afrikaans="Afrikaans",e.Akan="Akan",e.AlgerianSpokenArabic="Algerian Spoken Arabic",e.Amharic="Amharic",e.Assamese="Assamese",e.Awadhi="Awadhi",e.Bamanankan="Bamanankan",e.Baoule="Baoul",e.Bavarian="Bavarian",e.Bemba="Bemba",e.Bengali="Bengali",e.Betawi="Betawi",e.Bhojpuri="Bhojpuri",e.BoranaArsiGujiOromo="Borana-Arsi-Guji Oromo",e.Bugis="Bugis",e.Bulgarian="Bulgarian",e.Bundeli="Bundeli",e.Burmese="Burmese",e.CameroonPidgin="Cameroon Pidgin",e.Catalan="Catalan",e.Cebuano="Cebuano",e.CentralAtlasTamazight="Central Atlas Tamazight",e.CentralKurdish="Central Kurdish",e.CentralPashto="Central Pashto",e.Chhattisgarhi="Chhattisgarhi",e.Chichewa="Chichewa",e.Chittagonian="Chittagonian",e.CongoSwahili="Congo Swahili",e.Croatian="Croatian",e.Czech="Czech",e.Danish="Danish",e.Dari="Dari",e.Deccan="Deccan",e.Dholuo="Dholuo",e.Dutch="Dutch",e.EasternOromo="Eastern Oromo",e.EasternPunjabi="Eastern Punjabi",e.EgyptianSpokenArabic="Egyptian Spoken Arabic",e.English="English",e["we"]="w",e.Filipino="Filipino",e.Finnish="Finnish",e.French="French",e.GanChinese="Gan Chinese",e.Ganda="Ganda",e.GhanaianPidginEnglish="Ghanaian Pidgin English",e.Gikuyu="Gikuyu",e.Greek="Greek",e.Gujarati="Gujarati",e.GulfSpokenArabic="Gulf Spoken Arabic",e.HadramiSpokenArabic="Hadrami Spoken Arabic",e.HaitianCreole="Haitian Creole",e.HakkaChinese="Hakka Chinese",e.Haryanvi="Haryanvi",e.Hassaniyya="Hassaniyya",e.Hausa="Hausa",e.Hebrew="Hebrew",e.HijaziSpokenArabic="Hijazi Spoken Arabic",e.Hiligaynon="Hiligaynon",e.Hindi="Hindi",e.HuizhouChinese="Huizhou Chinese",e.Hungarian="Hungarian",e.Ibibio="Ibibio",e.Igbo="Igbo",e.Ilocano="Ilocano",e.IndianSignLanguage="Indian Sign Language",e.Indonesian="Indonesian",e.IranianPersian="Iranian Persian",e.Italian="Italian",e.Japanese="Japanese",e.Javanese="Javanese",e.JinyuChinese="Jinyu Chinese",e.Jula="Jula",e.Kabyle="Kabyle",e.Kamba="Kamba",e.Kanauji="Kanauji",e.Kannada="Kannada",e.Kashmiri="Kashmiri",e.Kazakh="Kazakh",e.Khmer="Khmer",e.Kinyarwanda="Kinyarwanda",e.Kituba="Kituba",e.Koongo="Koongo",e.Korean="Korean",e.Krio="Krio",e.Kyrgyz="Kyrgyz",e.Lambadi="Lambadi",e.Lao="Lao",e.LibyanSpokenArabic="Libyan Spoken Arabic",e.Lombard="Lombard",e.LubaKasai="Luba-Kasai",e.Madura="Madura",e.Magahi="Magahi",e.Maithili="Maithili",e.Malay="Malay",e.Malayalam="Malayalam",e.Malvi="Malvi",e.MandarinChinese="Mandarin Chinese",e.Marathi="Marathi",e.Marwari="Marwari",e.MesopotamianSpokenArabic="Mesopotamian Spoken Arabic",e.Mewari="Mewari",e.MinBeiChinese="Min Bei Chinese",e.MinDongChinese="Min Dong Chinese",e.MinNanChinese="Min Nan Chinese",e.Minangkabau="Minangkabau",e["More"]="Mor",e.MoroccanSpokenArabic="Moroccan Spoken Arabic",e.NajdiSpokenArabic="Najdi Spoken Arabic",e.NapoletanoCalabrese="Napoletano-Calabrese",e.Nepali="Nepali",e.NigerianFulfulde="Nigerian Fulfulde",e.NigerianPidgin="Nigerian Pidgin",e.NorthAzerbaijani="North Azerbaijani",e.NorthLevantineSpokenArabic="North Levantine Spoken Arabic",e.NorthMesopotamianSpokenArabic="North Mesopotamian Spoken Arabic",e.NortheasternThai="Northeastern Thai",e.NorthernKurdish="Northern Kurdish",e.NorthernPashto="Northern Pashto",e.NorthernSotho="Northern Sotho",e.NorthernThai="Northern Thai",e.NorthernUzbek="Northern Uzbek",e.Norwegian="Norwegian",e.Odia="Odia",e.ParaguayanGuarani="Paraguayan Guaran",e.PlateauMalagasy="Plateau Malagasy",e.Polish="Polish",e.Portuguese="Portuguese",e.Pulaar="Pulaar",e.Pular="Pular",e.Rangpuri="Rangpuri",e.Romanian="Romanian",e.Rundi="Rundi",e.Russian="Russian",e.SaidiSpokenArabic="Saidi Spoken Arabic",e.Sadri="Sadri",e.SanaaniSpokenArabic="Sanaani Spoken Arabic",e.Sango="Sango",e.Sanskrit="Sanskrit",e.Santhali="Santhali",e.Saraiki="Saraiki",e.Serbian="Serbian",e.Setswana="Setswana",e.Shona="Shona",e.Sicilian="Sicilian",e.Sindhi="Sindhi",e.Sinhala="Sinhala",e.Slovak="Slovak",e.Somali="Somali",e.SouthAzerbaijani="South Azerbaijani",e.SouthLevantineSpokenArabic="South Levantine Spoken Arabic",e.SouthernBalochi="Southern Balochi",e.SouthernPashto="Southern Pashto",e.SouthernSotho="Southern Sotho",e.SouthernThai="Southern Thai",e.SouthernUzbek="Southern Uzbek",e.Spanish="Spanish",e.StandardArabic="Standard Arabic",e.StandardGerman="Standard German",e.SudaneseSpokenArabic="Sudanese Spoken Arabic",e.Sukuma="Sukuma",e.Sunda="Sunda",e.Swahili="Swahili",e.Swati="Swati",e.Swedish="Swedish",e.SwissGerman="Swiss German",e.Sylheti="Sylheti",e.TaizziAdeniSpokenArabic="Taizzi-Adeni Spoken Arabic",e.Tachelhit="Tachelhit",e.Tagalog="Tagalog",e.Tajik="Tajik",e.Tamil="Tamil",e.Tarifit="Tarifit",e.Tatar="Tatar",e.Telugu="Telugu",e.Thai="Thai",e.Tigrigna="Tigrigna",e.Tiv="Tiv",e.TokPisin="Tok Pisin",e.Tsonga="Tsonga",e.TunisianSpokenArabic="Tunisian Spoken Arabic",e.Turkish="Turkish",e.Turkmen="Turkmen",e.Ukrainian="Ukrainian",e.Umbundu="Umbundu",e.Urdu="Urdu",e.Uyghur="Uyghur",e.VarhadiNagpuri="Varhadi-Nagpuri",e.Venetian="Venetian",e.Vietnamese="Vietnamese",e.WestCentralOromo="West Central Oromo",e.WesternPunjabi="Western Punjabi",e.Wolof="Wolof",e.WuChinese="Wu Chinese",e.Xhosa="Xhosa",e.XiangChinese="Xiang Chinese",e.YerwaKanuri="Yerwa Kanuri",e.Yoruba="Yoruba",e.YueChinese="Yue Chinese",e.Zulu="Zulu",e.Other="Other"}(e.PrimaryLanguage||(e.PrimaryLanguage={}))}(Ub||(Ub={})),function(e){!function(e){e.webChrome="webeditor_chrome",e.webFirefox="webeditor_firefox",e.webSafari="webeditor_safari",e.webIE="webeditor_ie",e.webEdge="webeditor_edge",e.desktop="desktopeditor",e.webTest="webeditor_test",e.unknown="webeditor_unknown",e.crossPlatformOfficeAddin="crossPlatformOfficeAddin",e.ipadEditor="mobile-ios"}(e.ClientType||(e.ClientType={})),function(e){e.PasswordTooShort="PasswordTooShort",e.PasswordTooShortUnifiedValidationFalse="PasswordTooShortUnifiedValidationFalse",e.PasswordTooLong="PasswordTooLong",e.PasswordEqualsEmail="PasswordEqualsEmail",e.PasswordEqualsName="PasswordEqualsName",e.PasswordEqualsNameFromEmail="PasswordEqualsNameFromEmail",e.PasswordInCustomFields="PasswordInCustomFields",e.PasswordLeaked="PasswordLeaked",e.PasswordReused="PasswordReused",e.ValidationPassed="ValidationPassed"}(e.PasswordValidationReason||(e.PasswordValidationReason={}))}(Fb||(Fb={}));var Bb,Gb,zb=function(e){function t(t){var n=e.call(this,t)||this;return n.name="AuthApiError",n}return(0,Xr.__extends)(t,e),t}(bu.sH);function Wb(e){var t=e.institutionInfo,n=(0,Xr.__rest)(e,["institutionInfo"]);return void 0!==t?(0,Xr.__assign)((0,Xr.__assign)({},n),{institutionInfo:qb(t)}):e}function qb(e){var t=e.voxInfo,n=e.voxEnabled,r=(0,Xr.__rest)(e,["voxInfo","voxEnabled"]);return(0,Xr.__assign)((0,Xr.__assign)({},r),{voxEnabled:n,vox:(0,ua.pipe)(_u.fromNullable(t),_u.chain((function(e){return n&&e.styleGuideEnabled?_u.some({companyName:Boolean(e.companyName)?e.companyName:"Company",logoUrl:_u.fromNullable(e.logoUrl)}):_u.none})))})}!function(e){!function(e){e.MobileIOS="mobile-ios",e.MobileAndroid="mobile-android",e.AndroidSDK="androidSDK",e.SafariExtension="extension-safari",e.OfficeAddin="office-addin",e.DesktopEditor="desktopeditor",e.DesktopEditorOSX="desktopEditorOsx",e.DesktopEditorWindows="desktopEditorWindows",e.WindowsExtension="windowsExtension",e.MacExtension="macExtension",e.MacSensei="macSensei",e.ExtensionVSCode="extensionVSCode",e.ExtensionVSCodeInsiders="extensionVSCodeInsiders",e.Funnel="funnel",e.DeveloperHub="developerHub",e.DemoEditor="demoEditor",e.Identity="identity",e.AndroidAlpaca="android-alpaca",e.Skills="skills",e.Demo="demo-client"}(e.ClientId||(e.ClientId={}))}(Bb||(Bb={})),function(e){!function(e){e.phone="sms",e.totp="totp",e.backup="backup",e.email="email"}(e.Mode||(e.Mode={}))}(Gb||(Gb={})),function(e){e.emptyInstitutionInfo={id:-1,name:"",licenseDiscountinued:!1,domainValidation:!1,admin:!1,business:!1,expired:!1},e.emptyUserEditorFeatures={fullCards:!1,plagiarismDisabled:!1,proofit:!1,quickReplacement:!1,scoreDisabled:!1},function(e){e.Admin="OWNER",e.AccountManager="CONTRIBUTOR",e.InstitutionUser="INSTITUTION_USER"}(e.InstitutionRoleName||(e.InstitutionRoleName={})),function(e){e.GroupManager="GROUP_CONTRIBUTOR"}(e.UserGroupRoleName||(e.UserGroupRoleName={})),function(e){e.Owner="OWNER",e.Contributor="CONTRIBUTOR"}(e.WorkspaceRoleName||(e.WorkspaceRoleName={})),function(e){e.Institution="INSTITUTION",e.Workspace="WORKSPACE",e.UserGroup="USER_GROUP"}(e.ResourceType||(e.ResourceType={})),function(e){e.BrandTones="brandtones",e.ClientControls="clientcontrols",e.Cheetah="cheetah",e.KnowledgeHub="knowledgehub",e.Institution="institution",e.Snippets="snippets",e.Sso="sso",e.Statistics="statistics",e.Vox="vox",e.WritingStyle="writingstyle"}(e.Feature||(e.Feature={})),function(e){e.GlobalRead="global:read",e.GlobalWrite="global:write",e.GroupWrite="group:write"}(e.BrandTonesPermission||(e.BrandTonesPermission={})),function(e){e.ConfigurationRead="configuration:read",e.ConfigurationWrite="configuration:write"}(e.CheetahPermission||(e.CheetahPermission={})),function(e){e.ClientControlsRead="clientcontrols:read",e.ClientControlsWrite="clientcontrols:write"}(e.ClientControlsPermission||(e.ClientControlsPermission={})),function(e){e.GlobalRead="global:read",e.GlobalWrite="global:write"}(e.KnowledgeHubPermission||(e.KnowledgeHubPermission={})),function(e){e.DomainRead="domain:read",e.DomainWrite="domain:write",e.GroupManage="group:manage",e.GroupMembershipManage="group:membership:manage",e.GroupRead="group:read",e.InstitutionGlobalRead="institution:global:read",e.InstitutionGlobalWrite="institution:global:write",e.LogoWrite="logo:write",e.MembershipCsv="membership:csv",e.MembershipRead="membership:read",e.MembershipWrite="membership:write",e.RequestToJoinManage="request-to-join:manage",e.RolesWrite="roles:write",e.RolesWriteGroupManager="roles:write:group_contributor",e.RolesWriteInstitutionUser="roles:write:institution_user",e.RolesWriteAccountManager="roles:write:contributor",e.RolesWriteAdmin="roles:write:owner",e.SettingsDidctionaryWrite="settings:dictionary:write",e.SettingsSuggestionManage="settings:suggestion:manage",e.ToneWrite="tone:write",e.VaultPrivateManage="vault:private:manage",e.VaultProtectedManage="vault:protected:manage",e.VaultPublicManage="vault:public:manage"}(e.InstitutionPermission||(e.InstitutionPermission={})),function(e){e.SettingsRead="settings:read",e.SettingsToggleWrite="settings:toggle:write",e.SettingsWrite="settings:write",e.SnippetsGlobalRead="snippets:global:read",e.SnippetsGlobalWrite="snippets:global:write",e.SnippetsRead="snippets:read",e.SnippetsWrite="snippets:write",e.SnippetsGroupWrite="snippets:group:write"}(e.SnippetsPermission||(e.SnippetsPermission={})),function(e){e.GeneralRead="general:read",e.GeneralWrite="general:write",e.GroupRead="group:read",e.UsersRead="users:read",e.InstitutionSettingsRead="institution:settings:read",e.InstitutionSettingsWrite="institution:settings:write"}(e.StatisticsPermission||(e.StatisticsPermission={})),function(e){e.ScimRead="scim:read",e.ScimWrite="scim:write",e.SettingsRead="settings:read",e.SettingsWrite="settings:write"}(e.SsoPermission||(e.SsoPermission={})),function(e){e.ReadAll="read:all",e.WriteAll="write:all",e.WriteGroup="write:group"}(e.WritingStylePermission||(e.WritingStylePermission={})),function(e){e.GlobalRead="global:read",e.GlobalWrite="global:write",e.GroupWrite="group:write",e.RulesRead="rules:read"}(e.VoxPermission||(e.VoxPermission={}))}(Ub||(Ub={}));const Vb=(e,t,n,r,o)=>{const i=Z.create("sideEffect.logout");return Uv.logoutUser(Lv.safariLogoutUser,(a=>{(async(e,t,n,r,o,i,a,s)=>{try{const e=new Fb(G().auth,o.ajaxFactory,o.withoutAccessToken);await Promise.race([e.logout(),(0,Cr.gw)(1e4).then((()=>{throw new Error("Logout timeout!")}))]),s.logoutFormSuccess()}catch(e){i.warn("auth error",e),s.logoutFormFail(void 0,e.message),a.safariLogoutFail(e.body||e.message),await n.deleteGrauth()}const u=e.state.user&&ug.doesUserBelongToBusinessInstitution(e.state.user);r.settings.setAuthenticatedUserWasBusinessAccount(null!=u&&u),t.update({reason:"oauth",useCache:!1})})(a,e,t,n,r,i,o,jr)}))};var Hb;!function(e){function t(e,t){if(!e||!t)return!0;return!t.includes(e)}function n(e,t){var n;return Boolean((null==t?void 0:t.isDesktopIntegrationEnabled)&&(null===(n=e.llamaIntegration)||void 0===n?void 0:n.enabled))}function r(e,n,r,o){var i,a;const s=o?ot(o):void 0,u=n.isLlamaInstalled&&(null===(i=r.llamaIntegration)||void 0===i?void 0:i.enabled);return t(s,null===(a=r.llamaIntegration)||void 0===a?void 0:a.disabledByDomain)&&(u||"true"===e.showDesktopIntegrationExtensionToggle)}e.isEnabled=n,e.showSettingPopupToggle=r,e.showGrayGButton=function(e,t,o,i){return r(t,e,o,i)&&n(o,e)},e.isIntegrationEnabled=function(e,r,o){var i;return!(!e||!o)&&(t(r,null===(i=o.llamaIntegration)||void 0===i?void 0:i.disabledByDomain)&&n(o,e))}}(Hb||(Hb={}));var $b=__webpack_require__(27378);function Kb(e){return!e.isGateEnabled(Lf.StandWithUkraineGrammarlySuspended)&&e.isGateEnabled(Lf.StandWithUkraineTheme)}const Yb=e=>t=>e.isGateEnabled(Lf.StandWithUkraineGrammarlySuspended)||Kb(e)&&!(null==t?void 0:t.forceUseClassicIcon)?{logo:"standWithUkraine"}:{logo:"classic"};$b.createContext(be.h.create({logo:"classic"}));function Jb(e,t){var n;const r=e[t],o=null===(n=null==r?void 0:r.enabled)||void 0===n||n;return{...e.common,...r,enabled:o}}var Xb;!function(e){let t;!function(e){e.DEFAULT="#e75146",e.BETA="#555A70",e.EXCLAMATION="#ea1537"}(t=e.Colors||(e.Colors={})),e.setIcon=function(e,t,n){D()||e.setBadge("",n),e.setIconByName(t,n)},e.setText=function(e,n,r=t.DEFAULT,o){switch(e.kind){case"web-extension":e.setBadgeBackgroundColor(r),e.setIconByName("",o);break;case"fallback":break;default:throw new Error("Unsupported browser button action")}e.setBadge(n,o)},e.render=function({activeTab:t,user:n,extensionSettings:r,dynamicConfig:o,dapi:i},a,s,u){var c,l;if(!(t&&n&&r&&o))return;const d=ot(t.url),p=u(d,t.url),h=null===(l=null===(c=r[d])||void 0===c?void 0:c.enabled)||void 0===l||l,f={logo:Yb(s)(r.common.grammarlyThemeConfig).logo},g=Jb(r,d);if(!1===r.common.enabledClickToRun)e.setText(a,"!",e.Colors.EXCLAMATION,f);else if(n.anonymous||p.grammarlyEditor||p.dontShowDisabledBadge)e.setText(a,"",void 0,f);else if(p.enabled||p.servicePage)if(Hb.showGrayGButton(g,null!=i?i:{},o,t.url))e.setIcon(a,"gray",f);else{const t=h?"":"off";e.setText(a,t,void 0,f)}else e.setIcon(a,"bang",f)}}(Xb||(Xb={}));const Qb=(e,t,n)=>Uv.activeTabChange(Lv.activeTabChange,(async r=>{var o;const{tab:i,state:a}=r,{activeTab:s,user:u,environmentState:c,extensionSettings:l}=a;if(!s||s.id!==i.id||s.url!==i.url)if(await e.setActiveTab(i),null===(o=t.setUninstallURL)||void 0===o||o.call(t,(d=ot(i.url),zo(G().uninstall,[...void 0===d?[]:[Uo("domain",d)],...Wo({medium:"internal",campaign:"extensionUninstall"}),Uo("extensionName","chrome"),Uo("extensionVersion","14.1112.0")]))),l&&u){const e=ot(i.url),t=n(e,i.url);Ur("tab-connected",{user:u,enabledByUserSettings:Jb(l,e).enabled,enabledForDomain:t.enabled,isGrammarlyEditorPage:t.grammarlyEditor,environmentState:c})}else Z.create("universal.bg.sideEffects.getActiveTabChangeSideEffect").warn("Cannot track tab-connected as there is no enough data");var d}));class Zb extends _e{static getInstance(){if(void 0===this._instanceCSShared)throw new Error("Env not inited yet");return this._instanceCSShared}static get isInited(){return void 0!==this._instanceCSShared}static initShared(e){if(void 0!==this._instanceCSShared)throw new Error("Env already inited");this._instanceCSShared=e,_e.initShared(e)}}const e_=new Proxy({},{get:(e,t)=>(...e)=>Zb.getInstance().bgRpc.api.trackGnar(t,e)});class t_{constructor(){this._storage=this._storage||{}}get _storage(){return self.__CS_SHARE_STORAGE__}set _storage(e){self.__CS_SHARE_STORAGE__=e}clean(){this._storage={}}set(e,t){this._storage[e]=t}get(e){return this._storage[e]}getOnce(e){const t=this._storage[e];return this.remove(e),t}remove(e){delete this._storage[e]}}var n_;!function(e){e.syncDevtoolsInitialStateWithTab="syncDevtoolsInitialStateWithTab"}(n_||(n_={}));class r_{constructor(e,t){this._transport=e,this._log=t,this._calls=new Map,this._sub=this._transport.inbound.subscribe((e=>{var t;const n=this._calls.get(e.id);if(n)try{"err"in e?n.reject(e.err):n.resolve(e.res)}finally{this._calls.delete(e.id)}else null===(t=this._log)||void 0===t||t.warn(`received rpc call response for unregistered call ${e.id}`)})),this.api=new Proxy({},{get:(e,t)=>"then"===t?void 0:(...e)=>this._handleCall(t,e)})}_handleCall(e,n){let r=t.iy.create();for(;this._calls.has(r);)r=t.iy.create();const o=Ar.createCompletionSource();return this._calls.set(r,o),this._transport.outbound({id:r,method:e,args:n}),o.promise}dispose(){this._sub.unsubscribe()}}class o_{constructor(e,n,r=t.iy.create(),o=e){this._rpcMessageName=e,this._message=n,this._clientId=r,this._inboundMessageName=o,this.inbound=new qr.y((e=>{const t=t=>{t.clientId===this._clientId&&e.next(t.data)};return this._message.on(this._inboundMessageName,t),()=>this._message.off(this._inboundMessageName,t)})),this.outbound=e=>{this._message.sendBackground(this._rpcMessageName,{clientId:this._clientId,data:e})}}}class i_ extends r_{constructor(e){super(new o_("cs-to-bg-rpc-1557421403805",e))}}class a_ extends dm{constructor(e){super(new o_(Wg.rpcLegacyMessageName,e),new o_(Wg.rpcLegacyObservableName,e))}}class s_ extends dm{constructor(e){super(new o_(_m.rpcLegacyMessageName,e),new o_(_m.rpcLegacyObservableName,e))}}class u_{constructor(e){this._baseApi=e,this._log=Z.create(u_.name),this._initializedListenerEvents=new Set,this._listeners={},this._logError=e=>{this._log.error(`${u_.name} handle an error: ${e.message}`)},this.on=(e,t)=>{var n;this._listeners[e]=null!==(n=this._listeners[e])&&void 0!==n?n:[],this._listeners[e].push(t),this._initializedListenerEvents.has(e)||(this._initializedListenerEvents.add(e),this._baseApi.listen(e,((...t)=>{var n;const r=null!==(n=this._listeners[e])&&void 0!==n?n:[];for(const e of r)try{e(...t)}catch(e){this._logError(e)}})))},this.once=(e,t)=>{const n=(...r)=>{this.off(e,n);try{t(...r)}catch(e){this._logError(e)}};this.on(e,n)},this.off=(e,t)=>{if(!this._listeners[e])return;const n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1),0===this._listeners[e].length&&delete this._listeners[e]}}}class c_ extends u_{constructor(e){super(e),this._api=e,this.sendBackground=(e,t)=>{try{this._api.broadcastBackground(e,t)}catch(e){this._logError(e)}}}}const l_=Fe(3);var d_,p_,h_;!function(e){e.default="default",e.fallback="fallback"}(d_||(d_={})),function(e){e.bgHistoryLogs="bgHistoryLogs",e.popupHistoryLogs="popupHistoryLogs",e.csHistoryLogs="csHistoryLogs"}(p_||(p_={}));class f_{constructor(e,t,n,r=Z.create(f_.name)){this._envName=e,this._getLogsDefault=t,this._getLogsFallback=n,this._log=r}_getLogMessage(e,t){return t===d_.fallback?`${e} from ${t}`:e}async _getLogs(e,t,n){const r=we().context;this._log.debug(this._getLogMessage(`start get ${this._envName} logs`,t));try{const o=await Promise.race([e(),(0,Cr.gw)(n).then((()=>{Dt().debugReports.downloadTimeout(r,this._envName),this._log.warn(this._getLogMessage(`get ${this._envName} logs timeout`,t))}))]);return o?(Dt().debugReports.downloadSuccessfuly(r,this._envName),this._log.debug(this._getLogMessage(`successfully get ${this._envName}`,t)),o.map((e=>({...e,loggerName:`${this._envName}.${e.loggerName}`})))):void this._log.warn(this._getLogMessage(`${this._envName} logs is not defined`,t))}catch(e){return Dt().debugReports.downloadError(r,this._envName),void this._log.warn(this._getLogMessage(`fail to get ${this._envName} logs`,t),e)}}get envName(){return this._envName}async getLogs(){return await this._getLogs(this._getLogsDefault,d_.default,l_)||(this._getLogsFallback?await this._getLogs(this._getLogsFallback,d_.fallback,1e3):void 0)}static getLogsFromSessionStorageFallbackGetter(e,t=(()=>we().browserApi.sessionStorage)){return()=>t().get(e).then((t=>{const n=t[e];return Array.isArray(n)?n.map((e=>{try{return JSON.parse(e)}catch(t){return{level:K.WARN,loggerName:f_.name,message:"Cannot parsed backup data!",timestamp:e.timestamp,data:{json:e},exeption:t}}})):void 0}))}}!function(e){e.UPDATE_BACKUP_STORAGE_TIMEOUT=Fe(5),e.BACKUP_STORAGE_LOGS_CAPACITY=100}(h_||(h_={}));class g_{constructor(e,n,r,o=t.P2,i=Z.create(g_.name,{skipWriteToHistoryLogger:!0})){this._sessionStorage=e,this._key=n,this._skipSetLogs=r,this._throttle=o,this._log=i,this.get=()=>this._get(),this._get=f_.getLogsFromSessionStorageFallbackGetter(this._key,(()=>this._sessionStorage)),this.set=this._throttle(h_.UPDATE_BACKUP_STORAGE_TIMEOUT,this._set.bind(this))}async _set(e){var t;if(await(null===(t=this._skipSetLogs)||void 0===t?void 0:t.call(this)))return void this._log.trace("set logs is skipped");const n=null==e?void 0:e.slice(-h_.BACKUP_STORAGE_LOGS_CAPACITY).map((e=>{try{return JSON.stringify(e)}catch(t){return this._log.warn("cannot parse properly backup storage data",t,e),JSON.stringify({level:K.WARN,loggerName:e.loggerName,message:e.message,timestamp:e.timestamp,exception:`cannot parse properly backup storage data: ${t.message}`})}}));return this._log.trace("set new logs to session storage"),this._sessionStorage.set({[this._key]:n}).then((()=>this._log.trace("logs was successfully set"))).catch((e=>{this._log.warn(`error: on set ${this._key} logs to backup storage`,e),this._sessionStorage.remove(this._key).catch((e=>this._log.warn(`error: on remove ${this._key} logs from backup storage`,e)))}))}}const m_="tracking/RPC";class y_ extends Zb{static get isInited(){return void 0!==this._instance}static getInstance(){if(void 0===this._instance)throw new Error("Env not inited yet");return this._instance}static init(e){if(void 0!==this._instance)throw new Error("Env already inited");const t=new y_(e);return this._instance=t,Zb.initShared(t),t.browserApi.message.start&&t.browserApi.message.start(),t}constructor(e){super({browser:e.browser,extensionType:e.extensionType,deploymentType:e.deploymentType,context:"cs",historyLoggerExtraArgs:{enableHistoryLoggerUntil:e=>{var t;null===(t=this.bgRpc)||void 0===t||t.api.enableHistoryLoggerUntil(e)},disableHistoryLogger:()=>{var e;null===(e=this.bgRpc)||void 0===e||e.api.disableHistoryLogger()},backupStorage:new g_(e.browserApi.sessionStorage,p_.csHistoryLogs,(async()=>{var t,n;return e.skipWriteLogsToBackupStorage||document.hidden||function(){try{return self.parent!==self}catch(e){return!0}}()||!await(null===(t=this.bgRpc)||void 0===t?void 0:t.api.isGateEnabled("SessionStorageLogsBackup"))||!await(null===(n=this.bgRpc)||void 0===n?void 0:n.api.isCurrentTabFocused())}))}}),this.browserApi=e.browserApi,this.message=new c_(e.browserApi.message),e.skipInitExtensionApi||function(e){self.extensionContentScriptApi&&Ut.warn("Content Script Extension Api init called more than once"),self.extensionContentScriptApi=self.extensionContentScriptApi||e}(e.browserApi),this.bgRpc=new i_(this.message),this.csShareStorage=new t_,this.capiBgRpc=new a_(this.message),this.staticCapiBgRpc=new s_(this.message),this.telemetryCallProvider=function(e,t=Z.create("lib.tracking.call.transport")){return new Proxy({},{get:(n,r)=>{if("enableDataSharing"!==r)return(...n)=>{Promise.race([e.api.trackCall(m_,[r,...n]).then((()=>null)),(0,Cr.gw)(1e4).then((()=>new Error("timeout call through bg page")))]).then((e=>e&&t.warn("tracking call timeout",e))).catch((e=>t.warn("tracking call failed, reason:",e)))}}})}(this.bgRpc)}}function v_(){return y_.getInstance()}function b_(e,t,n,r,o,i,a,s,u,c,l,d){const p={top:n.top+s.top,left:n.left+s.left,width:n.width-s.left-s.right,height:n.height-s.top-s.bottom},h=function(e,t,n,r,o,i,a,s,u){const c=E_(e,t,n,r,u,i,a);return[{...c,flippedHorizontal:!1,flippedVertical:!1}].concat((Array.isArray(o)?o:[o]).map((o=>({...E_(e,x_(t,o),x_(n,o),I_(r,c.overlap,o,i,a,s),u,i,a),flippedHorizontal:"flip"===o.horizontal,flippedVertical:"flip"===o.vertical}))))}({top:r.top-a.top,left:r.left-a.left,width:r.width+a.left+a.right,height:r.height+a.top+a.bottom},o,i,u,l,e,t,d,p),f=h.reduce(((e,t)=>e.overlap.vertical<=t.overlap.vertical?e:t)),g=h.reduce(((e,t)=>e.overlap.horizontal<=t.overlap.horizontal?e:t));return __({top:f.position.top,left:g.position.left,flippedHorizontal:g.flippedHorizontal,flippedVertical:f.flippedVertical},c,n,e,t)}const __=(e,t,n,r,o)=>{if(void 0===t)return e;const i=I_(t,w_(S_({top:e.top+t.vertical,left:e.left+t.horizontal,width:r,height:o},n)),{horizontal:"translate",vertical:"translate"},r,o,!1);return{...e,top:e.top+i.vertical,left:e.left+i.horizontal}};function w_(e){const t=Math.abs(Math.min(e.left,0)),n=Math.abs(Math.min(e.right,0)),r=Math.abs(Math.min(e.top,0)),o=Math.abs(Math.min(e.bottom,0));return{horizontal:t+n,vertical:r+o,top:r,bottom:o,left:t,right:n}}function S_(e,t){return{top:e.top-t.top,bottom:t.top+t.height-(e.top+e.height),left:e.left-t.left,right:t.left+t.width-(e.left+e.width)}}function I_(e,t,n,r,o,i){const a=t.left&&t.right?0:0!==t.left?Math.min(t.left,i?r:1/0):-Math.min(t.right,i?r:1/0),s=t.top&&t.bottom?0:0!==t.top?Math.min(t.top,i?o:1/0):-Math.min(t.bottom,i?o:1/0);return{horizontal:"translate"===n.horizontal?e.horizontal+a:-e.horizontal,vertical:"translate"===n.vertical?e.vertical+s:-e.vertical}}function x_(e,t){return{vertical:"translate"===t.vertical?e.vertical:"top"===e.vertical?"bottom":"top",horizontal:"translate"===t.horizontal?e.horizontal:"left"===e.horizontal?"right":"left"}}function E_(e,t,n,r,o,i,a){const{top:s,left:u}=function(e,t,n,r,o){return{top:e.top+o.vertical+("bottom"===n.vertical?e.height:"center"===n.vertical?e.height/2:0)-("bottom"===r.vertical?t.height:"center"===r.vertical?t.height/2:0),left:e.left+o.horizontal+("right"===n.horizontal?e.width:"center"===n.horizontal?e.width/2:0)-("right"===r.horizontal?t.width:"center"===r.horizontal?t.width/2:0)}}(e,{width:i,height:a},t,n,r);return{position:{top:s,left:u},overlap:w_(S_({top:s,left:u,width:i,height:a},o))}}const k_={top:15,bottom:15,left:0,right:0},T_={top:10,left:20,right:0,bottom:10};var A_;!function(e){e[e.expandedGButtonClick=0]="expandedGButtonClick",e[e.gButtonHover=1]="gButtonHover"}(A_||(A_={}));const C_={disable:{anchorOrigin:{horizontal:"right",vertical:"bottom"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"}},gdocsFeedbackUI:{anchorOrigin:{horizontal:"right",vertical:"bottom"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:{left:0,right:7,top:0,bottom:0}},gdocsExpandedViewUnavailable:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},onboarding:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},dataControl:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},"loginReminder-unifiedFunnel":{anchorOrigin:{horizontal:"left",vertical:"bottom"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:T_},"loginReminder-free":{anchorOrigin:{horizontal:"left",vertical:"bottom"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:T_},"loginReminder-premium":{anchorOrigin:{horizontal:"left",vertical:"bottom"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:T_},loginSSO:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:T_},tailoredBusinessUphook:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},workplaceAppBusinessUphook:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},simpleMessage:{anchorOrigin:{horizontal:"left",vertical:"bottom"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:{left:7,right:0,top:0,bottom:0}},assistantOnboardingTour:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},dunningMessage:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:{top:2,bottom:2,left:0,right:0}},accountMigration:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:{top:2,bottom:2,left:0,right:0}},noPaymentMethodSubscription:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:{top:2,bottom:2,left:0,right:0}},claimedUser:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:{top:2,bottom:2,left:0,right:0}},chipmunk:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},iterable:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:k_},grammarlyBusinessSigninPopup:{anchorOrigin:{horizontal:"left",vertical:"bottom"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:T_},standWithUkraineBanner:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:T_},standWithUkraineGrammarlySuspended:{anchorOrigin:{horizontal:"right",vertical:"top"},elementOrigin:{horizontal:"right",vertical:"bottom"},repositioning:{horizontal:"translate",vertical:"flip"},anchorMargin:T_}};var O_;!function(e){e.GDocsSidebarInitialized="GDocsSidebarInitialized",e.NonGDocsFirstAlertLookedAt="NonGDocsFirstAlertLookedAt",e.UserSessionInitialized="UserSessionInitialized"}(O_||(O_={}));const P_="extension",R_="grammarly.com";var N_;!function(e){e.SUCCESS="Success",e.BAD_API_KEY="BadApiKey",e.BAD_PARAMS="BadParams",e.BAD_JSON_BODY="BadJsonBody",e.QUEUE_EMAIL_ERROR="QueueEmailError",e.GENERIC_ERROR="GenericError",e.INVALID_EMAIL_ADDRESS_ERROR="InvalidEmailAddressError",e.DATABASE_ERROR="DatabaseError",e.EMAIL_ALREADY_EXISTS="EmailAlreadyExists",e.FORBIDDEN="Forbidden",e.JWT_USER_IDENTIFIERS_MISMATCHED="JwtUserIdentifiersMismatched",e.INVALID_JWT_PAYLOAD="InvalidJwtPayload"}(N_||(N_={}));const D_=["ipm-close","ipm-cta","ipm-dismiss","ipm-link"],M_={width:300,height:425},j_="iterable-iframe";var L_;!function(e){e.anchorOrigin={vertical:"top",horizontal:"right"},e.elementOrigin={vertical:"bottom",horizontal:"right"},e.anchorMargin={top:0,left:0,bottom:0,right:0},e.viewportMargin={top:5,left:5,bottom:5,right:5},e.offset={horizontal:0,vertical:0},e.repositioning={horizontal:"translate",vertical:"flip"}}(L_||(L_={}));class U_{constructor(){this._message=be.h.create(null)}static getInstance(){return U_._singletonInstance||(U_._singletonInstance=new U_),U_._singletonInstance}handleMessage(e,t,n){this._message.set({messageId:t,message:e,userId:n})}get message(){return this._message.view()}showIPM(e){const t=this._message.get();if(!t)return;const n=t.message,r=t.messageId,o=t.userId,i=document.getElementById(j_)||document.createElement("iframe");if(!n||!i)return;const a=()=>{const t=C_.iterable;i.contentWindow&&(i.contentWindow.document.body.innerHTML=n,i.contentWindow.document.body.style.margin="0",this._handleIPMEvents(i.contentWindow.document));const{width:s,height:u}=this._getIterableIFrameSize(i),c=b_(s,u,function(e=document){return{top:0,left:0,height:e.documentElement.clientHeight,width:e.documentElement.clientWidth}}(),e,(null==t?void 0:t.anchorOrigin)||L_.anchorOrigin,(null==t?void 0:t.elementOrigin)||L_.elementOrigin,(null==t?void 0:t.anchorMargin)||L_.anchorMargin,L_.viewportMargin,L_.offset,undefined,(null==t?void 0:t.repositioning)||L_.repositioning,!0),l=c.top,d=c.left;i.style.border="none",i.style.position="absolute",i.style.top=`${l}px`,i.style.left=`${d}px`,i.style.width=`${s}px`,i.style.height=`${u}px`,i.style.visibility="visible",v_().bgRpc.api.iterableTrackInAppOpen({userId:o,messageId:r,deviceInfo:{deviceId:self.navigator.userAgent,platform:P_,appPackageName:R_}}),v_().bgRpc.api.iterableTrackInAppConsume({userId:o,messageId:r,deviceInfo:{deviceId:self.navigator.userAgent,platform:P_,appPackageName:R_}}),i.removeEventListener("load",a)};i.setAttribute("id",j_),i.setAttribute("sandbox","allow-same-origin allow-popups allow-top-navigation"),i.style.visibility="hidden",i.addEventListener("load",a),document.body.appendChild(i)}hideIPM(){var e;const t=this._message.get(),n=null==t?void 0:t.messageId,r=null==t?void 0:t.userId;return n?(null===(e=document.getElementById(j_))||void 0===e||e.remove(),v_().bgRpc.api.iterableTrackInAppClose({messageId:n,userId:r,deviceInfo:{deviceId:self.navigator.userAgent,platform:P_,appPackageName:R_}})):Promise.resolve()}_getIterableIFrameSize(e){return e.contentWindow?{width:e.contentWindow.document.body.scrollWidth,height:e.contentWindow.document.body.scrollHeight}:M_}_handleIPMEvents(e){D_.forEach((t=>{const n=e.getElementById(t);n&&(n.onclick=async()=>{const e=await this.hideIPM();if(e&&e.code===N_.SUCCESS&&n.href&&n.target){const e=this._message.get(),t=null==e?void 0:e.messageId,r=null==e?void 0:e.userId,o=await v_().bgRpc.api.iterableTrackInAppClick({userId:r,messageId:t,deviceInfo:{deviceId:self.navigator.userAgent,platform:P_,appPackageName:R_}});o&&o.code===N_.SUCCESS&&self.open(n.href,n.target)}return!1})}))}}class F_{constructor(e,t,n){this.isSupported=e,this._state=t,this.iterableNextFetchSettings=n,this._iterableView=U_.getInstance(),this._log=Z.create("iterable")}static shouldCreate(e,t,n){var r,o;return Boolean(null===(o=null===(r=t.iterable)||void 0===r?void 0:r.enableByBrowser)||void 0===o?void 0:o[e])&&("enabled"===n.getTreatment(hv.Iterable)||n.isGateEnabled(Lf.Iterable))}_getUserIdOrContainerId(){const e=this._state.view("user").get();return e.anonymous?v_().bgRpc.api.getContainerIdOrUndefined().then((e=>{if(e)return e;{const e="containerId is undefined";return this._log.warn(e),void Dt().getIterableError(e)}})):Promise.resolve(e.id)}async onTrigger(e){if(!this.isSupported)return;const t=await this._getUserIdOrContainerId();if(this._rateLimitCallsToIterable(e)&&t)try{const n=await v_().bgRpc.api.iterableGetInAppMessages(t);n&&this._parseMessage(n,t)}catch(e){const n=JSON.parse(e.message);let r;if(400===e.code&&0===n.msg.indexOf(`No user exists with userId ${t}`)&&(r=await v_().bgRpc.api.iterableUserUpdate(t)),!r||"Success"!=r.code){const t=`Unable to check Iterable for new messages: ${e}`;this._log.warn(t),Dt().getIterableError(t)}}finally{this._resetRateLimitCallsToIterable(e)}}_rateLimitCallsToIterable(e){const t=this._state.view("page").view((e=>{var t;return null!==(t=e.iterableNextFetchSettings)&&void 0!==t?t:null})).get();if(t){const n=Date.now(),r=t[e];return void 0===r||r<n}return!0}_resetRateLimitCallsToIterable(e){const t=Date.now()+Be(20);this.iterableNextFetchSettings({[e]:t})}_parseMessage(e,t){if(e&&e.length){const[n]=e;if(n.content&&n.messageId){const e=n.content.html,r=n.messageId;this._iterableView.handleMessage(e,r,t)}}}}const B_=(e,t,n,r,o)=>Uv.compose(Uv.createEffect(Lv.iterableInit,Mv.bgFirstStart,jv.isBgFirstStart),Uv.storeChange(Lv.iterableUpdateOnUserSwitch,jv.isUserSwitched),Uv.alarm(Lv.iterableUpdateOnAlarm,{name:ay.refreshUser,periodInMinutes:240,execRandomly:!1,isDefault:!0}))((async i=>{var a,s;const u=i.state.dynamicConfig;if(u&&!F_.shouldCreate(r,u,o))return;const c=await t.getJWTToken();if(c){e.initialize(c.apiKey,c.jwtToken);const t=null===(a=i.state.user)||void 0===a?void 0:a.anonymous,r=null===(s=i.state.extensionSettings)||void 0===s?void 0:s.common.previousUserType;if(t&&r){const t=await _n();t?e.track({userId:t,eventName:"anonymousUser",dataFields:{userType:r}}):n.getIterableError("containerId is undefined")}}}));class G_{constructor(){this._subject=new sa.xQ}_emit(e){this._subject.next(e)}subscribe(e){this._subject.subscribe(e)}refreshUser(e){this._emit({type:Mv.refreshUser,reason:e})}logoutUser(){this._emit({type:Mv.logoutUser})}}class z_{constructor(e,t,n,r,o){this._extensionApi=e,this._store=t,this._sideEffectEmitter=n,this._alarmService=r,this._apiService=o,this._log=Z.create(z_.name),this._sideEffects=[]}_pushSideEffect(e){e.kind===Mv.alarm?this._sideEffects.push(e.create(this._alarmService)):this._sideEffects.push(e.create())}register(...e){e.forEach((e=>{Array.isArray(e)?e.forEach((e=>this._pushSideEffect(e))):this._pushSideEffect(e)}))}async _emit(e){const t=await this._store.getAll(),n={...e,state:t};this._sideEffects.forEach((t=>{if(t.kind===e.type&&t.condition(n))try{this._log.debug(`SideEffect "${t.name}" was called with: `,e),t.effect(n)}catch(n){this._log.error(`SideEffect "${t.name}" was fail on ${JSON.stringify(e)}`,n)}}))}async _emitInitBg(){(await this._extensionApi.sessionStorage.get("isBGInitialized")).isBGInitialized||(await this._emit({type:Mv.bgFirstStart}),await this._extensionApi.sessionStorage.set({isBGInitialized:!0})),await this._emit({type:Mv.bgWakeUp})}async init(){var e,t,n,r;this._extensionApi.tabs.onActiveTabChange((({id:e=0,url:t=""})=>{this._emit({type:Mv.activeTabChange,tab:{id:e,url:t}})}),(e=>this._log.error("runtime error by changing active tab",e))),null===(t=(e=this._extensionApi).initOAuth)||void 0===t||t.call(e,(()=>{this._emit({type:Mv.refreshUser,reason:"oauth"})}),this._apiService),null===(r=(n=this._extensionApi).initSubscriptionUpdatedHandler)||void 0===r||r.call(n,(()=>{this._emit({type:Mv.refreshUser,reason:"subscription"})})),this._alarmService.onAlarm((e=>{this._emit({type:Mv.alarm,alarm:e})})),this._sideEffectEmitter.subscribe((e=>{this._emit(e)})),this._store.changes.subscribe((e=>{e&&this._emit({type:Mv.storeChange,change:e})})),await this._emitInitBg()}}const W_="data-enable-grammarly",q_=["id","email","firstName","anonymous","type","subscriptionFree","experiments","isTest","premium","settings","registrationDate","groups","extensionInstallDate","edc","institutionInfo","roles","editorFeatures"];var V_;!function(e){e.create=function(e){return{gDocsAnnotatedCanvas:Boolean("enabled"===e.getTreatment(hv.GDocsAnnotatedCanvas))}}}(V_||(V_={}));const H_=Z.create("universal.bg.user.manger.utils");var $_;!function(e){e.MAX_COOKIE_HEADER_LENGTH=7168,e.trackCookieHeaderSize=async function(t){try{const n=await t.getAllGrammarlyCookies(),r=n.reduce(((e,{value:t})=>e+t.length),0);if(r>e.MAX_COOKIE_HEADER_LENGTH){const{name:e,value:{length:t}}=n.reduce(((e,t)=>e.value.length>t.value.length?e:t),{name:"",value:""});Ur("cookie-overflow",r,{name:e,length:t})}}catch(e){H_.warn("fetch grammarly cookies fail. Message: ",e.message)}},e.fetchUser=async function(e,t){const n=lg.cl.post(G().userOrAnonymous).queryParam("field","frontend_primaryLanguage").queryParam("field","frontend_soundFluent").queryParam("field","frontend_role").queryParam("field","frontend_premiumTrialEndDate"),r=e.ajaxFactory({requestExtender:lg.cl.Extender.compose(dg.d3.toHeaderAppender({...e.withoutAccessToken,csrfToken:()=>t.getCSRFToken(!0).then((e=>null!=e?e:void 0))}),(e=>async()=>{const t=await async function(){try{const e=Ft().managedStorage;if(void 0===e)return"";const t=await e.get("GrammarlyEnrollmentToken");return t?`enrollment-token ${t}`:""}catch(e){return H_.error("Fail to get GrammarlyEnrollmentToken from managedStore"),""}}();return t&&e.header("Grammarly-Auth-Policy",t),e}))});return await r.json(n)},e.prepareUser=function(e={},t){e.premium="Premium"===e.type,e.experiments=V_.create(t);const{customFields:n}=e;return q_.reduce(((t,n)=>{const r=e[n];return void 0!==r&&Object.assign(t,{[n]:r}),t}),{settings:{},customFields:n})}}($_||($_={}));const K_=Z.create("universal.bg.user.manger");class Y_{constructor(e,t,n,r,o,i,a,s,u,c,l){this._dapiService=e,this._cheetahService=t,this._dialectSettingsService=n,this._telemetry=r,this._cookiesHelper=o,this._getContainerIdOrUndefined=i,this._updateManakinExperiment=a,this._storeActions=s,this._store=u,this._experimentClient=c,this._apiService=l,this.update=async e=>{var t;Mo.start("updateUser");try{$_.trackCookieHeaderSize(this._cookiesHelper);const n=await this._getContainerIdOrUndefined();void 0!==n&&this._telemetry.setContainerId(n),await this._apiService.resetUserToken();const r=await $_.fetchUser(this._apiService,this._cookiesHelper);await this._updateManakinExperiment();const{user:o}=await this._store.get(["user"]),i=$_.prepareUser(r,this._experimentClient),{extensionInstallDate:a}=await this._store.get(["extensionInstallDate"]);Ur("session-invalidate",i,o,e.reason,a);const s=!1===i.anonymous&&!0===(null==o?void 0:o.anonymous)&&void 0!==o.email,u=i.anonymous&&!(null==o?void 0:o.anonymous)&&void 0!==(null==o?void 0:o.email);if(i.anonymous){const e=o?ug.getType(o):sg.anonymous;await this._storeActions.settings.setPreviousUserType(e)}if(await this._storeActions.base.setUser(i),!0===s)await this._storeActions.settings.setAuthenticatedUserWasBusinessAccount(!1);else if(u){const e=ug.doesUserBelongToBusinessInstitution(o);await this._storeActions.settings.setAuthenticatedUserWasBusinessAccount(null!=e&&e)}i.anonymous||await this._storeActions.settings.hideLoginReminder(),await this._dapiService.updateProps(),await this._cheetahService.fetchStatus(),i.institutionInfo&&await this._dialectSettingsService.update();const{authDegradation:c}=null!==(t=this._store.view("connection").get())&&void 0!==t?t:{};c&&await this._storeActions.connection.modifyConnection({authDegradation:!1}),this._experimentClient.isGateEnabled(Lf.ExtensionDebugReport)&&CS().enableHistoryLoggerInProd()}catch(t){if(await this._storeActions.connection.modifyConnection({authDegradation:!0}),this._telemetry.fetchUserFail(e.reason,t.body,t.statusCode),K_.warn("Update user failed. Message: ",t),e.useCache){const{user:e}=await this._store.get(["user"]);await this._storeActions.base.setUser(e||ug.defaultUser)}}finally{Mo.stop("updateUser")}}}}const J_=async e=>{const t=await sv(e.fingerprints);if((e=>!!(e&&e["X-Client-Type"]&&e["X-Client-Version"]))(t))return t;throw new Error("Cannot get application headers")};class X_{constructor(e,t,n,r){this._prefs=e,this._storageKey=t,this._getTreatments=n,this._getFallbackTreatmentsNoCache=r,this._loading=!1,this._getTreatmentQueue=[],this.getTreatments=async(e=!1)=>{if(e)return await this._getTreatmentsMaybeCached(!0);if(this._loading)return new Promise(((e,t)=>{this._getTreatmentQueue.push({resolve:e,reject:t})}));let t;this._loading=!0;try{t=await this._getTreatmentsMaybeCached()}catch(e){throw this._rejectGetTreatment(e),e}finally{this._loading=!1}return this._resolveGetTreatment(t),t},this._getTreatmentsMaybeCached=async(e=!1)=>{var t;if(e)await this._removeCache();else{const e=await this._getCachedTreatments();if(e&&Date.now()-e.timestamp<ow)return e.treatments}let n;try{n=await this._getTreatments(),n=await Q_(n,this._prefs)}catch(r){n=e?await this._getFallbackTreatmentsNoCache():(null===(t=await this._getCachedTreatments())||void 0===t?void 0:t.treatments)||[]}try{await this._setCache(n)}catch(e){}return n},this._resolveGetTreatment=e=>{this._getTreatmentQueue.forEach((({resolve:t})=>{t(e)})),this._getTreatmentQueue=[]},this._rejectGetTreatment=e=>{this._getTreatmentQueue.forEach((({reject:t})=>{t(e)})),this._getTreatmentQueue=[]},this._isCachedTreatments=e=>!!(e&&e.treatments&&Number.isInteger(e.timestamp)),this._getCachedTreatments=async()=>{const e=await this._prefs.get(this._storageKey);return this._isCachedTreatments(e)?e:null},this._setCache=e=>{const t={treatments:e,timestamp:Date.now()};return this._prefs.set(this._storageKey,t)},this._removeCache=()=>this._prefs.remove([this._storageKey])}}const Q_=async(e,t)=>{var n;const r=null!==(n=await t.get("experimentOverride"))&&void 0!==n?n:{};return e.map((e=>e.experimentName in r?{...e,groupName:r[e.experimentName]}:e))};class Z_ extends jf.s{constructor(e,t,n,r=B()){super(self.fetch.bind(self),{getApplicationHeaders:()=>J_(n),timeout:Z_.TIMEOUT},"dev-qa"===r||"qa"===r?"qa":"dev-preprod"===r?"preprod":"prod"),this.getTreatment=async(e,t=!1)=>this._storageManager.getTreatments(t),this._storageManager=new X_(t,"experimentationGatesTreatments",(()=>super.getTreatment(e)),(()=>Promise.resolve([])))}}Z_.TIMEOUT=Fe(10);class ew extends jf.JB{constructor(e,t,n,r,o,i=B()){super(self.fetch.bind(self),{getApplicationHeaders:()=>J_(o),timeout:ew.TIMEOUT},"dev-qa"===i||"qa"===i?"qa":"dev-preprod"===i?"preprod":"prod",{get:e=>r.get(e),set:(e,t)=>r.set(e,t),clientName:"extension",experimentNames:t}),this.getTreatment=async(e,t=!1)=>this._storageManager.getTreatments(t),this.logTreatment=async e=>super.logTreatment(e),this._storageManager=new X_(r,"experimentationTreatments",(()=>super.getTreatment(t.concat(n))),(()=>e.getTreatment(void 0,!0)))}}ew.TIMEOUT=Fe(10);const tw=A(Object.values(hv),(e=>e instanceof jf.KS?[e]:Object.values(e))),nw=Object.values(Lf),rw=Be(30),ow=.9*rw,iw=(e,t)=>new jf.XJ(e,tw,t,nw,{ttl:rw,useRefreshJitter:!0}),aw=["inbox.google.com","mail.google.com","yahoo.com","mail.live.com","facebook.com","stackoverflow.com","wordpress.com","wordpress.org","blogspot.com"];const sw=Be(10),uw=(Be(5),sw),cw=[Be(10),uw,Be(60),Ge(3),Ue(12),Ue(1),Ue(365)];const lw={"hootsuite.com":{enabled:!1},"chrome.google.com":{enabled:!1},"facebook.com":{enabled:!0,pages:{".*/notes":{enabled:!1}}},"onedrive.live.com":{enabled:!1},"docs.com":{enabled:!1},"sp.docs.com":{enabled:!1},"docs.google.com":{enabled:!0,matchInclusions:!1,matchSubdomains:!1,pages:{".*/document":{matchPartOfUrl:!0,minFieldHeight:0,minFieldWidth:0,enabled:!0},".*/spreadsheets":{enabled:!1},".*/presentation":{enabled:!1}},track:!0},"drive.google.com":{enabled:!1},"texteditor.nsspot.net":{enabled:!1},"jsbin.com":{enabled:!1},"jsfiddle.net":{enabled:!1},"paper.dropbox.com":{enabled:!1},"mail.live.com":{enabled:!1,matchInclusions:!0},"imperavi.com":{enabled:!1},"usecanvas.com":{enabled:!1}};function dw(){return{pageConfig:ie({},lw,{version:{enabled:!1,servicePage:!0},extensions:{enabled:!1,servicePage:!0},settings:{enabled:!1,servicePage:!0},"com.safari.grammarlyspellcheckergrammarchecker":{enabled:!1,matchInclusions:!0,servicePage:!0},[`app.${q()}`]:{enabled:!1,grammarlyEditor:!0},"linkedin.com":{pages:{"/messaging":{afterReplaceEvents:["input"]}}},"plus.google.com":{afterReplaceEvents:["keyup"],minFieldHeight:0,minFieldWidth:0},"facebook.com":{minFieldHeight:0,pages:{"/marketplace":{afterReplaceEvents:["input"]}}},"mail.google.com":{fields:[{name:"to"},{name:"cc"},{name:"bcc"},{className:"vO"}],subframes:!1},"drive.google.com":{dontShowDisabledBadge:!0},"docs.google.com":{track:!0},"app.asana.com":{fields:[{className:"task-row-text-input"}]},"chrome.google.com":{dontShowDisabledBadge:!0}})}}const pw=Z.create("lib.page-config.decorator");function hw(e){const t=ie({pageConfig:{}},null!=e?e:{});return t.pageConfig||(t.pageConfig={}),t}class fw{static decorate(e){let t=e||{};return t=this.filterByVersion(t),t=this.withDefault(t),t=this.parseBooleans(t),t=this.parseBrowserValues(t),t=this.filterInvalidPageRegexp(t),t=this.collectSubdomains(t),t=this.collectPartials(t),t}static withDefault(e){var t;const n=hw(e),r=dw&&dw().pageConfig||{};return n.pageConfig=ie(r,null!==(t=n.pageConfig)&&void 0!==t?t:{}),n}static filterByVersion(e,t=F()){const n=hw(e),r=n.pageConfig;return n.pageConfig=Object.keys(r||{}).filter((e=>{const n=r[e].version;return!n||"*"===n||1!==function(e="",t=""){function n(e){return e.split(".").map((e=>Number(e)||0))}const r=n(e),o=n(t),i=Array(Math.abs(r.length-o.length)).fill(0);if(r.length>o.length?o.push(...i):r.push(...i),r.every(((e,t)=>e===o[t])))return 0;for(let e=0,t=r.length;e<t;e++){if(r[e]>o[e])return 1;if(r[e]<o[e])return-1}return-1}(t,n)})).reduce(((e,t)=>Object.assign({},e,{[t]:n.pageConfig[t]})),{}),n}static parseBooleans(e){function t(e){return!(!1===e||"false"===e)}function n(e){return!!e&&t(e)}const r=hw(e),o=r.pageConfig;return Object.keys(o||{}).forEach((e=>{o[e]||(o[e]={});const r=o[e];r.enabled=t(r.enabled),r.matchInclusions=n(r.matchInclusions),r.matchSubdomains=n(r.matchSubdomains),r.pages&&Object.keys(r.pages).forEach((e=>{r.pages[e].enabled=t(r.pages[e].enabled)}))})),r}static parseBrowserValues(e,t=U()){const n=hw(e),r=n.pageConfig;return Object.keys(r||{}).forEach((e=>{const n=r[e]&&r[e].disabledBrowsers;n&&n.includes(t)&&(r[e].enabled=!1)})),n}static filterInvalidPageRegexp(e){const t=hw(e),n=t.pageConfig;return Object.keys(n||{}).forEach((e=>{const t=n[e];t.pages&&(t.pages=Object.keys(t.pages).filter((e=>{try{return new RegExp(e)}catch(e){return!1}})).reduce(((e,n)=>Object.assign({},e,{[n]:t.pages[n]})),{}))})),t}static collectSubdomains(e){function t(e){try{return Object.keys(e||{}).filter((t=>e[t].matchSubdomains)).map((t=>Object.assign({domain:t},e[t])))}catch(e){pw.warn("Cannot collect subdomains from config")}return[]}const n=hw(e);return n.subdomains=t(n.pageConfig),n.allowedPageConfig&&(n.allowedSubdomains=t(n.allowedPageConfig)),n}static collectPartials(e){const t=hw(e),n=t.pageConfig;t.partials=[];try{t.partials=Object.keys(n||{}).filter((e=>n[e].matchInclusions)).map((e=>Object.assign({domain:e},n[e])))}catch(e){pw.warn("Cannot collect partials from config")}return t}}function gw(e){return fw.decorate(e)}const mw=Z.create("lib.page-config.localforage");let yw;try{yw=__webpack_require__(20927),yw.config({name:"Grammarly",version:1,size:4194304,storeName:"configuration"})}catch(Tn){mw.error("Fallback to memory storage",Tn);let e={};yw={getItem:t=>Promise.resolve(e[t]),setItem:(t,n)=>(e[t]=n,Promise.resolve(n)),clear(){e={},Promise.resolve(!0)}}}const vw=yw;function bw(e){if(e&&e.pageConfig&&Object.keys(e).length&&Object.keys(e.pageConfig).length&&(!e.protocolVersion||"1.0"===e.protocolVersion))return!0}const _w="lastConfigUpdate";class ww{async load(){const e=await vw.getItem(_w);return this.set(e),this}set(e){const{protocolVersion:t,version:n,status:r,info:o,date:i,interval:a}=e||{};var s;return this._meta={date:Number(i)||0,interval:(s=Number(a),cw.includes(s)?s:uw),protocolVersion:t,version:n,status:r,info:o},vw.setItem(_w,this._meta)}get config(){return this._meta}}const Sw=Z.create("lib.page-config.config-loader"),Iw="Config missed",xw="Config malformed";class Ew{constructor(e,t){this._prefs=e,this._fetchBlocklistConfig=t,this._initCompletionSource=(0,Cr.II)()}init(){return this._init().then((e=>this._initCompletionSource.resolve(e)),(e=>this._initCompletionSource.reject(e)))}async _init(){let e;Mo.start("pageConfig_init"),await this.isSkipConfig()?Sw.warn("Config: use default config in DEBUG mode (skipConfig=true)"):e=await this.loadFromStorage(),this.config=e||{},this.meta=await(new ww).load(),Mo.stop("pageConfig_init")}async isSkipConfig(){return!1}set config(e){this._config=gw(null!=e?e:{})}get config(){return this._config}async load(){if(!this.meta&&(await this._initCompletionSource.promise,!this.meta))throw new Error("Metadata has not been initialized.");const{date:e,interval:t}=this.meta.config;if(!(e+t>Date.now()))return Sw.info("Config: going to update config from CDN..."),this.updateFromCDN();{const n=(e+t-Date.now())/1e3/60;Sw.info(`Config: next update in ${n.toFixed(2)} m`)}}async updateFromCDN(){let e;try{if(e=await Promise.race([this._fetchBlocklistConfig(),(0,Cr.gw)(6e4).then((()=>{throw new Error("Fail to load config from extension api!")}))]),!bw(e))throw new Error(xw);this.config=e,this.save(e)}catch(e){Dt().pageConfigCDNError(e.message);const t=`Config: can't get valid config - ${e.message}`;Sw.warn(t),this.saveOnError(t)}}async loadFromStorage(){try{const e=await vw.getItem("config");if(!e)throw new Error(Iw);if(!bw(e))throw new Error(xw);return Sw.info("Config: loaded from local storage successfully"),e}catch(e){return Iw===e.message||Dt().pageConfigLocalStorageError(e.message,e.name),void Sw.warn(`Config: cannot get valid config from storage: ${e}`)}}save(e){if(!this.meta)throw new Error("Metadata has not been initialized.");const{interval:t,protocolVersion:n,version:r}=e;vw.setItem("config",e),this.fireVersionUpdate(r,this.meta.config.version),this.meta.set({date:this.getCurrentTimestamp(),status:"success",interval:t,protocolVersion:n,version:r}),Sw.info(`Config: new config saved to local storage successfully: ${e.version}`,e)}saveOnError(e){if(!this.meta)throw new Error("Metadata has not been initialized.");const{interval:t,protocolVersion:n,version:r}=this.meta.config;this.meta.set({date:this.getCurrentTimestamp(),status:"failed",interval:t,protocolVersion:n,version:r,info:e})}fireVersionUpdate(e,t){e&&t!==e&&Dt().pageConfigUpdated(t,e)}getCurrentTimestamp(){return Date.now()}}class kw extends Ew{constructor(e,t){super(e,t),this._pageConfigDebugTools=()=>{(0,wu.iR)("showPageConfig",(()=>console.log(this.config?ie({},this.config):null))),(0,wu.iR)("overridePageConfig",(e=>{if(!this.config)throw new Error("Config is not defined");this.config=ie({},this.config,{pageConfig:ie({},this.config.pageConfig||{},e),locallyOverriddenBy:e}),console.warn("Page Config updated. It will be reset with the next refresh from the server! The new pageConfig is:",ie({},this.config))})),(0,wu.iR)("resetPageConfig",(async()=>{await this._invalidate(),console.warn("Page Config was reset to the server state. The new pageConfig is",ie({},this.config||{}))}))},this._getClientConfig=()=>{var e,t,n;return null!==(n=null===(t=null===(e=this.config)||void 0===e?void 0:e.clientConfig)||void 0===t?void 0:t[z()])&&void 0!==n?n:{}},this._invalidate=()=>this.load(),this.invalidateMemoized=function(e,t,n){const r={};return function(...o){const i="_memoize_"+(t?t.apply(this,o):arguments[0]);return self.hasOwnProperty.call(r,i)?r[i]:(n&&setTimeout((()=>{delete r[i]}),n),r[i]=e.apply(this,o))}}(this._invalidate,void 0,1e4),this.getByPage=(e,t=it())=>{if(!e)return;const n=Object.keys(e).find((e=>new RegExp(e).test(t)));return n?e[n]:void 0},this.get=(e,t)=>{var n,r,o,i,a,s,u,c,l,d,p;const h=(null===(r=null===(n=this.config)||void 0===n?void 0:n.allowedPageConfig)||void 0===r?void 0:r[e])||(null===(i=null===(o=this.config)||void 0===o?void 0:o.allowedSubdomains)||void 0===i?void 0:i.find((t=>new RegExp(`\\.${Ne(t.domain)}$`).test(e)))),f=h&&h.enabled;if((null===(a=this.config)||void 0===a?void 0:a.allowedDomainsEnabled)&&!f)return{enabled:!1,unsupportedMessage:cv.ORGANIZATION_CONTROLS};const g=(null===(u=null===(s=this.config)||void 0===s?void 0:s.pageConfig)||void 0===u?void 0:u[e])||(null===(l=null===(c=this.config)||void 0===c?void 0:c.subdomains)||void 0===l?void 0:l.find((t=>new RegExp(`\\.${Ne(t.domain)}$`).test(e))))||(null===(p=null===(d=this.config)||void 0===d?void 0:d.partials)||void 0===p?void 0:p.find((t=>e.includes(t.domain))));if(g&&!1===g.enabled)return g;const m=this.getByPage(g&&g.pages,t),y=this._getClientConfig(),v=m||g||{};return v.enabled=!1!==v.enabled,!1===y.enabled&&(v.enabled=!1,v.unsupportedMessage=y.unsupportedMessage),v},this._pageConfigDebugTools()}toReload(e){return 0===e.indexOf("http")&&aw.some((t=>e.includes(t)))}}var Tw=__webpack_require__(38194),Aw=__webpack_require__(78674);class Cw{constructor(e,t=Promise.resolve(),n=Z.create(Cw.name),r=Dt()){this._api=e,this._current=be.h.create({}),this._mismatchedChanges=new sa.xQ,this.get=async e=>ao.parse(await this._api.get(e),e),this.getAll=async()=>ao.parse(await this._api.getAll()),this.patch=async(e,t=!1)=>{if(t||!ao.hasProtectedKeys(e))return await this._api.set(e);throw new Error("Attempting to directly patch protected keys of the store. Consider using actions for this operation.")},this.view=this._current.view.bind(this._current),this.dispose=()=>{this._subs.forEach((e=>e.unsubscribe())),this._subs=[]},this.changes=(0,$g.D)(this._api.changes).pipe((0,Jr.U)(ao.parseChange),(0,xe.h)((e=>0!==Object.keys(e).length)),(0,Tw.B)()),this._subs=[],this._applyChanges=(e,t)=>{Object.keys(t).forEach((n=>{var r;if(!ae(null===(r=t[n])||void 0===r?void 0:r.oldValue,e[n]))throw new Error("mismatched_changes")}));const n=ee(((e,t)=>null==t?void 0:t.newValue),t);return Object.assign({},e,n)},t.then((()=>this._api.getAll())).then((e=>this._current.set(ao.parse(e)))).then((()=>{this._subs.push(this.changes.subscribe((e=>{try{this._current.modify((t=>this._applyChanges(t,e)))}catch(e){"mismatched_changes"===e.message?(n.warn("Mismatched changes to Persistent Store",e),this._mismatchedChanges.next()):(n.error("Unexpected error while applying changes to Persistent Store",e),r.storageApplyChangesFailed(e))}})))})),this._subs.push(this._mismatchedChanges.pipe((0,Aw.b)(200)).subscribe((()=>{this._api.getAll().then((e=>this._current.set(ao.parse(e))))})))}}function Ow(e,t,n){void 0===e&&(e=0);var r=-1;return $r(t)?r=Number(t)<1?1:Number(t):(0,bf.K)(t)&&(n=t),(0,bf.K)(n)||(n=Vr.P),new qr.y((function(t){var o=$r(e)?e:+e-n.now();return n.schedule(Pw,o,{index:0,period:r,subscriber:t})}))}function Pw(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var Rw=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new Nw(e,this.predicate))},e}(),Nw=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return Xr.__extends(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(Qr.L),Dw=__webpack_require__(41398),Mw=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function jw(e){return void 0===e&&(e=null),function(t){return t.lift(new Lw(e))}}var Lw=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Uw(e,this.defaultValue))},e}(),Uw=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return Xr.__extends(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Qr.L);function Fw(e){return void 0===e&&(e=zw),function(t){return t.lift(new Bw(e))}}var Bw=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Gw(e,this.errorFactory))},e}(),Gw=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return Xr.__extends(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(Qr.L);function zw(){return new Mw}var Ww=__webpack_require__(49524);var qw=__webpack_require__(83358);class Vw{constructor(e,t,n=R().appConfig.iterable.urls){this._json=e,this._telemetry=t,this._urls=n,this.initialize=(e,t)=>{this._api=e,this._jwt=t},this.getInAppMessages=e=>{const t=this._urls.getInAppMessages,n={userId:e,count:"1"},r=lg.cl.get(t).queryParams(n);return this._handleRequest(r).then((e=>{if(e.inAppMessages)return(0,qw.sortInAppMessages)((0,qw.filterHiddenInAppMessages)(e.inAppMessages));this._telemetry.getIterableError("Failed to get in app messages")}))},this.track=e=>{const t=this._urls.track,n=lg.cl.post(t).json(e);return this._handleTrackRequest(n)},this.trackInAppOpen=e=>{const t=this._urls.trackInAppOpen,n=lg.cl.post(t).json(e);return this._handleTrackRequest(n)},this.trackInAppClose=e=>{const t=this._urls.trackInAppClose,n=lg.cl.post(t).json(e);return this._handleTrackRequest(n)},this.trackInAppConsume=e=>{const t=this._urls.trackInAppConsume,n=lg.cl.post(t).json(e);return this._handleTrackRequest(n)},this.trackInAppClick=e=>{const t=this._urls.trackInAppClick,n=lg.cl.post(t).json(e);return this._handleTrackRequest(n)},this.userUpdate=e=>{const t=this._urls.userUpdate,n={userId:e},r=lg.cl.post(t).json(n);return this._handleTrackRequest(r)}}async _handleRequest(e){const t=this._appendAuthHeader(e);return this._json(t)}_handleTrackRequest(e){const t=this._appendAuthHeader(e);return this._json(t).then((e=>{if(e.code===N_.SUCCESS)return e;const t=`${e.code} ${e.msg}`;this._telemetry.getIterableError(t)}))}_appendAuthHeader(e){return e.header("Api-Key",this._api).header("Authorization",`Bearer ${this._jwt}`)}}const Hw=Z.create("universal.bg.mise");class $w{constructor(e,t){this._json=e,this._telemetry=t,this._handleResult=e=>this._json(e)}async getJWTToken(){try{const e=R().appConfig.mise.urls.getJWTToken,t=lg.cl.get(e);return this._handleResult(t)}catch(e){const t=`Failed to get token ${e}`;return Hw.warn(t),void this._telemetry.getMiseError(t)}}}var Kw,Yw,Jw=__webpack_require__(52269);class Xw{constructor(e,n,r,o,i,a=Z.create("bg.api.dialectService")){this._actions=r,this.experimentClient=o,this._telemetry=i,this._log=a,this._loadingSettingsPromise=null,this._api=(0,t.Vo)((()=>new Jw.Ab(e,n.ajaxFactory,n.fingerprints)))}update(){return this._loadingSettingsPromise||(this._loadingSettingsPromise=this._update(),this._loadingSettingsPromise.finally((()=>{this._loadingSettingsPromise=null}))),this._loadingSettingsPromise}async _update(){if(!this.experimentClient.isGateEnabled(Lf.DialectSettingsService))return Promise.resolve(Xw.EmptyDialectSettings);try{const e=await this._api.get().getDialectSettings();return await this._actions.dialectSettings.setDialectSettings(e),e}catch(e){return this._log.error("Dialect Settings loading error",e),this._telemetry.dialectSettingsError(e),Xw.EmptyDialectSettings}}}Xw.EmptyDialectSettings={dialect:null,dialectLockedByInstitution:!1};class Qw{constructor(e,t){this._spec=e,this._extensionApi=t,this._log=Z.create("universal.bg.bgPageApp"),this._cookiesHelper=new Ae(this._extensionApi),this._migration=function(e,t){if(Ov(e)){const n=Dt();return t.trace("Migrating preferences data..."),e.ensureMigrationCompleted().then((e=>{e===Gr.success?(t.trace("Preferences data migration successful!"),n.storageMigrationSucceeded()):t.trace("Preferences data was already migrated or empty.")}),(e=>{t.error("XXX Preferences migration failed",e),n.storageMigrationFailed(e)}))}return Promise.resolve()}(this._extensionApi.preferences,this._log),this._store=new Cw(this._extensionApi.preferences,this._migration),this._storeActions=ny(this._store),this._storeState=this._store.view((e=>{var t,n,r,o,i,a;return{user:null!==(t=e.user)&&void 0!==t?t:ug.defaultUser,settings:null!==(n=e.extensionSettings)&&void 0!==n?n:jm,dynamicConfig:null!==(r=e.dynamicConfig)&&void 0!==r?r:Cb,environment:e.environmentState,connection:null!==(o=e.connection)&&void 0!==o?o:{},tabs:{active:null!==(i=e.activeTab)&&void 0!==i?i:Lm},dapi:null!==(a=e.dapi)&&void 0!==a?a:{}}})),this._disposables=[this._store],this._subs=[],this._profiler=new Mo,this._config=R(),this._felog=Dt(),this._experimentsUpdated=new sa.xQ,this._getUser=()=>this._storeState.view("user").get(),this._gnarInitialized=!1,this._initGnarClient=async()=>{if(!this._gnarInitialized)return this._gnarInitialized=!0,this._log.trace("initGnarClient"),this._profiler.track(Lr,this._spec,(()=>{const e=this._getUser();return e?{userId:e.id,isTest:e.isTest}:null}))}}async run(){const e="firefox"===this._config.bundleInfo.browser;e||this._initGnarClient(),await this._migration;const t=new Pr(this._extensionApi.preferences);"chrome-mv3"===this._extensionApi.sessionStorage.kind&&await this._extensionApi.sessionStorage.allowCStoUseSessionStorage();const n=new uv((()=>this._cookiesHelper.getCSRFToken(!1).then((e=>null!=e?e:void 0))),(()=>_n().then((e=>null!=e?e:""))),this._config.appConfig.auth.xClientType,this._config.buildInfo.version,this._felog),{experimentClient:r,bgTreatmentService:o,bgGatesService:i}=await(async(e,t)=>{const n=new Z_(nw.map((e=>e.name)),e,t),r=new ew(n,tw.map((e=>e.name)),nw.map((e=>e.name)),e,t);return r.initSentLogsStorage&&await r.initSentLogsStorage(),{bgGatesService:n,bgTreatmentService:r,experimentClient:iw(r,n)}})(t,n),a=async()=>{try{const e=await o.getTreatment(void 0,!0);await r.fetchTreatments(),this._experimentsUpdated.next(!0),this._log.info("experiments updated",e)}catch(e){}};var s;this._subs.push(Ow(0,Be(10)).pipe((s=()=>!r.isGateEnabled(Lf.StandWithUkraineGrammarlySuspended),function(e){return e.lift(new Rw(s))}),df.q(1)).subscribe((async()=>{try{await function(e){const t=lg.cl.get(G().standWithUkraineBlockedUserPing);return e.ajax.empty(t)}(n),await jr.standWithUkraineSuspendExtensionInit()}catch(e){Z.create("StandWithUkraine").error("Ping error",e)}})),Cv(this._cookiesHelper.onUserAuthChange).subscribe((()=>y.refreshUser("changed-user"))),await this._getLoggingSettingsListener(r));const u=new xv(this._config.appConfig.url.clientControlsApi,n,(()=>{var e;return null!==(e=this._getUser())&&void 0!==e?e:void 0}),this._extensionApi,r),c=new Xw(this._config.appConfig.url.dialect,n,this._storeActions,r,this._felog),l=new kv(this._config.appConfig.url.dapi,this._store,this._storeActions,this._cookiesHelper,n,this._felog),d=new pv(this._config.appConfig.url.cheetahSettings,this._storeActions,this._store,n,this._felog),p=new kw(t,(async()=>"safariAppExtension"===R().bundleInfo.extensionType?this._extensionApi.fetchBlocklistConfig():ie(await fetch(R().appConfig.url.pageConfigUrl,{credentials:"include"}).then((e=>e.ok?e.json():e.text().then((t=>{throw{name:"RequestError",body:t,statusCode:e.status,message:e.statusText}})))).then((e=>{if("string"!=typeof e&&e&&e.error)throw new Error(e.error);return e})),await(async e=>{const{clients:t,domains:n,allowedDomains:r,allowedDomainsEnabled:o}=await e.load();return{clientConfig:t.reduce(((e,{client:t,blocked:n,reason:r})=>(e[t]={enabled:!n,unsupportedMessage:cv[r]},e)),{}),pageConfig:o?{}:n.reduce(((e,{domain:t,subdomains:n,blocked:r,reason:o})=>(e[t]={enabled:!r,matchSubdomains:n,unsupportedMessage:cv[o]},e)),{}),allowedDomainsEnabled:o,allowedPageConfig:r.reduce(((e,{domain:t,subdomains:n,enabled:r})=>(e[t]={enabled:r,matchSubdomains:n,unsupportedMessage:cv.ORGANIZATION_CONTROLS},e)),{})}})(u)))),h=new Y_(l,d,c,this._felog,this._cookiesHelper,_n,(()=>a()),this._storeActions,this._store,r,n),f=new $w(n.ajax.json,this._felog),g=new Vw(n.ajaxFactory({}).json,this._felog),m=new uy((()=>this._store.get(["alarms"]).then((e=>e.alarms))),(e=>this._storeActions.base.setAlarms(e))),y=new G_,v=new z_(this._extensionApi,this._store,y,m,n);var b,_,w,S;((e,t,n)=>{const r=()=>t().then((e=>e.dynamicConfig));(0,wu.iR)("showDynamicConfig",(async()=>console.log(ie({},await r()||{})))),(0,wu.iR)("overrideDynamicConfig",(async t=>{const n=await r();if(!n)throw new Error("dynamicConfig is empty");await e.setDynamicConfig(ie({},n,t,{source:Fv.localOverride})),console.warn("Page Config updated. It will be reset with the next refresh from the server! The new dynamicConfig is",ie({},await r()||{}))})),(0,wu.iR)("resetDynamicConfig",(async()=>{const o=await t();await Rb(o,e,n),console.warn("Page Config was reset to the server state. The new dynamicConfig is",await r())}))})(this._storeActions.base,(()=>this._store.getAll()),u),v.register(Mb(this._felog,this._initGnarClient,this._storeActions.base),((e,t)=>Uv.bgFirstStart(Lv.fsmInit,(async n=>{var r;const{extensionFSM:o,version:i,connection:a}=n.state;"installed"===(null!==(r=null==o?void 0:o.stage)&&void 0!==r?r:"installed")&&(e?void 0!==i&&void 0!==a&&a.dataControl!==jb.active?await t.setFSM({stage:"ready",trackingEnabled:!(null==a?void 0:a.disableDataTracking)}):await t.setFSM({stage:"data_control"}):await t.setFSM({stage:"ready",trackingEnabled:!0}))})))(e,this._storeActions.base),(S=this._extensionApi,Uv.storeChange(Lv.openDataControl,jv.isDataControl,(()=>{var e;return null===(e=S.openDataControl)||void 0===e?void 0:e.call(S)}))),(w=this._storeActions.connection,Uv.storeChange(Lv.checkOnline,(e=>{var t;return jv.isStoreChange(e)&&void 0!==(null===(t=e.change.connection)||void 0===t?void 0:t.newValue)}),(async e=>{var t;const n=null===(t=e.change.connection)||void 0===t?void 0:t.newValue;if(!n)return;const r=n.online,o=function(e,t){return["networkOffline","bgNotConnected","authToCapiDegradation"].map((t=>e[t]))}(n),i=o.every((e=>!e));r!==i&&await w.modifyConnection({online:i})}))),(e=>Uv.bgFirstStart(Lv.connectionInit,(t=>{t.state.connection||e.initConnection()})))(this._storeActions.connection),(e=>Uv.compose(Uv.createEffect(Lv.userUpdateOnBgInit,Mv.bgFirstStart,(e=>{var t;return jv.isBgFirstStart(e)&&"ready"===(null===(t=e.state.extensionFSM)||void 0===t?void 0:t.stage)})),Uv.storeChange(Lv.userUpdateOnFSMChangeReady,jv.isReady),Uv.refreshUser(Lv.userUpdateOnEmitRefresh),Uv.alarm(Lv.userUpdateOnAlarm,{name:ay.refreshUser,periodInMinutes:240,execRandomly:!0,isDefault:!0}))((async t=>{const n=jv.isRefreshUser(t)?t.reason:void 0;await e.update({reason:n,useCache:!n})})))(h),(e=>{const t=new sa.xQ;return e.initUserInfoReporter&&e.initUserInfoReporter(t.asObservable()),Uv.storeChange(Lv.safariUserInfoReporter,jv.isUserSwitched,(e=>{var n;return t.next(null===(n=e.change.user)||void 0===n?void 0:n.newValue)}))})(this._extensionApi),((e,t,n)=>Uv.compose(Uv.createEffect(Lv.dynamicConfigInit,Mv.bgFirstStart,(e=>jv.isBgFirstStart(e)&&!!e.state.alarms&&!!e.state.alarms[ay.refreshDynamicConfig]&&!e.state.dynamicConfig)),Uv.alarm(Lv.dynamicConfigAlarm,{name:ay.refreshDynamicConfig,delayInMinutes:0,periodInMinutes:5}),Uv.storeChange(Lv.dynamicConfigUserSwitch,jv.isUserSwitched))((async({state:r})=>{const o=await Rb(r,e,t);null!==o&&o.refreshExperimentsInterval&&n.update(ay.refreshUser,{periodInMinutes:60*o.refreshExperimentsInterval,execRandomly:!0,isDefault:!0})})))(this._storeActions.base,u,m),((e,t,n)=>Uv.storeChange(Lv.renderBadge,jv.isStoreChange,(r=>Xb.render(r.state,e,t,n))))(this._extensionApi.button,r,p.get),Qb(this._storeActions.tabs,this._extensionApi,p.get),Vb(h,this._cookiesHelper,this._storeActions,n,this._felog),(b=this._storeActions.settings,_=this._felog,Uv.storeChange(Lv.reminderNotificationUpdate,jv.isUserSwitched,(async e=>{var t,n,r,o,i,a,s,u,c,l;const d=null===(t=e.change.user)||void 0===t?void 0:t.newValue,p=null===(n=e.change.user)||void 0===n?void 0:n.oldValue,h=!0===(null==d?void 0:d.anonymous);(null===(o=null===(r=e.state.extensionSettings)||void 0===r?void 0:r.common)||void 0===o?void 0:o.showLoginReminder)&&!h&&await b.hideLoginReminder(),h&&!(null===(a=null===(i=e.state.extensionSettings)||void 0===i?void 0:i.common)||void 0===a?void 0:a.loginReminderDisabled)&&(!p||(null===(u=null===(s=e.state.extensionSettings)||void 0===s?void 0:s.common)||void 0===u?void 0:u.showOnboarding)||(null===(l=null===(c=e.state.extensionSettings)||void 0===c?void 0:c.common)||void 0===l?void 0:l.showLoginReminder)||(await b.showLoginReminder(Km.fromUserType(ug.getType(p))),e_.loginReminderBadgeShow(),_.loginReminderBadgeShow()))}))),(e=>Uv.storeChange(Lv.pageConfigUpdateFromCDN,jv.isUserSwitched,(()=>e.updateFromCDN())))(p),(e=>Uv.bgWakeUp(Lv.pageConfigInit,(()=>e.init())))(p),((e,t,n,r)=>Uv.bgFirstStart(Lv.desktopIntegrationInit,(async o=>{try{const i=await(r?r("GrammarlyExtensionMode"):null==n?void 0:n.get("GrammarlyExtensionMode")),{extensionSettings:a}=o.state,s=null==a?void 0:a.common.desktopIntegrationExtensionMode;if((i||s)&&await e.setDesktopIntegrationExtensionMode(i),i)return await e.setLlamaInstalled(),void(s!==i&&await e.setDesktopIntegration("full"!==i));s&&await e.setLlamaUninstalled();const u=await t.getLlamaInstalled(),c=(null==a?void 0:a.common.isLlamaInstalled)||(null==a?void 0:a.common.isDesktopIntegrationEnabled);u&&u.value?(await e.setLlamaInstalled(),c||jr.desktopIntegrationEnabled("initialization")):c&&await t.setLlamaInstalled()}catch(e){}})))(this._storeActions.settings,this._cookiesHelper,this._extensionApi.managedStorage,this._extensionApi.getLocalUserField),(e=>Uv.bgFirstStart(Lv.settingsInit,(t=>{t.state.extensionSettings||e.setInitial()})))(this._storeActions.settings),((e,t,n,r,o,i)=>Uv.bgFirstStart(Lv.legacyBgFirstStart,(async()=>{const a=new Mo;await a.trackAsync(Nm,e,t,n,r,o.settings.showOnboarding,await async function(e){const t=e.managedStorage;return void 0!==t&&void 0!==await t.get("GrammarlyEnrollmentToken")}(e),i),a.track((()=>{mo(e,n,q())})),a.track((()=>{yo(e,n)})),await Fr.initialEnable(o,r,e,i)})))(this._extensionApi,t,p,this._cookiesHelper,this._storeActions,this._store),Uv.bgWakeUp(Lv.trackingSetUserOnBgWakeUp,(e=>{e.state.user&&Ur("session-invalidate",e.state.user,void 0,void 0,e.state.extensionInstallDate)})),B_(g,f,this._felog,this._config.bundleInfo.browser,r)),v.init();const I=CS().message,x=await Rm(this._extensionApi,this._cookiesHelper,t,this._store,this._storeActions,o,i,p,y,l,n,r,g,d);this._disposables.push(function(e,t,n=e+"-response",r=t.getTopFrameId()){const o=(n,o,i)=>{var a;if(Rv(n)&&i){const o=JSON.stringify([null!==(a=i.frameId)&&void 0!==a?a:null,n.clientId]);t.sendTo({tabId:i.tabId,frameId:r},e,{...n,clientId:o})}},i=(e,r,o)=>{if(Rv(e)&&o){const[r,i]=JSON.parse(e.clientId);t.sendTo({tabId:o.tabId,frameId:r},n,{...e,clientId:i})}};return t.on(e,o),t.on(n,i),{dispose(){t.off(e,o),t.off(n,i)}}}("iframehost",I),Dv("iframeintegration",I),Dv("iframeintegration-observable",I),x)}async _getLoggingSettingsListener(e){const t=await this._extensionApi.sessionStorage.get("isBGInitialized"),n=Tv.aj([this._store.view("extensionSettings").view((e=>{var t;return null!==(t=null==e?void 0:e.common.historyLoggerEnabledUntil)&&void 0!==t?t:null})),this._store.view("extensionSettings").view((e=>{var t;return null!==(t=null==e?void 0:e.common.advancedHistoryLoggerEnabledUntil)&&void 0!==t?t:null})),Ow(0,Be(1))]).pipe(Dw.M(this._store.view("extensionSettings").view((e=>null==e?void 0:e.common.historyLoggerEnabled)),this._store.view("extensionSettings").view((e=>null==e?void 0:e.common.advancedHistoryLoggerEnabled))));return(t.isBGInitialized?n:this._experimentsUpdated.pipe(function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,xe.h)((function(t,n){return e(t,n,r)})):Ww.y,(0,df.q)(1),n?jw(t):Fw((function(){return new Mw})))}}(),lf.w((()=>n)))).subscribe((([[t,n],r,o])=>{const i=le(t,e.isGateEnabled(Lf.ExtensionDebugReport)),a=i&&le(n);CS().enableHistoryLoggerInProd(i),CS().enableAdvancedHistoryLoggerInProd(a);const s={};a!==o&&(s.advancedHistoryLoggerEnabled=a),i!==r&&(s.historyLoggerEnabled=i),(0,Su.isEmptyObject)(s)||this._storeActions.settings.patchCommonSettings(s)}))}dispose(){const e=this._disposables;this._disposables=[];for(const t of e)try{t.dispose()}catch(e){this._log.error("error at bg dispose",e)}this._subs.forEach((e=>e.unsubscribe()))}}!function(e){let t;!function(e){e.disableOnTab="disableOnTab",e.reloadTab="reloadTab",e.showOnboardingDialog="showOnboardingDialog",e.hideGdocsSigninPopupMessage="hideGdocsSigninPopupMessage",e.sendCsLogsToPopup="sendCsLogsToPopup"}(t=e.Kind||(e.Kind={}))}(Kw||(Kw={})),function(e){let t;!function(e){e.sendCsLogs="sendCsLogs"}(t=e.Kind||(e.Kind={}))}(Yw||(Yw={}));class Zw extends u_{constructor(e){super(e),this._api=e,this.sendTo=(e,t,n={})=>{try{if(!e)throw TypeError("emitTo: can't be used without destination point");this._api.sendTo(e,t,n)}catch(e){this._logError(e)}},this.sendToFocusedTab=e=>{try{if(e.kind===Kw.Kind.hideGdocsSigninPopupMessage)this._api.toFocused(e.kind,e.option);else this._api.toFocused(e.kind,{})}catch(e){this._logError(e)}},this.getTopFrameId=()=>this._api.topFrameId}}function eS(e,t){return{...tS,keySelector:e,resultSelector:t}}const tS={seedSelector:e=>0,aggregate:(e,t)=>e+1},nS={"usage.session.init":{byTopSites:eS((({domain:e})=>({topSiteId:st(e)})),((e,t)=>({count:t}))),byTopSiteAndField:eS((({domain:e,fieldType:t})=>({topSiteId:st(e),fieldType:t})),((e,t)=>({count:t})))}};var rS=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Xr.__extends(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(__webpack_require__(49917).o),oS=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xr.__extends(t,e),t}(__webpack_require__(68258).v))(rS);function iS(e,t,n,r){return function(o){return o.lift(new aS(e,t,n,r))}}var aS=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new sS(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),sS=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=o,a.subjectSelector=i,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return Xr.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,o=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!o){o=this.subjectSelector?this.subjectSelector():new sa.xQ,n.set(t,o);var i=new cS(t,o,this);if(this.destination.next(i),this.durationSelector){var a=void 0;try{a=this.durationSelector(new cS(t,o))}catch(e){return void this.error(e)}this.add(a.subscribe(new uS(t,o,this)))}}o.closed||o.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(Qr.L),uS=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.key=t,o.group=n,o.parent=r,o}return Xr.__extends(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(Qr.L),cS=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return Xr.__extends(t,e),t.prototype._subscribe=function(e){var t=new tg.w,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new lS(n)),t.add(r.subscribe(e)),t},t}(qr.y),lS=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return Xr.__extends(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(tg.w),dS=__webpack_require__(85321);function pS(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new hS(e,t,n))}}var hS=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new fS(e,this.accumulator,this.seed,this.hasSeed))},e}(),fS=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return Xr.__extends(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(Qr.L),gS=__webpack_require__(2270);function mS(e){return function(t){return 0===e?(0,Yg.c)():t.lift(new yS(e))}}var yS=function(){function e(e){if(this.total=e,this.total<0)throw new gS.W}return e.prototype.call=function(e,t){return t.subscribe(new vS(e,this.total))},e}(),vS=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return Xr.__extends(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()},t}(Qr.L),bS=__webpack_require__(87072);function _S(e,{windowUnitDuration:t=Be(1),scheduler:n=oS,logger:r}={}){return o=>o.pipe(iS((e=>e.metricName)),(0,dS.zg)((o=>{const i=o.key;if(!Boolean(e[i]))return null==r||r.warn(`Aggregators for metric ${i} are not defined`),Yg.E;const a=ne(e[i]).map((([e,t])=>[`${i}.${e}`,t]));return(0,$g.D)(a).pipe((0,dS.zg)((([e,r])=>o.pipe(iS((e=>{return t=r.keySelector(e.data),JSON.stringify(t,((e,t)=>"object"==typeof t&&t&&!Array.isArray(t)?re(ne(t).sort((([e],[t])=>e<t?-1:e>t?1:0))):t));var t}),void 0,(e=>{var n;return Ow((null!==(n=r.aggregateWindowUnits)&&void 0!==n?n:1)*t)})),(0,dS.zg)((e=>e.pipe(function(e,t){return arguments.length>=2?function(n){return(0,bS.z)(pS(e,t),mS(1),jw(t))(n)}:function(t){return(0,bS.z)(pS((function(t,n,r){return e(t,n,r+1)})),mS(1))(t)}}(((e,t)=>function({keySelector:e,seedSelector:t,aggregate:n},{data:r},{now:o},{aggregateKey:i,startTimestamp:a,aggregatedData:s}={aggregateKey:e(r),startTimestamp:o(),aggregatedData:t(e(r))}){return{aggregateKey:i,startTimestamp:a,aggregatedData:n(s,r)}}(r,t,n,e)),void 0)))),(0,xe.h)((e=>Boolean(e))),(0,Jr.U)((({aggregatedData:t,aggregateKey:o,startTimestamp:i})=>({metricName:e,aggregateKey:o,startTimestamp:i,endTimestamp:n.now(),aggregatedData:r.resultSelector(o,t)})))))))})))}var wS=__webpack_require__(82989);var SS;!function(e){e.metricToKey=(e,n)=>JSON.stringify({name:e,labels:n?Object.keys(n).filter((e=>(0,t.Nf)(n[e]))).sort().map((e=>({key:e,value:String(n[e])}))):[]}),e.versionToInt=e=>{try{return Number(Array(3).fill("0").reduce(((e,t,n)=>(void 0===e[n]&&(e[n]=t),e)),String(e).split(".")).map((e=>e.padStart(4,"0"))).join(""))}catch(e){return 0}},e.getTimersData=e=>e.map((e=>{var t;return{name:`extension.duration.${e.timerName}`,type:"summary",value:e.duration,labels:[...null!==(t=e.labels&&Object.entries(e.labels).filter((([e,t])=>t)).map((([e,t])=>({key:e,value:String(t)}))))&&void 0!==t?t:[]],report_interval:"1m"}})),e.getRatesData=e=>Object.keys(e).filter((t=>e[t]>0)).map((t=>{var n;const r=JSON.parse(t);return{name:`extension.${r.name}`,type:"counter",value:e[t],labels:[...null!==(n=r.labels)&&void 0!==n?n:[]],report_interval:"5m"}})),e.getTimerKey=(e,t)=>`${e}|${t}`}(SS||(SS={}));const IS=Fe(3);class xS{constructor(e,n){this._browserInfo=e,this._getLogContext=n,this._log=Z.create(xS.name),this._url=G().vmetrics,this._storageApi=Ft().sessionStorage,this._alarmService=new uy((()=>this._storageApi.get("feMetricsAlarms").then((e=>e.feMetricsAlarms))),(e=>this._storageApi.set({feMetricsAlarms:e}))),this._metricsData={rates:{},startedTimers:{},timers:[]},this._setToBgSessionStorage=(0,t.W3)((()=>{this._storageApi.set({feMetricsData:this._metricsData})}),IS);const r=()=>{this._send(),this._updateMetricsData({rates:{},startedTimers:{},timers:[]})};(0,wu.iR)("flushFEMetrics",(()=>{r()})),(0,wu.iR)("showCachedFEMetrics",(()=>{console.info(this._metricsData)})),this._storageApi.get("feMetricsData").then((e=>{e.feMetricsData&&this._updateMetricsData({rates:[...new Set([...Object.keys(e.feMetricsData.rates),...Object.keys(this._metricsData.rates)])].reduce(((t,n)=>{var r;return{...t,[n]:((null===(r=e.feMetricsData)||void 0===r?void 0:r.rates[n])||0)+(this._metricsData.rates[n]||0)}}),{}),timers:[...e.feMetricsData.timers,...this._metricsData.timers],startedTimers:{...e.feMetricsData.startedTimers,...this._metricsData.startedTimers}}),this._alarmService.register(ay.sendFeMetrics,{periodInMinutes:3}),this._alarmService.onAlarm((e=>{e.name===ay.sendFeMetrics&&r()}))}))}_updateMetricsData(e){this._metricsData=e,this._setToBgSessionStorage()}_getBaseLabels(){var e,t;const n=this._getLogContext();return{userType:n.userType,firstInstall:n.firstInstall,registrationDate:n.registrationDate,browserVersion:null===(e=this._browserInfo)||void 0===e?void 0:e.browserVersion,browserName:null===(t=this._browserInfo)||void 0===t?void 0:t.browserName,os:this._browserInfo.osName,osVersion:this._browserInfo.osVersion,client:n.gnarApplicationName,version:n.version,versionInt:String(SS.versionToInt(n.version))}}logRate(e,t){const n=SS.metricToKey(e,{...t,...this._getBaseLabels()});this._updateMetricsData({...this._metricsData,rates:{...this._metricsData.rates,[n]:this._metricsData.rates[n]?this._metricsData.rates[n]+1:1}})}startTimer(e,t,n,r){this._updateMetricsData({...this._metricsData,startedTimers:{...this._metricsData.startedTimers,[SS.getTimerKey(e,t)]:{timerName:e,startTime:n,labels:r}}})}endTimer(e,t,n,r){const o=SS.getTimerKey(e,t);this._metricsData.startedTimers[o]&&(this._metricsData.timers.push({timerName:e,duration:Math.round(n-this._metricsData.startedTimers[o].startTime),labels:{...this._metricsData.startedTimers[o].labels,...r,...this._getBaseLabels()}}),delete this._metricsData.startedTimers[o],this._updateMetricsData(this._metricsData))}logTimer(e,t,n){this._updateMetricsData({...this._metricsData,timers:[...this._metricsData.timers,{timerName:e,duration:t,labels:{...n,...this._getBaseLabels()}}]})}_send(){const e=[...SS.getRatesData(this._metricsData.rates),...SS.getTimersData(this._metricsData.timers)];e.length>0?(this._log.debug("Sending vmetrics",e),fetch(this._url,{method:"POST",body:JSON.stringify(e)})):this._log.debug("Sending vmetrics: noting to send")}}class ES{setUserInfo(e){this._context={...this._context,...{...e,firstInstall:iy(Number(e.extensionInstallDate),We)||void 0,registrationDate:"Anonymous"===e.userType?"never":iy(Number(e.registrationDate),We)||void 0}}}setContainerId(e){this._context=Object.assign({},this._context,{containerId:e})}getContext(){return this._context}constructor(e,t,n){this._baseUrl=e,this._env=t,this._fetch=n,this._context={userId:void 0,containerId:void 0,userType:void 0,firstInstall:void 0,registrationDate:void 0},this._browserInfo=(()=>{const e=navigator.userAgent,t=new wS.UAParser(e).getResult();return{browserName:t.browser.name,browserVersion:t.browser.version,osName:t.os.name,osVersion:t.os.version,userAgent:e}})(),this._sessionId=Pe(),this._staticPayload={application:this._env.applicationName,version:this._env.version,env:this._env.env,browserInfo:this._browserInfo},this._logEndpoint=`${this._baseUrl}/logv2`,this._crashEndpoint=function(e){return`${e}/crashv2`}(this._baseUrl),this._metrics=new xS(this._browserInfo,(()=>{const{userType:e,firstInstall:t,registrationDate:n}=this.getContext();return{userType:e,firstInstall:t,registrationDate:n,version:this._env.version,gnarApplicationName:this._env.gnarApplicationName}}))}_sendRaw(e,t){return this._fetch(e,{mode:"cors",headers:{"Content-Type":"application/json"},method:"post",cache:"no-cache",body:JSON.stringify(t)}).then((e=>{}),(e=>{}))}sendEvent({hideUserInfo:e,...t}){const n=$e(t,{...this._staticPayload,context:e?void 0:this.getContext()}),r=zo(this._logEndpoint,e?[Uo("extended","false")]:[]);return("ERROR"===n.level||n.sendToFemetrics)&&this.sendFemetricsRate(n.level.toLocaleLowerCase(),{logger:n.logger,message:n.femetricsMessage||n.message&&n.message.substring(0,20)||"other",context:n.eventContext,...n.gdocsExtra,...n.femetricsExtra}),this._sendRaw(r,n)}sendCrashLog(e){const t=e.map((e=>$e(e,{...this._staticPayload,sessionId:this._sessionId,context:this.getContext()})));return this._sendRaw(this._crashEndpoint,t)}sendUsageEvent(e,t,n,r){const o=$e({logger:e,message:t,level:n,extra_usage:r},this._staticPayload);return this._sendRaw(this._logEndpoint,o)}sendAggregatedMetricEvent({metricName:e,aggregateKey:t,aggregatedData:n,startTimestamp:r,endTimestamp:o}){const i=$e({logger:e,level:He.INFO,timestamp:r,endTimestamp:o,aggregateKey:t,aggregatedData:n},this._staticPayload);return this._sendRaw(this._logEndpoint,i)}sendFemetricsRate(e,t){this._metrics.logRate(e,t)}startFemetricsTimer(e,t,n,r){this._metrics.startTimer(e,t,n,r)}endFemetricsTimer(e,t,n,r){this._metrics.endTimer(e,t,n,r)}sendFemetricsTimer(e,t,n){this._metrics.logTimer(e,t,n)}}function kS(e,t,n=1){e(t).catch((r=>{n>0&&kS(e,t,n-1)}))}class TS{constructor(e=(()=>new ES(G().newFelog,{applicationName:z(),version:F(),env:B(),gnarApplicationName:W()},me(self).fetch)),t=Z.create("lib.tracking.call.service")){this._log=t,this._metricEvent=new sa.xQ,this._sub=this._metricEvent.pipe(_S(nS,{logger:this._log})).subscribe((e=>{this._felogClient.sendAggregatedMetricEvent(e).catch((t=>(this._log.warn("Unable to send aggregated metric event (first attempt)",t),this._felogClient.sendAggregatedMetricEvent(e)))).catch((e=>{this._log.error("Unable to send aggregated metric event",e)}))})),this._shouldSendEvents=!N(),this.enableDataSharing=()=>{this._shouldSendEvents=!0},this.sendFelog=(e,t,n,r)=>{this._shouldSendEvents&&kS((e=>this._felogClient.sendEvent(e)),{logger:e,message:t,level:n,extra:r})},this.sendFelogEvent=e=>{this._shouldSendEvents&&kS((e=>this._felogClient.sendEvent(e)),e)},this.sendFelogCrashLogs=e=>{this._shouldSendEvents&&this._felogClient.sendCrashLog(e)},this.sendFelogUsageEvent=(e,t,n,r)=>{this._shouldSendEvents&&kS((e=>this._felogClient.sendUsageEvent(e.logger,e.message,e.level,e.usage)),{logger:e,message:t,level:n,usage:r})},this.sendFelogMetricEvent=e=>{this._shouldSendEvents&&this._metricEvent.next(e)},this.setUserInfo=e=>{this._felogClient.setUserInfo(e)},this.setContainerId=e=>{this._felogClient.setContainerId(e)},this.sendFemetricsRate=(e,t)=>{this._felogClient.sendFemetricsRate(e,t)},this.startFemetricsTimer=(e,t,n,r)=>{this._felogClient.startFemetricsTimer(e,t,n,r)},this.endFemetricsTimer=(e,t,n,r)=>{this._felogClient.endFemetricsTimer(e,t,n,r)},this.sendFemetricsTimer=(e,t,n)=>{this._felogClient.sendFemetricsTimer(e,t,n)},this.call=(e,...t)=>{if(this._log.info(e,t),e===m_){const[e,...n]=t;return void(0,this[e])(...n)}const[n,r]=e.split(".");if("gnar"===n)if(jt.gnar)if("track"===r){const[e,n]=t;jt.gnar.track({eventName:`${W()}/${String(e)}`,...n})}else if("pingMaybe"===r)jt.gnar.pingMaybe();else if("setUser"===r)try{jt.gnar.setUser(t[0],t[1])}catch(e){Dt().gnar.errorSetUser(e)}else this._log.error(`gnar client does not have method '${r}' for '${e}' in runMessage`);else this._log.error(`gnar client not available for '${e}' in runMessage`);else this._log.error(`unrecognized '${e}' in runMessage`)},this._felogClient=e()}dispose(){this._sub.unsubscribe()}}class AS extends Se{static getInstance(){if(void 0===this._instance)throw new Error("Env not inited yet");return this._instance}static init(e){if(void 0!==this._instance)throw new Error("Env already inited");const t=new AS(e);var n,r;this._instance=t,_e.initShared(t),Mt(),async function(e,t=(()=>{var e;return null===(e=document.location)||void 0===e?void 0:e.reload()})){const n=new Pr(e);if((j()||N())&&(!chrome.extension||!chrome.tabs||!chrome.runtime||!chrome.runtime.onConnect)){const e=await n.get("bgInitFail")||0;e>4?Ao.error(`too many bgInitFail ${e}`):(await n.set("bgInitFail",e+1),t())}}(t.browserApi.preferences),t.browserApi.initCodeSplittingListener&&t.browserApi.initCodeSplittingListener(),n=e.gnarSpecClass,r=t.browserApi,new Qw(n,r).run()}constructor(e){super({browser:e.browser,extensionType:e.extensionType,deploymentType:e.deploymentType,context:"bg",historyLoggerExtraArgs:{isBG:!0,backupStorage:new g_(e.browserApi.sessionStorage,p_.bgHistoryLogs)}}),this.browserApi=e.browserApi,this.message=new Zw(e.browserApi.message),function(e){self.extensionBackgroundPageApi&&Ut.warn("Background Page Extension Api init called more than once"),self.extensionBackgroundPageApi=self.extensionBackgroundPageApi||e}(e.browserApi),this.telemetryCallProvider=new TS}}function CS(){return AS.getInstance()}function OS(e){const t=e.reduce(((e,t)=>{const n=e.get(t.category),r=t.group;return n?n.count++:e.set(t.category,{group:r,categoryHuman:t.categoryHuman,count:1}),e}),new Map);return Array.from(t.values()).sort(((e,t)=>t.count-e.count))}function PS(e){const t=new Map;for(const{isFree:n,cardLayout:{group:r}}of e){t.has(r)||t.set(r,{lensName:r,free:0,premium:0});const e=t.get(r);e&&(e[n?"free":"premium"]+=1)}return Array.from(t.values()).sort(((e,t)=>t.premium-e.premium))}function RS(e){return btoa(JSON.stringify(e))}const NS="docs.google.com";function DS(e,t){return(n,r)=>"extensionSettings"===n&&function(e){return!!e&&"object"==typeof e&&"common"in e}(r)?function(e,t,n){const r=e[NS];if(!1!==(null==r?void 0:r.enabled)||(null==r?void 0:r.forcedEnabledDate_1639893688790))return n(),e;{const{disabledDate:n,...o}=r;return t(n),{...e,[NS]:{...o,enabled:!0,forcedEnabledDate_1639893688790:Date.now()}}}}(r,e,t):r}function MS(e,t){chrome.runtime.lastError?t(chrome.runtime.lastError):e()}class jS{constructor(){this._log=Z.create("extension-api.managed-storage.validator")}validate(e,t){switch(e){case"GrammarlyEnrollmentToken":return"string"==typeof t&&t.length>0&&/^[a-z0-9_-]+$/i.test(t);case"GrammarlyBlockedClients":case"GrammarlyBlockedDomains":return"string"==typeof t;case"GrammarlyConfidentialModeEnabled":case"GrammarlyDlpEnabled":return"boolean"==typeof t;case"GrammarlyExtensionMode":return"string"==typeof t&&("limited"===t||"full"===t);default:return this._log.warn(`Unknown key: ${e}`),!1}}}class LS{constructor(){this._log=Z.create("extension-api.managed-storage.chrome"),this._validator=new jS}get(e){return Ar.fromPromise(new Promise((t=>{chrome.storage.managed.get(e,(n=>{MS((()=>{const r=n[e];void 0===r||this._validator.validate(e,r)?t(r):(this._log.warn(`Invalid value for "${e}": ${JSON.stringify(n[e])}`),t(void 0))}),(n=>{this._log.error(`Could not get "${e}"`,n),t(void 0)}))}))})))}}const US=Z.create("Messaging.extension-api.content");class FS{constructor(e,t,n,r){this._bgIsWorking=t,this._extensionId=n,this._onRuntimeMessageFromBg=r,this.kind="content-script-message-api",this._callbacks={},this._messageHelper=new ko,this._disconnected=!1,this.broadcastBackground=async(e,t,n)=>{var r,o;const i=Pe();n&&"function"==typeof n&&(this._callbacks[i]=n);try{if(!this.backgroundPort){if(!await this._bgIsWorking())throw new Error("lost connection to bg port");this.initPort(),US.trace("Content script connection was restored")}null===(r=this.backgroundPort)||void 0===r||r.postMessage({type:e,callid:i,content:t})}catch(n){if(!await this._bgIsWorking())return this._onDisconnect();try{this.initPort(),null===(o=this.backgroundPort)||void 0===o||o.postMessage({type:e,callid:i,content:t})}catch(n){throw US.error("failed to invoke postMessage() on bg port",n,{type:e,callid:i,content:t}),n}}},this._onRuntimeMessageHandler=async(e,t,n)=>{if(n({status:!0}),!await this._bgIsWorking())return this._onDisconnect();t.id!==this._extensionId&&e.type!==xo()||(this._onBgPortMessage(e.data),this.initPort())},this._onBgPortMessage=({callid:e,content:t,type:n})=>{this._callbacks[e]?(this._callbacks[e](t),delete this._callbacks[e]):this._messageHelper.fire(n,t,(t=>{if(!this.backgroundPort)throw new Error("fail reply to bg page - connection lost");this.backgroundPort.postMessage({content:t,callid:e})}))},this._onDisconnect=async()=>{var e,t;if(null===(t=null===(e=this.backgroundPort)||void 0===e?void 0:e.removeMessageListeners)||void 0===t||t.call(e),this.backgroundPort=null,await this._bgIsWorking())return US.trace("BG SW is shutdown, but BG SW page is still available."),void this._messageHelper.fire("bgSW-shutdown",null);this._disconnected||(this._onRuntimeMessageFromBg.removeListener(this._onRuntimeMessageHandler),this._disconnected=!0,US.trace("Content script messaging went disconnected."),this._messageHelper.fire("contentScript-disconnected",null))},this._portInit=e,this.initPort(),this._onRuntimeMessageFromBg.addListener(this._onRuntimeMessageHandler)}initPort(){const e=this._portInit;this.backgroundPort||(this.backgroundPort=e(Br),this.backgroundPort.onMessage(this._onBgPortMessage),this.backgroundPort.onDisconnect(this._onDisconnect))}listen(e,t){this._messageHelper.listen(e,t)}}class BS{constructor(e,t){this.port=e.runtime.connect({name:t})}onMessage(e){this.port.onMessage.addListener(e)}onDisconnect(e){this.port.onDisconnect.addListener(e)}postMessage(e){this.port.postMessage(e)}}const GS=e=>({get:t=>Ar.create(((n,r)=>e.storage.local.get(t,(e=>{MS((()=>n(e)),r)})))),set:t=>Ar.create(((n,r)=>e.storage.local.set(t,(()=>{MS(n,r)})))),getAll:()=>Ar.create(((t,n)=>e.storage.local.get(null,(e=>{MS((()=>t(e)),n)})))),remove:t=>Ar.create(((n,r)=>e.storage.local.remove(t,(()=>{MS(n,r)})))),removeAll:()=>Ar.create(((t,n)=>e.storage.local.clear((()=>{MS(t,n)}))))});class zS{constructor(e){this._chromeInstance=e,this.kind="chrome-mv3",this.get=e=>Ar.create(((t,n)=>{this._chromeInstance.storage.session.get(e,(e=>{MS((()=>t(e)),n)}))})),this.set=e=>Ar.create(((t,n)=>{this._chromeInstance.storage.session.set(e,(()=>{MS(t,n)}))})),this.getAll=()=>Ar.create(((e,t)=>{this._chromeInstance.storage.session.get(null,(n=>{MS((()=>e(n)),t)}))})),this.remove=e=>Ar.create(((t,n)=>{this._chromeInstance.storage.session.remove(e,(()=>{MS(t,n)}))})),this.removeAll=()=>Ar.create(((e,t)=>{this._chromeInstance.storage.session.clear((()=>{MS(e,t)}))})),this.onChange=e=>{const t=()=>{this.getAll().then((t=>e(t)))};return this._chromeInstance.storage.session.onChanged.addListener(t),()=>this._chromeInstance.storage.session.onChanged.removeListener(t)},this.allowCStoUseSessionStorage=()=>Ar.create(((e,t)=>{chrome.storage.session.setAccessLevel({accessLevel:chrome.storage.AccessLevel.TRUSTED_AND_UNTRUSTED_CONTEXTS},(()=>{MS(e,t)}))}))}}class WS{constructor(){this.kind="memory",this._data={},this._listeners=[],this.get=e=>Ar.sync((()=>(Array.isArray(e)?e:[e]).reduce(((e,t)=>({...e,[t]:this._data[t]})),{}))),this.set=e=>Ar.sync((()=>{this._data={...this._data,...e},this._callListeners()})),this.getAll=()=>Ar.sync((()=>this._data)),this.remove=e=>Ar.sync((()=>{(Array.isArray(e)?e:[e]).forEach((e=>{e in this._data&&delete this._data[e]})),this._callListeners()})),this.removeAll=()=>Ar.sync((()=>{this._data={},this._callListeners()})),this.onChange=e=>(this._listeners.push(e),()=>this._listeners.splice(this._listeners.indexOf(e),1))}_callListeners(){this._listeners.forEach((e=>e(this._data)))}}class qS{constructor(e,t){this._chrome=e,this._manifestVersion=t,this.kind="web-extension",this.executeScript=(e,t,n)=>Ar.create(((r,o)=>{"3"!==this._manifestVersion?this._chrome.tabs.executeScript(t,{file:e,matchAboutBlank:!0,...n?{frameId:Number(n)}:{}},(e=>VS(null==e?void 0:e[0],r,o))):this._chrome.scripting.executeScript({files:[e],target:{tabId:t,...n?{frameIds:[Number(n)]}:{}}},(e=>{var t;return VS(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.result,r,o)}))})),this.executeFunction=(e,t,n)=>Ar.create(((r,o)=>{"3"!==this._manifestVersion?this._chrome.tabs.executeScript(t,{code:`(${e.toString()})()`,matchAboutBlank:!0,...n?{frameId:Number(n)}:{}},(e=>VS(null==e?void 0:e[0],r,o))):this._chrome.scripting.executeScript({func:e,target:{tabId:t,...n?{frameIds:[Number(n)]}:{}}},(e=>{var t;return VS(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.result,r,o)}))})),this.insertCSS=(e,t,n,r)=>Ar.create(((o,i)=>{"3"!==this._manifestVersion?this._chrome.tabs.insertCSS(e,{file:t,code:n,matchAboutBlank:!0,...r?{frameId:Number(r)}:{}},(()=>VS(void 0,o,i))):this._chrome.scripting.insertCSS({target:{tabId:e,...r?{frameIds:[Number(r)]}:{}},files:t?[t]:void 0,css:n},(()=>VS(void 0,o,i)))}))}open(e,t){return Ar.create(((n,r)=>{this._chrome.tabs.create({url:e,active:t},(e=>{MS((()=>n(e)),r)}))}))}updateCurrent(e){return Ar.create(((t,n)=>{this._chrome.tabs.update({url:e},(e=>{MS((()=>t(e)),n)}))}))}getActiveTab(){return Ar.create(((e,t)=>{const n=this._chrome.tabs;n.query({active:!0,lastFocusedWindow:!0},(r=>{MS((()=>{r&&r.length?e(r[0]):n.query({active:!0},(n=>{MS((()=>{e(n[0])}),t)}))}),t)}))}))}getAllTabs(){return Ar.create(((e,t)=>this._chrome.tabs.query({},(n=>MS((()=>e(n)),t)))))}getActiveTabUrl(){return Ar.create(((e,t)=>this.getActiveTab().then((n=>MS((()=>e(n&&n.url)),t)))))}onActiveTabChange(e,t){const n=n=>{MS((()=>{n&&e(n)}),(n=>{t(n),"Tabs cannot be edited right now (user may be dragging a tab)."===(null==n?void 0:n.message)&&setTimeout((()=>{this.getActiveTab().then((n=>{n&&MS((()=>e(n)),t)}))}),100)}))};this._chrome.tabs.onActivated.addListener((e=>this._chrome.tabs.get(e.tabId,(e=>n(e))))),this._chrome.tabs.onUpdated.addListener(((e,t)=>{this.getActiveTab().then((r=>{r&&r.id===e&&(t.url||t.favIconUrl||"complete"===t.status)&&this._chrome.tabs.get(e,(e=>n(e)))}))})),this._chrome.windows.onFocusChanged.addListener((e=>this._chrome.tabs.query({active:!0,windowId:e,lastFocusedWindow:!0},(e=>n(e[0]))))),this.getActiveTab().then((e=>n(e)))}reload(e){return Ar.create(((t,n)=>{const r=()=>MS((()=>t()),n);e.id?this._chrome.tabs.reload(e.id,{},r):this._chrome.tabs.reload(r)}))}focusTab(e){return Ar.create(((t,n)=>{this._chrome.tabs.update(e,{highlighted:!0},(()=>{MS((()=>t()),n)}))}))}sendMessageToTab(e,t,n){return Ar.create(((r,o)=>{this._chrome.tabs.sendMessage(t,e,{frameId:n},(()=>{MS((()=>r()),o)}))}))}}function VS(e,t,n){Ce()?n(Ce()):t(e)}var HS=__webpack_require__(46601);var $S,KS,YS=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new JS(e,this.notifier))},e}(),JS=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var o=new HS.IY(r);r.add(o),r.innerSubscription=o;var i=(0,HS.ft)(n,o);return i!==o&&(r.add(i),r.innerSubscription=i),r}return Xr.__extends(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(HS.Ds);!function(e){e.MigrationAwarePreferencesApiImpl=class{constructor(e,t,n,r=[],o){var i;this._source=t,this._destination=n,this._migrationCompleted=Ar.createCompletionSource(),this._ensureMigrationCompletedCalled=!1,this.get=this._getMigrationAwareMethod("get"),this.set=this._getMigrationAwareMethod("set"),this.getAll=this._getMigrationAwareMethod("getAll"),this.remove=this._getMigrationAwareMethod("remove"),this.removeAll=this._getMigrationAwareMethod("removeAll"),this._migration=new Wr(e,t,n,r,o),this.changes=(0,$g.D)(n.changes).pipe((i=(0,$g.D)(this._migrationCompleted.promise),function(e){return e.lift(new YS(i))}))}dispose(){var e,t,n,r;null===(t=(e=this._source).dispose)||void 0===t||t.call(e),null===(r=(n=this._destination).dispose)||void 0===r||r.call(n)}ensureMigrationCompleted(){return this._ensureMigrationCompletedCalled=!0,Ar.fromPromise(this._migration.ensureMigrationCompleted().then((e=>{var t,n;return null===(n=(t=this._source).dispose)||void 0===n||n.call(t),this._migrationCompleted.resolve(!0),Promise.resolve(e)}),(e=>(this._migrationCompleted.resolve(!1),Promise.reject(e)))))}_getMigrationAwareMethod(e){return(...t)=>(a(!0===this._ensureMigrationCompletedCalled,"supposed to run data migration before accessing prefs with web-extensions API"),Ar.fromPromise(this._migrationCompleted.promise.then((n=>(n?this._migration.migrationAwareDestination:this._source)[e](...t)))))}},e.mapValueFromString=e=>{if("undefined"!==e)try{return e&&JSON.parse(e)}catch(t){return null!=e?e:void 0}},e.mapValueToString=e=>void 0===e?"undefined":JSON.stringify(e)}($S||($S={}));class XS{constructor(e){this._port=e,this.sender={};const{sender:t,name:n}=e;this.name=n,t&&(this.sender.url=t.url,this.sender.frameId=t.frameId,t.tab&&t.tab.url&&t.tab.id&&(this.sender.tab={url:t.tab.url,id:t.tab.id}))}onMessage(e){this._port.onMessage.addListener(e)}onDisconnect(e){this._port.onDisconnect.addListener(e)}postMessage(e){this._port.postMessage(e)}}class QS{get button(){const e=this._action;return{kind:"web-extension",setBadge(t){e.setBadgeText({text:t})},setIconByName(t,n){const r="./src/icon/icon",o=t?"-"+t:"standWithUkraine"===n.logo?"ua":"";e.setIcon({path:{16:`${r}16${o}.png`,32:`${r}32${o}.png`}})},setBadgeBackgroundColor(t){e.setBadgeBackgroundColor({color:t})}}}get baseUri(){var e;return null!==(e=this._baseUrl)&&void 0!==e?e:chrome.runtime.getURL("")}constructor(e){var n,r;this._isBg=e,this._manifestVersion="3",this._isManifestV3="3"===this._manifestVersion,this._action=this._isManifestV3?chrome.action:chrome.browserAction,this.managedStorage=new LS,this.sessionStorage=this._isManifestV3&&(null===(n=chrome.storage)||void 0===n?void 0:n.session)?new zS(chrome):new WS,this.tabs=new qS(chrome,this._manifestVersion),this.thirdPartyExtensionsInstalled={},this.notification={kind:"web-extension",create:e=>Ar.create(((t,n)=>{const r=chrome.notifications,o=Pe();r.create(o,Object.assign({type:"basic"},e),(()=>{MS((()=>{const e=new qr.y((e=>{const t=t=>t===o&&e.next(t);return r.onClicked.addListener(t),()=>r.onClicked.removeListener(t)})),n=new qr.y((e=>{const t=(t,n)=>t===o&&e.next({id:t,buttonIndex:n});return r.onButtonClicked.addListener(t),()=>r.onButtonClicked.removeListener(t)})),i=new qr.y((e=>{const t=(t,n)=>t===o&&e.next({id:t,byUser:n});return r.onClosed.addListener(t),()=>r.onClosed.removeListener(t)}));t({id:o,click:e,buttonClick:n,close:i})}),n)}))})),clear:e=>Ar.create(((t,n)=>{chrome.notifications.clear(e,(e=>{MS((()=>t(e)),n)}))}))},this.cookies={kind:"web-extension",get:e=>Ar.create(((t,n)=>chrome.cookies.get(e,(e=>MS((()=>t(e)),n))))),remove:e=>Ar.fromPromise(new Promise(((t,n)=>chrome.cookies.remove(e,(()=>MS((()=>t(null)),n)))))),getAll:e=>Ar.create(((t,n)=>chrome.cookies.getAll(e,(e=>MS((()=>t(e)),n))))),set:e=>Ar.create(((t,n)=>chrome.cookies.set(e,(e=>MS((()=>t(e)),n))))),watch(e,t){const n=n=>{const{cookie:r,cause:o}=n;!r||!r.name||e.path&&e.path!==r.path||e.name!==r.name||e.domain&&-1===r.domain.indexOf(e.domain)||("explicit"===o&&t(r),"expired_overwrite"===o&&t())};return chrome.cookies.onChanged.addListener(n),()=>chrome.cookies.onChanged.removeListener(n)},getChanges(e){return new qr.y((t=>this.watch(e,(e=>t.next(e)))))}},this._prefsBeforeMigration=function(){var e;const t=new sa.xQ;return null===(e=chrome.storage)||void 0===e||e.onChanged.addListener(((e,n)=>{"local"===n&&t.next(e)})),{...GS(chrome),changes:t}}(),this.preferences=this._isBg?new $S.MigrationAwarePreferencesApiImpl("chromeGdocsForceEnableMigration",this._prefsBeforeMigration,this._prefsBeforeMigration,void 0,DS((e=>Dt().gdocs.disabledBeforeForceEnable(e)),(()=>Dt().gdocs.enabledBeforeForceEnable()))):this._prefsBeforeMigration,this.management={uninstallSelf(){chrome.management.uninstallSelf()}},this._baseUrl=(0,t.DV)((()=>chrome.runtime.getURL("")),(e=>null)),this.permissions=chrome.permissions?{watchAdded:e=>{chrome.permissions.onAdded.addListener(e)},added:new qr.y((e=>{const t=t=>{e.next(t)};return chrome.permissions.onAdded.addListener(t),()=>{chrome.permissions.onAdded.removeListener(t)}})),watchRemoved:e=>{chrome.permissions.onRemoved.addListener(e)},removed:new qr.y((e=>{const t=t=>{e.next(t)};return chrome.permissions.onRemoved.addListener(t),()=>{chrome.permissions.onRemoved.removeListener(t)}})),getAll:Ar.fromAsync((()=>new Promise((e=>chrome.permissions.getAll(e))))),request:Ar.fromAsync((e=>new Promise(((t,n)=>chrome.permissions.request(e,(e=>{chrome.runtime.lastError?n(chrome.runtime.lastError):t(e)})))))),contains:Ar.fromAsync((e=>new Promise(((t,n)=>{chrome.permissions.contains(e,(e=>{chrome.runtime.lastError?n(chrome.runtime.lastError):t(e)}))}))))}:void 0,this.fetchBlocklistConfig=()=>Ar.noop,this.getUrl=e=>this._baseUrl?this._baseUrl+e:chrome.runtime.getURL(e),this.fetchInternalResource=(e,t)=>Ar.fromPromise(fetch(this.getUrl(e)).then((e=>"json"===t?e.json():e.arrayBuffer()))),this.openUrl=e=>this.tabs.open(e,!0),this.openPopupSubscriptionDialog=e=>{return this.openUrl((t=e.utmSource,n=e.utmCampaign,zo(G().planComparison,qo({medium:"internal",source:t,campaign:n}))));var t,n},this.openSubscriptionDialog=e=>function(e){const t=R().appConfig.url;self.open(zo(t.planComparison,[...e.isFromEmail?[Uo("isFromEmail","1")]:[],Uo("alerts",RS(OS(e.currentAlerts))),Uo("lensedAlerts",RS(PS(e.currentAlerts))),Uo("app_type","popup"),Uo("browser",U()),...qo({medium:"internal",source:e.isAnonymousUser?"signupHook":"upHook",campaign:e.forceUtmCampaign?e.forceUtmCampaign:e.isAnonymousUser?"extensionPremiumCta":"extensionGButton"})]))}(e),this.isExtensionUrl=(e,t)=>this.getUrl(e)===t,this.reload=()=>chrome.runtime.reload(),this.i18n={detectLanguage:e=>Ar.create(((t,n)=>chrome.i18n.detectLanguage(e,(e=>MS((()=>t(e)),n))))),getUILanguage:()=>chrome.i18n.getUILanguage(),getAcceptLanguages:()=>Ar.create(((e,t)=>chrome.i18n.getAcceptLanguages((n=>MS((()=>e(n)),t)))))},this.initCodeSplittingListener=()=>{return chrome.runtime.onMessage.addListener((e=this.tabs.executeScript,(t,n,r)=>{t&&"CODE_SPLITTING_INJECT"===t.type&&t.file&&n&&n.tab&&null!=n.tab.id&&(e(t.file,Number(n.tab.id),n.frameId),r())}));var e},this.isExtensionInstalled=Ar.fromAsync((async(e,t=!1)=>{if(!t&&void 0!==this.thirdPartyExtensionsInstalled[e])return this.thirdPartyExtensionsInstalled[e];if("undefined"==typeof fetch)return!1;const n=QS.thirdPartyExtensionsData[e].publicResources.reduce(((t,n)=>(M()&&t.push(`chrome-extension://${QS.thirdPartyExtensionsData[e].MSStoreId}${n}`),t.concat(`chrome-extension://${QS.thirdPartyExtensionsData[e].id}${n}`))),[]);return(0,Cr.Wp)(n.map((e=>fetch(e)))).then((e=>!0)).catch((e=>!1))})),this.setUninstallURL=e=>chrome.runtime.setUninstallURL(e),this.message=e?new Po((e=>chrome.runtime.onConnect.addListener((t=>e(new XS(t))))),me(this.tabs).getActiveTab,me(this.tabs).sendMessageToTab,me(this.tabs).getAllTabs):new FS((e=>new BS(chrome,e)),(r=()=>this.preferences.getAll(),async()=>{try{return await r(),!0}catch(e){return!1}}),chrome.runtime.id,chrome.runtime.onMessage)}}QS.thirdPartyExtensionsData={mseditor:{id:"gpaiobkfhnonedkhhfjpmhdalgeoebfa",MSStoreId:"hokifickgkhplphjiodbggjmoafhignh",publicResources:["/fonts/fabric-icons.css"]},office:{id:"ndjpnladcallmjemlbaebfadecfhkepb",MSStoreId:"gggmmkjegpiggikcnhidnjjhmicpibll",publicResources:["/fonts/fabric-icons.css"]}},KS={browser:"chrome",extensionType:"chromiumWebExtension",deploymentType:"regular",browserApi:function(e){return new QS(e)}(!0),gnarSpecClass:class{constructor(e){this.gnar=e}MSEditorConflictPopupOpen(e){return this.gnar.track({action:"open",eventName:"chromeExt/MSEditor-conflictPopup-open",object:"conflictPopup",objectId:"MSEditor",isConflict:e},{lite:!0,sendInstance:!0,sendBrowser:!0,sendUser:!0})}MSEditorInstalled(){return this.gnar.track({action:"installed",eventName:"chromeExt/MSEditor-installed",objectId:"MSEditor"},{lite:!0,sendInstance:!0,sendBrowser:!0,sendUser:!0})}MSOfficeInstalled(e){return this.gnar.track({action:"installed",eventName:"chromeExt/MSOffice-installed",objectId:"MSOffice",isEditorEnabled:e},{lite:!0,sendInstance:!0,sendBrowser:!0,sendUser:!0})}acceptedAlert(e,t,n){return this.gnar.track({eventName:"chromeExt/accepted-alert",object:"alert",objectId:"accepted",experiment:e,sessionId:t,url:n},{lite:!0,sendInstance:!1,sendBrowser:!1,sendUser:!1})}allSettingsButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/allSettings-button-click",object:"button",objectId:"allSettings",placement:e})}appStart(e){return this.gnar.track({action:"start",component:"companion",eventName:"chromeExt/companion/app-start",object:"app",osVersion:e})}assistantCollapsedUpgradeHookShow(){return this.gnar.track({action:"show",eventName:"chromeExt/assistant-collapsedUpgradeHook-show",object:"collapsedUpgradeHook",objectId:"assistant"})}assistantExpandedUpgradeHookClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/assistant-expandedUpgradeHook-click",object:"expandedUpgradeHook",objectId:"assistant",placement:"assistant",alertPremiumCount:e})}assistantExpandedUpgradeHookShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/assistant-expandedUpgradeHook-show",object:"expandedUpgradeHook",objectId:"assistant",alertPremiumCount:e,upgradeButtonVisibleInViewPort:t,reason:n})}assistantFeedbackButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/assistant-feedbackButton-click",object:"feedbackButton",objectId:"assistant",placement:"assistant",entryPoint:e})}assistantFeedbackSubmitButtonClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/assistant-feedbackSubmitButton-click",object:"feedbackSubmitButton",objectId:"assistant",placement:"assistant",entryPoint:e,domain:t,feedback:n,rating:r})}assistantHeaderMessageUpdate(e,t,n,r){return this.gnar.track({action:"update",eventName:"chromeExt/assistant-headerMessage-update",object:"headerMessage",objectId:"assistant",last_message:e,new_message:t,numWords:n,score:r})}assistantPersonalizationEmotionsContinueClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/assistantPersonalization-emotionsContinue-click",object:"emotionsContinue",objectId:"assistantPersonalization",placement:"assistantPersonalizationWizard",emotions:e})}assistantPersonalizationGoalsContinueClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/assistantPersonalization-goalsContinue-click",object:"goalsContinue",objectId:"assistantPersonalization",placement:"assistantPersonalizationWizard",goals:e})}assistantPersonalizationOpenClick(){return this.gnar.track({action:"click",eventName:"chromeExt/assistantPersonalization-open-click",object:"open",objectId:"assistantPersonalization",placement:"assistant"})}assistantPersonalizationPrimaryLanguageContinueClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/assistantPersonalization-primaryLanguageContinue-click",object:"primaryLanguageContinue",objectId:"assistantPersonalization",placement:"assistantPersonalizationWizard",language:e})}assistantPersonalizationRoleContinueClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/assistantPersonalization-roleContinue-click",object:"roleContinue",objectId:"assistantPersonalization",placement:"assistantPersonalizationWizard",role:e})}assistantPopupCloseButtonClick(e,t,n,r,o,i){return this.gnar.track({action:"click",eventName:"chromeExt/assistantPopupClose-button-click",object:"button",objectId:"assistantPopupClose",placement:"assistant",activeView:e,numAlerts:t,numClarityAlerts:n,numInlineAlerts:r,numPriorityAlerts:o,activePopupType:i})}assistantPopupDrag(e,t,n,r,o){return this.gnar.track({action:"drag",eventName:"chromeExt/assistant-popup-drag",object:"popup",objectId:"assistant",finalX:e,finalY:t,height:n,initialX:r,initialY:o})}assistantPopupShow(e,t,n,r,o,i,a,s,u,c,l,d,p,h){return this.gnar.track({action:"show",eventName:"chromeExt/assistant-popup-show",object:"popup",objectId:"assistant",activeView:e,initialHeight:t,initialX:n,initialY:r,numAlerts:o,numClarityAlerts:i,numInlineAlerts:a,numPriorityAlerts:s,numWords:u,positionLogic:c,sessionUuid:l,activePopupType:d,openMs:p,score:h})}assistantPriorityDropdownClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/assistant-priorityDropdown-click",object:"priorityDropdown",objectId:"assistant",placement:"assistant",view:e})}assistantSettingsShow(){return this.gnar.track({action:"show",eventName:"chromeExt/assistant-settings-show",object:"settings",objectId:"assistant",placement:"assistant"})}attentionChecklistItemExpand(e,t,n,r,o){return this.gnar.track({action:"expand",eventName:"chromeExt/attention-checklistItem-expand",object:"checklistItem",objectId:"attention",checked:e,id:t,numAlerts:n,sessionUuid:r,title:o})}attentionHelpScreenShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/attention-helpScreen-show",launchSource:"headerButton",object:"helpScreen",objectId:"attention",sessionUuid:e})}attentionKeyTakeawayAcknowledged(e,t,n,r,o){return this.gnar.track({action:"acknowledged",eventName:"chromeExt/attention-keyTakeaway-acknowledged",object:"keyTakeaway",objectId:"attention",isLikelyToReadTakeaway:e,sessionUuid:t,takeawayPositionEnd:n,takeawayPositionStart:r,takeawayScore:o})}attentionKeyTakeawayCardShow(e,t,n,r){return this.gnar.track({action:"show",eventName:"chromeExt/attention-keyTakeawayCard-show",object:"keyTakeawayCard",objectId:"attention",sessionUuid:e,takeawayPositionEnd:t,takeawayPositionStart:n,takeawayScore:r})}attentionKeyTakeawayFeedbackClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/attention-keyTakeawayFeedback-click",object:"keyTakeawayFeedback",objectId:"attention",sessionUuid:e,takeawayPositionEnd:t,takeawayPositionStart:n,takeawayScore:r,value:o})}attentionKeyTakeawayIgnored(e,t,n,r,o){return this.gnar.track({action:"ignored",eventName:"chromeExt/attention-keyTakeaway-ignored",object:"keyTakeaway",objectId:"attention",isLikelyToReadTakeaway:e,sessionUuid:t,takeawayPositionEnd:n,takeawayPositionStart:r,takeawayScore:o})}attentionPanelHide(e,t,n,r,o,i,a,s,u,c,l,d,p,h,f,g,m,y,v,b){return this.gnar.track({action:"hide",eventName:"chromeExt/attention-panel-hide",object:"panel",objectId:"attention",checklistOnClose:e,checklistOnOpen:t,finalNumWords:n,finalTextScore:r,initialNumWords:o,initialTextScore:i,launchSource:a,launchSourceLabel:s,numFormattingSpansOnClose:u,numFormattingSpansOnOpen:c,numItemsCheckedOnClose:l,numItemsCheckedOnOpen:d,numNonTransformCardsOnClose:p,numNonTransformCardsOnOpen:h,numParagraphsOnClose:f,numParagraphsOnOpen:g,numTransformCardsOnClose:m,numTransformCardsOnOpen:y,sessionDurationMs:v,sessionUuid:b})}attentionPanelShow(e,t,n,r,o,i,a,s,u,c,l,d,p){return this.gnar.track({action:"show",eventName:"chromeExt/attention-panel-show",object:"panel",objectId:"attention",checklist:e,launchSource:t,launchSourceLabel:n,numAlerts:r,numClarityAlerts:o,numInlineAlerts:i,numItemsChecked:a,numNonTransformCards:s,numPriorityAlerts:u,numTransformCards:c,numWords:l,sessionUuid:d,textScore:p})}attentionScoreFullCardDismissButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/attentionScore-fullCardDismissButton-click",object:"fullCardDismissButton",objectId:"attentionScore"})}attentionScoreFullCardHide(e,t,n,r){return this.gnar.track({action:"hide",eventName:"chromeExt/attentionScore-fullCard-hide",object:"fullCard",objectId:"attentionScore",finalNumWords:e,finalTextScore:t,initialNumWords:n,initialTextScore:r})}attentionScoreFullCardSeeSuggestionsButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/attentionScore-fullCardSeeSuggestionsButton-click",object:"fullCardSeeSuggestionsButton",objectId:"attentionScore"})}attentionScoreFullCardShow(e,t){return this.gnar.track({action:"show",eventName:"chromeExt/attentionScore-fullCard-show",object:"fullCard",objectId:"attentionScore",numWords:e,textScore:t})}autocompleteFeatureToggleClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/autocomplete/feature-toggle-click",feature:"autocomplete",object:"toggle",objectId:"feature",placement:e,state:t})}autocompleteFeedbackButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/autocomplete/feedback-button-click",feature:"autocomplete",object:"button",objectId:"feedback",placement:"inline"})}autocompleteFeedbackFormCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/autocomplete/feedbackFormClose-button-click",feature:"autocomplete",object:"button",objectId:"feedbackFormClose",placement:e})}autocompleteFeedbackFormSubmitButtonClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/autocomplete/feedbackFormSubmit-button-click",feature:"autocomplete",object:"button",objectId:"feedbackFormSubmit",placement:"footer",alertId:e,reason:t,reasonText:n,additionalFeedback:r})}autocompleteLestradeSuggestionAccepted(e,t,n,r,o,i){return this.gnar.track({action:"accepted",eventName:"chromeExt/autocomplete/lestrade-suggestion-accepted",feature:"autocomplete",object:"suggestion",objectId:"lestrade",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteLestradeSuggestionIgnored(e,t,n,r,o,i){return this.gnar.track({action:"ignored",eventName:"chromeExt/autocomplete/lestrade-suggestion-ignored",feature:"autocomplete",object:"suggestion",objectId:"lestrade",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteLestradeSuggestionRejected(e,t,n,r,o,i){return this.gnar.track({action:"rejected",eventName:"chromeExt/autocomplete/lestrade-suggestion-rejected",feature:"autocomplete",object:"suggestion",objectId:"lestrade",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteLestradeSuggestionShown(e,t,n,r,o,i){return this.gnar.track({action:"shown",eventName:"chromeExt/autocomplete/lestrade-suggestion-shown",feature:"autocomplete",object:"suggestion",objectId:"lestrade",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteSherlockSuggestionAccepted(e,t,n,r,o,i){return this.gnar.track({action:"accepted",eventName:"chromeExt/autocomplete/sherlock-suggestion-accepted",feature:"autocomplete",object:"suggestion",objectId:"sherlock",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteSherlockSuggestionIgnored(e,t,n,r,o,i){return this.gnar.track({action:"ignored",eventName:"chromeExt/autocomplete/sherlock-suggestion-ignored",feature:"autocomplete",object:"suggestion",objectId:"sherlock",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteSherlockSuggestionRejected(e,t,n,r,o,i){return this.gnar.track({action:"rejected",eventName:"chromeExt/autocomplete/sherlock-suggestion-rejected",feature:"autocomplete",object:"suggestion",objectId:"sherlock",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteSherlockSuggestionShown(e,t,n,r,o,i){return this.gnar.track({action:"shown",eventName:"chromeExt/autocomplete/sherlock-suggestion-shown",feature:"autocomplete",object:"suggestion",objectId:"sherlock",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteWatsonSuggestionAccepted(e,t,n,r,o,i){return this.gnar.track({action:"accepted",eventName:"chromeExt/autocomplete/watson-suggestion-accepted",feature:"autocomplete",object:"suggestion",objectId:"watson",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteWatsonSuggestionIgnored(e,t,n,r,o,i){return this.gnar.track({action:"ignored",eventName:"chromeExt/autocomplete/watson-suggestion-ignored",feature:"autocomplete",object:"suggestion",objectId:"watson",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteWatsonSuggestionRejected(e,t,n,r,o,i){return this.gnar.track({action:"rejected",eventName:"chromeExt/autocomplete/watson-suggestion-rejected",feature:"autocomplete",object:"suggestion",objectId:"watson",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocompleteWatsonSuggestionShown(e,t,n,r,o,i){return this.gnar.track({action:"shown",eventName:"chromeExt/autocomplete/watson-suggestion-shown",feature:"autocomplete",object:"suggestion",objectId:"watson",emailId:e,mode:t,patternName:n,suggestionId:r,suggestionLength:o,suggestionWordCount:i})}autocorrectToggleClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/autocorrect-toggle-click",object:"toggle",objectId:"autocorrect",state:e})}brandTonesActivationUphookCTAButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/brandTonesActivationUphookCTA-button-click",object:"button",objectId:"brandTonesActivationUphookCTA",placement:e})}brandTonesActivationUphookDismissButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/brandTonesActivationUphookDismiss-button-click",object:"button",objectId:"brandTonesActivationUphookDismiss",placement:e})}brandTonesActivationUphookShow(){return this.gnar.track({action:"show",eventName:"chromeExt/brandTonesActivation-uphook-show",object:"uphook",objectId:"brandTonesActivation"})}businessGButtonCloseButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/business/gButtonClose-button-click",feature:"business",object:"button",objectId:"gButtonClose",isSimpleView:e,placement:t})}businessGButtonHideTodayButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/business/gButtonHideToday-button-click",feature:"business",object:"button",objectId:"gButtonHideToday",placement:e})}businessGButtonSigninButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/business/gButtonSignin-button-click",feature:"business",object:"button",objectId:"gButtonSignin",isSimpleView:e,placement:t})}businessGButtonSigninPopupResetPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/business/gButtonSigninPopupReset-popup-show",feature:"business",object:"popup",objectId:"gButtonSigninPopupReset"})}businessGButtonSigninPopupShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/business/gButtonSignin-popup-show",feature:"business",object:"popup",objectId:"gButtonSignin",isSimpleView:e})}businessInlineCardSigninButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/business/inlineCardSignin-button-click",feature:"business",object:"button",objectId:"inlineCardSignin",placement:e})}businessInlineCardSigninPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/business/inlineCardSignin-popup-show",feature:"business",object:"popup",objectId:"inlineCardSignin"})}businessToolBarSigninButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/business/toolBarSignin-button-click",feature:"business",object:"button",objectId:"toolBarSignin",placement:e})}businessUphookPopupCtaButtonClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/businessUphookPopupCta-button-click",object:"button",objectId:"businessUphookPopupCta",domainCategory:e,placement:t,popupType:n})}businessUphookPopupDismissButtonClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/businessUphookPopupDismiss-button-click",object:"button",objectId:"businessUphookPopupDismiss",domainCategory:e,placement:t,popupType:n,doNotShowAgain:r})}businessUphookPopupShow(e,t){return this.gnar.track({action:"show",eventName:"chromeExt/businessUphook-popup-show",object:"popup",objectId:"businessUphook",domainCategory:e,popupType:t})}capturedException(e,t,n){return this.gnar.track({eventName:"chromeExt/captured-exception",object:"exception",objectId:"captured",experiment:e,sessionId:t,url:n},{lite:!0,sendInstance:!1,sendBrowser:!1,sendUser:!1})}cardSeeMoreButtonClick(e,t,n,r,o,i){return this.gnar.track({action:"click",eventName:"chromeExt/cardSeeMore-button-click",object:"button",objectId:"cardSeeMore",placement:"inlineCard",numAlerts:e,numClarityAlerts:t,numInlineAlerts:n,numPriorityAlerts:r,numWords:o,outcome:i})}categoryDeactivatedShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/categoryDeactivated-show",objectId:"categoryDeactivated",placement:e})}changeLensButtonClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/changeLens-button-click",object:"button",objectId:"changeLens",lens:e,numAllAlerts:t,numChars:n,numPriorityAlerts:r,placement:o})}checkingToggleClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/checking-toggle-click",object:"toggle",objectId:"checking",placement:e,siteCategory:t,state:n})}chipmunkBackendFailure(e,t){return this.gnar.track({action:"failure",eventName:"chromeExt/chipmunk-backend-failure",object:"backend",objectId:"chipmunk",errorMessage:e,requestType:t})}chipmunkMessageCTAClick(e,t){return this.gnar.track({action:"CTAClick",eventName:"chromeExt/chipmunk-message-CTAClick",object:"message",objectId:"chipmunk",campaignName:e,messageId:t})}chipmunkMessageDisplayed(e,t){return this.gnar.track({action:"displayed",eventName:"chromeExt/chipmunk-message-displayed",object:"message",objectId:"chipmunk",campaignName:e,messageId:t})}chipmunkMessageHardDismissed(e,t){return this.gnar.track({action:"hardDismissed",eventName:"chromeExt/chipmunk-message-hardDismissed",object:"message",objectId:"chipmunk",campaignName:e,messageId:t})}chipmunkMessageReceived(e,t){return this.gnar.track({action:"received",eventName:"chromeExt/chipmunk-message-received",object:"message",objectId:"chipmunk",campaignName:e,messageId:t})}chipmunkMessageSoftDismissed(e,t){return this.gnar.track({action:"softDismissed",eventName:"chromeExt/chipmunk-message-softDismissed",object:"message",objectId:"chipmunk",campaignName:e,messageId:t})}citeCopyButtonClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/citeCopy-button-click",object:"button",objectId:"citeCopy",citationFormat:e,domain:t,sessionId:n,sourceType:r,wasManuallyInvoked:o})}citeCopyIntextClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/citeCopy-intext-click",object:"intext",objectId:"citeCopy",citationFormat:e,domain:t,sessionId:n,sourceType:r,wasManuallyInvoked:o})}citePopupAddMissingClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/citePopup-addMissing-click",object:"addMissing",objectId:"citePopup",domain:e,sessionId:t,wasManuallyInvoked:n})}citePopupButtonClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/citePopup-button-click",object:"button",objectId:"citePopup",domain:e,sessionId:t,wasManuallyInvoked:n})}citePopupButtonDisable(e,t,n,r,o){return this.gnar.track({action:"disable",eventName:"chromeExt/citePopup-button-disable",object:"button",objectId:"citePopup",domain:e,duration:t,sessionId:n,source:r,wasManuallyInvoked:o})}citePopupButtonShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/citePopup-button-show",object:"button",objectId:"citePopup",source:"citePopup-loader",domain:e,sessionId:t,wasManuallyInvoked:n})}citePopupEditClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/citePopup-edit-click",object:"edit",objectId:"citePopup",domain:e,sessionId:t,wasManuallyInvoked:n})}citePopupEditSuccess(e,t,n){return this.gnar.track({action:"success",eventName:"chromeExt/citePopup-edit-success",object:"edit",objectId:"citePopup",domain:e,sessionId:t,wasManuallyInvoked:n})}citePopupMissingInfoFormShow(e,t,n,r){return this.gnar.track({action:"show",eventName:"chromeExt/citePopup-missingInfoForm-show",object:"missingInfoForm",objectId:"citePopup",domain:e,isShownDirectly:t,sessionId:n,wasManuallyInvoked:r})}citePopupMissingInfoShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/citePopup-missingInfo-show",object:"missingInfo",objectId:"citePopup",domain:e,sessionId:t,wasManuallyInvoked:n})}claimedInvitationButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/claimedInvitation-button-click",object:"button",objectId:"claimedInvitation",placement:"claimedInvitationPopup"})}claimedInvitationPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/claimedInvitation-popup-show",object:"popup",objectId:"claimedInvitation"})}clickToRunOptionButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/clickToRunOption-button-click",object:"button",objectId:"clickToRunOption",placement:"clickToRunPopup",option:e})}continueWithPlanButtonClick(e,t,n,r){return this.gnar.track({action:"click",component:"companion",eventName:"chromeExt/companion/continueWithPlan-button-click",object:"button",objectId:"continueWithPlan",osVersion:e,pageId:t,placement:n,productId:r})}definitionPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/definition-popup-show",object:"popup",objectId:"definition"})}definitionToggleClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/definition-toggle-click",object:"toggle",objectId:"definition",state:e})}desktopIntegrationDisabled(){return this.gnar.track({action:"disabled",eventName:"chromeExt/desktopIntegration-disabled",objectId:"desktopIntegration"})}desktopIntegrationEnabled(e){return this.gnar.track({action:"enabled",eventName:"chromeExt/desktopIntegration-enabled",objectId:"desktopIntegration",reason:e})}desktopIntegrationGDocsRedirect(e){return this.gnar.track({action:"redirect",eventName:"chromeExt/desktopIntegrationGDocs-redirect",objectId:"desktopIntegrationGDocs",source:e})}desktopIntegrationToggleClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/desktopIntegration-toggle-click",object:"toggle",objectId:"desktopIntegration",state:e})}disableButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/disable-button-click",object:"button",objectId:"disable",placement:e,domain:t})}disableReminderDoNotShowAgainButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/disableReminderDoNotShowAgain-button-click",object:"button",objectId:"disableReminderDoNotShowAgain",placement:e})}disableReminderNotificationShow(){return this.gnar.track({action:"show",eventName:"chromeExt/disableReminder-notification-show",object:"notification",objectId:"disableReminder"})}disableUntilNextVisitButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/disableUntilNextVisit-button-click",object:"button",objectId:"disableUntilNextVisit",placement:e,siteCategory:t})}draftAIPopupCloseClick(){return this.gnar.track({action:"click",eventName:"chromeExt/draftAIPopup-close-click",object:"close",objectId:"draftAIPopup",placement:"popup"})}draftAIPopupCtaClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/draftAIPopup-cta-click",object:"cta",objectId:"draftAIPopup",placement:"popup",ctaType:e})}draftAIPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/draftAI-popup-show",object:"popup",objectId:"draftAI"})}dunningCTAButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/dunningCTA-button-click",object:"button",objectId:"dunningCTA",placement:e})}dunningCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/dunningClose-button-click",object:"button",objectId:"dunningClose",placement:e})}dunningMessageDunningCTAButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/dunningMessage/dunningCTA-button-click",feature:"dunningMessage",object:"button",objectId:"dunningCTA",placement:e})}dunningMessageDunningCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/dunningMessage/dunningClose-button-click",feature:"dunningMessage",object:"button",objectId:"dunningClose",placement:e})}dunningMessageDunningNotificationNotificationShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/dunningMessage/dunningNotification-notification-show",feature:"dunningMessage",object:"notification",objectId:"dunningNotification",placement:e})}dunningNotificationNotificationShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/dunningNotification-notification-show",object:"notification",objectId:"dunningNotification",placement:e})}editorInit(e,t,n,r){return this.gnar.track({action:"init",eventName:"chromeExt/editor-init",object:"editor",docId:e,mode:t,cssBundle:n,jsBundle:r})}emailSummarizationAcceptButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/emailSummarizationAccept-button-click",object:"button",objectId:"emailSummarizationAccept",docId:e,placement:t})}emailSummarizationBadgeShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/emailSummarization-badge-show",object:"badge",objectId:"emailSummarization",docId:e})}emailSummarizationDisableButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/emailSummarizationDisable-button-click",object:"button",objectId:"emailSummarizationDisable",docId:e,placement:t})}emailSummarizationExpandButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/emailSummarizationExpand-button-click",object:"button",objectId:"emailSummarizationExpand",docId:e,placement:t})}emailSummarizationIgnoreButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/emailSummarizationIgnore-button-click",object:"button",objectId:"emailSummarizationIgnore",docId:e,placement:t})}emailSummarizationPopupShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/emailSummarization-popup-show",object:"popup",objectId:"emailSummarization",docId:e})}emogenieInGButtonTooltipShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/emogenieInGButton-tooltip-show",object:"tooltip",objectId:"emogenieInGButton",prevalentEmotion:e})}emogeniePredictionButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/emogeniePrediction-button-click",object:"button",objectId:"emogeniePrediction",placement:"assistant",prevalentEmotion:e})}emogenieReportShow(e,t,n,r){return this.gnar.track({action:"show",eventName:"chromeExt/emogenie-report-show",object:"report",objectId:"emogenie",emotions:e,isBrandTonesEnabled:t,numberEmotionsShown:n,sessionUuid:r})}emogenieShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/emogenie-show",object:"emogenie",docId:e,emotions:t,numberEmotionsShown:n})}emogenieTooltipShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/emogenie-tooltip-show",object:"tooltip",objectId:"emogenie",prevalentEmotion:e})}enterpriseSiteClarityNotificationClick(){return this.gnar.track({action:"click",eventName:"chromeExt/enterpriseSiteClarity-notification-click",object:"notification",objectId:"enterpriseSiteClarity"})}enterpriseSiteClarityNotificationShow(){return this.gnar.track({action:"show",eventName:"chromeExt/enterpriseSiteClarity-notification-show",object:"notification",objectId:"enterpriseSiteClarity"})}enterpriseSiteToneDetectorNotificationClick(){return this.gnar.track({action:"click",eventName:"chromeExt/enterpriseSiteToneDetector-notification-click",object:"notification",objectId:"enterpriseSiteToneDetector"})}enterpriseSiteToneDetectorNotificationShow(){return this.gnar.track({action:"show",eventName:"chromeExt/enterpriseSiteToneDetector-notification-show",object:"notification",objectId:"enterpriseSiteToneDetector"})}ethicalAIAlertTriggered(e){return this.gnar.track({action:"triggered",eventName:"chromeExt/ethicalAI/alert-triggered",feature:"ethicalAI",objectId:"alert",sensitivityType:e})}ethicalAIAlertUnderlineClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/ethicalAI/alert-underline-click",feature:"ethicalAI",object:"underline",objectId:"alert",sensitivityType:e})}ethicalAIAlertUnderlineShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/ethicalAI/alert-underline-show",feature:"ethicalAI",object:"underline",objectId:"alert",sensitivityType:e})}ethicalAIAssistantFullCardDismissButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/ethicalAI/assistant-fullCardDismissButton-click",feature:"ethicalAI",object:"fullCardDismissButton",objectId:"assistant",sensitivityType:e})}ethicalAIAssistantFullCardExternalLinkButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/ethicalAI/assistant-fullCardExternalLinkButton-click",feature:"ethicalAI",object:"fullCardExternalLinkButton",objectId:"assistant",externalLink:e,sensitivityType:t})}ethicalAIAssistantFullCardLearnMoreButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/ethicalAI/assistant-fullCardLearnMoreButton-click",feature:"ethicalAI",object:"fullCardLearnMoreButton",objectId:"assistant",sensitivityType:e})}ethicalAIAssistantFullCardShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/ethicalAI/assistant-fullCard-show",feature:"ethicalAI",object:"fullCard",objectId:"assistant",sensitivityType:e})}ethicalAIAssistantMiniCardShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/ethicalAI/assistant-miniCard-show",feature:"ethicalAI",object:"miniCard",objectId:"assistant",sensitivityType:e})}expandedGButtonYellowPremiumButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/expandedGButtonYellowPremium-button-click",object:"button",objectId:"expandedGButtonYellowPremium",numberOfAdvancedAlerts:e,placement:t})}extensionLoaded(e){return this.gnar.track({action:"loaded",eventName:"chromeExt/extension-loaded",objectId:"extension",oldVersion:e})}facebookSignInButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/facebookSignIn-button-click",object:"button",objectId:"facebookSignIn",placement:e})}facebookSignUpButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/facebookSignUp-button-click",object:"button",objectId:"facebookSignUp",placement:e})}featureToggleClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/feature-toggle-click",object:"toggle",objectId:"feature",state:e,domain:t})}featuresUnavailablePopupDisableButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/featuresUnavailablePopupDisable-button-click",object:"button",objectId:"featuresUnavailablePopupDisable",placement:"featuresUnavailablePopup"})}featuresUnavailablePopupDismissButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/featuresUnavailablePopupDismiss-button-click",object:"button",objectId:"featuresUnavailablePopupDismiss",placement:"featuresUnavailablePopup"})}featuresUnavailablePopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/featuresUnavailable-popup-show",object:"popup",objectId:"featuresUnavailable"})}feedbackFormSubmit(e,t,n,r){return this.gnar.track({action:"submit",eventName:"chromeExt/feedback-form-submit",object:"form",objectId:"feedback",mood:e,uiType:t,domain:n,message:r})}feedbackPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/feedback-popup-show",object:"popup",objectId:"feedback",placement:"gdocs"})}feedbackSentButtonClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/feedbackSent-button-click",object:"button",objectId:"feedbackSent",feedback:e,placement:t,score:n})}firstAcceptFooterShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/firstAccept-footer-show",object:"footer",objectId:"firstAccept",category:e,placement:t,domainCategory:n})}freePremiumCardShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/freePremium-card-show",object:"card",objectId:"freePremium",outcome:e,sessionUuid:t,domainCategory:n})}freePremiumSuggestionAcceptButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/freePremiumSuggestionAccept-button-click",object:"button",objectId:"freePremiumSuggestionAccept",placement:e})}freePremiumUphookPopupButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/freePremiumUphookPopup-button-click",object:"button",objectId:"freePremiumUphookPopup",placement:e})}freePremiumUphookPopupShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/freePremiumUphook-popup-show",object:"popup",objectId:"freePremiumUphook",blocked:e})}gButtonClick(e,t,n,r,o,i,a,s,u,c,l,d){return this.gnar.track({action:"click",eventName:"chromeExt/g-button-click",object:"button",objectId:"g",assistantType:e,docId:t,hasTone:n,numAlerts:r,numClarityAlerts:o,numInlineAlerts:i,numPriorityAlerts:a,numWords:s,numberOfAdvancedAlerts:u,numberOfCriticalAlerts:c,placement:l,tone:d})}gbBillingMigrationCloseButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/gbBillingMigrationClose-button-click",object:"button",objectId:"gbBillingMigrationClose",placement:"AccountMigrationNotification"})}gbBillingMigrationNotificationShow(){return this.gnar.track({action:"show",eventName:"chromeExt/gbBillingMigration-notification-show",object:"notification",objectId:"gbBillingMigration"})}gbBillingMigrationUpdateBillingButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/gbBillingMigrationUpdateBilling-button-click",object:"button",objectId:"gbBillingMigrationUpdateBilling",placement:"AccountMigrationNotification"})}gbPromptAcceptClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gbPrompt-accept-click",object:"accept",objectId:"gbPrompt",patternName:e})}gbPromptDismissClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gbPrompt-dismiss-click",object:"dismiss",objectId:"gbPrompt",patternName:e})}gbPromptFormShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/gbPrompt-form-show",object:"form",objectId:"gbPrompt",patternName:e})}gdocsEditorInit(e,t,n,r){return this.gnar.track({action:"init",eventName:"chromeExt/gdocs/editor-init",feature:"gdocs",object:"editor",docId:e,mode:t,cssBundle:n,jsBundle:r})}gdocsFeaturesUnavailablePopupDisableButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/featuresUnavailablePopupDisable-button-click",feature:"gdocs",object:"button",objectId:"featuresUnavailablePopupDisable",placement:"featuresUnavailablePopup"})}gdocsFeaturesUnavailablePopupDismissButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/featuresUnavailablePopupDismiss-button-click",feature:"gdocs",object:"button",objectId:"featuresUnavailablePopupDismiss",placement:"featuresUnavailablePopup"})}gdocsFeaturesUnavailablePopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/gdocs/featuresUnavailable-popup-show",feature:"gdocs",object:"popup",objectId:"featuresUnavailable"})}gdocsLargeDocumentButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/largeDocument-button-click",feature:"gdocs",object:"button",objectId:"largeDocument",placement:e})}gdocsLargeDocumentPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/gdocs/largeDocument-popup-show",feature:"gdocs",object:"popup",objectId:"largeDocument"})}gdocsNotificationButtonClick(e,t,n,r,o,i,a,s){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/notification-button-click",feature:"gdocs",object:"button",objectId:"notification",isDocumentOwner:e,placement:t,docAlertCount:n,documentLength:r,inlineAlertCount:o,nonHiddenClarityAlertCount:i,nonInlineAlertCount:a,notificationType:s})}gdocsOfflinePageReloadButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/offlinePageReload-button-click",feature:"gdocs",object:"button",objectId:"offlinePageReload",placement:e})}gdocsOfflinePopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/gdocs/offline-popup-show",feature:"gdocs",object:"popup",objectId:"offline"})}gdocsOpenEditorButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/openEditor-button-click",feature:"gdocs",object:"button",objectId:"openEditor",placement:e})}gdocsPremiumUphookButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/premiumUphook-button-click",feature:"gdocs",object:"button",objectId:"premiumUphook",placement:e})}gdocsRegisterPromptButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/registerPrompt-button-click",feature:"gdocs",object:"button",objectId:"registerPrompt",placement:e})}gdocsRegisterPromptPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/gdocs/registerPrompt-popup-show",feature:"gdocs",object:"popup",objectId:"registerPrompt"})}gdocsSharedDocumentButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/sharedDocument-button-click",feature:"gdocs",object:"button",objectId:"sharedDocument",placement:e})}gdocsSharedDocumentDismissClick(){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/sharedDocument-dismiss-click",feature:"gdocs",object:"dismiss",objectId:"sharedDocument"})}gdocsSharedDocumentPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/gdocs/sharedDocument-popup-show",feature:"gdocs",object:"popup",objectId:"sharedDocument"})}gdocsShowPremiumAlertsToggleClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/showPremiumAlerts-toggle-click",feature:"gdocs",object:"toggle",objectId:"showPremiumAlerts",state:e})}gdocsSidebarChangeLensButtonClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/gdocsSidebar/changeLens-button-click",feature:"gdocsSidebar",object:"button",objectId:"changeLens",lens:e,numAllAlerts:t,numChars:n,numPriorityAlerts:r,placement:o})}gdocsSidebarClose(e,t,n,r,o,i,a,s){return this.gnar.track({action:"close",eventName:"chromeExt/gdocs-sidebar-close",object:"sidebar",objectId:"gdocs",isDocumentOwner:e,reason:t,docAlertCount:n,documentLength:r,inlineAlertCount:o,nonHiddenClarityAlertCount:i,nonInlineAlertCount:a,notificationType:s})}gdocsSidebarGdocsSidebarClose(e,t,n,r,o,i,a,s){return this.gnar.track({action:"close",eventName:"chromeExt/gdocsSidebar/gdocs-sidebar-close",feature:"gdocsSidebar",object:"sidebar",objectId:"gdocs",isDocumentOwner:e,reason:t,docAlertCount:n,documentLength:r,inlineAlertCount:o,nonHiddenClarityAlertCount:i,nonInlineAlertCount:a,notificationType:s})}gdocsSidebarGdocsSidebarShow(e,t,n,r,o,i,a,s){return this.gnar.track({action:"show",eventName:"chromeExt/gdocsSidebar/gdocs-sidebar-show",feature:"gdocsSidebar",object:"sidebar",objectId:"gdocs",isDocumentOwner:e,reason:t,docAlertCount:n,documentLength:r,inlineAlertCount:o,nonHiddenClarityAlertCount:i,nonInlineAlertCount:a,notificationType:s})}gdocsSidebarNotificationSidebarShow(e,t,n,r,o,i,a){return this.gnar.track({action:"show",eventName:"chromeExt/gdocsSidebar/notification-sidebar-show",feature:"gdocsSidebar",object:"sidebar",objectId:"notification",isDocumentOwner:e,docAlertCount:t,documentLength:n,inlineAlertCount:r,nonHiddenClarityAlertCount:o,nonInlineAlertCount:i,notificationType:a})}gdocsSidebarOpenLensButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/gdocsSidebar/openLens-button-click",feature:"gdocsSidebar",object:"button",objectId:"openLens",lensName:e})}gdocsSidebarShow(e,t,n,r,o,i,a,s){return this.gnar.track({action:"show",eventName:"chromeExt/gdocs-sidebar-show",object:"sidebar",objectId:"gdocs",isDocumentOwner:e,reason:t,docAlertCount:n,documentLength:r,inlineAlertCount:o,nonHiddenClarityAlertCount:i,nonInlineAlertCount:a,notificationType:s})}gdocsVersionMismatchPopupDismissButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/versionMismatchPopupDismiss-button-click",feature:"gdocs",object:"button",objectId:"versionMismatchPopupDismiss",placement:"versionMismatchPopup"})}gdocsVersionMismatchPopupReloadButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/gdocs/versionMismatchPopupReload-button-click",feature:"gdocs",object:"button",objectId:"versionMismatchPopupReload",placement:"versionMismatchPopup"})}gdocsVersionMismatchPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/gdocs/versionMismatch-popup-show",feature:"gdocs",object:"popup",objectId:"versionMismatch"})}getGBButtonClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/getGB-button-click",object:"button",objectId:"getGB",placement:e,bannerType:t,hasToneSuggestions:n,siteCategory:r})}getGBButtonShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/getGB-button-show",object:"button",objectId:"getGB",placement:e,hasToneSuggestions:t,siteCategory:n})}getGBDismissClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/getGB-dismiss-click",object:"dismiss",objectId:"getGB",placement:e,hasToneSuggestions:t,siteCategory:n})}getPremiumButtonClick(e,t,n,r,o,i,a,s,u,c,l){return this.gnar.track({action:"click",eventName:"chromeExt/getPremium-button-click",object:"button",objectId:"getPremium",placement:e,bannerType:t,clarityAlerts:n,correctnessAlerts:r,deliveryAlerts:o,engagementAlerts:i,inline:a,numberOfAdvancedAlerts:s,numberOfCriticalAlerts:u,upgradeHookName:c,upgradeHookSlot:l})}getPremiumButtonShow(e,t,n,r,o,i,a,s,u,c,l){return this.gnar.track({action:"show",eventName:"chromeExt/getPremium-button-show",object:"button",objectId:"getPremium",placement:e,bannerType:t,clarityAlerts:n,correctnessAlerts:r,deliveryAlerts:o,engagementAlerts:i,inline:a,numberOfAdvancedAlerts:s,numberOfCriticalAlerts:u,upgradeHookName:c,upgradeHookSlot:l})}getStartedChecklistComplete(e){return this.gnar.track({action:"complete",eventName:"chromeExt/getStarted-checklist-complete",object:"checklist",objectId:"getStarted",placement:e})}getStartedChecklistReview(e){return this.gnar.track({action:"review",eventName:"chromeExt/getStarted-checklist-review",object:"checklist",objectId:"getStarted",placement:e})}getStartedChecklistShow(e,t){return this.gnar.track({action:"show",eventName:"chromeExt/getStarted-checklist-show",object:"checklist",objectId:"getStarted",stepsCompleted:e,type:t})}getStartedItemCollapse(e,t){return this.gnar.track({action:"collapse",eventName:"chromeExt/getStarted-item-collapse",object:"item",objectId:"getStarted",status:e,type:t})}getStartedItemExpand(e,t){return this.gnar.track({action:"expand",eventName:"chromeExt/getStarted-item-expand",object:"item",objectId:"getStarted",status:e,type:t})}getStartedLinkClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/getStarted-link-click",object:"link",objectId:"getStarted",installedProducts:e,link:t,type:n,completedItemsCount:r,totalItemsCount:o})}getStartedSectionClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/getStarted-section-click",object:"section",objectId:"getStarted",status:e,type:t})}getStartedTooltipShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/getStarted-tooltip-show",object:"tooltip",objectId:"getStarted",placement:e})}goalsFormSuccess(e,t,n,r,o,i,a){return this.gnar.track({action:"success",eventName:"chromeExt/goals-form-success",object:"form",objectId:"goals",domain:e,intent:t,source:n,academicType:r,audience:o,citationFormat:i,style:a})}goalsPopupShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/goals-popup-show",object:"popup",objectId:"goals",source:e})}googleSignInButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/googleSignIn-button-click",object:"button",objectId:"googleSignIn",placement:e})}googleSignUpButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/googleSignUp-button-click",object:"button",objectId:"googleSignUp",placement:e})}grammarlyGuardFeatureToggleClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/grammarlyGuard/feature-toggle-click",feature:"grammarlyGuard",object:"toggle",objectId:"feature",state:e,domain:t})}grammarlyGuardInlineSuggestionClick(){return this.gnar.track({action:"click",eventName:"chromeExt/grammarlyGuard/inlineSuggestion-click",feature:"grammarlyGuard",objectId:"inlineSuggestion"})}grammarlyGuardInlineSuggestionDismiss(e){return this.gnar.track({action:"dismiss",eventName:"chromeExt/grammarlyGuard/inlineSuggestion-dismiss",feature:"grammarlyGuard",objectId:"inlineSuggestion",suggestionsCount:e})}grammarlyGuardInlineSuggestionSent(e){return this.gnar.track({action:"sent",eventName:"chromeExt/grammarlyGuard/inlineSuggestion-sent",feature:"grammarlyGuard",objectId:"inlineSuggestion",suggestionsCount:e})}grammarlyGuardInlineSuggestionShow(){return this.gnar.track({action:"show",eventName:"chromeExt/grammarlyGuard/inlineSuggestion-show",feature:"grammarlyGuard",objectId:"inlineSuggestion"})}grantAccessToAllSites(){return this.gnar.track({action:"grantAccessToAllSites",eventName:"chromeExt/grantAccessToAllSites"})}grantAccessToSpecificSite(){return this.gnar.track({action:"grantAccessToSpecificSite",eventName:"chromeExt/grantAccessToSpecificSite"})}initializedExtension(e,t,n){return this.gnar.track({eventName:"chromeExt/initialized-extension",object:"extension",objectId:"initialized",experiment:e,sessionId:t,url:n},{lite:!0,sendInstance:!1,sendBrowser:!1,sendUser:!1})}inlineSuggestionClick(){return this.gnar.track({action:"click",eventName:"chromeExt/inlineSuggestion-click",objectId:"inlineSuggestion"})}inlineSuggestionDismiss(e){return this.gnar.track({action:"dismiss",eventName:"chromeExt/inlineSuggestion-dismiss",objectId:"inlineSuggestion",suggestionsCount:e})}inlineSuggestionSent(e){return this.gnar.track({action:"sent",eventName:"chromeExt/inlineSuggestion-sent",objectId:"inlineSuggestion",suggestionsCount:e})}inlineSuggestionShow(){return this.gnar.track({action:"show",eventName:"chromeExt/inlineSuggestion-show",objectId:"inlineSuggestion"})}install(e){return this.gnar.track({action:"install",eventName:"chromeExt/install",installSource:e})}knowledgeHubAlertPointPeopleClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/knowledgeHub/alert-pointPeople-click",feature:"knowledgeHub",object:"pointPeople",objectId:"alert",actionOnClick:e,site:t})}knowledgeHubAlertRelatedMaterialsClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/knowledgeHub/alert-relatedMaterials-click",feature:"knowledgeHub",object:"relatedMaterials",objectId:"alert",site:e})}knowledgeHubAlertSuggestEditButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/knowledgeHub/alert-suggestEditButton-click",feature:"knowledgeHub",object:"suggestEditButton",objectId:"alert",site:e})}knowledgeHubFeatureToggleClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/knowledgeHub/feature-toggle-click",feature:"knowledgeHub",object:"toggle",objectId:"feature",placement:e,site:t,state:n})}knowledgeHubKnowledgeHubOnboardingPopupShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/knowledgeHub/knowledgeHubOnboarding-popup-show",feature:"knowledgeHub",object:"popup",objectId:"knowledgeHubOnboarding",site:e})}knowledgeHubOnboardingCloseButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/knowledgeHub/onboardingClose-button-click",feature:"knowledgeHub",object:"button",objectId:"onboardingClose",placement:"onboardingPopup",site:e,step:t})}knowledgeHubOnboardingNextButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/knowledgeHub/onboardingNext-button-click",feature:"knowledgeHub",object:"button",objectId:"onboardingNext",placement:"onboardingPopup",site:e,step:t})}knowledgeHubOnboardingSkipButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/knowledgeHub/onboardingSkip-button-click",feature:"knowledgeHub",object:"button",objectId:"onboardingSkip",placement:"onboardingPopup",site:e,step:t})}languageSettingUpdate(e,t,n){return this.gnar.track({action:"update",eventName:"chromeExt/language-setting-update",object:"setting",objectId:"language",language:e,languageSource:t,isLikeCapi:n})}largeDocumentButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/largeDocument-button-click",object:"button",objectId:"largeDocument",placement:e})}largeDocumentPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/largeDocument-popup-show",object:"popup",objectId:"largeDocument"})}learnMoreButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/learnMore-button-click",object:"button",objectId:"learnMore",placement:"assistant"})}loadFail(e){return this.gnar.track({action:"fail",eventName:"chromeExt/load-fail",object:"load",errorMessage:e})}localExperimentUserAssign(e,t){return this.gnar.track({action:"assign",eventName:"chromeExt/localExperiment-user-assign",object:"user",objectId:"localExperiment",experiment_enabled:e,experiment_name:t})}loginReminderBadgeShow(){return this.gnar.track({action:"show",eventName:"chromeExt/loginReminder-badge-show",object:"badge",objectId:"loginReminder"})}loginReminderCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/loginReminderClose-button-click",object:"button",objectId:"loginReminderClose",placement:e})}loginReminderDoNotShowThisAgainButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/loginReminderDoNotShowThisAgain-button-click",object:"button",objectId:"loginReminderDoNotShowThisAgain",placement:e})}loginReminderPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/loginReminder-popup-show",object:"popup",objectId:"loginReminder"})}logoutFormFail(e,t){return this.gnar.track({action:"fail",eventName:"chromeExt/logout-form-fail",object:"form",objectId:"logout",fieldErrors:e,formErrorMessage:t})}logoutFormSuccess(){return this.gnar.track({action:"success",eventName:"chromeExt/logout-form-success",object:"form",objectId:"logout"})}mutedAlertsCardTurnOffButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/mutedAlerts-cardTurnOffButton-click",object:"cardTurnOffButton",objectId:"mutedAlerts",placement:e})}mutedAlertsTurnBackOnButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/mutedAlerts-turnBackOnButton-click",object:"turnBackOnButton",objectId:"mutedAlerts",placement:e})}myGrammarlyButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/myGrammarly-button-click",object:"button",objectId:"myGrammarly",placement:e})}newDocumentButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/newDocument-button-click",object:"button",objectId:"newDocument",placement:e})}newToneDetectedPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/newToneDetected-popup-show",object:"popup",objectId:"newToneDetected"})}noPaymentMethodSubscriptionCloseButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/noPaymentMethodSubscriptionClose-button-click",object:"button",objectId:"noPaymentMethodSubscriptionClose",placement:"NoPaymentMethodSubscription"})}noPaymentMethodSubscriptionNotificationShow(){return this.gnar.track({action:"show",eventName:"chromeExt/noPaymentMethodSubscription-notification-show",object:"notification",objectId:"noPaymentMethodSubscription"})}noPaymentMethodSubscriptionUpdateBillingButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/noPaymentMethodSubscriptionUpdateBilling-button-click",object:"button",objectId:"noPaymentMethodSubscriptionUpdateBilling",placement:"NoPaymentMethodSubscription"})}notificationButtonClick(e,t,n,r,o,i,a,s){return this.gnar.track({action:"click",eventName:"chromeExt/notification-button-click",object:"button",objectId:"notification",isDocumentOwner:e,placement:t,docAlertCount:n,documentLength:r,inlineAlertCount:o,nonHiddenClarityAlertCount:i,nonInlineAlertCount:a,notificationType:s})}notificationSidebarShow(e,t,n,r,o,i,a){return this.gnar.track({action:"show",eventName:"chromeExt/notification-sidebar-show",object:"sidebar",objectId:"notification",isDocumentOwner:e,docAlertCount:t,documentLength:n,inlineAlertCount:r,nonHiddenClarityAlertCount:o,nonInlineAlertCount:i,notificationType:a})}offlinePageReloadButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/offlinePageReload-button-click",object:"button",objectId:"offlinePageReload",placement:e})}offlinePopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/offline-popup-show",object:"popup",objectId:"offline"})}onboardingOnboardingStepOverlayShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/onboarding/onboardingStep-overlay-show",feature:"onboarding",object:"overlay",objectId:"onboardingStep",step:e})}onboardingOverlayCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/onboarding/overlayClose-button-click",feature:"onboarding",object:"button",objectId:"overlayClose",placement:e})}onboardingOverlayLetsWriteButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/onboarding/overlayLetsWrite-button-click",feature:"onboarding",object:"button",objectId:"overlayLetsWrite",placement:e})}onboardingOverlayShow(){return this.gnar.track({action:"show",eventName:"chromeExt/onboarding/overlay-show",feature:"onboarding",object:"overlay"})}onboardingPopupCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/onboarding/popupClose-button-click",feature:"onboarding",object:"button",objectId:"popupClose",placement:e})}onboardingPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/onboarding/popup-show",feature:"onboarding",object:"popup"})}onboardingSkipButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/onboarding/skip-button-click",feature:"onboarding",object:"button",objectId:"skip",placement:e,step:t})}onboardingStepOverlayShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/onboardingStep-overlay-show",object:"overlay",objectId:"onboardingStep",step:e})}openAppButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/openApp-button-click",object:"button",objectId:"openApp",placement:e})}openEditorButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/openEditor-button-click",object:"button",objectId:"openEditor",placement:e})}openLensButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/openLens-button-click",object:"button",objectId:"openLens",lensName:e})}overlayCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/overlayClose-button-click",object:"button",objectId:"overlayClose",placement:e})}overlayLetsWriteButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/overlayLetsWrite-button-click",object:"button",objectId:"overlayLetsWrite",placement:e})}overlayShow(){return this.gnar.track({action:"show",eventName:"chromeExt/overlay-show",object:"overlay"})}persistentStorageLoadFail(e){return this.gnar.track({action:"fail",eventName:"chromeExt/persistentStorage/load-fail",feature:"persistentStorage",object:"load",errorMessage:e})}persistentStorageValueLoadFail(e){return this.gnar.track({action:"fail",eventName:"chromeExt/persistentStorage/value-load-fail",feature:"persistentStorage",object:"load",objectId:"value",errorMessage:e})}persistentStorageValueLoadSuccess(){return this.gnar.track({action:"success",eventName:"chromeExt/persistentStorage/value-load-success",feature:"persistentStorage",object:"load",objectId:"value"})}persistentStorageValueLoadTimeout(){return this.gnar.track({action:"timeout",eventName:"chromeExt/persistentStorage/value-load-timeout",feature:"persistentStorage",object:"load",objectId:"value"})}popupCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/popupClose-button-click",object:"button",objectId:"popupClose",placement:e})}popupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/popup-show",object:"popup"})}premiumUngatingRenewalCtaButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/premiumUngatingRenewalCta-button-click",object:"button",objectId:"premiumUngatingRenewalCta",placement:e})}premiumUngatingRenewalDismissButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/premiumUngatingRenewalDismiss-button-click",object:"button",objectId:"premiumUngatingRenewalDismiss",placement:e})}premiumUngatingRenewalNotificationShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/premiumUngatingRenewal-notification-show",object:"notification",objectId:"premiumUngatingRenewal",placement:e})}premiumUphookButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/premiumUphook-button-click",object:"button",objectId:"premiumUphook",placement:e})}proofitButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/proofit-button-click",object:"button",objectId:"proofit",placement:e})}proofitButtonDisabled(e){return this.gnar.track({action:"disabled",eventName:"chromeExt/proofit-button-disabled",object:"button",objectId:"proofit",reason:e})}proofitButtonEnabled(){return this.gnar.track({action:"enabled",eventName:"chromeExt/proofit-button-enabled",object:"button",objectId:"proofit"})}proofitFeedbackFormSubmit(e,t){return this.gnar.track({action:"submit",eventName:"chromeExt/proofit-feedbackForm-submit",object:"feedbackForm",objectId:"proofit",placement:"assistant",feedback:e,score:t})}proofitIntroPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/proofit-introPopup-show",object:"introPopup",objectId:"proofit"})}proofitOrderCanceled(){return this.gnar.track({action:"canceled",eventName:"chromeExt/proofit-order-canceled",object:"order",objectId:"proofit"})}proofitOrderDone(){return this.gnar.track({action:"done",eventName:"chromeExt/proofit-order-done",object:"order",objectId:"proofit"})}proofitOrderReviewed(){return this.gnar.track({action:"reviewed",eventName:"chromeExt/proofit-order-reviewed",object:"order",objectId:"proofit"})}proofitOrderTurnaroundTimeInSeconds(e){return this.gnar.track({action:"turnaroundTimeInSeconds",eventName:"chromeExt/proofit-order-turnaroundTimeInSeconds",object:"order",objectId:"proofit",seconds:e})}proofitRequestFormShow(){return this.gnar.track({action:"show",eventName:"chromeExt/proofit-requestForm-show",object:"requestForm",objectId:"proofit"})}proofitRequestFormSubmit(){return this.gnar.track({action:"submit",eventName:"chromeExt/proofit-requestForm-submit",object:"requestForm",objectId:"proofit",placement:"assistant"})}readerV1AboutPanelCloseClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/aboutPanel-close-click",feature:"readerV1",integration:"gmail",object:"close",objectId:"aboutPanel",messageId:e,sessionId:t,threadId:n})}readerV1AboutPanelLearnMoreClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/aboutPanel-learnMore-click",feature:"readerV1",integration:"gmail",object:"learnMore",objectId:"aboutPanel",messageId:e,sessionId:t,threadId:n})}readerV1AboutPanelTakeATourClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/aboutPanel-takeATour-click",feature:"readerV1",integration:"gmail",object:"takeATour",objectId:"aboutPanel",messageId:e,sessionId:t,threadId:n})}readerV1AllDataPanelHide(e,t,n){return this.gnar.track({action:"hide",eventName:"chromeExt/readerV1/allData-panel-hide",feature:"readerV1",integration:"gmail",object:"panel",objectId:"allData",messageId:e,sessionId:t,threadId:n})}readerV1AllDataPanelReplyClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/allDataPanel-reply-click",feature:"readerV1",integration:"gmail",object:"reply",objectId:"allDataPanel",messageId:e,sessionId:t,threadId:n})}readerV1AllDataPanelShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/allData-panel-show",feature:"readerV1",integration:"gmail",object:"panel",objectId:"allData",messageId:e,sessionId:t,threadId:n})}readerV1FeatureToggleClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/feature-toggle-click",feature:"readerV1",integration:"gmail",object:"toggle",objectId:"feature",state:e})}readerV1FollowUpCheck(e,t,n,r,o,i){return this.gnar.track({action:"check",eventName:"chromeExt/readerV1/followUp-check",feature:"readerV1",integration:"gmail",objectId:"followUp",itemId:e,messageId:t,readerUI:n,sessionId:r,value:o,threadId:i})}readerV1FollowUpCopyItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUp-copyItem-click",feature:"readerV1",integration:"gmail",object:"copyItem",objectId:"followUp",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1FollowUpRemoveItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUp-removeItem-click",feature:"readerV1",integration:"gmail",object:"removeItem",objectId:"followUp",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1FollowUpReplyItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUp-replyItem-click",feature:"readerV1",integration:"gmail",object:"replyItem",objectId:"followUp",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1FollowUpThumbsDownClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUp-thumbsDown-click",feature:"readerV1",integration:"gmail",object:"thumbsDown",objectId:"followUp",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1FollowUpThumbsUpClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUp-thumbsUp-click",feature:"readerV1",integration:"gmail",object:"thumbsUp",objectId:"followUp",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1FollowUpUndoRemoveItemClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUp-undoRemoveItem-click",feature:"readerV1",integration:"gmail",object:"undoRemoveItem",objectId:"followUp",itemId:e,messageId:t,sessionId:n,threadId:r})}readerV1FollowUpsPanelHide(e,t,n){return this.gnar.track({action:"hide",eventName:"chromeExt/readerV1/followUps-panel-hide",feature:"readerV1",integration:"gmail",object:"panel",objectId:"followUps",messageId:e,sessionId:t,threadId:n})}readerV1FollowUpsPanelHintButtonClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUpsPanel-hintButton-click",feature:"readerV1",integration:"gmail",object:"hintButton",objectId:"followUpsPanel",messageId:e,sessionId:t,threadId:n})}readerV1FollowUpsPanelReplyClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/followUpsPanel-reply-click",feature:"readerV1",integration:"gmail",object:"reply",objectId:"followUpsPanel",messageId:e,sessionId:t,threadId:n})}readerV1FollowUpsPanelShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/followUps-panel-show",feature:"readerV1",integration:"gmail",object:"panel",objectId:"followUps",messageId:e,sessionId:t,threadId:n})}readerV1GenericFeedbackPanelDismissClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/genericFeedbackPanel-dismiss-click",feature:"readerV1",integration:"gmail",object:"dismiss",objectId:"genericFeedbackPanel",messageId:e,sessionId:t,threadId:n})}readerV1GenericFeedbackPanelSubmitClick(e,t,n,r,o,i){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/genericFeedbackPanel-submit-click",feature:"readerV1",integration:"gmail",object:"submit",objectId:"genericFeedbackPanel",feedbackText:e,messageId:t,ratingLabel:n,ratingScore:r,sessionId:o,threadId:i})}readerV1HighlightCopyItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/highlight-copyItem-click",feature:"readerV1",integration:"gmail",object:"copyItem",objectId:"highlight",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1HighlightHover(e,t,n,r,o){return this.gnar.track({action:"hover",eventName:"chromeExt/readerV1/highlight-hover",feature:"readerV1",integration:"gmail",objectId:"highlight",duration:e,itemId:t,messageId:n,sessionId:r,threadId:o})}readerV1HighlightRemoveItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/highlight-removeItem-click",feature:"readerV1",integration:"gmail",object:"removeItem",objectId:"highlight",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1HighlightReplyItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/highlight-replyItem-click",feature:"readerV1",integration:"gmail",object:"replyItem",objectId:"highlight",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1HighlightThumbsDownClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/highlight-thumbsDown-click",feature:"readerV1",integration:"gmail",object:"thumbsDown",objectId:"highlight",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1HighlightThumbsUpClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/highlight-thumbsUp-click",feature:"readerV1",integration:"gmail",object:"thumbsUp",objectId:"highlight",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1HighlightUndoRemoveItemClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/highlight-undoRemoveItem-click",feature:"readerV1",integration:"gmail",object:"undoRemoveItem",objectId:"highlight",itemId:e,messageId:t,sessionId:n,threadId:r})}readerV1HighlightsToggleClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/highlights-toggle-click",feature:"readerV1",integration:"gmail",object:"toggle",objectId:"highlights",enabled:e,messageId:t,sessionId:n,threadId:r})}readerV1ItemFeedbackPanelDismissClick(e,t,n,r,o,i,a){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/itemFeedbackPanel-dismiss-click",feature:"readerV1",integration:"gmail",object:"dismiss",objectId:"itemFeedbackPanel",itemFeedbackKind:e,itemId:t,itemKind:n,messageId:r,readerUI:o,sessionId:i,threadId:a})}readerV1ItemFeedbackPanelSubmitClick(e,t,n,r,o,i,a,s){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/itemFeedbackPanel-submit-click",feature:"readerV1",integration:"gmail",object:"submit",objectId:"itemFeedbackPanel",feedbackText:e,itemFeedbackKind:t,itemId:n,itemKind:r,messageId:o,readerUI:i,sessionId:a,threadId:s})}readerV1ItemMenuOpen(e,t,n,r,o,i){return this.gnar.track({action:"open",eventName:"chromeExt/readerV1/itemMenu-open",feature:"readerV1",integration:"gmail",objectId:"itemMenu",itemId:e,itemKind:t,messageId:n,readerUI:r,sessionId:o,threadId:i})}readerV1KeyPointCopyItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPoint-copyItem-click",feature:"readerV1",integration:"gmail",object:"copyItem",objectId:"keyPoint",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1KeyPointRemoveItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPoint-removeItem-click",feature:"readerV1",integration:"gmail",object:"removeItem",objectId:"keyPoint",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1KeyPointReplyItemClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPoint-replyItem-click",feature:"readerV1",integration:"gmail",object:"replyItem",objectId:"keyPoint",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1KeyPointThumbsDownClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPoint-thumbsDown-click",feature:"readerV1",integration:"gmail",object:"thumbsDown",objectId:"keyPoint",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1KeyPointThumbsUpClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPoint-thumbsUp-click",feature:"readerV1",integration:"gmail",object:"thumbsUp",objectId:"keyPoint",itemId:e,messageId:t,readerUI:n,sessionId:r,threadId:o})}readerV1KeyPointUndoRemoveItemClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPoint-undoRemoveItem-click",feature:"readerV1",integration:"gmail",object:"undoRemoveItem",objectId:"keyPoint",itemId:e,messageId:t,sessionId:n,threadId:r})}readerV1KeyPointsPanelHide(e,t,n){return this.gnar.track({action:"hide",eventName:"chromeExt/readerV1/keyPoints-panel-hide",feature:"readerV1",integration:"gmail",object:"panel",objectId:"keyPoints",messageId:e,sessionId:t,threadId:n})}readerV1KeyPointsPanelHintButtonClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPointsPanel-hintButton-click",feature:"readerV1",integration:"gmail",object:"hintButton",objectId:"keyPointsPanel",messageId:e,sessionId:t,threadId:n})}readerV1KeyPointsPanelReplyClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/keyPointsPanel-reply-click",feature:"readerV1",integration:"gmail",object:"reply",objectId:"keyPointsPanel",messageId:e,sessionId:t,threadId:n})}readerV1KeyPointsPanelShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/keyPoints-panel-show",feature:"readerV1",integration:"gmail",object:"panel",objectId:"keyPoints",messageId:e,sessionId:t,threadId:n})}readerV1LowQualityContentShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/lowQualityContent-show",feature:"readerV1",integration:"gmail",objectId:"lowQualityContent",messageId:e,sessionId:t,threadId:n})}readerV1MessageOpen(e,t,n,r,o,i,a,s){return this.gnar.track({action:"open",eventName:"chromeExt/readerV1/message-open",feature:"readerV1",integration:"gmail",objectId:"message",isLastMessage:e,messageCount:t,messageId:n,messageWordCount:r,recipientsCount:o,sessionId:i,isExternalComm:a,threadId:s})}readerV1OnboardingPopupDismiss(e,t,n,r){return this.gnar.track({action:"dismiss",eventName:"chromeExt/readerV1/onboardingPopup-dismiss",feature:"readerV1",integration:"gmail",objectId:"onboardingPopup",messageId:e,onboardingStep:t,sessionId:n,threadId:r})}readerV1OnboardingPopupNavigationButtonClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/onboardingPopup-navigationButton-click",feature:"readerV1",integration:"gmail",object:"navigationButton",objectId:"onboardingPopup",direction:e,messageId:t,onboardingStep:n,sessionId:r,threadId:o})}readerV1OnboardingPopupShow(e,t,n,r){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/onboarding-popup-show",feature:"readerV1",integration:"gmail",object:"popup",objectId:"onboarding",messageId:e,onboardingStep:t,sessionId:n,threadId:r})}readerV1OptInDismissModalDismissClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInDismissModal-dismiss-click",feature:"readerV1",integration:"gmail",object:"dismiss",objectId:"optInDismissModal",messageId:e,sessionId:t,threadId:n})}readerV1OptInDismissModalLaterNoClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInDismissModal-laterNo-click",feature:"readerV1",integration:"gmail",object:"laterNo",objectId:"optInDismissModal",messageId:e,sessionId:t,threadId:n})}readerV1OptInDismissModalLaterYesClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInDismissModal-laterYes-click",feature:"readerV1",integration:"gmail",object:"laterYes",objectId:"optInDismissModal",messageId:e,sessionId:t,threadId:n})}readerV1OptInHeaderDismissClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInHeader-dismiss-click",feature:"readerV1",integration:"gmail",object:"dismiss",objectId:"optInHeader",messageId:e,sessionId:t,threadId:n})}readerV1OptInHeaderLearnMoreClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInHeader-learnMore-click",feature:"readerV1",integration:"gmail",object:"learnMore",objectId:"optInHeader",messageId:e,sessionId:t,threadId:n})}readerV1OptInHeaderShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/optInHeader-show",feature:"readerV1",integration:"gmail",objectId:"optInHeader",messageId:e,sessionId:t,threadId:n})}readerV1OptInHeaderTryItOutClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInHeader-tryItOut-click",feature:"readerV1",integration:"gmail",object:"tryItOut",objectId:"optInHeader",messageId:e,sessionId:t,threadId:n})}readerV1OptInPanelContinueClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInPanel-continue-click",feature:"readerV1",integration:"gmail",object:"continue",objectId:"optInPanel",messageId:e,sessionId:t,threadId:n})}readerV1OptInPanelDataCollectionPolicyClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInPanel-dataCollectionPolicy-click",feature:"readerV1",integration:"gmail",object:"dataCollectionPolicy",objectId:"optInPanel",messageId:e,sessionId:t,threadId:n})}readerV1OptInPanelDeclineClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInPanel-decline-click",feature:"readerV1",integration:"gmail",object:"decline",objectId:"optInPanel",messageId:e,sessionId:t,threadId:n})}readerV1OptInPanelDismissClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInPanel-dismiss-click",feature:"readerV1",integration:"gmail",object:"dismiss",objectId:"optInPanel",messageId:e,sessionId:t,threadId:n})}readerV1OptInPanelNotNowClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInPanel-notNow-click",feature:"readerV1",integration:"gmail",object:"notNow",objectId:"optInPanel",messageId:e,sessionId:t,threadId:n})}readerV1OptInPanelPrivacyPolicyClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInPanel-privacyPolicy-click",feature:"readerV1",integration:"gmail",object:"privacyPolicy",objectId:"optInPanel",messageId:e,sessionId:t,threadId:n})}readerV1OptInPanelTermsOfServiceClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/optInPanel-termsOfService-click",feature:"readerV1",integration:"gmail",object:"termsOfService",objectId:"optInPanel",messageId:e,sessionId:t,threadId:n})}readerV1RecapBarLoaded(e,t,n,r,o,i,a,s){return this.gnar.track({action:"loaded",eventName:"chromeExt/readerV1/recapBar-loaded",feature:"readerV1",integration:"gmail",objectId:"recapBar",followUpsCount:e,highlightsCount:t,keyPointsCount:n,messageId:r,messageIsGoodForAnnotations:o,messageIsLowQuality:i,sessionId:a,threadId:s})}readerV1RecapBarLogoToggleClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/recapBar-logoToggle-click",feature:"readerV1",integration:"gmail",object:"logoToggle",objectId:"recapBar",enabled:e,messageId:t,sessionId:n,threadId:r})}readerV1RecapBarOptionsItemClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/recapBarOptions-item-click",feature:"readerV1",integration:"gmail",object:"item",objectId:"recapBarOptions",item:e,messageId:t,sessionId:n,threadId:r})}readerV1RecapBarOptionsMenuClose(e,t,n){return this.gnar.track({action:"close",eventName:"chromeExt/readerV1/recapBar-optionsMenu-close",feature:"readerV1",integration:"gmail",object:"optionsMenu",objectId:"recapBar",messageId:e,sessionId:t,threadId:n})}readerV1RecapBarOptionsMenuOpen(e,t,n){return this.gnar.track({action:"open",eventName:"chromeExt/readerV1/recapBar-optionsMenu-open",feature:"readerV1",integration:"gmail",object:"optionsMenu",objectId:"recapBar",messageId:e,sessionId:t,threadId:n})}readerV1RecapBarOptionsVisibilityToggleClick(e,t,n,r){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/recapBarOptions-visibilityToggle-click",feature:"readerV1",integration:"gmail",object:"visibilityToggle",objectId:"recapBarOptions",enabled:e,messageId:t,sessionId:n,threadId:r})}readerV1RecapBarShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/recapBar-show",feature:"readerV1",integration:"gmail",objectId:"recapBar",messageId:e,sessionId:t,threadId:n})}readerV1ReplyPanelCollapse(e,t,n){return this.gnar.track({action:"collapse",eventName:"chromeExt/readerV1/replyPanel-collapse",feature:"readerV1",integration:"gmail",objectId:"replyPanel",messageId:e,sessionId:t,threadId:n})}readerV1ReplyPanelExpand(e,t,n){return this.gnar.track({action:"expand",eventName:"chromeExt/readerV1/replyPanel-expand",feature:"readerV1",integration:"gmail",objectId:"replyPanel",messageId:e,sessionId:t,threadId:n})}readerV1ReplyPanelHintButtonClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/replyPanel-hintButton-click",feature:"readerV1",integration:"gmail",object:"hintButton",objectId:"replyPanel",messageId:e,sessionId:t,threadId:n})}readerV1ReplyPanelShow(e,t,n){return this.gnar.track({action:"show",eventName:"chromeExt/readerV1/replyPanel-show",feature:"readerV1",integration:"gmail",objectId:"replyPanel",messageId:e,sessionId:t,threadId:n})}readerV1ReplyPanelToggleCompact(e,t,n){return this.gnar.track({action:"toggleCompact",eventName:"chromeExt/readerV1/replyPanel-toggleCompact",feature:"readerV1",integration:"gmail",objectId:"replyPanel",messageId:e,sessionId:t,threadId:n})}readerV1ReplyPanelToggleFull(e,t,n,r){return this.gnar.track({action:"toggleFull",eventName:"chromeExt/readerV1/replyPanel-toggleFull",feature:"readerV1",integration:"gmail",objectId:"replyPanel",messageId:e,sessionId:t,trigger:n,threadId:r})}readerV1ReplySent(e,t,n,r,o,i,a,s,u){return this.gnar.track({action:"sent",eventName:"chromeExt/readerV1/reply-sent",feature:"readerV1",integration:"gmail",objectId:"reply",messageCount:e,messageId:t,messageRecipientsCount:n,messageWordCount:r,recipientsCount:o,sessionId:i,timeToReply:a,isExternalComm:s,threadId:u})}readerV1ReplyStart(e,t,n,r,o){return this.gnar.track({action:"start",eventName:"chromeExt/readerV1/reply-start",feature:"readerV1",integration:"gmail",objectId:"reply",messageCount:e,messageId:t,sessionId:n,timeFromThreadOpen:r,threadId:o})}readerV1SessionEnd(e,t){return this.gnar.track({action:"end",eventName:"chromeExt/readerV1/session-end",feature:"readerV1",integration:"gmail",objectId:"session",sessionId:e,threadId:t})}readerV1SessionStart(e,t,n,r,o,i,a){return this.gnar.track({action:"start",eventName:"chromeExt/readerV1/session-start",feature:"readerV1",integration:"gmail",objectId:"session",lastMessageId:e,lastMessageRecipientsCount:t,lastMessageWordCount:n,messageCount:r,sessionId:o,isLastMessageExternalComm:i,threadId:a})}readerV1TurnOffPanelDismissClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/turnOffPanel-dismiss-click",feature:"readerV1",integration:"gmail",object:"dismiss",objectId:"turnOffPanel",messageId:e,sessionId:t,threadId:n})}readerV1TurnOffPanelHideRecapClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/turnOffPanel-hideRecap-click",feature:"readerV1",integration:"gmail",object:"hideRecap",objectId:"turnOffPanel",messageId:e,sessionId:t,threadId:n})}readerV1TurnOffPanelTurnOffClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/readerV1/turnOffPanel-turnOff-click",feature:"readerV1",integration:"gmail",object:"turnOff",objectId:"turnOffPanel",messageId:e,sessionId:t,threadId:n})}recapPopupShow(e,t,n,r,o,i){return this.gnar.track({action:"show",eventName:"chromeExt/recap-popup-show",object:"popup",objectId:"recap",clarityCount:e,correctnessCount:t,deliveryCount:n,engagementCount:r,tonesDetectedCount:o,topThreeTones:i})}registerPromptButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/registerPrompt-button-click",object:"button",objectId:"registerPrompt",placement:e})}registerPromptPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/registerPrompt-popup-show",object:"popup",objectId:"registerPrompt"})}removeAccessToAllSites(){return this.gnar.track({action:"removeAccessToAllSites",eventName:"chromeExt/removeAccessToAllSites"})}removeAccessToSpecificSite(){return this.gnar.track({action:"removeAccessToSpecificSite",eventName:"chromeExt/removeAccessToSpecificSite"})}safariMigrationInlineCardClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/safariMigration-inlineCard-click",object:"inlineCard",objectId:"safariMigration",migrationRequestType:e})}safariMigrationInlineCardShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/safariMigration-inlineCard-show",object:"inlineCard",objectId:"safariMigration",migrationRequestType:e})}safariMigrationPopupButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/safariMigrationPopup-button-click",object:"button",objectId:"safariMigrationPopup",placement:e})}safariMigrationPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/safariMigration-popup-show",object:"popup",objectId:"safariMigration"})}settingsShowEmojiForDetectedTonesToggleClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/settings/showEmojiForDetectedTones-toggle-click",feature:"settings",object:"toggle",objectId:"showEmojiForDetectedTones",domain:e,state:t})}sharedDocumentButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/sharedDocument-button-click",object:"button",objectId:"sharedDocument",placement:e})}sharedDocumentDismissClick(){return this.gnar.track({action:"click",eventName:"chromeExt/sharedDocument-dismiss-click",object:"dismiss",objectId:"sharedDocument"})}sharedDocumentPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/sharedDocument-popup-show",object:"popup",objectId:"sharedDocument"})}shortenItResponseReceived(e,t,n,r,o,i,a,s,u){return this.gnar.track({action:"received",eventName:"chromeExt/shortenIt-response-received",object:"response",objectId:"shortenIt",alertInvalidated:e,alertInvalidatedCount:t,capiAlertId:n,cardActiveDuration:r,delayBeforeRequestSubmitted:o,domainCategory:i,requestLatency:a,sessionUuid:s,summaryFound:u})}shortenItSummaryHide(e,t,n,r,o,i,a,s,u,c,l,d,p,h,f){return this.gnar.track({action:"hide",eventName:"chromeExt/shortenIt-summary-hide",object:"summary",objectId:"shortenIt",alertInvalidated:e,assistantAlertId:t,capiAlertId:n,compressionRatio:r,domainCategory:o,hideReason:i,longParagraphNumSentences:a,longParagraphNumWords:s,numEditsDismissedSinceAlertReceived:u,numEditsDismissedSinceCardOpen:c,numEditsOnAlertReceived:l,numEditsOnCardOpen:d,numEditsReviewedSinceAlertReceived:p,numEditsReviewedSinceCardOpen:h,sessionUuid:f})}shortenItSummaryLoadingHide(e,t,n,r,o,i,a,s,u){return this.gnar.track({action:"hide",eventName:"chromeExt/shortenIt-summaryLoading-hide",object:"summaryLoading",objectId:"shortenIt",alertInvalidated:e,assistantAlertId:t,capiAlertId:n,domainCategory:r,hideReason:o,longParagraphNumSentences:i,longParagraphNumWords:a,sessionDuration:s,sessionUuid:u})}shortenItSummaryLoadingShow(e,t,n,r,o,i,a){return this.gnar.track({action:"show",eventName:"chromeExt/shortenIt-summaryLoading-show",object:"summaryLoading",objectId:"shortenIt",alertInvalidated:e,assistantAlertId:t,capiAlertId:n,domainCategory:r,longParagraphNumSentences:o,longParagraphNumWords:i,sessionUuid:a})}shortenItSummaryNotFoundHide(e,t,n,r,o,i,a,s){return this.gnar.track({action:"notFoundHide",eventName:"chromeExt/shortenIt-summary-notFoundHide",object:"summary",objectId:"shortenIt",alertInvalidated:e,assistantAlertId:t,capiAlertId:n,domainCategory:r,hideReason:o,longParagraphNumSentences:i,longParagraphNumWords:a,sessionUuid:s})}shortenItSummaryNotFoundShow(e,t,n,r,o,i,a,s){return this.gnar.track({action:"notFoundShow",eventName:"chromeExt/shortenIt-summary-notFoundShow",object:"summary",objectId:"shortenIt",alertInvalidated:e,assistantAlertId:t,capiAlertId:n,domainCategory:r,longParagraphNumSentences:o,longParagraphNumWords:i,sessionUuid:a,showReason:s})}shortenItSummaryShow(e,t,n,r,o,i,a,s,u,c,l,d,p){return this.gnar.track({action:"show",eventName:"chromeExt/shortenIt-summary-show",object:"summary",objectId:"shortenIt",alertInvalidated:e,assistantAlertId:t,capiAlertId:n,compressionRatio:r,domainCategory:o,longParagraphNumSentences:i,longParagraphNumWords:a,numEditsDismissedSinceAlertReceived:s,numEditsOnAlertReceived:u,numEditsOnCardOpen:c,numEditsReviewedSinceAlertReceived:l,sessionUuid:d,showReason:p})}showPremiumAlertsToggleClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/showPremiumAlerts-toggle-click",object:"toggle",objectId:"showPremiumAlerts",state:e})}signInButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/signIn-button-click",object:"button",objectId:"signIn",placement:"settingsToolbar"})}signInFormFail(e,t,n){return this.gnar.track({action:"fail",eventName:"chromeExt/signIn-form-fail",object:"form",objectId:"signIn",placement:e,fieldErrors:t,formErrorMessage:n})}signInFormSuccess(e){return this.gnar.track({action:"success",eventName:"chromeExt/signIn-form-success",object:"form",objectId:"signIn",placement:e})}signUpButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/signUp-button-click",object:"button",objectId:"signUp",placement:"settingsToolbar"})}signUpFormFail(e,t,n){return this.gnar.track({action:"fail",eventName:"chromeExt/signUp-form-fail",object:"form",objectId:"signUp",placement:e,fieldErrors:t,formErrorMessage:n})}signUpFormSuccess(e){return this.gnar.track({action:"success",eventName:"chromeExt/signUp-form-success",object:"form",objectId:"signUp",placement:e})}siteIsBrowserDisabled(){return this.gnar.track({action:"siteIsBrowserDisabled",eventName:"chromeExt/siteIsBrowserDisabled"})}siteSpecificPopupButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/siteSpecificPopup-button-click",object:"button",objectId:"siteSpecificPopup",placement:"popup",cta:e})}siteSpecificPopupPopupNoShow(e,t){return this.gnar.track({action:"noShow",eventName:"chromeExt/siteSpecificPopup-popup-noShow",object:"popup",objectId:"siteSpecificPopup",previouslyShown:e,domainType:t})}siteSpecificPopupPopupShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/siteSpecificPopup-popup-show",object:"popup",objectId:"siteSpecificPopup",domainType:e})}skipButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/skip-button-click",object:"button",objectId:"skip",placement:e,step:t})}snippetsFeatureInit(){return this.gnar.track({action:"init",eventName:"chromeExt/snippets/feature-init",feature:"snippets",objectId:"feature"})}snippetsInlineSnippetCreated(){return this.gnar.track({action:"created",eventName:"chromeExt/snippets/inlineSnippet-created",feature:"snippets",objectId:"inlineSnippet"})}snippetsLinkOpened(e){return this.gnar.track({action:"opened",eventName:"chromeExt/snippets/link-opened",feature:"snippets",objectId:"link",linkType:e})}snippetsListDismissed(e){return this.gnar.track({action:"dismissed",eventName:"chromeExt/snippets/list-dismissed",feature:"snippets",objectId:"list",cause:e})}snippetsListLoaded(e,t){return this.gnar.track({action:"loaded",eventName:"chromeExt/snippets/list-loaded",feature:"snippets",objectId:"list",size:e,delay:t})}snippetsListPresented(e){return this.gnar.track({action:"presented",eventName:"chromeExt/snippets/list-presented",feature:"snippets",objectId:"list",trigger:e})}snippetsPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/snippets/popup-show",feature:"snippets",objectId:"popup",popupAim:"inline creation via hotkey",popupTrigger:"text selection"})}snippetsShortcutUsed(){return this.gnar.track({action:"used",eventName:"chromeExt/snippets/shortcut-used",feature:"snippets",objectId:"shortcut"})}snippetsSnippetApplied(e,t){return this.gnar.track({action:"applied",eventName:"chromeExt/snippets/snippet-applied",feature:"snippets",objectId:"snippet",isRtfContent:e,searchStringSize:t})}snippetsTriggerSequenceEntered(e,t){return this.gnar.track({action:"entered",eventName:"chromeExt/snippets/triggerSequence-entered",feature:"snippets",objectId:"triggerSequence",snippetsPresented:e,trigger:t})}standWithUkraineHelpButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/standWithUkraineHelp-button-click",object:"button",objectId:"standWithUkraineHelp",placement:e})}standWithUkraineHelpPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/standWithUkraineHelp-popup-show",object:"popup",objectId:"standWithUkraineHelp"})}standWithUkraineSuspendCloseButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/standWithUkraineSuspendClose-button-click",object:"button",objectId:"standWithUkraineSuspendClose",placement:e})}standWithUkraineSuspendExtensionInit(){return this.gnar.track({action:"init",eventName:"chromeExt/standWithUkraineSuspendExtension-init",object:"standWithUkraineSuspendExtension"})}standWithUkraineSuspendGdocsPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/standWithUkraineSuspendGdocs-popup-show",object:"popup",objectId:"standWithUkraineSuspendGdocs"})}standWithUkraineSuspendLearnMoreButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/standWithUkraineSuspendLearnMore-button-click",object:"button",objectId:"standWithUkraineSuspendLearnMore",placement:e})}standWithUkraineSuspendPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/standWithUkraineSuspend-popup-show",object:"popup",objectId:"standWithUkraineSuspend"})}standWithUkraineSuspendSettingsPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/standWithUkraineSuspendSettings-popup-show",object:"popup",objectId:"standWithUkraineSuspendSettings"})}standWithUkraineUseDefaultColorsButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/standWithUkraineUseDefaultColors-button-click",object:"button",objectId:"standWithUkraineUseDefaultColors",placement:e})}subscriptionFormFail(e,t,n,r,o,i,a,s){return this.gnar.track({action:"fail",component:"companion",eventName:"chromeExt/companion/subscription-form-fail",object:"form",objectId:"subscription",osVersion:e,pageId:t,billingError:n,fieldErrors:r,formErrorMessage:o,productId:i,reason:a,subReason:s})}subscriptionFormShow(e,t){return this.gnar.track({action:"show",component:"companion",eventName:"chromeExt/companion/subscription-form-show",object:"form",objectId:"subscription",utmCampaign:"safariUpgradeHook",utmMedium:"internal",utmSource:"upHook",osVersion:e,pageId:t})}subscriptionFormSuccess(e,t,n){return this.gnar.track({action:"success",component:"companion",eventName:"chromeExt/companion/subscription-form-success",object:"form",objectId:"subscription",osVersion:e,pageId:t,productId:n})}subscriptionPageShow(e,t){return this.gnar.track({action:"show",component:"companion",eventName:"chromeExt/companion/subscription-page-show",object:"page",objectId:"subscription",utmCampaign:"safariUpgradeHook",utmMedium:"internal",utmSource:"upHook",osVersion:e,pageId:t})}suggestedSnippetCardAccept(e){return this.gnar.track({action:"accept",eventName:"chromeExt/suggestedSnippet-card-accept",object:"card",objectId:"suggestedSnippet",placement:e})}suggestedSnippetCardDeactivate(e){return this.gnar.track({action:"deactivate",eventName:"chromeExt/suggestedSnippet-card-deactivate",object:"card",objectId:"suggestedSnippet",placement:e})}suggestedSnippetCardDismiss(e){return this.gnar.track({action:"dismiss",eventName:"chromeExt/suggestedSnippet-card-dismiss",object:"card",objectId:"suggestedSnippet",placement:e})}suggestedSnippetCardLook(e){return this.gnar.track({action:"look",eventName:"chromeExt/suggestedSnippet-card-look",object:"card",objectId:"suggestedSnippet",placement:e})}suggestedSnippetCardUndoDeactivate(e){return this.gnar.track({action:"undoDeactivate",eventName:"chromeExt/suggestedSnippet-card-undoDeactivate",object:"card",objectId:"suggestedSnippet",placement:e})}suggestedSnippetCreateSnippetButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/suggestedSnippet-createSnippetButton-click",object:"createSnippetButton",objectId:"suggestedSnippet",placement:"inline"})}suggestedSnippetHighlightShow(){return this.gnar.track({action:"show",eventName:"chromeExt/suggestedSnippet-highlight-show",object:"highlight",objectId:"suggestedSnippet",placement:"inline"})}suggestedSnippetMiniCardShow(){return this.gnar.track({action:"show",eventName:"chromeExt/suggestedSnippet-miniCard-show",object:"miniCard",objectId:"suggestedSnippet",placement:"assistant"})}suggestedSnippetOpenAssistantButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/suggestedSnippet-openAssistantButton-click",object:"openAssistantButton",objectId:"suggestedSnippet",placement:"inline"})}suggestionManagementClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/suggestionManagement-click",objectId:"suggestionManagement",placement:e})}synonymAcceptButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/synonymAccept-button-click",object:"button",objectId:"synonymAccept",placement:e})}synonymsPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/synonyms-popup-show",object:"popup",objectId:"synonyms"})}toneAIAlertUnderlineClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/toneAI/alert-underline-click",feature:"toneAI",object:"underline",objectId:"alert",sessionUuid:e,toneRewriteType:t})}toneAIAlertUnderlineShow(e,t){return this.gnar.track({action:"show",eventName:"chromeExt/toneAI/alert-underline-show",feature:"toneAI",object:"underline",objectId:"alert",sessionUuid:e,toneRewriteType:t})}toneAIAssistantFullCardDismissButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/toneAI/assistant-fullCardDismissButton-click",feature:"toneAI",object:"fullCardDismissButton",objectId:"assistant",sessionUuid:e,toneRewriteType:t})}toneAIAssistantFullCardMuteButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/toneAI/assistant-fullCardMuteButton-click",feature:"toneAI",object:"fullCardMuteButton",objectId:"assistant",sessionUuid:e,toneRewriteType:t})}toneAIAssistantFullCardReplacementApply(e,t){return this.gnar.track({action:"apply",eventName:"chromeExt/toneAI/assistant-fullCardReplacement-apply",feature:"toneAI",object:"fullCardReplacement",objectId:"assistant",sessionUuid:e,toneRewriteType:t})}toneAIAssistantFullCardShow(e,t){return this.gnar.track({action:"show",eventName:"chromeExt/toneAI/assistant-fullCard-show",feature:"toneAI",object:"fullCard",objectId:"assistant",sessionUuid:e,toneRewriteType:t})}toneAIAssistantFullCardSliderMove(e,t,n,r){return this.gnar.track({action:"move",eventName:"chromeExt/toneAI/assistant-fullCardSlider-move",feature:"toneAI",object:"fullCardSlider",objectId:"assistant",newTone:e,oldTone:t,sessionUuid:n,toneRewriteType:r})}toneAIAssistantFullCardUndoMuteButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/toneAI/assistant-fullCardUndoMuteButton-click",feature:"toneAI",object:"fullCardUndoMuteButton",objectId:"assistant",sessionUuid:e,toneRewriteType:t})}toneAIAssistantMiniCardShow(e,t){return this.gnar.track({action:"show",eventName:"chromeExt/toneAI/assistant-miniCard-show",feature:"toneAI",object:"miniCard",objectId:"assistant",sessionUuid:e,toneRewriteType:t})}toneDetectorToneSuggestionInfoCtaClick(e,t,n,r,o){return this.gnar.track({action:"click",eventName:"chromeExt/toneDetector/toneSuggestionInfo-cta-click",feature:"toneDetector",object:"cta",objectId:"toneSuggestionInfo",isToneImprovementUphook:e,patternName:t,sessionUuid:n,title:r,emojiOrIcon:o})}toneDetectorToneSuggestionInfoShow(e,t,n,r,o){return this.gnar.track({action:"show",eventName:"chromeExt/toneDetector/toneSuggestionInfo-show",feature:"toneDetector",objectId:"toneSuggestionInfo",isToneImprovementUphook:e,patternName:t,sessionUuid:n,title:r,emojiOrIcon:o})}toolbarButtonClick(e,t){return this.gnar.track({action:"click",eventName:"chromeExt/toolbar-button-click",object:"button",objectId:"toolbar",placement:e,type:t})}update(e){return this.gnar.track({action:"update",eventName:"chromeExt/update",oldVersion:e})}valueLoadFail(e){return this.gnar.track({action:"fail",eventName:"chromeExt/value-load-fail",object:"load",objectId:"value",errorMessage:e})}valueLoadSuccess(){return this.gnar.track({action:"success",eventName:"chromeExt/value-load-success",object:"load",objectId:"value"})}valueLoadTimeout(){return this.gnar.track({action:"timeout",eventName:"chromeExt/value-load-timeout",object:"load",objectId:"value"})}valueRealizationExplainButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/valueRealizationExplain-button-click",object:"button",objectId:"valueRealizationExplain",placement:"popup",triggeredBy:e})}valueRealizationOptOutButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/valueRealizationOptOut-button-click",object:"button",objectId:"valueRealizationOptOut",placement:"popup",triggeredBy:e})}valueRealizationPauseFor7DaysButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/valueRealizationPauseFor7Days-button-click",object:"button",objectId:"valueRealizationPauseFor7Days",placement:"popup",triggeredBy:e})}valueRealizationPopupClose(e){return this.gnar.track({action:"close",eventName:"chromeExt/valueRealization-popup-close",object:"popup",objectId:"valueRealization",triggeredBy:e})}valueRealizationPopupShow(e,t,n,r,o,i){return this.gnar.track({action:"show",eventName:"chromeExt/valueRealization-popup-show",object:"popup",objectId:"valueRealization",message:e,accepted:t,dismissed:n,remaining:r,score:o,triggeredBy:i})}valueRealizationProvideFeedbackButtonClick(e){return this.gnar.track({action:"click",eventName:"chromeExt/valueRealizationProvideFeedback-button-click",object:"button",objectId:"valueRealizationProvideFeedback",placement:"popup",triggeredBy:e})}valueRealizationSubmitButtonClick(e,t,n){return this.gnar.track({action:"click",eventName:"chromeExt/valueRealizationSubmit-button-click",object:"button",objectId:"valueRealizationSubmit",placement:"popup",score:e,feedback:t,triggeredBy:n})}versionMismatchPopupDismissButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/versionMismatchPopupDismiss-button-click",object:"button",objectId:"versionMismatchPopupDismiss",placement:"versionMismatchPopup"})}versionMismatchPopupReloadButtonClick(){return this.gnar.track({action:"click",eventName:"chromeExt/versionMismatchPopupReload-button-click",object:"button",objectId:"versionMismatchPopupReload",placement:"versionMismatchPopup"})}versionMismatchPopupShow(){return this.gnar.track({action:"show",eventName:"chromeExt/versionMismatch-popup-show",object:"popup",objectId:"versionMismatch"})}versionStorageFailed(){return this.gnar.track({action:"failed",eventName:"chromeExt/versionStorage-failed",objectId:"versionStorage"})}welcomePageOpened(e,t){return this.gnar.track({action:"opened",eventName:"chromeExt/welcomePage-opened",objectId:"welcomePage",tabID:e,url:t})}welcomePageShow(e){return this.gnar.track({action:"show",eventName:"chromeExt/welcomePage-show",objectId:"welcomePage",url:e})}welcomeToPremiumPageShow(e,t){return this.gnar.track({action:"show",component:"companion",eventName:"chromeExt/companion/welcomeToPremium-page-show",object:"page",objectId:"welcomeToPremium",osVersion:e,pageId:t})}}},AS.init(KS)})();